var D2Reader=(()=>{var vO=Object.create;var oa=Object.defineProperty;var Hb=Object.getOwnPropertyDescriptor;var _O=Object.getOwnPropertyNames;var wO=Object.getPrototypeOf,SO=Object.prototype.hasOwnProperty;var AO=(n,e,t)=>e in n?oa(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Pu=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var z0=(n,e)=>()=>(n&&(e=n(n=0)),e);var le=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),V0=(n,e)=>{for(var t in e)oa(n,t,{get:e[t],enumerable:!0})},Ub=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of _O(e))!SO.call(n,i)&&i!==t&&oa(n,i,{get:()=>e[i],enumerable:!(r=Hb(e,i))||r.enumerable});return n};var rt=(n,e,t)=>(t=n!=null?vO(wO(n)):{},Ub(e||!n||!n.__esModule?oa(t,"default",{value:n,enumerable:!0}):t,n)),Cn=n=>Ub(oa({},"__esModule",{value:!0}),n),Bc=(n,e,t,r)=>{for(var i=r>1?void 0:r?Hb(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(r?s(e,t,i):s(i))||i);return r&&i&&oa(e,t,i),i};var Dc=(n,e,t)=>(AO(n,typeof e!="symbol"?e+"":e,t),t),$0=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var Lt=(n,e,t)=>($0(n,e,"read from private field"),t?t.call(n):e.get(n)),Cr=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},eo=(n,e,t,r)=>($0(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);var jb=(n,e,t,r)=>({set _(i){eo(n,e,i,t)},get _(){return Lt(n,e,r)}}),to=(n,e,t)=>($0(n,e,"access private method"),t);var Vb=le((vj,zb)=>{L();var nr=zb.exports={},Ei,Ci;function J0(){throw new Error("setTimeout has not been defined")}function K0(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ei=setTimeout:Ei=J0}catch{Ei=J0}try{typeof clearTimeout=="function"?Ci=clearTimeout:Ci=K0}catch{Ci=K0}})();function qb(n){if(Ei===setTimeout)return setTimeout(n,0);if((Ei===J0||!Ei)&&setTimeout)return Ei=setTimeout,setTimeout(n,0);try{return Ei(n,0)}catch{try{return Ei.call(null,n,0)}catch{return Ei.call(this,n,0)}}}function EO(n){if(Ci===clearTimeout)return clearTimeout(n);if((Ci===K0||!Ci)&&clearTimeout)return Ci=clearTimeout,clearTimeout(n);try{return Ci(n)}catch{try{return Ci.call(null,n)}catch{return Ci.call(this,n)}}}var ro=[],sa=!1,gs,Fc=-1;function CO(){!sa||!gs||(sa=!1,gs.length?ro=gs.concat(ro):Fc=-1,ro.length&&Gb())}function Gb(){if(!sa){var n=qb(CO);sa=!0;for(var e=ro.length;e;){for(gs=ro,ro=[];++Fc<e;)gs&&gs[Fc].run();Fc=-1,e=ro.length}gs=null,sa=!1,EO(n)}}nr.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];ro.push(new Wb(n,e)),ro.length===1&&!sa&&qb(Gb)};function Wb(n,e){this.fun=n,this.array=e}Wb.prototype.run=function(){this.fun.apply(null,this.array)};nr.title="browser";nr.browser=!0;nr.env={};nr.argv=[];nr.version="";nr.versions={};function no(){}nr.on=no;nr.addListener=no;nr.once=no;nr.off=no;nr.removeListener=no;nr.removeAllListeners=no;nr.emit=no;nr.prependListener=no;nr.prependOnceListener=no;nr.listeners=function(n){return[]};nr.binding=function(n){throw new Error("process.binding is not supported")};nr.cwd=function(){return"/"};nr.chdir=function(n){throw new Error("process.chdir is not supported")};nr.umask=function(){return 0}});var Y0=le((wj,$b)=>{"use strict";L();$b.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var Yb=le((Aj,Kb)=>{"use strict";L();var Jb=typeof Symbol<"u"&&Symbol,xO=Y0();Kb.exports=function(){return typeof Jb!="function"||typeof Symbol!="function"||typeof Jb("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:xO()}});var Zb=le((Cj,Qb)=>{"use strict";L();var Xb={foo:{}},TO=Object;Qb.exports=function(){return{__proto__:Xb}.foo===Xb.foo&&!({__proto__:null}instanceof TO)}});var r2=le((Tj,t2)=>{"use strict";L();var PO="Function.prototype.bind called on incompatible ",OO=Object.prototype.toString,MO=Math.max,kO="[object Function]",e2=function(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r},RO=function(e,t){for(var r=[],i=t||0,o=0;i<e.length;i+=1,o+=1)r[o]=e[i];return r},LO=function(n,e){for(var t="",r=0;r<n.length;r+=1)t+=n[r],r+1<n.length&&(t+=e);return t};t2.exports=function(e){var t=this;if(typeof t!="function"||OO.apply(t)!==kO)throw new TypeError(PO+t);for(var r=RO(arguments,1),i,o=function(){if(this instanceof i){var m=t.apply(this,e2(r,arguments));return Object(m)===m?m:this}return t.apply(e,e2(r,arguments))},s=MO(0,t.length-r.length),l=[],f=0;f<s;f++)l[f]="$"+f;if(i=Function("binder","return function ("+LO(l,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var u=function(){};u.prototype=t.prototype,i.prototype=new u,u.prototype=null}return i}});var Hc=le((Oj,n2)=>{"use strict";L();var IO=r2();n2.exports=Function.prototype.bind||IO});var o2=le((kj,i2)=>{"use strict";L();var NO=Hc();i2.exports=NO.call(Function.call,Object.prototype.hasOwnProperty)});var qc=le((Lj,c2)=>{"use strict";L();var Et,ca=SyntaxError,l2=Function,la=TypeError,X0=function(n){try{return l2('"use strict"; return ('+n+").constructor;")()}catch{}},ms=Object.getOwnPropertyDescriptor;if(ms)try{ms({},"")}catch{ms=null}var Q0=function(){throw new la},BO=ms?function(){try{return arguments.callee,Q0}catch{try{return ms(arguments,"callee").get}catch{return Q0}}}():Q0,aa=Yb()(),DO=Zb()(),yr=Object.getPrototypeOf||(DO?function(n){return n.__proto__}:null),ua={},FO=typeof Uint8Array>"u"||!yr?Et:yr(Uint8Array),ys={"%AggregateError%":typeof AggregateError>"u"?Et:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Et:ArrayBuffer,"%ArrayIteratorPrototype%":aa&&yr?yr([][Symbol.iterator]()):Et,"%AsyncFromSyncIteratorPrototype%":Et,"%AsyncFunction%":ua,"%AsyncGenerator%":ua,"%AsyncGeneratorFunction%":ua,"%AsyncIteratorPrototype%":ua,"%Atomics%":typeof Atomics>"u"?Et:Atomics,"%BigInt%":typeof BigInt>"u"?Et:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Et:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Et:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Et:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Et:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Et:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Et:FinalizationRegistry,"%Function%":l2,"%GeneratorFunction%":ua,"%Int8Array%":typeof Int8Array>"u"?Et:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Et:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Et:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":aa&&yr?yr(yr([][Symbol.iterator]())):Et,"%JSON%":typeof JSON=="object"?JSON:Et,"%Map%":typeof Map>"u"?Et:Map,"%MapIteratorPrototype%":typeof Map>"u"||!aa||!yr?Et:yr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Et:Promise,"%Proxy%":typeof Proxy>"u"?Et:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Et:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Et:Set,"%SetIteratorPrototype%":typeof Set>"u"||!aa||!yr?Et:yr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Et:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":aa&&yr?yr(""[Symbol.iterator]()):Et,"%Symbol%":aa?Symbol:Et,"%SyntaxError%":ca,"%ThrowTypeError%":BO,"%TypedArray%":FO,"%TypeError%":la,"%Uint8Array%":typeof Uint8Array>"u"?Et:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Et:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Et:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Et:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Et:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Et:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Et:WeakSet};if(yr)try{null.error}catch(n){s2=yr(yr(n)),ys["%Error.prototype%"]=s2}var s2,HO=function n(e){var t;if(e==="%AsyncFunction%")t=X0("async function () {}");else if(e==="%GeneratorFunction%")t=X0("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=X0("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=n("%AsyncGenerator%");i&&yr&&(t=yr(i.prototype))}return ys[e]=t,t},a2={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ou=Hc(),Uc=o2(),UO=Ou.call(Function.call,Array.prototype.concat),jO=Ou.call(Function.apply,Array.prototype.splice),u2=Ou.call(Function.call,String.prototype.replace),jc=Ou.call(Function.call,String.prototype.slice),qO=Ou.call(Function.call,RegExp.prototype.exec),GO=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,WO=/\\(\\)?/g,zO=function(e){var t=jc(e,0,1),r=jc(e,-1);if(t==="%"&&r!=="%")throw new ca("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new ca("invalid intrinsic syntax, expected opening `%`");var i=[];return u2(e,GO,function(o,s,l,f){i[i.length]=l?u2(f,WO,"$1"):s||o}),i},VO=function(e,t){var r=e,i;if(Uc(a2,r)&&(i=a2[r],r="%"+i[0]+"%"),Uc(ys,r)){var o=ys[r];if(o===ua&&(o=HO(r)),typeof o>"u"&&!t)throw new la("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new ca("intrinsic "+e+" does not exist!")};c2.exports=function(e,t){if(typeof e!="string"||e.length===0)throw new la("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new la('"allowMissing" argument must be a boolean');if(qO(/^%?[^%]*%?$/,e)===null)throw new ca("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=zO(e),i=r.length>0?r[0]:"",o=VO("%"+i+"%",t),s=o.name,l=o.value,f=!1,u=o.alias;u&&(i=u[0],jO(r,UO([0,1],u)));for(var m=1,y=!0;m<r.length;m+=1){var _=r[m],v=jc(_,0,1),p=jc(_,-1);if((v==='"'||v==="'"||v==="`"||p==='"'||p==="'"||p==="`")&&v!==p)throw new ca("property names with quotes must have matching quotes");if((_==="constructor"||!y)&&(f=!0),i+="."+_,s="%"+i+"%",Uc(ys,s))l=ys[s];else if(l!=null){if(!(_ in l)){if(!t)throw new la("base intrinsic for "+e+" exists, but the property is not available.");return}if(ms&&m+1>=r.length){var h=ms(l,_);y=!!h,y&&"get"in h&&!("originalValue"in h.get)?l=h.get:l=l[_]}else y=Uc(l,_),l=l[_];y&&!f&&(ys[s]=l)}}return l}});var ep=le((Nj,Gc)=>{"use strict";L();var Z0=Hc(),da=qc(),h2=da("%Function.prototype.apply%"),p2=da("%Function.prototype.call%"),g2=da("%Reflect.apply%",!0)||Z0.call(p2,h2),d2=da("%Object.getOwnPropertyDescriptor%",!0),bs=da("%Object.defineProperty%",!0),$O=da("%Math.max%");if(bs)try{bs({},"a",{value:1})}catch{bs=null}Gc.exports=function(e){var t=g2(Z0,p2,arguments);if(d2&&bs){var r=d2(t,"length");r.configurable&&bs(t,"length",{value:1+$O(0,e.length-(arguments.length-1))})}return t};var f2=function(){return g2(Z0,h2,arguments)};bs?bs(Gc.exports,"apply",{value:f2}):Gc.exports.apply=f2});var tp=le((Dj,b2)=>{"use strict";L();var m2=qc(),y2=ep(),JO=y2(m2("String.prototype.indexOf"));b2.exports=function(e,t){var r=m2(e,!!t);return typeof r=="function"&&JO(e,".prototype.")>-1?y2(r):r}});var w2=le((Hj,_2)=>{"use strict";L();var KO=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",YO=tp(),rp=YO("Object.prototype.toString"),Wc=function(e){return KO&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:rp(e)==="[object Arguments]"},v2=function(e){return Wc(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&rp(e)!=="[object Array]"&&rp(e.callee)==="[object Function]"},XO=function(){return Wc(arguments)}();Wc.isLegacyArguments=v2;_2.exports=XO?Wc:v2});var np=le((jj,S2)=>{"use strict";L();var QO=Y0();S2.exports=function(){return QO()&&!!Symbol.toStringTag}});var C2=le((Gj,E2)=>{"use strict";L();var ZO=Object.prototype.toString,eM=Function.prototype.toString,tM=/^\s*(?:function)?\*/,A2=np()(),ip=Object.getPrototypeOf,rM=function(){if(!A2)return!1;try{return Function("return function*() {}")()}catch{}},op;E2.exports=function(e){if(typeof e!="function")return!1;if(tM.test(eM.call(e)))return!0;if(!A2){var t=ZO.call(e);return t==="[object GeneratorFunction]"}if(!ip)return!1;if(typeof op>"u"){var r=rM();op=r?ip(r):!1}return ip(e)===op}});var O2=le((zj,P2)=>{"use strict";L();var T2=Function.prototype.toString,fa=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,ap,zc;if(typeof fa=="function"&&typeof Object.defineProperty=="function")try{ap=Object.defineProperty({},"length",{get:function(){throw zc}}),zc={},fa(function(){throw 42},null,ap)}catch(n){n!==zc&&(fa=null)}else fa=null;var nM=/^\s*class\b/,up=function(e){try{var t=T2.call(e);return nM.test(t)}catch{return!1}},sp=function(e){try{return up(e)?!1:(T2.call(e),!0)}catch{return!1}},Vc=Object.prototype.toString,iM="[object Object]",oM="[object Function]",sM="[object GeneratorFunction]",aM="[object HTMLAllCollection]",uM="[object HTML document.all class]",lM="[object HTMLCollection]",cM=typeof Symbol=="function"&&!!Symbol.toStringTag,dM=!(0 in[,]),lp=function(){return!1};typeof document=="object"&&(x2=document.all,Vc.call(x2)===Vc.call(document.all)&&(lp=function(e){if((dM||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=Vc.call(e);return(t===aM||t===uM||t===lM||t===iM)&&e("")==null}catch{}return!1}));var x2;P2.exports=fa?function(e){if(lp(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{fa(e,null,ap)}catch(t){if(t!==zc)return!1}return!up(e)&&sp(e)}:function(e){if(lp(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(cM)return sp(e);if(up(e))return!1;var t=Vc.call(e);return t!==oM&&t!==sM&&!/^\[object HTML/.test(t)?!1:sp(e)}});var R2=le(($j,k2)=>{"use strict";L();var fM=O2(),hM=Object.prototype.toString,M2=Object.prototype.hasOwnProperty,pM=function(e,t,r){for(var i=0,o=e.length;i<o;i++)M2.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},gM=function(e,t,r){for(var i=0,o=e.length;i<o;i++)r==null?t(e.charAt(i),i,e):t.call(r,e.charAt(i),i,e)},mM=function(e,t,r){for(var i in e)M2.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},yM=function(e,t,r){if(!fM(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),hM.call(e)==="[object Array]"?pM(e,t,i):typeof e=="string"?gM(e,t,i):mM(e,t,i)};k2.exports=yM});var I2=le((Kj,L2)=>{"use strict";L();var cp=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],bM=globalThis;L2.exports=function(){for(var e=[],t=0;t<cp.length;t++)typeof bM[cp[t]]=="function"&&(e[e.length]=cp[t]);return e}});var B2=le((Xj,N2)=>{"use strict";L();var vM=qc(),$c=vM("%Object.getOwnPropertyDescriptor%",!0);if($c)try{$c([],"length")}catch{$c=null}N2.exports=$c});var gp=le((Zj,U2)=>{"use strict";L();var Kc=R2(),_M=I2(),D2=ep(),hp=tp(),Jc=B2(),wM=hp("Object.prototype.toString"),H2=np()(),F2=globalThis,fp=_M(),pp=hp("String.prototype.slice"),dp=Object.getPrototypeOf,SM=hp("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},Yc={__proto__:null};H2&&Jc&&dp?Kc(fp,function(n){var e=new F2[n];if(Symbol.toStringTag in e){var t=dp(e),r=Jc(t,Symbol.toStringTag);if(!r){var i=dp(t);r=Jc(i,Symbol.toStringTag)}Yc["$"+n]=D2(r.get)}}):Kc(fp,function(n){var e=new F2[n];Yc["$"+n]=D2(e.slice)});var AM=function(e){var t=!1;return Kc(Yc,function(r,i){if(!t)try{"$"+r(e)===i&&(t=pp(i,1))}catch{}}),t},EM=function(e){var t=!1;return Kc(Yc,function(r,i){if(!t)try{r(e),t=pp(i,1)}catch{}}),t};U2.exports=function(e){if(!e||typeof e!="object")return!1;if(!H2){var t=pp(wM(e),8,-1);return SM(fp,t)>-1?t:t!=="Object"?!1:EM(e)}return Jc?AM(e):null}});var q2=le((tq,j2)=>{"use strict";L();var CM=gp();j2.exports=function(e){return!!CM(e)}});var rv=le(_t=>{"use strict";L();var xM=w2(),TM=C2(),ci=gp(),G2=q2();function ha(n){return n.call.bind(n)}var W2=typeof BigInt<"u",z2=typeof Symbol<"u",Jn=ha(Object.prototype.toString),PM=ha(Number.prototype.valueOf),OM=ha(String.prototype.valueOf),MM=ha(Boolean.prototype.valueOf);W2&&(V2=ha(BigInt.prototype.valueOf));var V2;z2&&($2=ha(Symbol.prototype.valueOf));var $2;function ku(n,e){if(typeof n!="object")return!1;try{return e(n),!0}catch{return!1}}_t.isArgumentsObject=xM;_t.isGeneratorFunction=TM;_t.isTypedArray=G2;function kM(n){return typeof Promise<"u"&&n instanceof Promise||n!==null&&typeof n=="object"&&typeof n.then=="function"&&typeof n.catch=="function"}_t.isPromise=kM;function RM(n){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(n):G2(n)||K2(n)}_t.isArrayBufferView=RM;function LM(n){return ci(n)==="Uint8Array"}_t.isUint8Array=LM;function IM(n){return ci(n)==="Uint8ClampedArray"}_t.isUint8ClampedArray=IM;function NM(n){return ci(n)==="Uint16Array"}_t.isUint16Array=NM;function BM(n){return ci(n)==="Uint32Array"}_t.isUint32Array=BM;function DM(n){return ci(n)==="Int8Array"}_t.isInt8Array=DM;function FM(n){return ci(n)==="Int16Array"}_t.isInt16Array=FM;function HM(n){return ci(n)==="Int32Array"}_t.isInt32Array=HM;function UM(n){return ci(n)==="Float32Array"}_t.isFloat32Array=UM;function jM(n){return ci(n)==="Float64Array"}_t.isFloat64Array=jM;function qM(n){return ci(n)==="BigInt64Array"}_t.isBigInt64Array=qM;function GM(n){return ci(n)==="BigUint64Array"}_t.isBigUint64Array=GM;function Xc(n){return Jn(n)==="[object Map]"}Xc.working=typeof Map<"u"&&Xc(new Map);function WM(n){return typeof Map>"u"?!1:Xc.working?Xc(n):n instanceof Map}_t.isMap=WM;function Qc(n){return Jn(n)==="[object Set]"}Qc.working=typeof Set<"u"&&Qc(new Set);function zM(n){return typeof Set>"u"?!1:Qc.working?Qc(n):n instanceof Set}_t.isSet=zM;function Zc(n){return Jn(n)==="[object WeakMap]"}Zc.working=typeof WeakMap<"u"&&Zc(new WeakMap);function VM(n){return typeof WeakMap>"u"?!1:Zc.working?Zc(n):n instanceof WeakMap}_t.isWeakMap=VM;function yp(n){return Jn(n)==="[object WeakSet]"}yp.working=typeof WeakSet<"u"&&yp(new WeakSet);function $M(n){return yp(n)}_t.isWeakSet=$M;function ed(n){return Jn(n)==="[object ArrayBuffer]"}ed.working=typeof ArrayBuffer<"u"&&ed(new ArrayBuffer);function J2(n){return typeof ArrayBuffer>"u"?!1:ed.working?ed(n):n instanceof ArrayBuffer}_t.isArrayBuffer=J2;function td(n){return Jn(n)==="[object DataView]"}td.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&td(new DataView(new ArrayBuffer(1),0,1));function K2(n){return typeof DataView>"u"?!1:td.working?td(n):n instanceof DataView}_t.isDataView=K2;var mp=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Mu(n){return Jn(n)==="[object SharedArrayBuffer]"}function Y2(n){return typeof mp>"u"?!1:(typeof Mu.working>"u"&&(Mu.working=Mu(new mp)),Mu.working?Mu(n):n instanceof mp)}_t.isSharedArrayBuffer=Y2;function JM(n){return Jn(n)==="[object AsyncFunction]"}_t.isAsyncFunction=JM;function KM(n){return Jn(n)==="[object Map Iterator]"}_t.isMapIterator=KM;function YM(n){return Jn(n)==="[object Set Iterator]"}_t.isSetIterator=YM;function XM(n){return Jn(n)==="[object Generator]"}_t.isGeneratorObject=XM;function QM(n){return Jn(n)==="[object WebAssembly.Module]"}_t.isWebAssemblyCompiledModule=QM;function X2(n){return ku(n,PM)}_t.isNumberObject=X2;function Q2(n){return ku(n,OM)}_t.isStringObject=Q2;function Z2(n){return ku(n,MM)}_t.isBooleanObject=Z2;function ev(n){return W2&&ku(n,V2)}_t.isBigIntObject=ev;function tv(n){return z2&&ku(n,$2)}_t.isSymbolObject=tv;function ZM(n){return X2(n)||Q2(n)||Z2(n)||ev(n)||tv(n)}_t.isBoxedPrimitive=ZM;function ek(n){return typeof Uint8Array<"u"&&(J2(n)||Y2(n))}_t.isAnyArrayBuffer=ek;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(n){Object.defineProperty(_t,n,{enumerable:!1,value:function(){throw new Error(n+" is not supported in userland")}})})});var iv=le((oq,nv)=>{L();nv.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var ov=le((aq,bp)=>{L();typeof Object.create=="function"?bp.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:bp.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}});var ld=le(wt=>{L();var sv=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++)r[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return r},tk=/%[sdj%]/g;wt.format=function(n){if(!ud(n)){for(var e=[],t=0;t<arguments.length;t++)e.push(Do(arguments[t]));return e.join(" ")}for(var t=1,r=arguments,i=r.length,o=String(n).replace(tk,function(l){if(l==="%%")return"%";if(t>=i)return l;switch(l){case"%s":return String(r[t++]);case"%d":return Number(r[t++]);case"%j":try{return JSON.stringify(r[t++])}catch{return"[Circular]"}default:return l}}),s=r[t];t<i;s=r[++t])ad(s)||!pa(s)?o+=" "+s:o+=" "+Do(s);return o};wt.deprecate=function(n,e){if(typeof process<"u"&&process.noDeprecation===!0)return n;if(typeof process>"u")return function(){return wt.deprecate(n,e).apply(this,arguments)};var t=!1;function r(){if(!t){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),t=!0}return n.apply(this,arguments)}return r};var rd={},av=/^$/;process.env.NODE_DEBUG&&(nd=process.env.NODE_DEBUG,nd=nd.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),av=new RegExp("^"+nd+"$","i"));var nd;wt.debuglog=function(n){if(n=n.toUpperCase(),!rd[n])if(av.test(n)){var e=process.pid;rd[n]=function(){var t=wt.format.apply(wt,arguments);console.error("%s %d: %s",n,e,t)}}else rd[n]=function(){};return rd[n]};function Do(n,e){var t={seen:[],stylize:nk};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),Sp(e)?t.showHidden=e:e&&wt._extend(t,e),_s(t.showHidden)&&(t.showHidden=!1),_s(t.depth)&&(t.depth=2),_s(t.colors)&&(t.colors=!1),_s(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=rk),od(t,n,t.depth)}wt.inspect=Do;Do.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Do.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function rk(n,e){var t=Do.styles[e];return t?"\x1B["+Do.colors[t][0]+"m"+n+"\x1B["+Do.colors[t][1]+"m":n}function nk(n,e){return n}function ik(n){var e={};return n.forEach(function(t,r){e[t]=!0}),e}function od(n,e,t){if(n.customInspect&&e&&id(e.inspect)&&e.inspect!==wt.inspect&&!(e.constructor&&e.constructor.prototype===e)){var r=e.inspect(t,n);return ud(r)||(r=od(n,r,t)),r}var i=ok(n,e);if(i)return i;var o=Object.keys(e),s=ik(o);if(n.showHidden&&(o=Object.getOwnPropertyNames(e)),Lu(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return vp(e);if(o.length===0){if(id(e)){var l=e.name?": "+e.name:"";return n.stylize("[Function"+l+"]","special")}if(Ru(e))return n.stylize(RegExp.prototype.toString.call(e),"regexp");if(sd(e))return n.stylize(Date.prototype.toString.call(e),"date");if(Lu(e))return vp(e)}var f="",u=!1,m=["{","}"];if(uv(e)&&(u=!0,m=["[","]"]),id(e)){var y=e.name?": "+e.name:"";f=" [Function"+y+"]"}if(Ru(e)&&(f=" "+RegExp.prototype.toString.call(e)),sd(e)&&(f=" "+Date.prototype.toUTCString.call(e)),Lu(e)&&(f=" "+vp(e)),o.length===0&&(!u||e.length==0))return m[0]+f+m[1];if(t<0)return Ru(e)?n.stylize(RegExp.prototype.toString.call(e),"regexp"):n.stylize("[Object]","special");n.seen.push(e);var _;return u?_=sk(n,e,t,s,o):_=o.map(function(v){return wp(n,e,t,s,v,u)}),n.seen.pop(),ak(_,f,m)}function ok(n,e){if(_s(e))return n.stylize("undefined","undefined");if(ud(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(t,"string")}if(lv(e))return n.stylize(""+e,"number");if(Sp(e))return n.stylize(""+e,"boolean");if(ad(e))return n.stylize("null","null")}function vp(n){return"["+Error.prototype.toString.call(n)+"]"}function sk(n,e,t,r,i){for(var o=[],s=0,l=e.length;s<l;++s)cv(e,String(s))?o.push(wp(n,e,t,r,String(s),!0)):o.push("");return i.forEach(function(f){f.match(/^\d+$/)||o.push(wp(n,e,t,r,f,!0))}),o}function wp(n,e,t,r,i,o){var s,l,f;if(f=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},f.get?f.set?l=n.stylize("[Getter/Setter]","special"):l=n.stylize("[Getter]","special"):f.set&&(l=n.stylize("[Setter]","special")),cv(r,i)||(s="["+i+"]"),l||(n.seen.indexOf(f.value)<0?(ad(t)?l=od(n,f.value,null):l=od(n,f.value,t-1),l.indexOf(`
`)>-1&&(o?l=l.split(`
`).map(function(u){return"  "+u}).join(`
`).slice(2):l=`
`+l.split(`
`).map(function(u){return"   "+u}).join(`
`))):l=n.stylize("[Circular]","special")),_s(s)){if(o&&i.match(/^\d+$/))return l;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=n.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=n.stylize(s,"string"))}return s+": "+l}function ak(n,e,t){var r=0,i=n.reduce(function(o,s){return r++,s.indexOf(`
`)>=0&&r++,o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(e===""?"":e+`
 `)+" "+n.join(`,
  `)+" "+t[1]:t[0]+e+" "+n.join(", ")+" "+t[1]}wt.types=rv();function uv(n){return Array.isArray(n)}wt.isArray=uv;function Sp(n){return typeof n=="boolean"}wt.isBoolean=Sp;function ad(n){return n===null}wt.isNull=ad;function uk(n){return n==null}wt.isNullOrUndefined=uk;function lv(n){return typeof n=="number"}wt.isNumber=lv;function ud(n){return typeof n=="string"}wt.isString=ud;function lk(n){return typeof n=="symbol"}wt.isSymbol=lk;function _s(n){return n===void 0}wt.isUndefined=_s;function Ru(n){return pa(n)&&Ap(n)==="[object RegExp]"}wt.isRegExp=Ru;wt.types.isRegExp=Ru;function pa(n){return typeof n=="object"&&n!==null}wt.isObject=pa;function sd(n){return pa(n)&&Ap(n)==="[object Date]"}wt.isDate=sd;wt.types.isDate=sd;function Lu(n){return pa(n)&&(Ap(n)==="[object Error]"||n instanceof Error)}wt.isError=Lu;wt.types.isNativeError=Lu;function id(n){return typeof n=="function"}wt.isFunction=id;function ck(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||typeof n>"u"}wt.isPrimitive=ck;wt.isBuffer=iv();function Ap(n){return Object.prototype.toString.call(n)}function _p(n){return n<10?"0"+n.toString(10):n.toString(10)}var dk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function fk(){var n=new Date,e=[_p(n.getHours()),_p(n.getMinutes()),_p(n.getSeconds())].join(":");return[n.getDate(),dk[n.getMonth()],e].join(" ")}wt.log=function(){console.log("%s - %s",fk(),wt.format.apply(wt,arguments))};wt.inherits=ov();wt._extend=function(n,e){if(!e||!pa(e))return n;for(var t=Object.keys(e),r=t.length;r--;)n[t[r]]=e[t[r]];return n};function cv(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var vs=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;wt.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(vs&&e[vs]){var t=e[vs];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,vs,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var r,i,o=new Promise(function(f,u){r=f,i=u}),s=[],l=0;l<arguments.length;l++)s.push(arguments[l]);s.push(function(f,u){f?i(f):r(u)});try{e.apply(this,s)}catch(f){i(f)}return o}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),vs&&Object.defineProperty(t,vs,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,sv(e))};wt.promisify.custom=vs;function hk(n,e){if(!n){var t=new Error("Promise was rejected with a falsy value");t.reason=n,n=t}return e(n)}function pk(n){if(typeof n!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};n.apply(this,t).then(function(l){process.nextTick(s.bind(null,null,l))},function(l){process.nextTick(hk.bind(null,l,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(n)),Object.defineProperties(e,sv(n)),e}wt.callbackify=pk});var process,util,L=z0(()=>{process=Vb(),util=ld()});var Kn={};V0(Kn,{__addDisposableResource:()=>kv,__assign:()=>cd,__asyncDelegator:()=>Av,__asyncGenerator:()=>Sv,__asyncValues:()=>Ev,__await:()=>ga,__awaiter:()=>mv,__classPrivateFieldGet:()=>Pv,__classPrivateFieldIn:()=>Mv,__classPrivateFieldSet:()=>Ov,__createBinding:()=>fd,__decorate:()=>hv,__disposeResources:()=>Rv,__esDecorate:()=>gk,__exportStar:()=>bv,__extends:()=>dv,__generator:()=>yv,__importDefault:()=>Tv,__importStar:()=>xv,__makeTemplateObject:()=>Cv,__metadata:()=>gv,__param:()=>pv,__propKey:()=>yk,__read:()=>Cp,__rest:()=>fv,__runInitializers:()=>mk,__setFunctionName:()=>bk,__spread:()=>vv,__spreadArray:()=>wv,__spreadArrays:()=>_v,__values:()=>dd,default:()=>wk});function dv(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ep(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function fv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function hv(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function pv(n,e){return function(t,r){e(t,r,n)}}function gk(n,e,t,r,i,o){function s(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var l=r.kind,f=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&n?r.static?n:n.prototype:null,m=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),y,_=!1,v=t.length-1;v>=0;v--){var p={};for(var h in r)p[h]=h==="access"?{}:r[h];for(var h in r.access)p.access[h]=r.access[h];p.addInitializer=function(g){if(_)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(g||null))};var c=(0,t[v])(l==="accessor"?{get:m.get,set:m.set}:m[f],p);if(l==="accessor"){if(c===void 0)continue;if(c===null||typeof c!="object")throw new TypeError("Object expected");(y=s(c.get))&&(m.get=y),(y=s(c.set))&&(m.set=y),(y=s(c.init))&&i.unshift(y)}else(y=s(c))&&(l==="field"?i.unshift(y):m[f]=y)}u&&Object.defineProperty(u,r.name,m),_=!0}function mk(n,e,t){for(var r=arguments.length>2,i=0;i<e.length;i++)t=r?e[i].call(n,t):e[i].call(n);return r?t:void 0}function yk(n){return typeof n=="symbol"?n:"".concat(n)}function bk(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function gv(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function mv(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(m){try{u(r.next(m))}catch(y){s(y)}}function f(m){try{u(r.throw(m))}catch(y){s(y)}}function u(m){m.done?o(m.value):i(m.value).then(l,f)}u((r=r.apply(n,e||[])).next())})}function yv(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(m){return f([u,m])}}function f(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(m){u=[6,m],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function bv(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&fd(e,n,t)}function dd(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cp(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function vv(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Cp(arguments[e]));return n}function _v(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],s=0,l=o.length;s<l;s++,i++)r[i]=o[s];return r}function wv(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function ga(n){return this instanceof ga?(this.v=n,this):new ga(n)}function Sv(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(_){r[_]&&(i[_]=function(v){return new Promise(function(p,h){o.push([_,v,p,h])>1||l(_,v)})})}function l(_,v){try{f(r[_](v))}catch(p){y(o[0][3],p)}}function f(_){_.value instanceof ga?Promise.resolve(_.value.v).then(u,m):y(o[0][2],_)}function u(_){l("next",_)}function m(_){l("throw",_)}function y(_,v){_(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Av(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=n[i]?function(s){return(t=!t)?{value:ga(n[i](s)),done:!1}:o?o(s):s}:o}}function Ev(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof dd=="function"?dd(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(l,f){s=n[o](s),i(l,f,s.done,s.value)})}}function i(o,s,l,f){Promise.resolve(f).then(function(u){o({value:u,done:l})},s)}}function Cv(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function xv(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&fd(e,n,t);return vk(e,n),e}function Tv(n){return n&&n.__esModule?n:{default:n}}function Pv(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Ov(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t}function Mv(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function kv(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}function Rv(n){function e(r){n.error=n.hasError?new _k(r,n.error,"An error was suppressed during disposal."):r,n.hasError=!0}function t(){for(;n.stack.length;){var r=n.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(t,function(o){return e(o),t()})}catch(o){e(o)}}if(n.hasError)throw n.error}return t()}var Ep,cd,fd,vk,_k,wk,Yn=z0(()=>{L();Ep=function(n,e){return Ep=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Ep(n,e)};cd=function(){return cd=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},cd.apply(this,arguments)};fd=Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]};vk=Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e};_k=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};wk={__extends:dv,__assign:cd,__rest:fv,__decorate:hv,__param:pv,__metadata:gv,__awaiter:mv,__generator:yv,__createBinding:fd,__exportStar:bv,__values:dd,__read:Cp,__spread:vv,__spreadArrays:_v,__spreadArray:wv,__await:ga,__asyncGenerator:Sv,__asyncDelegator:Av,__asyncValues:Ev,__makeTemplateObject:Cv,__importStar:xv,__importDefault:Tv,__classPrivateFieldGet:Pv,__classPrivateFieldSet:Ov,__classPrivateFieldIn:Mv,__addDisposableResource:kv,__disposeResources:Rv}});var Iv=le((hq,Lv)=>{L();var ma=1e3,ya=ma*60,ba=ya*60,ws=ba*24,Sk=ws*7,Ak=ws*365.25;Lv.exports=function(n,e){e=e||{};var t=typeof n;if(t==="string"&&n.length>0)return Ek(n);if(t==="number"&&isFinite(n))return e.long?xk(n):Ck(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function Ek(n){if(n=String(n),!(n.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(e){var t=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return t*Ak;case"weeks":case"week":case"w":return t*Sk;case"days":case"day":case"d":return t*ws;case"hours":case"hour":case"hrs":case"hr":case"h":return t*ba;case"minutes":case"minute":case"mins":case"min":case"m":return t*ya;case"seconds":case"second":case"secs":case"sec":case"s":return t*ma;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function Ck(n){var e=Math.abs(n);return e>=ws?Math.round(n/ws)+"d":e>=ba?Math.round(n/ba)+"h":e>=ya?Math.round(n/ya)+"m":e>=ma?Math.round(n/ma)+"s":n+"ms"}function xk(n){var e=Math.abs(n);return e>=ws?hd(n,e,ws,"day"):e>=ba?hd(n,e,ba,"hour"):e>=ya?hd(n,e,ya,"minute"):e>=ma?hd(n,e,ma,"second"):n+" ms"}function hd(n,e,t,r){var i=e>=t*1.5;return Math.round(n/t)+" "+r+(i?"s":"")}});var Bv=le((gq,Nv)=>{L();function Tk(n){t.debug=t,t.default=t,t.coerce=f,t.disable=o,t.enable=i,t.enabled=s,t.humanize=Iv(),t.destroy=u,Object.keys(n).forEach(m=>{t[m]=n[m]}),t.names=[],t.skips=[],t.formatters={};function e(m){let y=0;for(let _=0;_<m.length;_++)y=(y<<5)-y+m.charCodeAt(_),y|=0;return t.colors[Math.abs(y)%t.colors.length]}t.selectColor=e;function t(m){let y,_=null,v,p;function h(...c){if(!h.enabled)return;let g=h,w=Number(new Date),S=w-(y||w);g.diff=S,g.prev=y,g.curr=w,y=w,c[0]=t.coerce(c[0]),typeof c[0]!="string"&&c.unshift("%O");let E=0;c[0]=c[0].replace(/%([a-zA-Z%])/g,(C,M)=>{if(C==="%%")return"%";E++;let P=t.formatters[M];if(typeof P=="function"){let B=c[E];C=P.call(g,B),c.splice(E,1),E--}return C}),t.formatArgs.call(g,c),(g.log||t.log).apply(g,c)}return h.namespace=m,h.useColors=t.useColors(),h.color=t.selectColor(m),h.extend=r,h.destroy=t.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(v!==t.namespaces&&(v=t.namespaces,p=t.enabled(m)),p),set:c=>{_=c}}),typeof t.init=="function"&&t.init(h),h}function r(m,y){let _=t(this.namespace+(typeof y>"u"?":":y)+m);return _.log=this.log,_}function i(m){t.save(m),t.namespaces=m,t.names=[],t.skips=[];let y,_=(typeof m=="string"?m:"").split(/[\s,]+/),v=_.length;for(y=0;y<v;y++)_[y]&&(m=_[y].replace(/\*/g,".*?"),m[0]==="-"?t.skips.push(new RegExp("^"+m.slice(1)+"$")):t.names.push(new RegExp("^"+m+"$")))}function o(){let m=[...t.names.map(l),...t.skips.map(l).map(y=>"-"+y)].join(",");return t.enable(""),m}function s(m){if(m[m.length-1]==="*")return!0;let y,_;for(y=0,_=t.skips.length;y<_;y++)if(t.skips[y].test(m))return!1;for(y=0,_=t.names.length;y<_;y++)if(t.names[y].test(m))return!0;return!1}function l(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function f(m){return m instanceof Error?m.stack||m.message:m}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Nv.exports=Tk});var Dv=le((xn,pd)=>{L();xn.formatArgs=Ok;xn.save=Mk;xn.load=kk;xn.useColors=Pk;xn.storage=Rk();xn.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();xn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Pk(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Ok(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+pd.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;n.splice(1,0,e,"color: inherit");let t=0,r=0;n[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(r=t))}),n.splice(r,0,e)}xn.log=console.debug||console.log||(()=>{});function Mk(n){try{n?xn.storage.setItem("debug",n):xn.storage.removeItem("debug")}catch{}}function kk(){let n;try{n=xn.storage.getItem("debug")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=process.env.DEBUG),n}function Rk(){try{return localStorage}catch{}}pd.exports=Bv()(xn);var{formatters:Lk}=pd.exports;Lk.j=function(n){try{return JSON.stringify(n)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Hv=le(Fv=>{"use strict";L();Object.defineProperty(Fv,"__esModule",{value:!0})});var Uv=le(gd=>{"use strict";L();Object.defineProperty(gd,"__esModule",{value:!0});gd.PropertyDefinition=void 0;var xp=class{constructor(){this.array=!1,this.set=!1,this.readonly=!1,this.writeonly=!1}};gd.PropertyDefinition=xp});var Jr=le(xr=>{"use strict";L();Object.defineProperty(xr,"__esModule",{value:!0});xr.getTypedInheritanceChain=xr.getInheritanceChain=xr.getDefinition=xr.objectDefinitions=xr.ObjectDefinition=void 0;var Ik=Uv(),md=class{constructor(){this.ctr=()=>{},this.beforeDeserialized=()=>{},this.onDeserialized=()=>{},this.properties=new Map}getProperty(e){let t=this.properties.get(e);return t||(t=new Ik.PropertyDefinition,this.properties.set(e,t)),t}};xr.ObjectDefinition=md;xr.objectDefinitions=new Map;function Nk(n){let e=xr.objectDefinitions.get(n);return e||(e=new md,xr.objectDefinitions.set(n,e)),e}xr.getDefinition=Nk;function Tp(n){if(!n)return[];let e=Object.getPrototypeOf(n);return[n.constructor].concat(Tp(e))}xr.getInheritanceChain=Tp;function jv(n){let e=[];return xr.objectDefinitions.forEach((t,r)=>{Object.getPrototypeOf(r.prototype).constructor===n&&e.push([r,t])}),e}function qv(n,e){let t=xr.objectDefinitions.get(n),r=[];e&&t&&t.discriminatorProperty&&(r=r.concat(jv(n)));let i;for(;r.length!==0&&!i;){let[s,l]=r.shift();if(l.hasOwnProperty("discriminatorValue")){if(e&&t&&l.discriminatorValue===e[t.discriminatorProperty]){if(l.hasOwnProperty("discriminatorProperty"))return qv(s,e);i=s}}else r=r.concat(jv(s))}i||(i=n);let o=new Set(Tp(Object.create(i.prototype)));return Array.from(o).filter(s=>xr.objectDefinitions.has(s))}xr.getTypedInheritanceChain=qv});var Gv=le(yd=>{"use strict";L();Object.defineProperty(yd,"__esModule",{value:!0});yd.JsonObject=void 0;var Bk=Jr();function Dk(){return function(n){Bk.getDefinition(n)}}yd.JsonObject=Dk});var zv=le(()=>{L();var Wv;(function(n){(function(e){var t=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),r=i(n);typeof t.Reflect>"u"?t.Reflect=n:r=i(t.Reflect,r),e(r);function i(o,s){return function(l,f){typeof o[l]!="function"&&Object.defineProperty(o,l,{configurable:!0,writable:!0,value:f}),s&&s(l,f)}}})(function(e){var t=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",i=r&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=r&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",s=typeof Object.create=="function",l={__proto__:[]}instanceof Array,f=!s&&!l,u={create:s?function(){return xe(Object.create(null))}:l?function(){return xe({__proto__:null})}:function(){return xe({})},has:f?function(K,ie){return t.call(K,ie)}:function(K,ie){return ie in K},get:f?function(K,ie){return t.call(K,ie)?K[ie]:void 0}:function(K,ie){return K[ie]}},m=Object.getPrototypeOf(Function),y=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",_=!y&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:ye(),v=!y&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:oe(),p=!y&&typeof WeakMap=="function"?WeakMap:Ee(),h=new p;function c(K,ie,be,Ce){if(ce(be)){if(!V(K))throw new TypeError;if(!re(ie))throw new TypeError;return I(K,ie)}else{if(!V(K))throw new TypeError;if(!R(ie))throw new TypeError;if(!R(Ce)&&!ce(Ce)&&!z(Ce))throw new TypeError;return z(Ce)&&(Ce=void 0),be=U(be),F(K,ie,be,Ce)}}e("decorate",c);function g(K,ie){function be(Ce,Le){if(!R(Ce))throw new TypeError;if(!ce(Le)&&!ne(Le))throw new TypeError;X(K,ie,Ce,Le)}return be}e("metadata",g);function w(K,ie,be,Ce){if(!R(be))throw new TypeError;return ce(Ce)||(Ce=U(Ce)),X(K,ie,be,Ce)}e("defineMetadata",w);function S(K,ie,be){if(!R(ie))throw new TypeError;return ce(be)||(be=U(be)),W(K,ie,be)}e("hasMetadata",S);function E(K,ie,be){if(!R(ie))throw new TypeError;return ce(be)||(be=U(be)),q(K,ie,be)}e("hasOwnMetadata",E);function b(K,ie,be){if(!R(ie))throw new TypeError;return ce(be)||(be=U(be)),G(K,ie,be)}e("getMetadata",b);function C(K,ie,be){if(!R(ie))throw new TypeError;return ce(be)||(be=U(be)),Y(K,ie,be)}e("getOwnMetadata",C);function M(K,ie){if(!R(K))throw new TypeError;return ce(ie)||(ie=U(ie)),Q(K,ie)}e("getMetadataKeys",M);function P(K,ie){if(!R(K))throw new TypeError;return ce(ie)||(ie=U(ie)),se(K,ie)}e("getOwnMetadataKeys",P);function B(K,ie,be){if(!R(ie))throw new TypeError;ce(be)||(be=U(be));var Ce=D(ie,be,!1);if(ce(Ce)||!Ce.delete(K))return!1;if(Ce.size>0)return!0;var Le=h.get(ie);return Le.delete(be),Le.size>0||h.delete(ie),!0}e("deleteMetadata",B);function I(K,ie){for(var be=K.length-1;be>=0;--be){var Ce=K[be],Le=Ce(ie);if(!ce(Le)&&!z(Le)){if(!re(Le))throw new TypeError;ie=Le}}return ie}function F(K,ie,be,Ce){for(var Le=K.length-1;Le>=0;--Le){var Ke=K[Le],ze=Ke(ie,be,Ce);if(!ce(ze)&&!z(ze)){if(!R(ze))throw new TypeError;Ce=ze}}return Ce}function D(K,ie,be){var Ce=h.get(K);if(ce(Ce)){if(!be)return;Ce=new _,h.set(K,Ce)}var Le=Ce.get(ie);if(ce(Le)){if(!be)return;Le=new _,Ce.set(ie,Le)}return Le}function W(K,ie,be){var Ce=q(K,ie,be);if(Ce)return!0;var Le=Se(ie);return z(Le)?!1:W(K,Le,be)}function q(K,ie,be){var Ce=D(ie,be,!1);return ce(Ce)?!1:O(Ce.has(K))}function G(K,ie,be){var Ce=q(K,ie,be);if(Ce)return Y(K,ie,be);var Le=Se(ie);if(!z(Le))return G(K,Le,be)}function Y(K,ie,be){var Ce=D(ie,be,!1);if(!ce(Ce))return Ce.get(K)}function X(K,ie,be,Ce){var Le=D(be,Ce,!0);Le.set(K,ie)}function Q(K,ie){var be=se(K,ie),Ce=Se(K);if(Ce===null)return be;var Le=Q(Ce,ie);if(Le.length<=0)return be;if(be.length<=0)return Le;for(var Ke=new v,ze=[],Ve=0,qe=be;Ve<qe.length;Ve++){var pe=qe[Ve],ee=Ke.has(pe);ee||(Ke.add(pe),ze.push(pe))}for(var de=0,je=Le;de<je.length;de++){var pe=je[de],ee=Ke.has(pe);ee||(Ke.add(pe),ze.push(pe))}return ze}function se(K,ie){var be=[],Ce=D(K,ie,!1);if(ce(Ce))return be;for(var Le=Ce.keys(),Ke=fe(Le),ze=0;;){var Ve=Te(Ke);if(!Ve)return be.length=ze,be;var qe=he(Ve);try{be[ze]=qe}catch(pe){try{Ne(Ke)}finally{throw pe}}ze++}}function ve(K){if(K===null)return 1;switch(typeof K){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return K===null?1:6;default:return 6}}function ce(K){return K===void 0}function z(K){return K===null}function H(K){return typeof K=="symbol"}function R(K){return typeof K=="object"?K!==null:typeof K=="function"}function x(K,ie){switch(ve(K)){case 0:return K;case 1:return K;case 2:return K;case 3:return K;case 4:return K;case 5:return K}var be=ie===3?"string":ie===5?"number":"default",Ce=ae(K,i);if(Ce!==void 0){var Le=Ce.call(K,be);if(R(Le))throw new TypeError;return Le}return T(K,be==="default"?"number":be)}function T(K,ie){if(ie==="string"){var be=K.toString;if(Z(be)){var Ce=be.call(K);if(!R(Ce))return Ce}var Le=K.valueOf;if(Z(Le)){var Ce=Le.call(K);if(!R(Ce))return Ce}}else{var Le=K.valueOf;if(Z(Le)){var Ce=Le.call(K);if(!R(Ce))return Ce}var Ke=K.toString;if(Z(Ke)){var Ce=Ke.call(K);if(!R(Ce))return Ce}}throw new TypeError}function O(K){return!!K}function N(K){return""+K}function U(K){var ie=x(K,3);return H(ie)?ie:N(ie)}function V(K){return Array.isArray?Array.isArray(K):K instanceof Object?K instanceof Array:Object.prototype.toString.call(K)==="[object Array]"}function Z(K){return typeof K=="function"}function re(K){return typeof K=="function"}function ne(K){switch(ve(K)){case 3:return!0;case 4:return!0;default:return!1}}function ae(K,ie){var be=K[ie];if(be!=null){if(!Z(be))throw new TypeError;return be}}function fe(K){var ie=ae(K,o);if(!Z(ie))throw new TypeError;var be=ie.call(K);if(!R(be))throw new TypeError;return be}function he(K){return K.value}function Te(K){var ie=K.next();return ie.done?!1:ie}function Ne(K){var ie=K.return;ie&&ie.call(K)}function Se(K){var ie=Object.getPrototypeOf(K);if(typeof K!="function"||K===m||ie!==m)return ie;var be=K.prototype,Ce=be&&Object.getPrototypeOf(be);if(Ce==null||Ce===Object.prototype)return ie;var Le=Ce.constructor;return typeof Le!="function"||Le===K?ie:Le}function ye(){var K={},ie=[],be=function(){function ze(Ve,qe,pe){this._index=0,this._keys=Ve,this._values=qe,this._selector=pe}return ze.prototype["@@iterator"]=function(){return this},ze.prototype[o]=function(){return this},ze.prototype.next=function(){var Ve=this._index;if(Ve>=0&&Ve<this._keys.length){var qe=this._selector(this._keys[Ve],this._values[Ve]);return Ve+1>=this._keys.length?(this._index=-1,this._keys=ie,this._values=ie):this._index++,{value:qe,done:!1}}return{value:void 0,done:!0}},ze.prototype.throw=function(Ve){throw this._index>=0&&(this._index=-1,this._keys=ie,this._values=ie),Ve},ze.prototype.return=function(Ve){return this._index>=0&&(this._index=-1,this._keys=ie,this._values=ie),{value:Ve,done:!0}},ze}();return function(){function ze(){this._keys=[],this._values=[],this._cacheKey=K,this._cacheIndex=-2}return Object.defineProperty(ze.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),ze.prototype.has=function(Ve){return this._find(Ve,!1)>=0},ze.prototype.get=function(Ve){var qe=this._find(Ve,!1);return qe>=0?this._values[qe]:void 0},ze.prototype.set=function(Ve,qe){var pe=this._find(Ve,!0);return this._values[pe]=qe,this},ze.prototype.delete=function(Ve){var qe=this._find(Ve,!1);if(qe>=0){for(var pe=this._keys.length,ee=qe+1;ee<pe;ee++)this._keys[ee-1]=this._keys[ee],this._values[ee-1]=this._values[ee];return this._keys.length--,this._values.length--,Ve===this._cacheKey&&(this._cacheKey=K,this._cacheIndex=-2),!0}return!1},ze.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=K,this._cacheIndex=-2},ze.prototype.keys=function(){return new be(this._keys,this._values,Ce)},ze.prototype.values=function(){return new be(this._keys,this._values,Le)},ze.prototype.entries=function(){return new be(this._keys,this._values,Ke)},ze.prototype["@@iterator"]=function(){return this.entries()},ze.prototype[o]=function(){return this.entries()},ze.prototype._find=function(Ve,qe){return this._cacheKey!==Ve&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Ve)),this._cacheIndex<0&&qe&&(this._cacheIndex=this._keys.length,this._keys.push(Ve),this._values.push(void 0)),this._cacheIndex},ze}();function Ce(ze,Ve){return ze}function Le(ze,Ve){return Ve}function Ke(ze,Ve){return[ze,Ve]}}function oe(){return function(){function K(){this._map=new _}return Object.defineProperty(K.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),K.prototype.has=function(ie){return this._map.has(ie)},K.prototype.add=function(ie){return this._map.set(ie,ie),this},K.prototype.delete=function(ie){return this._map.delete(ie)},K.prototype.clear=function(){this._map.clear()},K.prototype.keys=function(){return this._map.keys()},K.prototype.values=function(){return this._map.values()},K.prototype.entries=function(){return this._map.entries()},K.prototype["@@iterator"]=function(){return this.keys()},K.prototype[o]=function(){return this.keys()},K}()}function Ee(){var K=16,ie=u.create(),be=Ce();return function(){function qe(){this._key=Ce()}return qe.prototype.has=function(pe){var ee=Le(pe,!1);return ee!==void 0?u.has(ee,this._key):!1},qe.prototype.get=function(pe){var ee=Le(pe,!1);return ee!==void 0?u.get(ee,this._key):void 0},qe.prototype.set=function(pe,ee){var de=Le(pe,!0);return de[this._key]=ee,this},qe.prototype.delete=function(pe){var ee=Le(pe,!1);return ee!==void 0?delete ee[this._key]:!1},qe.prototype.clear=function(){this._key=Ce()},qe}();function Ce(){var qe;do qe="@@WeakMap@@"+Ve();while(u.has(ie,qe));return ie[qe]=!0,qe}function Le(qe,pe){if(!t.call(qe,be)){if(!pe)return;Object.defineProperty(qe,be,{value:u.create()})}return qe[be]}function Ke(qe,pe){for(var ee=0;ee<pe;++ee)qe[ee]=Math.random()*255|0;return qe}function ze(qe){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(qe)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(qe)):Ke(new Uint8Array(qe),qe):Ke(new Array(qe),qe)}function Ve(){var qe=ze(K);qe[6]=qe[6]&79|64,qe[8]=qe[8]&191|128;for(var pe="",ee=0;ee<K;++ee){var de=qe[ee];(ee===4||ee===6||ee===8)&&(pe+="-"),de<16&&(pe+="0"),pe+=de.toString(16).toLowerCase()}return pe}}function xe(K){return K.__=void 0,delete K.__,K}})})(Wv||(Wv={}))});var Vv=le(bd=>{"use strict";L();Object.defineProperty(bd,"__esModule",{value:!0});bd.JsonProperty=void 0;zv();var Fk=Jr();function Hk(n){return function(e,t){let r=Reflect.getMetadata("design:type",e,t.toString()),i=Fk.getDefinition(e.constructor).getProperty(t.toString());i.serializedName=n||t.toString(),i.array=r===Array,i.set=r===Set,!i.array&&!i.set&&!i.type&&(i.type=r)}}bd.JsonProperty=Hk});var $v=le(vd=>{"use strict";L();Object.defineProperty(vd,"__esModule",{value:!0});vd.JsonType=void 0;var Uk=Jr();function jk(n){return function(e,t){let r=Uk.getDefinition(e.constructor).getProperty(t.toString());r.type=n}}vd.JsonType=jk});var Jv=le(_d=>{"use strict";L();Object.defineProperty(_d,"__esModule",{value:!0});_d.JsonElementType=void 0;var qk=Jr();function Gk(n){return function(e,t){let r=qk.getDefinition(e.constructor).getProperty(t.toString());r.type=n}}_d.JsonElementType=Gk});var Kv=le(wd=>{"use strict";L();Object.defineProperty(wd,"__esModule",{value:!0});wd.JsonConverter=void 0;var Wk=Jr();function zk(n){return function(e,t){let r=Wk.getDefinition(e.constructor).getProperty(t.toString());typeof n=="function"?r.converter=new n:r.converter=n}}wd.JsonConverter=zk});var Yv=le(Sd=>{"use strict";L();Object.defineProperty(Sd,"__esModule",{value:!0});Sd.JsonReadonly=void 0;var Vk=Jr();function $k(){return function(n,e){let t=Vk.getDefinition(n.constructor).getProperty(e.toString());t.readonly=!0}}Sd.JsonReadonly=$k});var Xv=le(Ad=>{"use strict";L();Object.defineProperty(Ad,"__esModule",{value:!0});Ad.JsonWriteonly=void 0;var Jk=Jr();function Kk(){return function(n,e){let t=Jk.getDefinition(n.constructor).getProperty(e.toString());t.writeonly=!0}}Ad.JsonWriteonly=Kk});var Qv=le(Ed=>{"use strict";L();Object.defineProperty(Ed,"__esModule",{value:!0});Ed.JsonDiscriminatorProperty=void 0;var Yk=Jr();function Xk(n){return function(e){Yk.getDefinition(e).discriminatorProperty=n}}Ed.JsonDiscriminatorProperty=Xk});var Zv=le(Cd=>{"use strict";L();Object.defineProperty(Cd,"__esModule",{value:!0});Cd.JsonDiscriminatorValue=void 0;var Qk=Jr();function Zk(n){return function(e){Qk.getDefinition(e).discriminatorValue=n}}Cd.JsonDiscriminatorValue=Zk});var e3=le(xd=>{"use strict";L();Object.defineProperty(xd,"__esModule",{value:!0});xd.JsonConstructor=void 0;var eR=Jr();function tR(){return function(n,e){let t=eR.getDefinition(n.constructor);t.ctr=n[e.toString()]}}xd.JsonConstructor=tR});var t3=le(Td=>{"use strict";L();Object.defineProperty(Td,"__esModule",{value:!0});Td.BeforeDeserialized=void 0;var rR=Jr();function nR(){return function(n,e){let t=rR.getDefinition(n.constructor);t.beforeDeserialized=n[e.toString()]}}Td.BeforeDeserialized=nR});var r3=le(Pd=>{"use strict";L();Object.defineProperty(Pd,"__esModule",{value:!0});Pd.OnDeserialized=void 0;var iR=Jr();function oR(){return function(n,e){let t=iR.getDefinition(n.constructor);t.onDeserialized=n[e.toString()]}}Pd.OnDeserialized=oR});var n3=le(br=>{"use strict";L();var sR=br&&br.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Xn=br&&br.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&sR(e,n,t)};Object.defineProperty(br,"__esModule",{value:!0});Xn(Gv(),br);Xn(Vv(),br);Xn($v(),br);Xn(Jv(),br);Xn(Kv(),br);Xn(Yv(),br);Xn(Xv(),br);Xn(Qv(),br);Xn(Zv(),br);Xn(e3(),br);Xn(t3(),br);Xn(r3(),br)});var Op=le(Od=>{"use strict";L();Object.defineProperty(Od,"__esModule",{value:!0});Od.DateConverter=void 0;var Pp=class{serialize(e){return e.toString()}deserialize(e){return new Date(e)}collapseArrayWithSingleItem(){return!1}};Od.DateConverter=Pp});var kp=le(Md=>{"use strict";L();Object.defineProperty(Md,"__esModule",{value:!0});Md.BufferConverter=void 0;var Mp=class{constructor(e="json"){this._encoding=e}serialize(e){return this._encoding==="json"?e.toJSON():e.toString(this._encoding)}deserialize(e){return this._encoding==="json"?Buffer.from(e.data):Buffer.from(e,this._encoding)}collapseArrayWithSingleItem(){return!1}};Md.BufferConverter=Mp});var kd=le(va=>{"use strict";L();Object.defineProperty(va,"__esModule",{value:!0});va.propertyConverters=void 0;var aR=Op(),uR=kp();va.propertyConverters=new Map;typeof window>"u"&&va.propertyConverters.set(Buffer,new uR.BufferConverter);va.propertyConverters.set(Date,new aR.DateConverter)});var i3=le(io=>{"use strict";L();var lR=io&&io.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Rp=io&&io.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&lR(e,n,t)};Object.defineProperty(io,"__esModule",{value:!0});Rp(kd(),io);Rp(kp(),io);Rp(Op(),io)});var c3=le(Rd=>{"use strict";L();Object.defineProperty(Rd,"__esModule",{value:!0});Rd.serialize=void 0;var o3=ld(),u3=kd(),Lp=Jr();function Ip(n,e,t={keyToPreserveUnknownJSON:void 0}){return n.constructor===Array?n.map(r=>s3(r,e,t)):s3(n,e,t)}Rd.serialize=Ip;function s3(n,e=Object.getPrototypeOf(n).constructor,t){let r=Lp.getTypedInheritanceChain(e);if(r.length===0)return n;let i=r.map(s=>Lp.objectDefinitions.get(s)).filter(s=>!!s),o={};if(i.forEach(s=>{s.properties.forEach((l,f)=>{if(!l.type)throw new Error(`Cannot serialize property '${f}' without type!`);let u=n[f];if(!(u==null||l.writeonly)){if(l.set){o[l.serializedName]=a3(Array.from(u||[]),l,t);return}if(l.array){o[l.serializedName]=a3(u,l,t);return}o[l.serializedName]=l3(u,l,t)}})}),t.keyToPreserveUnknownJSON){let s=t.keyToPreserveUnknownJSON;if(n[s]){let l=Object.keys(n[s]);for(let f of l)if(n[s].hasOwnProperty(f)){let u;i.forEach(m=>{m.properties.forEach((y,_)=>{!u&&f===y.serializedName&&(u=y)})}),u||(typeof o[f]<"u"&&(console.log(`???!!! TAJSON keyToPreserveUnknownJSON already serialized?! ${s}.${f}`),console.log(o3.inspect(o[f],{showHidden:!1,depth:1e3,colors:!0,customInspect:!1})),o[f]!==n[s][f]&&(console.log(`???!!! TAJSON keyToPreserveUnknownJSON already serialized DIFF?! ${s}.${f}`),console.log(o3.inspect(n[s][f],{showHidden:!1,depth:1e3,colors:!0,customInspect:!1})))),o[f]=n[s][f])}}}return o}function a3(n,e,t){let r=n.map(i=>l3(i,e,t));if(r.length===1){let i=e.converter||u3.propertyConverters.get(e.type);if(i&&i.collapseArrayWithSingleItem())return r[0]}return r}function l3(n,e,t){let r=e.type===String||e.type===Boolean||e.type===Number,i=n,o=e.converter||u3.propertyConverters.get(e.type);return o?o.serialize(i):!r&&Lp.objectDefinitions.get(e.type)?i instanceof e.type?Ip(i,void 0,t):Ip(i,e.type,t):i}});var g3=le(Id=>{"use strict";L();Object.defineProperty(Id,"__esModule",{value:!0});Id.deserialize=void 0;var cR=ld(),Ld=Jr(),f3=kd();function h3(n,e,t={runConstructor:!1,keyToPreserveUnknownJSON:void 0}){return n&&n.constructor===Array?n.map(r=>d3(r,e,t)):d3(n,e,t)}Id.deserialize=h3;function d3(n,e=Object,t){if(!Ld.objectDefinitions.has(e))return n;let r=n,[i,...o]=Ld.getTypedInheritanceChain(e,r),s=Object.create(i.prototype),l=[...o.reverse(),i].map(f=>Ld.objectDefinitions.get(f)).filter(f=>!!f);if(l.forEach(f=>{t.runConstructor&&f.ctr.call(s),f.beforeDeserialized.call(s),f.properties.forEach((u,m)=>{if(!u.type)throw new Error(`Cannot deserialize property '${m}' without type!`);let y=r[u.serializedName];if(!(y==null||u.readonly)){if(u.array||u.set){s[m]=dR(y,u,t),u.set&&(s[m]=new Set(s[m]));return}s[m]=p3(y,u,t)}}),f.onDeserialized.call(s)}),t.keyToPreserveUnknownJSON){let f=t.keyToPreserveUnknownJSON;Object.keys(r).forEach(u=>{if(r.hasOwnProperty(u)){let m;l.forEach(y=>{y.properties.forEach((_,v)=>{!m&&u===_.serializedName&&(m=_)}),m?s[f]&&typeof s[f][u]<"u"&&delete s[f][u]:(s[f]||(s[f]={}),typeof s[f][u]<"u"&&s[f][u]!==r[u]&&(console.log(`???!!! TAJSON keyToPreserveUnknownJSON already deserialized DIFF?! ${f}.${u}`),console.log(cR.inspect(r[u],{showHidden:!1,depth:1e3,colors:!0,customInspect:!1}))),s[f][u]=r[u])})}}),s[f]&&!Object.keys(s[f]).length&&delete s[f]}return s}function dR(n,e,t){let r=e.converter||f3.propertyConverters.get(e.type);return(n instanceof Array?n:r&&r.collapseArrayWithSingleItem()?[n]:n).map(o=>p3(o,e,t))}function p3(n,e,t){let r=e.type===String||e.type===Boolean||e.type===Number,i=n,o=e.converter||f3.propertyConverters.get(e.type);return o?o.deserialize(i):!r&&Ld.objectDefinitions.get(e.type)?h3(i,e.type,t):i}});var m3=le(Nd=>{"use strict";L();Object.defineProperty(Nd,"__esModule",{value:!0});Nd.TaJson=void 0;var fR=c3(),hR=g3(),Np=class{static deserialize(e,t,r){return hR.deserialize(e,t,r)}static parse(e,t,r){return this.deserialize(JSON.parse(e),t,r)}static serialize(e,t){return fR.serialize(e,void 0,t)}static stringify(e,t){return JSON.stringify(this.serialize(e,t))}};Nd.TaJson=Np});var Tr=le(Tn=>{"use strict";L();var pR=Tn&&Tn.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Bp=Tn&&Tn.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&pR(e,n,t)};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.TaJson=Tn.JSON=void 0;Bp(Hv(),Tn);Bp(n3(),Tn);Bp(i3(),Tn);var y3=m3();Object.defineProperty(Tn,"JSON",{enumerable:!0,get:function(){return y3.TaJson}});Object.defineProperty(Tn,"TaJson",{enumerable:!0,get:function(){return y3.TaJson}})});var Fo=le(Bd=>{"use strict";L();Object.defineProperty(Bd,"__esModule",{value:!0});Bd.JsonStringConverter=void 0;var Dp=class{serialize(e){return e}deserialize(e){return e}collapseArrayWithSingleItem(){return!0}};Bd.JsonStringConverter=Dp});var b3=le(Dd=>{"use strict";L();Object.defineProperty(Dd,"__esModule",{value:!0});Dd.tryDecodeURI=void 0;function gR(n){if(!n)return null;try{return decodeURIComponent(n)}catch(e){console.log(n),console.log(e)}return n}Dd.tryDecodeURI=gR});var j3={};V0(j3,{__addDisposableResource:()=>H3,__assign:()=>Fd,__asyncDelegator:()=>k3,__asyncGenerator:()=>M3,__asyncValues:()=>R3,__await:()=>_a,__awaiter:()=>E3,__classPrivateFieldGet:()=>B3,__classPrivateFieldIn:()=>F3,__classPrivateFieldSet:()=>D3,__createBinding:()=>Ud,__decorate:()=>w3,__disposeResources:()=>U3,__esDecorate:()=>mR,__exportStar:()=>x3,__extends:()=>v3,__generator:()=>C3,__importDefault:()=>N3,__importStar:()=>I3,__makeTemplateObject:()=>L3,__metadata:()=>A3,__param:()=>S3,__propKey:()=>bR,__read:()=>Hp,__rest:()=>_3,__runInitializers:()=>yR,__setFunctionName:()=>vR,__spread:()=>T3,__spreadArray:()=>O3,__spreadArrays:()=>P3,__values:()=>Hd,default:()=>SR});function v3(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Fp(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function _3(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function w3(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function S3(n,e){return function(t,r){e(t,r,n)}}function mR(n,e,t,r,i,o){function s(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var l=r.kind,f=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&n?r.static?n:n.prototype:null,m=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),y,_=!1,v=t.length-1;v>=0;v--){var p={};for(var h in r)p[h]=h==="access"?{}:r[h];for(var h in r.access)p.access[h]=r.access[h];p.addInitializer=function(g){if(_)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(g||null))};var c=(0,t[v])(l==="accessor"?{get:m.get,set:m.set}:m[f],p);if(l==="accessor"){if(c===void 0)continue;if(c===null||typeof c!="object")throw new TypeError("Object expected");(y=s(c.get))&&(m.get=y),(y=s(c.set))&&(m.set=y),(y=s(c.init))&&i.unshift(y)}else(y=s(c))&&(l==="field"?i.unshift(y):m[f]=y)}u&&Object.defineProperty(u,r.name,m),_=!0}function yR(n,e,t){for(var r=arguments.length>2,i=0;i<e.length;i++)t=r?e[i].call(n,t):e[i].call(n);return r?t:void 0}function bR(n){return typeof n=="symbol"?n:"".concat(n)}function vR(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function A3(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function E3(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(m){try{u(r.next(m))}catch(y){s(y)}}function f(m){try{u(r.throw(m))}catch(y){s(y)}}function u(m){m.done?o(m.value):i(m.value).then(l,f)}u((r=r.apply(n,e||[])).next())})}function C3(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(m){return f([u,m])}}function f(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(m){u=[6,m],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function x3(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ud(e,n,t)}function Hd(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hp(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function T3(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Hp(arguments[e]));return n}function P3(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],s=0,l=o.length;s<l;s++,i++)r[i]=o[s];return r}function O3(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function _a(n){return this instanceof _a?(this.v=n,this):new _a(n)}function M3(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(_){r[_]&&(i[_]=function(v){return new Promise(function(p,h){o.push([_,v,p,h])>1||l(_,v)})})}function l(_,v){try{f(r[_](v))}catch(p){y(o[0][3],p)}}function f(_){_.value instanceof _a?Promise.resolve(_.value.v).then(u,m):y(o[0][2],_)}function u(_){l("next",_)}function m(_){l("throw",_)}function y(_,v){_(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function k3(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=n[i]?function(s){return(t=!t)?{value:_a(n[i](s)),done:!1}:o?o(s):s}:o}}function R3(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Hd=="function"?Hd(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(l,f){s=n[o](s),i(l,f,s.done,s.value)})}}function i(o,s,l,f){Promise.resolve(f).then(function(u){o({value:u,done:l})},s)}}function L3(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function I3(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Ud(e,n,t);return _R(e,n),e}function N3(n){return n&&n.__esModule?n:{default:n}}function B3(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function D3(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t}function F3(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function H3(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}function U3(n){function e(r){n.error=n.hasError?new wR(r,n.error,"An error was suppressed during disposal."):r,n.hasError=!0}function t(){for(;n.stack.length;){var r=n.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(t,function(o){return e(o),t()})}catch(o){e(o)}}if(n.hasError)throw n.error}return t()}var Fp,Fd,Ud,_R,wR,SR,q3=z0(()=>{L();Fp=function(n,e){return Fp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Fp(n,e)};Fd=function(){return Fd=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Fd.apply(this,arguments)};Ud=Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]};_R=Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e};wR=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};SR={__extends:v3,__assign:Fd,__rest:_3,__decorate:w3,__param:S3,__metadata:A3,__awaiter:E3,__generator:C3,__createBinding:Ud,__exportStar:x3,__values:Hd,__read:Hp,__spread:T3,__spreadArrays:P3,__spreadArray:O3,__await:_a,__asyncGenerator:M3,__asyncDelegator:k3,__asyncValues:R3,__makeTemplateObject:L3,__importStar:I3,__importDefault:N3,__classPrivateFieldGet:B3,__classPrivateFieldSet:D3,__classPrivateFieldIn:F3,__addDisposableResource:H3,__disposeResources:U3}});var G3=le(Iu=>{"use strict";L();Object.defineProperty(Iu,"__esModule",{value:!0});Iu.Encrypted=void 0;var Pn=(q3(),Cn(j3)),Ss=Tr(),Ho=Iu.Encrypted=class{constructor(){this.DecryptedLengthBeforeInflate=-1,this.CypherBlockPadding=-1}get OriginalLength(){return typeof this.OriginalLength2<"u"?this.OriginalLength2:this.OriginalLength1}set OriginalLength(e){typeof e<"u"&&(this.OriginalLength1=void 0,this.OriginalLength2=e)}};Pn.__decorate([(0,Ss.JsonProperty)("scheme"),Pn.__metadata("design:type",String)],Ho.prototype,"Scheme",void 0);Pn.__decorate([(0,Ss.JsonProperty)("profile"),Pn.__metadata("design:type",String)],Ho.prototype,"Profile",void 0);Pn.__decorate([(0,Ss.JsonProperty)("algorithm"),Pn.__metadata("design:type",String)],Ho.prototype,"Algorithm",void 0);Pn.__decorate([(0,Ss.JsonProperty)("compression"),Pn.__metadata("design:type",String)],Ho.prototype,"Compression",void 0);Pn.__decorate([(0,Ss.JsonProperty)("originalLength"),Pn.__metadata("design:type",Number)],Ho.prototype,"OriginalLength2",void 0);Pn.__decorate([(0,Ss.JsonProperty)("original-length"),Pn.__metadata("design:type",Object)],Ho.prototype,"OriginalLength1",void 0);Iu.Encrypted=Ho=Pn.__decorate([(0,Ss.JsonObject)()],Ho)});var Up=le(Pr=>{"use strict";L();Object.defineProperty(Pr,"__esModule",{value:!0});Pr.Properties=Pr.PropertiesSupportedKeys=Pr.SpreadEnum=Pr.PageEnum=Pr.OverflowEnum=Pr.OrientationEnum=Pr.LayoutEnum=void 0;var Or=(Yn(),Cn(Kn)),xi=Tr(),AR=G3(),W3;(function(n){n.Fixed="fixed",n.Reflowable="reflowable"})(W3||(Pr.LayoutEnum=W3={}));var z3;(function(n){n.Auto="auto",n.Landscape="landscape",n.Portrait="portrait"})(z3||(Pr.OrientationEnum=z3={}));var V3;(function(n){n.Auto="auto",n.Paginated="paginated",n.Scrolled="scrolled",n.ScrolledContinuous="scrolled-continuous"})(V3||(Pr.OverflowEnum=V3={}));var $3;(function(n){n.Left="left",n.Right="right",n.Center="center"})($3||(Pr.PageEnum=$3={}));var J3;(function(n){n.Auto="auto",n.Both="both",n.None="none",n.Landscape="landscape"})(J3||(Pr.SpreadEnum=J3={}));Pr.PropertiesSupportedKeys=["contains","layout","orientation","overflow","page","spread","encrypted","media-overlay"];var Ti=Pr.Properties=class{};Or.__decorate([(0,xi.JsonProperty)("contains"),(0,xi.JsonElementType)(String),Or.__metadata("design:type",Array)],Ti.prototype,"Contains",void 0);Or.__decorate([(0,xi.JsonProperty)("layout"),Or.__metadata("design:type",String)],Ti.prototype,"Layout",void 0);Or.__decorate([(0,xi.JsonProperty)("orientation"),Or.__metadata("design:type",String)],Ti.prototype,"Orientation",void 0);Or.__decorate([(0,xi.JsonProperty)("overflow"),Or.__metadata("design:type",String)],Ti.prototype,"Overflow",void 0);Or.__decorate([(0,xi.JsonProperty)("page"),Or.__metadata("design:type",String)],Ti.prototype,"Page",void 0);Or.__decorate([(0,xi.JsonProperty)("spread"),Or.__metadata("design:type",String)],Ti.prototype,"Spread",void 0);Or.__decorate([(0,xi.JsonProperty)("encrypted"),Or.__metadata("design:type",AR.Encrypted)],Ti.prototype,"Encrypted",void 0);Or.__decorate([(0,xi.JsonProperty)("media-overlay"),Or.__metadata("design:type",String)],Ti.prototype,"MediaOverlay",void 0);Pr.Properties=Ti=Or.__decorate([(0,xi.JsonObject)()],Ti)});var Bu=le(Nu=>{"use strict";L();var jd;Object.defineProperty(Nu,"__esModule",{value:!0});Nu.Link=void 0;var Bt=(Yn(),Cn(Kn)),vr=Tr(),ER=Fo(),CR=b3(),xR=Up(),TR="properties",PR="children",OR="alternate",Kr=Nu.Link=jd=class{get Href(){return this.Href1}set Href(e){this.Href1=e,this._urlDecoded=void 0}get HrefDecoded(){if(this._urlDecoded)return this._urlDecoded;if(this._urlDecoded!==null){if(!this.Href){this._urlDecoded=null;return}return this._urlDecoded=(0,CR.tryDecodeURI)(this.Href),this._urlDecoded?this._urlDecoded:void 0}}set HrefDecoded(e){this._urlDecoded=e}setHrefDecoded(e){this.Href=e,this.HrefDecoded=e}AddRels(e){e.forEach(t=>{this.AddRel(t)})}AddRel(e){this.HasRel(e)||(this.Rel?this.Rel.push(e):this.Rel=[e])}HasRel(e){return this.Rel&&this.Rel.indexOf(e)>=0}_OnDeserialized(){!this.Href&&(!this.Children||!this.Children.length)&&console.log("Link.Href is not set! (and no child Links)")}};Bt.__decorate([(0,vr.JsonProperty)("type"),Bt.__metadata("design:type",String)],Kr.prototype,"TypeLink",void 0);Bt.__decorate([(0,vr.JsonProperty)("height"),Bt.__metadata("design:type",Number)],Kr.prototype,"Height",void 0);Bt.__decorate([(0,vr.JsonProperty)("width"),Bt.__metadata("design:type",Number)],Kr.prototype,"Width",void 0);Bt.__decorate([(0,vr.JsonProperty)("title"),Bt.__metadata("design:type",String)],Kr.prototype,"Title",void 0);Bt.__decorate([(0,vr.JsonProperty)(TR),Bt.__metadata("design:type",xR.Properties)],Kr.prototype,"Properties",void 0);Bt.__decorate([(0,vr.JsonProperty)("duration"),Bt.__metadata("design:type",Number)],Kr.prototype,"Duration",void 0);Bt.__decorate([(0,vr.JsonProperty)("bitrate"),Bt.__metadata("design:type",Number)],Kr.prototype,"Bitrate",void 0);Bt.__decorate([(0,vr.JsonProperty)("templated"),Bt.__metadata("design:type",Boolean)],Kr.prototype,"Templated",void 0);Bt.__decorate([(0,vr.JsonProperty)(PR),(0,vr.JsonElementType)(jd),Bt.__metadata("design:type",Array)],Kr.prototype,"Children",void 0);Bt.__decorate([(0,vr.JsonProperty)(OR),(0,vr.JsonElementType)(jd),Bt.__metadata("design:type",Array)],Kr.prototype,"Alternate",void 0);Bt.__decorate([(0,vr.JsonProperty)("rel"),(0,vr.JsonConverter)(ER.JsonStringConverter),(0,vr.JsonElementType)(String),Bt.__metadata("design:type",Array)],Kr.prototype,"Rel",void 0);Bt.__decorate([(0,vr.JsonProperty)("href"),Bt.__metadata("design:type",String)],Kr.prototype,"Href1",void 0);Bt.__decorate([(0,vr.OnDeserialized)(),Bt.__metadata("design:type",Function),Bt.__metadata("design:paramtypes",[]),Bt.__metadata("design:returntype",void 0)],Kr.prototype,"_OnDeserialized",null);Nu.Link=Kr=jd=Bt.__decorate([(0,vr.JsonObject)()],Kr)});var qd=le(Du=>{"use strict";L();Object.defineProperty(Du,"__esModule",{value:!0});Du.Contributor=void 0;var lr=(Yn(),Cn(Kn)),Qn=Tr(),MR=Fo(),kR=Bu(),RR="links",Pi=Du.Contributor=class{get SortAs(){return this.SortAs2?this.SortAs2:this.SortAs1}set SortAs(e){e&&(this.SortAs1=void 0,this.SortAs2=e)}_OnDeserialized(){this.Name||console.log("Contributor.Name is not set!")}};lr.__decorate([(0,Qn.JsonProperty)("name"),lr.__metadata("design:type",Object)],Pi.prototype,"Name",void 0);lr.__decorate([(0,Qn.JsonProperty)("sortAs"),lr.__metadata("design:type",String)],Pi.prototype,"SortAs2",void 0);lr.__decorate([(0,Qn.JsonProperty)("sort_as"),lr.__metadata("design:type",Object)],Pi.prototype,"SortAs1",void 0);lr.__decorate([(0,Qn.JsonProperty)("role"),(0,Qn.JsonConverter)(MR.JsonStringConverter),(0,Qn.JsonElementType)(String),lr.__metadata("design:type",Array)],Pi.prototype,"Role",void 0);lr.__decorate([(0,Qn.JsonProperty)("identifier"),lr.__metadata("design:type",String)],Pi.prototype,"Identifier",void 0);lr.__decorate([(0,Qn.JsonProperty)("position"),lr.__metadata("design:type",Number)],Pi.prototype,"Position",void 0);lr.__decorate([(0,Qn.JsonProperty)(RR),(0,Qn.JsonElementType)(kR.Link),lr.__metadata("design:type",Array)],Pi.prototype,"Links",void 0);lr.__decorate([(0,Qn.OnDeserialized)(),lr.__metadata("design:type",Function),lr.__metadata("design:paramtypes",[]),lr.__metadata("design:returntype",void 0)],Pi.prototype,"_OnDeserialized",null);Du.Contributor=Pi=lr.__decorate([(0,Qn.JsonObject)()],Pi)});var jp=le(Oi=>{"use strict";L();Object.defineProperty(Oi,"__esModule",{value:!0});Oi.TaJsonSerialize=Oi.TaJsonDeserialize=Oi.KeyToPreserveUnknownJSON=void 0;var K3=Tr();Oi.KeyToPreserveUnknownJSON="AdditionalJSON";function LR(n,e){return K3.JSON.deserialize(n,e,{keyToPreserveUnknownJSON:Oi.KeyToPreserveUnknownJSON})}Oi.TaJsonDeserialize=LR;function IR(n){return K3.JSON.serialize(n,{keyToPreserveUnknownJSON:Oi.KeyToPreserveUnknownJSON})}Oi.TaJsonSerialize=IR});var Gp=le(Gd=>{"use strict";L();Object.defineProperty(Gd,"__esModule",{value:!0});Gd.JsonContributorConverter=void 0;var Y3=jp(),X3=qd(),qp=class{serialize(e){return e.Name&&!e.SortAs&&(!e.Role||!e.Role.length)&&!e.Identifier&&typeof e.Position>"u"&&(!e.Links||!e.Links.length)&&typeof e.Name=="string"?e.Name:(0,Y3.TaJsonSerialize)(e)}deserialize(e){if(typeof e=="string"){let t=new X3.Contributor;return t.Name=e,t}return(0,Y3.TaJsonDeserialize)(e,X3.Contributor)}collapseArrayWithSingleItem(){return!0}};Gd.JsonContributorConverter=qp});var e4=le(Hu=>{"use strict";L();Object.defineProperty(Hu,"__esModule",{value:!0});Hu.BelongsTo=void 0;var Fu=(Yn(),Cn(Kn)),As=Tr(),Q3=qd(),Z3=Gp(),NR="series",BR="collection",Wd=Hu.BelongsTo=class{};Fu.__decorate([(0,As.JsonProperty)(NR),(0,As.JsonElementType)(Q3.Contributor),(0,As.JsonConverter)(Z3.JsonContributorConverter),Fu.__metadata("design:type",Array)],Wd.prototype,"Series",void 0);Fu.__decorate([(0,As.JsonProperty)(BR),(0,As.JsonElementType)(Q3.Contributor),(0,As.JsonConverter)(Z3.JsonContributorConverter),Fu.__metadata("design:type",Array)],Wd.prototype,"Collection",void 0);Hu.BelongsTo=Wd=Fu.__decorate([(0,As.JsonObject)()],Wd)});var t4=le(ju=>{"use strict";L();Object.defineProperty(ju,"__esModule",{value:!0});ju.MediaOverlay=void 0;var Uu=(Yn(),Cn(Kn)),Wp=Tr(),zd=ju.MediaOverlay=class{};Uu.__decorate([(0,Wp.JsonProperty)("active-class"),Uu.__metadata("design:type",String)],zd.prototype,"ActiveClass",void 0);Uu.__decorate([(0,Wp.JsonProperty)("playback-active-class"),Uu.__metadata("design:type",String)],zd.prototype,"PlaybackActiveClass",void 0);ju.MediaOverlay=zd=Uu.__decorate([(0,Wp.JsonObject)()],zd)});var zp=le(qu=>{"use strict";L();Object.defineProperty(qu,"__esModule",{value:!0});qu.Subject=void 0;var Mr=(Yn(),Cn(Kn)),oo=Tr(),DR=Bu(),FR="links",so=qu.Subject=class{get SortAs(){return this.SortAs2?this.SortAs2:this.SortAs1}set SortAs(e){e&&(this.SortAs1=void 0,this.SortAs2=e)}_OnDeserialized(){this.Name||console.log("Subject.Name is not set!")}};Mr.__decorate([(0,oo.JsonProperty)("name"),Mr.__metadata("design:type",Object)],so.prototype,"Name",void 0);Mr.__decorate([(0,oo.JsonProperty)("sortAs"),Mr.__metadata("design:type",String)],so.prototype,"SortAs2",void 0);Mr.__decorate([(0,oo.JsonProperty)("sort_as"),Mr.__metadata("design:type",Object)],so.prototype,"SortAs1",void 0);Mr.__decorate([(0,oo.JsonProperty)("scheme"),Mr.__metadata("design:type",String)],so.prototype,"Scheme",void 0);Mr.__decorate([(0,oo.JsonProperty)("code"),Mr.__metadata("design:type",String)],so.prototype,"Code",void 0);Mr.__decorate([(0,oo.JsonProperty)(FR),(0,oo.JsonElementType)(DR.Link),Mr.__metadata("design:type",Array)],so.prototype,"Links",void 0);Mr.__decorate([(0,oo.OnDeserialized)(),Mr.__metadata("design:type",Function),Mr.__metadata("design:paramtypes",[]),Mr.__metadata("design:returntype",void 0)],so.prototype,"_OnDeserialized",null);qu.Subject=so=Mr.__decorate([(0,oo.JsonObject)()],so)});var i4=le(Vd=>{"use strict";L();Object.defineProperty(Vd,"__esModule",{value:!0});Vd.JsonSubjectConverter=void 0;var r4=jp(),n4=zp(),Vp=class{serialize(e){return e.Name&&!e.SortAs&&!e.Scheme&&!e.Code&&(!e.Links||!e.Links.length)&&typeof e.Name=="string"?e.Name:(0,r4.TaJsonSerialize)(e)}deserialize(e){if(typeof e=="string"){let t=new n4.Subject;return t.Name=e,t}return(0,r4.TaJsonDeserialize)(e,n4.Subject)}collapseArrayWithSingleItem(){return!0}};Vd.JsonSubjectConverter=Vp});var o4=le(Wu=>{"use strict";L();Object.defineProperty(Wu,"__esModule",{value:!0});Wu.AccessibilityCertification=void 0;var Es=(Yn(),Cn(Kn)),Mi=Tr(),$p=Fo(),Gu=Wu.AccessibilityCertification=class{};Es.__decorate([(0,Mi.JsonProperty)("certifiedBy"),(0,Mi.JsonConverter)($p.JsonStringConverter),(0,Mi.JsonElementType)(String),Es.__metadata("design:type",Array)],Gu.prototype,"CertifiedBy",void 0);Es.__decorate([(0,Mi.JsonProperty)("credential"),(0,Mi.JsonConverter)($p.JsonStringConverter),(0,Mi.JsonElementType)(String),Es.__metadata("design:type",Array)],Gu.prototype,"Credential",void 0);Es.__decorate([(0,Mi.JsonProperty)("report"),(0,Mi.JsonConverter)($p.JsonStringConverter),(0,Mi.JsonElementType)(String),Es.__metadata("design:type",Array)],Gu.prototype,"Report",void 0);Wu.AccessibilityCertification=Gu=Es.__decorate([(0,Mi.JsonObject)()],Gu)});var s4=le(zu=>{"use strict";L();Object.defineProperty(zu,"__esModule",{value:!0});zu.AccessibilityMetadata=void 0;var Yr=(Yn(),Cn(Kn)),kr=Tr(),$d=Fo(),HR=o4(),ao=zu.AccessibilityMetadata=class{};Yr.__decorate([(0,kr.JsonProperty)("certification"),Yr.__metadata("design:type",HR.AccessibilityCertification)],ao.prototype,"Certification",void 0);Yr.__decorate([(0,kr.JsonProperty)("conformsTo"),(0,kr.JsonConverter)($d.JsonStringConverter),(0,kr.JsonElementType)(String),Yr.__metadata("design:type",Array)],ao.prototype,"ConformsTo",void 0);Yr.__decorate([(0,kr.JsonProperty)("summary"),Yr.__metadata("design:type",Object)],ao.prototype,"Summary",void 0);Yr.__decorate([(0,kr.JsonProperty)("accessMode"),(0,kr.JsonConverter)($d.JsonStringConverter),(0,kr.JsonElementType)(String),Yr.__metadata("design:type",Array)],ao.prototype,"AccessMode",void 0);Yr.__decorate([(0,kr.JsonProperty)("accessModeSufficient"),(0,kr.JsonElementType)(Array),Yr.__metadata("design:type",Array)],ao.prototype,"AccessModeSufficient",void 0);Yr.__decorate([(0,kr.JsonProperty)("feature"),(0,kr.JsonConverter)($d.JsonStringConverter),(0,kr.JsonElementType)(String),Yr.__metadata("design:type",Array)],ao.prototype,"Feature",void 0);Yr.__decorate([(0,kr.JsonProperty)("hazard"),(0,kr.JsonConverter)($d.JsonStringConverter),(0,kr.JsonElementType)(String),Yr.__metadata("design:type",Array)],ao.prototype,"Hazard",void 0);zu.AccessibilityMetadata=ao=Yr.__decorate([(0,kr.JsonObject)()],ao)});var u4=le(uo=>{"use strict";L();Object.defineProperty(uo,"__esModule",{value:!0});uo.Metadata=uo.MetadataSupportedKeys=uo.DirectionEnum=void 0;var De=(Yn(),Cn(Kn)),Fe=Tr(),ki=Fo(),UR=e4(),On=qd(),Mn=Gp(),jR=t4(),qR=Up(),GR=zp(),WR=i4(),zR=s4(),a4;(function(n){n.Auto="auto",n.RTL="rtl",n.LTR="ltr"})(a4||(uo.DirectionEnum=a4={}));uo.MetadataSupportedKeys=["cover","dtb:totalTime","media:duration","media:narrator","media:active-class","media:playback-active-class","dcterms:modified","dcterms:creator","dcterms:contributor","schema:accessMode","schema:accessibilityFeature","schema:accessibilityHazard","schema:accessibilitySummary","schema:accessModeSufficient","schema:accessibilityAPI","schema:accessibilityControl","a11y:certifiedBy","a11y:certifierCredential","a11y:certifierReport","dcterms:conformsTo","title","subtitle","identifier","author","translator","editor","artist","illustrator","letterer","penciler","colorist","inker","narrator","contributor","publisher","imprint","language","modified","published","sortAs","description","readingProgression","direction","belongsTo","duration","numberOfPages","rights","rendition","source","subject"];var at=uo.Metadata=class{get SortAs(){return this.SortAs2?this.SortAs2:this.SortAs1}set SortAs(e){e&&(this.SortAs1=void 0,this.SortAs2=e)}get Direction(){return this.Direction2?this.Direction2:this.Direction1}set Direction(e){e&&(this.Direction1=void 0,this.Direction2=e)}get BelongsTo(){return this.BelongsTo2?this.BelongsTo2:this.BelongsTo1}set BelongsTo(e){e&&(this.BelongsTo1=void 0,this.BelongsTo2=e)}_OnDeserialized(){this.Title||console.log("Metadata.Title is not set!")}};De.__decorate([(0,Fe.JsonProperty)("accessibility"),De.__metadata("design:type",zR.AccessibilityMetadata)],at.prototype,"Accessibility",void 0);De.__decorate([(0,Fe.JsonProperty)("accessMode"),(0,Fe.JsonConverter)(ki.JsonStringConverter),(0,Fe.JsonElementType)(String),De.__metadata("design:type",Array)],at.prototype,"AccessMode",void 0);De.__decorate([(0,Fe.JsonProperty)("accessibilityFeature"),(0,Fe.JsonConverter)(ki.JsonStringConverter),(0,Fe.JsonElementType)(String),De.__metadata("design:type",Array)],at.prototype,"AccessibilityFeature",void 0);De.__decorate([(0,Fe.JsonProperty)("accessibilityHazard"),(0,Fe.JsonConverter)(ki.JsonStringConverter),(0,Fe.JsonElementType)(String),De.__metadata("design:type",Array)],at.prototype,"AccessibilityHazard",void 0);De.__decorate([(0,Fe.JsonProperty)("accessibilitySummary"),De.__metadata("design:type",Object)],at.prototype,"AccessibilitySummary",void 0);De.__decorate([(0,Fe.JsonProperty)("accessModeSufficient"),(0,Fe.JsonElementType)(Array),De.__metadata("design:type",Array)],at.prototype,"AccessModeSufficient",void 0);De.__decorate([(0,Fe.JsonProperty)("accessibilityAPI"),(0,Fe.JsonConverter)(ki.JsonStringConverter),(0,Fe.JsonElementType)(String),De.__metadata("design:type",Array)],at.prototype,"AccessibilityAPI",void 0);De.__decorate([(0,Fe.JsonProperty)("accessibilityControl"),(0,Fe.JsonConverter)(ki.JsonStringConverter),(0,Fe.JsonElementType)(String),De.__metadata("design:type",Array)],at.prototype,"AccessibilityControl",void 0);De.__decorate([(0,Fe.JsonProperty)("certifiedBy"),(0,Fe.JsonConverter)(ki.JsonStringConverter),(0,Fe.JsonElementType)(String),De.__metadata("design:type",Array)],at.prototype,"CertifiedBy",void 0);De.__decorate([(0,Fe.JsonProperty)("certifierCredential"),(0,Fe.JsonConverter)(ki.JsonStringConverter),(0,Fe.JsonElementType)(String),De.__metadata("design:type",Array)],at.prototype,"CertifierCredential",void 0);De.__decorate([(0,Fe.JsonProperty)("certifierReport"),(0,Fe.JsonConverter)(ki.JsonStringConverter),(0,Fe.JsonElementType)(String),De.__metadata("design:type",Array)],at.prototype,"CertifierReport",void 0);De.__decorate([(0,Fe.JsonProperty)("conformsTo"),(0,Fe.JsonConverter)(ki.JsonStringConverter),(0,Fe.JsonElementType)(String),De.__metadata("design:type",Array)],at.prototype,"ConformsTo",void 0);De.__decorate([(0,Fe.JsonProperty)("@type"),De.__metadata("design:type",String)],at.prototype,"RDFType",void 0);De.__decorate([(0,Fe.JsonProperty)("title"),De.__metadata("design:type",Object)],at.prototype,"Title",void 0);De.__decorate([(0,Fe.JsonProperty)("subtitle"),De.__metadata("design:type",Object)],at.prototype,"SubTitle",void 0);De.__decorate([(0,Fe.JsonProperty)("identifier"),De.__metadata("design:type",String)],at.prototype,"Identifier",void 0);De.__decorate([(0,Fe.JsonProperty)("author"),(0,Fe.JsonElementType)(On.Contributor),(0,Fe.JsonConverter)(Mn.JsonContributorConverter),De.__metadata("design:type",Array)],at.prototype,"Author",void 0);De.__decorate([(0,Fe.JsonProperty)("translator"),(0,Fe.JsonElementType)(On.Contributor),(0,Fe.JsonConverter)(Mn.JsonContributorConverter),De.__metadata("design:type",Array)],at.prototype,"Translator",void 0);De.__decorate([(0,Fe.JsonProperty)("editor"),(0,Fe.JsonElementType)(On.Contributor),(0,Fe.JsonConverter)(Mn.JsonContributorConverter),De.__metadata("design:type",Array)],at.prototype,"Editor",void 0);De.__decorate([(0,Fe.JsonProperty)("artist"),(0,Fe.JsonElementType)(On.Contributor),(0,Fe.JsonConverter)(Mn.JsonContributorConverter),De.__metadata("design:type",Array)],at.prototype,"Artist",void 0);De.__decorate([(0,Fe.JsonProperty)("illustrator"),(0,Fe.JsonElementType)(On.Contributor),(0,Fe.JsonConverter)(Mn.JsonContributorConverter),De.__metadata("design:type",Array)],at.prototype,"Illustrator",void 0);De.__decorate([(0,Fe.JsonProperty)("letterer"),(0,Fe.JsonElementType)(On.Contributor),(0,Fe.JsonConverter)(Mn.JsonContributorConverter),De.__metadata("design:type",Array)],at.prototype,"Letterer",void 0);De.__decorate([(0,Fe.JsonProperty)("penciler"),(0,Fe.JsonElementType)(On.Contributor),(0,Fe.JsonConverter)(Mn.JsonContributorConverter),De.__metadata("design:type",Array)],at.prototype,"Penciler",void 0);De.__decorate([(0,Fe.JsonProperty)("colorist"),(0,Fe.JsonElementType)(On.Contributor),(0,Fe.JsonConverter)(Mn.JsonContributorConverter),De.__metadata("design:type",Array)],at.prototype,"Colorist",void 0);De.__decorate([(0,Fe.JsonProperty)("inker"),(0,Fe.JsonElementType)(On.Contributor),(0,Fe.JsonConverter)(Mn.JsonContributorConverter),De.__metadata("design:type",Array)],at.prototype,"Inker",void 0);De.__decorate([(0,Fe.JsonProperty)("narrator"),(0,Fe.JsonElementType)(On.Contributor),(0,Fe.JsonConverter)(Mn.JsonContributorConverter),De.__metadata("design:type",Array)],at.prototype,"Narrator",void 0);De.__decorate([(0,Fe.JsonProperty)("contributor"),(0,Fe.JsonElementType)(On.Contributor),(0,Fe.JsonConverter)(Mn.JsonContributorConverter),De.__metadata("design:type",Array)],at.prototype,"Contributor",void 0);De.__decorate([(0,Fe.JsonProperty)("publisher"),(0,Fe.JsonElementType)(On.Contributor),(0,Fe.JsonConverter)(Mn.JsonContributorConverter),De.__metadata("design:type",Array)],at.prototype,"Publisher",void 0);De.__decorate([(0,Fe.JsonProperty)("imprint"),(0,Fe.JsonElementType)(On.Contributor),(0,Fe.JsonConverter)(Mn.JsonContributorConverter),De.__metadata("design:type",Array)],at.prototype,"Imprint",void 0);De.__decorate([(0,Fe.JsonProperty)("language"),(0,Fe.JsonElementType)(String),(0,Fe.JsonConverter)(ki.JsonStringConverter),De.__metadata("design:type",Array)],at.prototype,"Language",void 0);De.__decorate([(0,Fe.JsonProperty)("modified"),De.__metadata("design:type",Date)],at.prototype,"Modified",void 0);De.__decorate([(0,Fe.JsonProperty)("published"),De.__metadata("design:type",Date)],at.prototype,"PublicationDate",void 0);De.__decorate([(0,Fe.JsonProperty)("sortAs"),De.__metadata("design:type",String)],at.prototype,"SortAs2",void 0);De.__decorate([(0,Fe.JsonProperty)("sort_as"),De.__metadata("design:type",Object)],at.prototype,"SortAs1",void 0);De.__decorate([(0,Fe.JsonProperty)("description"),De.__metadata("design:type",String)],at.prototype,"Description",void 0);De.__decorate([(0,Fe.JsonProperty)("readingProgression"),De.__metadata("design:type",String)],at.prototype,"Direction2",void 0);De.__decorate([(0,Fe.JsonProperty)("direction"),De.__metadata("design:type",Object)],at.prototype,"Direction1",void 0);De.__decorate([(0,Fe.JsonProperty)("belongsTo"),De.__metadata("design:type",UR.BelongsTo)],at.prototype,"BelongsTo2",void 0);De.__decorate([(0,Fe.JsonProperty)("belongs_to"),De.__metadata("design:type",Object)],at.prototype,"BelongsTo1",void 0);De.__decorate([(0,Fe.JsonProperty)("duration"),De.__metadata("design:type",Number)],at.prototype,"Duration",void 0);De.__decorate([(0,Fe.JsonProperty)("numberOfPages"),De.__metadata("design:type",Number)],at.prototype,"NumberOfPages",void 0);De.__decorate([(0,Fe.JsonProperty)("media-overlay"),De.__metadata("design:type",jR.MediaOverlay)],at.prototype,"MediaOverlay",void 0);De.__decorate([(0,Fe.JsonProperty)("rights"),De.__metadata("design:type",String)],at.prototype,"Rights",void 0);De.__decorate([(0,Fe.JsonProperty)("rendition"),De.__metadata("design:type",qR.Properties)],at.prototype,"Rendition",void 0);De.__decorate([(0,Fe.JsonProperty)("source"),De.__metadata("design:type",String)],at.prototype,"Source",void 0);De.__decorate([(0,Fe.JsonProperty)("subject"),(0,Fe.JsonConverter)(WR.JsonSubjectConverter),(0,Fe.JsonElementType)(GR.Subject),De.__metadata("design:type",Array)],at.prototype,"Subject",void 0);De.__decorate([(0,Fe.OnDeserialized)(),De.__metadata("design:type",Function),De.__metadata("design:paramtypes",[]),De.__metadata("design:returntype",void 0)],at.prototype,"_OnDeserialized",null);uo.Metadata=at=De.__decorate([(0,Fe.JsonObject)()],at)});var l4=le(Vu=>{"use strict";L();Object.defineProperty(Vu,"__esModule",{value:!0});Vu.Publication=void 0;var Ot=(Yn(),Cn(Kn)),VR=Dv(),It=Tr(),$R=Fo(),JR=u4(),kn=Bu(),KR=VR("r2:shared#models/publication"),YR="metadata",XR="links",QR="readingOrder",ZR="spine",eL="resources",tL="toc",rL="page-list",nL="pageList",iL="landmarks",oL="loi",sL="loa",aL="lov",uL="lot",Rr=Vu.Publication=class{get Spine(){return this.Spine2?this.Spine2:this.Spine1}set Spine(e){e&&(this.Spine1=void 0,this.Spine2=e)}get PageList(){return this.PageList2?this.PageList2:this.PageList1}set PageList(e){e&&(this.PageList1=void 0,this.PageList2=e)}freeDestroy(){if(KR("freeDestroy: Publication"),this.Internal){let e=this.findFromInternal("zip");e&&e.Value.freeDestroy()}}findFromInternal(e){if(this.Internal){let t=this.Internal.find(r=>r.Name===e);if(t)return t}}AddToInternal(e,t){let r=this.findFromInternal(e);if(r)r.Value=t;else{this.Internal||(this.Internal=[]);let i={Name:e,Value:t};this.Internal.push(i)}}GetCover(){return this.searchLinkByRel("cover")}GetNavDoc(){return this.searchLinkByRel("contents")}searchLinkByRel(e){if(this.Resources){let t=this.Resources.find(r=>r.HasRel(e));if(t)return t}if(this.Spine){let t=this.Spine.find(r=>r.HasRel(e));if(t)return t}if(this.Links){let t=this.Links.find(r=>r.HasRel(e));if(t)return t}}AddLink(e,t,r,i){let o=new kn.Link;o.AddRels(t),o.setHrefDecoded(r),o.TypeLink=e,typeof i<"u"&&(o.Templated=i),this.Links||(this.Links=[]),this.Links.push(o)}_OnDeserialized(){this.Metadata||console.log("Publication.Metadata is not set!"),this.Spine||console.log("Publication.Spine/ReadingOrder is not set!")}};Ot.__decorate([(0,It.JsonProperty)("@context"),(0,It.JsonElementType)(String),(0,It.JsonConverter)($R.JsonStringConverter),Ot.__metadata("design:type",Array)],Rr.prototype,"Context",void 0);Ot.__decorate([(0,It.JsonProperty)(YR),Ot.__metadata("design:type",JR.Metadata)],Rr.prototype,"Metadata",void 0);Ot.__decorate([(0,It.JsonProperty)(XR),(0,It.JsonElementType)(kn.Link),Ot.__metadata("design:type",Array)],Rr.prototype,"Links",void 0);Ot.__decorate([(0,It.JsonProperty)(QR),(0,It.JsonElementType)(kn.Link),Ot.__metadata("design:type",Array)],Rr.prototype,"Spine2",void 0);Ot.__decorate([(0,It.JsonProperty)(ZR),(0,It.JsonElementType)(kn.Link),Ot.__metadata("design:type",Object)],Rr.prototype,"Spine1",void 0);Ot.__decorate([(0,It.JsonProperty)(eL),(0,It.JsonElementType)(kn.Link),Ot.__metadata("design:type",Array)],Rr.prototype,"Resources",void 0);Ot.__decorate([(0,It.JsonProperty)(tL),(0,It.JsonElementType)(kn.Link),Ot.__metadata("design:type",Array)],Rr.prototype,"TOC",void 0);Ot.__decorate([(0,It.JsonProperty)(nL),(0,It.JsonElementType)(kn.Link),Ot.__metadata("design:type",Array)],Rr.prototype,"PageList2",void 0);Ot.__decorate([(0,It.JsonProperty)(rL),(0,It.JsonElementType)(kn.Link),Ot.__metadata("design:type",Object)],Rr.prototype,"PageList1",void 0);Ot.__decorate([(0,It.JsonProperty)(iL),(0,It.JsonElementType)(kn.Link),Ot.__metadata("design:type",Array)],Rr.prototype,"Landmarks",void 0);Ot.__decorate([(0,It.JsonProperty)(oL),(0,It.JsonElementType)(kn.Link),Ot.__metadata("design:type",Array)],Rr.prototype,"LOI",void 0);Ot.__decorate([(0,It.JsonProperty)(sL),(0,It.JsonElementType)(kn.Link),Ot.__metadata("design:type",Array)],Rr.prototype,"LOA",void 0);Ot.__decorate([(0,It.JsonProperty)(aL),(0,It.JsonElementType)(kn.Link),Ot.__metadata("design:type",Array)],Rr.prototype,"LOV",void 0);Ot.__decorate([(0,It.JsonProperty)(uL),(0,It.JsonElementType)(kn.Link),Ot.__metadata("design:type",Array)],Rr.prototype,"LOT",void 0);Ot.__decorate([(0,It.OnDeserialized)(),Ot.__metadata("design:type",Function),Ot.__metadata("design:paramtypes",[]),Ot.__metadata("design:returntype",void 0)],Rr.prototype,"_OnDeserialized",null);Vu.Publication=Rr=Ot.__decorate([(0,It.JsonObject)()],Rr)});var h4=le(Qp=>{"use strict";L();Object.defineProperty(Qp,"__esModule",{value:!0});Qp.default=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(function(n){return n.charCodeAt(0)}))});var p4=le(Zp=>{"use strict";L();Object.defineProperty(Zp,"__esModule",{value:!0});Zp.default=new Uint16Array("\u0200aglq	\x1B\u026D\0\0p;\u4026os;\u4027t;\u403Et;\u403Cuot;\u4022".split("").map(function(n){return n.charCodeAt(0)}))});var tg=le(Uo=>{"use strict";L();var eg;Object.defineProperty(Uo,"__esModule",{value:!0});Uo.replaceCodePoint=Uo.fromCodePoint=void 0;var cL=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);Uo.fromCodePoint=(eg=String.fromCodePoint)!==null&&eg!==void 0?eg:function(n){var e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),e+=String.fromCharCode(n),e};function g4(n){var e;return n>=55296&&n<=57343||n>1114111?65533:(e=cL.get(n))!==null&&e!==void 0?e:n}Uo.replaceCodePoint=g4;function dL(n){return(0,Uo.fromCodePoint)(g4(n))}Uo.default=dL});var $u=le(bt=>{"use strict";L();var fL=bt&&bt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),hL=bt&&bt.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),pL=bt&&bt.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&fL(e,n,t);return hL(e,n),e},m4=bt&&bt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(bt,"__esModule",{value:!0});bt.decodeXML=bt.decodeHTMLStrict=bt.decodeHTMLAttribute=bt.decodeHTML=bt.determineBranch=bt.EntityDecoder=bt.DecodingMode=bt.BinTrieFlags=bt.fromCodePoint=bt.replaceCodePoint=bt.decodeCodePoint=bt.xmlDecodeTree=bt.htmlDecodeTree=void 0;var y4=m4(h4());bt.htmlDecodeTree=y4.default;var b4=m4(p4());bt.xmlDecodeTree=b4.default;var ng=pL(tg());bt.decodeCodePoint=ng.default;var v4=tg();Object.defineProperty(bt,"replaceCodePoint",{enumerable:!0,get:function(){return v4.replaceCodePoint}});Object.defineProperty(bt,"fromCodePoint",{enumerable:!0,get:function(){return v4.fromCodePoint}});var wr;(function(n){n[n.NUM=35]="NUM",n[n.SEMI=59]="SEMI",n[n.EQUALS=61]="EQUALS",n[n.ZERO=48]="ZERO",n[n.NINE=57]="NINE",n[n.LOWER_A=97]="LOWER_A",n[n.LOWER_F=102]="LOWER_F",n[n.LOWER_X=120]="LOWER_X",n[n.LOWER_Z=122]="LOWER_Z",n[n.UPPER_A=65]="UPPER_A",n[n.UPPER_F=70]="UPPER_F",n[n.UPPER_Z=90]="UPPER_Z"})(wr||(wr={}));var gL=32,xs;(function(n){n[n.VALUE_LENGTH=49152]="VALUE_LENGTH",n[n.BRANCH_LENGTH=16256]="BRANCH_LENGTH",n[n.JUMP_TABLE=127]="JUMP_TABLE"})(xs=bt.BinTrieFlags||(bt.BinTrieFlags={}));function rg(n){return n>=wr.ZERO&&n<=wr.NINE}function mL(n){return n>=wr.UPPER_A&&n<=wr.UPPER_F||n>=wr.LOWER_A&&n<=wr.LOWER_F}function yL(n){return n>=wr.UPPER_A&&n<=wr.UPPER_Z||n>=wr.LOWER_A&&n<=wr.LOWER_Z||rg(n)}function bL(n){return n===wr.EQUALS||yL(n)}var _r;(function(n){n[n.EntityStart=0]="EntityStart",n[n.NumericStart=1]="NumericStart",n[n.NumericDecimal=2]="NumericDecimal",n[n.NumericHex=3]="NumericHex",n[n.NamedEntity=4]="NamedEntity"})(_r||(_r={}));var Li;(function(n){n[n.Legacy=0]="Legacy",n[n.Strict=1]="Strict",n[n.Attribute=2]="Attribute"})(Li=bt.DecodingMode||(bt.DecodingMode={}));var _4=function(){function n(e,t,r){this.decodeTree=e,this.emitCodePoint=t,this.errors=r,this.state=_r.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Li.Strict}return n.prototype.startEntity=function(e){this.decodeMode=e,this.state=_r.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},n.prototype.write=function(e,t){switch(this.state){case _r.EntityStart:return e.charCodeAt(t)===wr.NUM?(this.state=_r.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=_r.NamedEntity,this.stateNamedEntity(e,t));case _r.NumericStart:return this.stateNumericStart(e,t);case _r.NumericDecimal:return this.stateNumericDecimal(e,t);case _r.NumericHex:return this.stateNumericHex(e,t);case _r.NamedEntity:return this.stateNamedEntity(e,t)}},n.prototype.stateNumericStart=function(e,t){return t>=e.length?-1:(e.charCodeAt(t)|gL)===wr.LOWER_X?(this.state=_r.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=_r.NumericDecimal,this.stateNumericDecimal(e,t))},n.prototype.addToNumericResult=function(e,t,r,i){if(t!==r){var o=r-t;this.result=this.result*Math.pow(i,o)+parseInt(e.substr(t,o),i),this.consumed+=o}},n.prototype.stateNumericHex=function(e,t){for(var r=t;t<e.length;){var i=e.charCodeAt(t);if(rg(i)||mL(i))t+=1;else return this.addToNumericResult(e,r,t,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,t,16),-1},n.prototype.stateNumericDecimal=function(e,t){for(var r=t;t<e.length;){var i=e.charCodeAt(t);if(rg(i))t+=1;else return this.addToNumericResult(e,r,t,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,t,10),-1},n.prototype.emitNumericEntity=function(e,t){var r;if(this.consumed<=t)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===wr.SEMI)this.consumed+=1;else if(this.decodeMode===Li.Strict)return 0;return this.emitCodePoint((0,ng.replaceCodePoint)(this.result),this.consumed),this.errors&&(e!==wr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},n.prototype.stateNamedEntity=function(e,t){for(var r=this.decodeTree,i=r[this.treeIndex],o=(i&xs.VALUE_LENGTH)>>14;t<e.length;t++,this.excess++){var s=e.charCodeAt(t);if(this.treeIndex=S4(r,i,this.treeIndex+Math.max(1,o),s),this.treeIndex<0)return this.result===0||this.decodeMode===Li.Attribute&&(o===0||bL(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],o=(i&xs.VALUE_LENGTH)>>14,o!==0){if(s===wr.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Li.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},n.prototype.emitNotTerminatedNamedEntity=function(){var e,t=this,r=t.result,i=t.decodeTree,o=(i[r]&xs.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,o,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed},n.prototype.emitNamedEntityData=function(e,t,r){var i=this.decodeTree;return this.emitCodePoint(t===1?i[e]&~xs.VALUE_LENGTH:i[e+1],r),t===3&&this.emitCodePoint(i[e+2],r),r},n.prototype.end=function(){var e;switch(this.state){case _r.NamedEntity:return this.result!==0&&(this.decodeMode!==Li.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case _r.NumericDecimal:return this.emitNumericEntity(0,2);case _r.NumericHex:return this.emitNumericEntity(0,3);case _r.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case _r.EntityStart:return 0}},n}();bt.EntityDecoder=_4;function w4(n){var e="",t=new _4(n,function(r){return e+=(0,ng.fromCodePoint)(r)});return function(i,o){for(var s=0,l=0;(l=i.indexOf("&",l))>=0;){e+=i.slice(s,l),t.startEntity(o);var f=t.write(i,l+1);if(f<0){s=l+t.end();break}s=l+f,l=f===0?s+1:s}var u=e+i.slice(s);return e="",u}}function S4(n,e,t,r){var i=(e&xs.BRANCH_LENGTH)>>7,o=e&xs.JUMP_TABLE;if(i===0)return o!==0&&r===o?t:-1;if(o){var s=r-o;return s<0||s>=i?-1:n[t+s]-1}for(var l=t,f=l+i-1;l<=f;){var u=l+f>>>1,m=n[u];if(m<r)l=u+1;else if(m>r)f=u-1;else return n[u+i]}return-1}bt.determineBranch=S4;var ig=w4(y4.default),vL=w4(b4.default);function _L(n,e){return e===void 0&&(e=Li.Legacy),ig(n,e)}bt.decodeHTML=_L;function wL(n){return ig(n,Li.Attribute)}bt.decodeHTMLAttribute=wL;function SL(n){return ig(n,Li.Strict)}bt.decodeHTMLStrict=SL;function AL(n){return vL(n,Li.Strict)}bt.decodeXML=AL});var og=le(Ea=>{"use strict";L();Object.defineProperty(Ea,"__esModule",{value:!0});Ea.QuoteType=void 0;var Ts=$u(),Je;(function(n){n[n.Tab=9]="Tab",n[n.NewLine=10]="NewLine",n[n.FormFeed=12]="FormFeed",n[n.CarriageReturn=13]="CarriageReturn",n[n.Space=32]="Space",n[n.ExclamationMark=33]="ExclamationMark",n[n.Number=35]="Number",n[n.Amp=38]="Amp",n[n.SingleQuote=39]="SingleQuote",n[n.DoubleQuote=34]="DoubleQuote",n[n.Dash=45]="Dash",n[n.Slash=47]="Slash",n[n.Zero=48]="Zero",n[n.Nine=57]="Nine",n[n.Semi=59]="Semi",n[n.Lt=60]="Lt",n[n.Eq=61]="Eq",n[n.Gt=62]="Gt",n[n.Questionmark=63]="Questionmark",n[n.UpperA=65]="UpperA",n[n.LowerA=97]="LowerA",n[n.UpperF=70]="UpperF",n[n.LowerF=102]="LowerF",n[n.UpperZ=90]="UpperZ",n[n.LowerZ=122]="LowerZ",n[n.LowerX=120]="LowerX",n[n.OpeningSquareBracket=91]="OpeningSquareBracket"})(Je||(Je={}));var ke;(function(n){n[n.Text=1]="Text",n[n.BeforeTagName=2]="BeforeTagName",n[n.InTagName=3]="InTagName",n[n.InSelfClosingTag=4]="InSelfClosingTag",n[n.BeforeClosingTagName=5]="BeforeClosingTagName",n[n.InClosingTagName=6]="InClosingTagName",n[n.AfterClosingTagName=7]="AfterClosingTagName",n[n.BeforeAttributeName=8]="BeforeAttributeName",n[n.InAttributeName=9]="InAttributeName",n[n.AfterAttributeName=10]="AfterAttributeName",n[n.BeforeAttributeValue=11]="BeforeAttributeValue",n[n.InAttributeValueDq=12]="InAttributeValueDq",n[n.InAttributeValueSq=13]="InAttributeValueSq",n[n.InAttributeValueNq=14]="InAttributeValueNq",n[n.BeforeDeclaration=15]="BeforeDeclaration",n[n.InDeclaration=16]="InDeclaration",n[n.InProcessingInstruction=17]="InProcessingInstruction",n[n.BeforeComment=18]="BeforeComment",n[n.CDATASequence=19]="CDATASequence",n[n.InSpecialComment=20]="InSpecialComment",n[n.InCommentLike=21]="InCommentLike",n[n.BeforeSpecialS=22]="BeforeSpecialS",n[n.SpecialStartSequence=23]="SpecialStartSequence",n[n.InSpecialTag=24]="InSpecialTag",n[n.BeforeEntity=25]="BeforeEntity",n[n.BeforeNumericEntity=26]="BeforeNumericEntity",n[n.InNamedEntity=27]="InNamedEntity",n[n.InNumericEntity=28]="InNumericEntity",n[n.InHexEntity=29]="InHexEntity"})(ke||(ke={}));function fo(n){return n===Je.Space||n===Je.NewLine||n===Je.Tab||n===Je.FormFeed||n===Je.CarriageReturn}function Jd(n){return n===Je.Slash||n===Je.Gt||fo(n)}function A4(n){return n>=Je.Zero&&n<=Je.Nine}function EL(n){return n>=Je.LowerA&&n<=Je.LowerZ||n>=Je.UpperA&&n<=Je.UpperZ}function CL(n){return n>=Je.UpperA&&n<=Je.UpperF||n>=Je.LowerA&&n<=Je.LowerF}var Aa;(function(n){n[n.NoValue=0]="NoValue",n[n.Unquoted=1]="Unquoted",n[n.Single=2]="Single",n[n.Double=3]="Double"})(Aa=Ea.QuoteType||(Ea.QuoteType={}));var sn={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},xL=function(){function n(e,t){var r=e.xmlMode,i=r===void 0?!1:r,o=e.decodeEntities,s=o===void 0?!0:o;this.cbs=t,this.state=ke.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=ke.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=i,this.decodeEntities=s,this.entityTrie=i?Ts.xmlDecodeTree:Ts.htmlDecodeTree}return n.prototype.reset=function(){this.state=ke.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=ke.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},n.prototype.write=function(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()},n.prototype.end=function(){this.running&&this.finish()},n.prototype.pause=function(){this.running=!1},n.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},n.prototype.getIndex=function(){return this.index},n.prototype.getSectionStart=function(){return this.sectionStart},n.prototype.stateText=function(e){e===Je.Lt||!this.decodeEntities&&this.fastForwardTo(Je.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=ke.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===Je.Amp&&(this.state=ke.BeforeEntity)},n.prototype.stateSpecialStartSequence=function(e){var t=this.sequenceIndex===this.currentSequence.length,r=t?Jd(e):(e|32)===this.currentSequence[this.sequenceIndex];if(!r)this.isSpecial=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=ke.InTagName,this.stateInTagName(e)},n.prototype.stateInSpecialTag=function(e){if(this.sequenceIndex===this.currentSequence.length){if(e===Je.Gt||fo(e)){var t=this.index-this.currentSequence.length;if(this.sectionStart<t){var r=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=r}this.isSpecial=!1,this.sectionStart=t+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===sn.TitleEnd?this.decodeEntities&&e===Je.Amp&&(this.state=ke.BeforeEntity):this.fastForwardTo(Je.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===Je.Lt)},n.prototype.stateCDATASequence=function(e){e===sn.Cdata[this.sequenceIndex]?++this.sequenceIndex===sn.Cdata.length&&(this.state=ke.InCommentLike,this.currentSequence=sn.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=ke.InDeclaration,this.stateInDeclaration(e))},n.prototype.fastForwardTo=function(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1},n.prototype.stateInCommentLike=function(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===sn.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=ke.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},n.prototype.isTagStartChar=function(e){return this.xmlMode?!Jd(e):EL(e)},n.prototype.startSpecial=function(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=ke.SpecialStartSequence},n.prototype.stateBeforeTagName=function(e){if(e===Je.ExclamationMark)this.state=ke.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===Je.Questionmark)this.state=ke.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){var t=e|32;this.sectionStart=this.index,!this.xmlMode&&t===sn.TitleEnd[2]?this.startSpecial(sn.TitleEnd,3):this.state=!this.xmlMode&&t===sn.ScriptEnd[2]?ke.BeforeSpecialS:ke.InTagName}else e===Je.Slash?this.state=ke.BeforeClosingTagName:(this.state=ke.Text,this.stateText(e))},n.prototype.stateInTagName=function(e){Jd(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=ke.BeforeAttributeName,this.stateBeforeAttributeName(e))},n.prototype.stateBeforeClosingTagName=function(e){fo(e)||(e===Je.Gt?this.state=ke.Text:(this.state=this.isTagStartChar(e)?ke.InClosingTagName:ke.InSpecialComment,this.sectionStart=this.index))},n.prototype.stateInClosingTagName=function(e){(e===Je.Gt||fo(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=ke.AfterClosingTagName,this.stateAfterClosingTagName(e))},n.prototype.stateAfterClosingTagName=function(e){(e===Je.Gt||this.fastForwardTo(Je.Gt))&&(this.state=ke.Text,this.baseState=ke.Text,this.sectionStart=this.index+1)},n.prototype.stateBeforeAttributeName=function(e){e===Je.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=ke.InSpecialTag,this.sequenceIndex=0):this.state=ke.Text,this.baseState=this.state,this.sectionStart=this.index+1):e===Je.Slash?this.state=ke.InSelfClosingTag:fo(e)||(this.state=ke.InAttributeName,this.sectionStart=this.index)},n.prototype.stateInSelfClosingTag=function(e){e===Je.Gt?(this.cbs.onselfclosingtag(this.index),this.state=ke.Text,this.baseState=ke.Text,this.sectionStart=this.index+1,this.isSpecial=!1):fo(e)||(this.state=ke.BeforeAttributeName,this.stateBeforeAttributeName(e))},n.prototype.stateInAttributeName=function(e){(e===Je.Eq||Jd(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=ke.AfterAttributeName,this.stateAfterAttributeName(e))},n.prototype.stateAfterAttributeName=function(e){e===Je.Eq?this.state=ke.BeforeAttributeValue:e===Je.Slash||e===Je.Gt?(this.cbs.onattribend(Aa.NoValue,this.index),this.state=ke.BeforeAttributeName,this.stateBeforeAttributeName(e)):fo(e)||(this.cbs.onattribend(Aa.NoValue,this.index),this.state=ke.InAttributeName,this.sectionStart=this.index)},n.prototype.stateBeforeAttributeValue=function(e){e===Je.DoubleQuote?(this.state=ke.InAttributeValueDq,this.sectionStart=this.index+1):e===Je.SingleQuote?(this.state=ke.InAttributeValueSq,this.sectionStart=this.index+1):fo(e)||(this.sectionStart=this.index,this.state=ke.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))},n.prototype.handleInAttributeValue=function(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===Je.DoubleQuote?Aa.Double:Aa.Single,this.index),this.state=ke.BeforeAttributeName):this.decodeEntities&&e===Je.Amp&&(this.baseState=this.state,this.state=ke.BeforeEntity)},n.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,Je.DoubleQuote)},n.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,Je.SingleQuote)},n.prototype.stateInAttributeValueNoQuotes=function(e){fo(e)||e===Je.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Aa.Unquoted,this.index),this.state=ke.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===Je.Amp&&(this.baseState=this.state,this.state=ke.BeforeEntity)},n.prototype.stateBeforeDeclaration=function(e){e===Je.OpeningSquareBracket?(this.state=ke.CDATASequence,this.sequenceIndex=0):this.state=e===Je.Dash?ke.BeforeComment:ke.InDeclaration},n.prototype.stateInDeclaration=function(e){(e===Je.Gt||this.fastForwardTo(Je.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=ke.Text,this.sectionStart=this.index+1)},n.prototype.stateInProcessingInstruction=function(e){(e===Je.Gt||this.fastForwardTo(Je.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=ke.Text,this.sectionStart=this.index+1)},n.prototype.stateBeforeComment=function(e){e===Je.Dash?(this.state=ke.InCommentLike,this.currentSequence=sn.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=ke.InDeclaration},n.prototype.stateInSpecialComment=function(e){(e===Je.Gt||this.fastForwardTo(Je.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=ke.Text,this.sectionStart=this.index+1)},n.prototype.stateBeforeSpecialS=function(e){var t=e|32;t===sn.ScriptEnd[3]?this.startSpecial(sn.ScriptEnd,4):t===sn.StyleEnd[3]?this.startSpecial(sn.StyleEnd,4):(this.state=ke.InTagName,this.stateInTagName(e))},n.prototype.stateBeforeEntity=function(e){this.entityExcess=1,this.entityResult=0,e===Je.Number?this.state=ke.BeforeNumericEntity:e===Je.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=ke.InNamedEntity,this.stateInNamedEntity(e))},n.prototype.stateInNamedEntity=function(e){if(this.entityExcess+=1,this.trieIndex=(0,Ts.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,e),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var t=this.trieCurrent&Ts.BinTrieFlags.VALUE_LENGTH;if(t){var r=(t>>14)-1;if(!this.allowLegacyEntity()&&e!==Je.Semi)this.trieIndex+=r;else{var i=this.index-this.entityExcess+1;i>this.sectionStart&&this.emitPartial(this.sectionStart,i),this.entityResult=this.trieIndex,this.trieIndex+=r,this.entityExcess=0,this.sectionStart=this.index+1,r===0&&this.emitNamedEntity()}}},n.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var e=(this.entityTrie[this.entityResult]&Ts.BinTrieFlags.VALUE_LENGTH)>>14;switch(e){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~Ts.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},n.prototype.stateBeforeNumericEntity=function(e){(e|32)===Je.LowerX?(this.entityExcess++,this.state=ke.InHexEntity):(this.state=ke.InNumericEntity,this.stateInNumericEntity(e))},n.prototype.emitNumericEntity=function(e){var t=this.index-this.entityExcess-1,r=t+2+ +(this.state===ke.InHexEntity);r!==this.index&&(t>this.sectionStart&&this.emitPartial(this.sectionStart,t),this.sectionStart=this.index+Number(e),this.emitCodePoint((0,Ts.replaceCodePoint)(this.entityResult))),this.state=this.baseState},n.prototype.stateInNumericEntity=function(e){e===Je.Semi?this.emitNumericEntity(!0):A4(e)?(this.entityResult=this.entityResult*10+(e-Je.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},n.prototype.stateInHexEntity=function(e){e===Je.Semi?this.emitNumericEntity(!0):A4(e)?(this.entityResult=this.entityResult*16+(e-Je.Zero),this.entityExcess++):CL(e)?(this.entityResult=this.entityResult*16+((e|32)-Je.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},n.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===ke.Text||this.baseState===ke.InSpecialTag)},n.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===ke.Text||this.state===ke.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===ke.InAttributeValueDq||this.state===ke.InAttributeValueSq||this.state===ke.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},n.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},n.prototype.parse=function(){for(;this.shouldContinue();){var e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case ke.Text:{this.stateText(e);break}case ke.SpecialStartSequence:{this.stateSpecialStartSequence(e);break}case ke.InSpecialTag:{this.stateInSpecialTag(e);break}case ke.CDATASequence:{this.stateCDATASequence(e);break}case ke.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(e);break}case ke.InAttributeName:{this.stateInAttributeName(e);break}case ke.InCommentLike:{this.stateInCommentLike(e);break}case ke.InSpecialComment:{this.stateInSpecialComment(e);break}case ke.BeforeAttributeName:{this.stateBeforeAttributeName(e);break}case ke.InTagName:{this.stateInTagName(e);break}case ke.InClosingTagName:{this.stateInClosingTagName(e);break}case ke.BeforeTagName:{this.stateBeforeTagName(e);break}case ke.AfterAttributeName:{this.stateAfterAttributeName(e);break}case ke.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(e);break}case ke.BeforeAttributeValue:{this.stateBeforeAttributeValue(e);break}case ke.BeforeClosingTagName:{this.stateBeforeClosingTagName(e);break}case ke.AfterClosingTagName:{this.stateAfterClosingTagName(e);break}case ke.BeforeSpecialS:{this.stateBeforeSpecialS(e);break}case ke.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(e);break}case ke.InSelfClosingTag:{this.stateInSelfClosingTag(e);break}case ke.InDeclaration:{this.stateInDeclaration(e);break}case ke.BeforeDeclaration:{this.stateBeforeDeclaration(e);break}case ke.BeforeComment:{this.stateBeforeComment(e);break}case ke.InProcessingInstruction:{this.stateInProcessingInstruction(e);break}case ke.InNamedEntity:{this.stateInNamedEntity(e);break}case ke.BeforeEntity:{this.stateBeforeEntity(e);break}case ke.InHexEntity:{this.stateInHexEntity(e);break}case ke.InNumericEntity:{this.stateInNumericEntity(e);break}default:this.stateBeforeNumericEntity(e)}this.index++}this.cleanup()},n.prototype.finish=function(){this.state===ke.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},n.prototype.handleTrailingData=function(){var e=this.buffer.length+this.offset;this.state===ke.InCommentLike?this.currentSequence===sn.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===ke.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===ke.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===ke.InTagName||this.state===ke.BeforeAttributeName||this.state===ke.BeforeAttributeValue||this.state===ke.AfterAttributeName||this.state===ke.InAttributeName||this.state===ke.InAttributeValueSq||this.state===ke.InAttributeValueDq||this.state===ke.InAttributeValueNq||this.state===ke.InClosingTagName||this.cbs.ontext(this.sectionStart,e)},n.prototype.emitPartial=function(e,t){this.baseState!==ke.Text&&this.baseState!==ke.InSpecialTag?this.cbs.onattribdata(e,t):this.cbs.ontext(e,t)},n.prototype.emitCodePoint=function(e){this.baseState!==ke.Text&&this.baseState!==ke.InSpecialTag?this.cbs.onattribentity(e):this.cbs.ontextentity(e)},n}();Ea.default=xL});var sg=le(Ii=>{"use strict";L();var TL=Ii&&Ii.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),PL=Ii&&Ii.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),OL=Ii&&Ii.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&TL(e,n,t);return PL(e,n),e};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.Parser=void 0;var Kd=OL(og()),E4=$u(),Ca=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Ut=new Set(["p"]),C4=new Set(["thead","tbody"]),x4=new Set(["dd","dt"]),T4=new Set(["rt","rp"]),ML=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Ut],["h1",Ut],["h2",Ut],["h3",Ut],["h4",Ut],["h5",Ut],["h6",Ut],["select",Ca],["input",Ca],["output",Ca],["button",Ca],["datalist",Ca],["textarea",Ca],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",x4],["dt",x4],["address",Ut],["article",Ut],["aside",Ut],["blockquote",Ut],["details",Ut],["div",Ut],["dl",Ut],["fieldset",Ut],["figcaption",Ut],["figure",Ut],["footer",Ut],["form",Ut],["header",Ut],["hr",Ut],["main",Ut],["nav",Ut],["ol",Ut],["pre",Ut],["section",Ut],["table",Ut],["ul",Ut],["rt",T4],["rp",T4],["tbody",C4],["tfoot",C4]]),kL=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),P4=new Set(["math","svg"]),O4=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),RL=/\s|\//,LL=function(){function n(e,t){t===void 0&&(t={});var r,i,o,s,l;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.lowerCaseTagNames=(r=t.lowerCaseTags)!==null&&r!==void 0?r:!t.xmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:!t.xmlMode,this.tokenizer=new((o=t.Tokenizer)!==null&&o!==void 0?o:Kd.default)(this.options,this),(l=(s=this.cbs).onparserinit)===null||l===void 0||l.call(s,this)}return n.prototype.ontext=function(e,t){var r,i,o=this.getSlice(e,t);this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,o),this.startIndex=t},n.prototype.ontextentity=function(e){var t,r,i=this.tokenizer.getSectionStart();this.endIndex=i-1,(r=(t=this.cbs).ontext)===null||r===void 0||r.call(t,(0,E4.fromCodePoint)(e)),this.startIndex=i},n.prototype.isVoidElement=function(e){return!this.options.xmlMode&&kL.has(e)},n.prototype.onopentagname=function(e,t){this.endIndex=t;var r=this.getSlice(e,t);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)},n.prototype.emitOpenTag=function(e){var t,r,i,o;this.openTagStart=this.startIndex,this.tagname=e;var s=!this.options.xmlMode&&ML.get(e);if(s)for(;this.stack.length>0&&s.has(this.stack[this.stack.length-1]);){var l=this.stack.pop();(r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,l,!0)}this.isVoidElement(e)||(this.stack.push(e),P4.has(e)?this.foreignContext.push(!0):O4.has(e)&&this.foreignContext.push(!1)),(o=(i=this.cbs).onopentagname)===null||o===void 0||o.call(i,e),this.cbs.onopentag&&(this.attribs={})},n.prototype.endOpenTag=function(e){var t,r;this.startIndex=this.openTagStart,this.attribs&&((r=(t=this.cbs).onopentag)===null||r===void 0||r.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},n.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},n.prototype.onclosetag=function(e,t){var r,i,o,s,l,f;this.endIndex=t;var u=this.getSlice(e,t);if(this.lowerCaseTagNames&&(u=u.toLowerCase()),(P4.has(u)||O4.has(u))&&this.foreignContext.pop(),this.isVoidElement(u))!this.options.xmlMode&&u==="br"&&((i=(r=this.cbs).onopentagname)===null||i===void 0||i.call(r,"br"),(s=(o=this.cbs).onopentag)===null||s===void 0||s.call(o,"br",{},!0),(f=(l=this.cbs).onclosetag)===null||f===void 0||f.call(l,"br",!1));else{var m=this.stack.lastIndexOf(u);if(m!==-1)if(this.cbs.onclosetag)for(var y=this.stack.length-m;y--;)this.cbs.onclosetag(this.stack.pop(),y!==0);else this.stack.length=m;else!this.options.xmlMode&&u==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1},n.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},n.prototype.closeCurrentTag=function(e){var t,r,i=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===i&&((r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,i,!e),this.stack.pop())},n.prototype.onattribname=function(e,t){this.startIndex=e;var r=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r},n.prototype.onattribdata=function(e,t){this.attribvalue+=this.getSlice(e,t)},n.prototype.onattribentity=function(e){this.attribvalue+=(0,E4.fromCodePoint)(e)},n.prototype.onattribend=function(e,t){var r,i;this.endIndex=t,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,e===Kd.QuoteType.Double?'"':e===Kd.QuoteType.Single?"'":e===Kd.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},n.prototype.getInstructionName=function(e){var t=e.search(RL),r=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r},n.prototype.ondeclaration=function(e,t){this.endIndex=t;var r=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(r);this.cbs.onprocessinginstruction("!".concat(i),"!".concat(r))}this.startIndex=t+1},n.prototype.onprocessinginstruction=function(e,t){this.endIndex=t;var r=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(r);this.cbs.onprocessinginstruction("?".concat(i),"?".concat(r))}this.startIndex=t+1},n.prototype.oncomment=function(e,t,r){var i,o,s,l;this.endIndex=t,(o=(i=this.cbs).oncomment)===null||o===void 0||o.call(i,this.getSlice(e,t-r)),(l=(s=this.cbs).oncommentend)===null||l===void 0||l.call(s),this.startIndex=t+1},n.prototype.oncdata=function(e,t,r){var i,o,s,l,f,u,m,y,_,v;this.endIndex=t;var p=this.getSlice(e,t-r);this.options.xmlMode||this.options.recognizeCDATA?((o=(i=this.cbs).oncdatastart)===null||o===void 0||o.call(i),(l=(s=this.cbs).ontext)===null||l===void 0||l.call(s,p),(u=(f=this.cbs).oncdataend)===null||u===void 0||u.call(f)):((y=(m=this.cbs).oncomment)===null||y===void 0||y.call(m,"[CDATA[".concat(p,"]]")),(v=(_=this.cbs).oncommentend)===null||v===void 0||v.call(_)),this.startIndex=t+1},n.prototype.onend=function(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var r=this.stack.length;r>0;this.cbs.onclosetag(this.stack[--r],!0));}(t=(e=this.cbs).onend)===null||t===void 0||t.call(e)},n.prototype.reset=function(){var e,t,r,i;(t=(e=this.cbs).onreset)===null||t===void 0||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},n.prototype.parseComplete=function(e){this.reset(),this.end(e)},n.prototype.getSlice=function(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var r=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,t-this.bufferOffset);return r},n.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},n.prototype.write=function(e){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)},n.prototype.end=function(e){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()},n.prototype.pause=function(){this.tokenizer.pause()},n.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},n.prototype.parseChunk=function(e){this.write(e)},n.prototype.done=function(e){this.end(e)},n}();Ii.Parser=LL});var xa=le(Wt=>{"use strict";L();Object.defineProperty(Wt,"__esModule",{value:!0});Wt.Doctype=Wt.CDATA=Wt.Tag=Wt.Style=Wt.Script=Wt.Comment=Wt.Directive=Wt.Text=Wt.Root=Wt.isTag=Wt.ElementType=void 0;var Rn;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(Rn=Wt.ElementType||(Wt.ElementType={}));function IL(n){return n.type===Rn.Tag||n.type===Rn.Script||n.type===Rn.Style}Wt.isTag=IL;Wt.Root=Rn.Root;Wt.Text=Rn.Text;Wt.Directive=Rn.Directive;Wt.Comment=Rn.Comment;Wt.Script=Rn.Script;Wt.Style=Rn.Style;Wt.Tag=Rn.Tag;Wt.CDATA=Rn.CDATA;Wt.Doctype=Rn.Doctype});var cg=le(pt=>{"use strict";L();var jo=pt&&pt.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ju=pt&&pt.__assign||function(){return Ju=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ju.apply(this,arguments)};Object.defineProperty(pt,"__esModule",{value:!0});pt.cloneNode=pt.hasChildren=pt.isDocument=pt.isDirective=pt.isComment=pt.isText=pt.isCDATA=pt.isTag=pt.Element=pt.Document=pt.CDATA=pt.NodeWithChildren=pt.ProcessingInstruction=pt.Comment=pt.Text=pt.DataNode=pt.Node=void 0;var an=xa(),ug=function(){function n(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),n.prototype.cloneNode=function(e){return e===void 0&&(e=!1),lg(this,e)},n}();pt.Node=ug;var Yd=function(n){jo(e,n);function e(t){var r=n.call(this)||this;return r.data=t,r}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),e}(ug);pt.DataNode=Yd;var M4=function(n){jo(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=an.ElementType.Text,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(Yd);pt.Text=M4;var k4=function(n){jo(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=an.ElementType.Comment,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(Yd);pt.Comment=k4;var R4=function(n){jo(e,n);function e(t,r){var i=n.call(this,r)||this;return i.name=t,i.type=an.ElementType.Directive,i}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(Yd);pt.ProcessingInstruction=R4;var Xd=function(n){jo(e,n);function e(t){var r=n.call(this)||this;return r.children=t,r}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),e}(ug);pt.NodeWithChildren=Xd;var L4=function(n){jo(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=an.ElementType.CDATA,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(Xd);pt.CDATA=L4;var I4=function(n){jo(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=an.ElementType.Root,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(Xd);pt.Document=I4;var N4=function(n){jo(e,n);function e(t,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=t==="script"?an.ElementType.Script:t==="style"?an.ElementType.Style:an.ElementType.Tag);var s=n.call(this,i)||this;return s.name=t,s.attribs=r,s.type=o,s}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map(function(r){var i,o;return{name:r,value:t.attribs[r],namespace:(i=t["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(o=t["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})},enumerable:!1,configurable:!0}),e}(Xd);pt.Element=N4;function B4(n){return(0,an.isTag)(n)}pt.isTag=B4;function D4(n){return n.type===an.ElementType.CDATA}pt.isCDATA=D4;function F4(n){return n.type===an.ElementType.Text}pt.isText=F4;function H4(n){return n.type===an.ElementType.Comment}pt.isComment=H4;function U4(n){return n.type===an.ElementType.Directive}pt.isDirective=U4;function j4(n){return n.type===an.ElementType.Root}pt.isDocument=j4;function NL(n){return Object.prototype.hasOwnProperty.call(n,"children")}pt.hasChildren=NL;function lg(n,e){e===void 0&&(e=!1);var t;if(F4(n))t=new M4(n.data);else if(H4(n))t=new k4(n.data);else if(B4(n)){var r=e?ag(n.children):[],i=new N4(n.name,Ju({},n.attribs),r);r.forEach(function(f){return f.parent=i}),n.namespace!=null&&(i.namespace=n.namespace),n["x-attribsNamespace"]&&(i["x-attribsNamespace"]=Ju({},n["x-attribsNamespace"])),n["x-attribsPrefix"]&&(i["x-attribsPrefix"]=Ju({},n["x-attribsPrefix"])),t=i}else if(D4(n)){var r=e?ag(n.children):[],o=new L4(r);r.forEach(function(u){return u.parent=o}),t=o}else if(j4(n)){var r=e?ag(n.children):[],s=new I4(r);r.forEach(function(u){return u.parent=s}),n["x-mode"]&&(s["x-mode"]=n["x-mode"]),t=s}else if(U4(n)){var l=new R4(n.name,n.data);n["x-name"]!=null&&(l["x-name"]=n["x-name"],l["x-publicId"]=n["x-publicId"],l["x-systemId"]=n["x-systemId"]),t=l}else throw new Error("Not implemented yet: ".concat(n.type));return t.startIndex=n.startIndex,t.endIndex=n.endIndex,n.sourceCodeLocation!=null&&(t.sourceCodeLocation=n.sourceCodeLocation),t}pt.cloneNode=lg;function ag(n){for(var e=n.map(function(r){return lg(r,!0)}),t=1;t<e.length;t++)e[t].prev=e[t-1],e[t-1].next=e[t];return e}});var ho=le(Ni=>{"use strict";L();var BL=Ni&&Ni.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),DL=Ni&&Ni.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&BL(e,n,t)};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.DomHandler=void 0;var dg=xa(),qo=cg();DL(cg(),Ni);var q4={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},G4=function(){function n(e,t,r){this.dom=[],this.root=new qo.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof t=="function"&&(r=t,t=q4),typeof e=="object"&&(t=e,e=void 0),this.callback=e??null,this.options=t??q4,this.elementCB=r??null}return n.prototype.onparserinit=function(e){this.parser=e},n.prototype.onreset=function(){this.dom=[],this.root=new qo.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},n.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},n.prototype.onerror=function(e){this.handleCallback(e)},n.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},n.prototype.onopentag=function(e,t){var r=this.options.xmlMode?dg.ElementType.Tag:void 0,i=new qo.Element(e,t,void 0,r);this.addNode(i),this.tagStack.push(i)},n.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===dg.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var r=new qo.Text(e);this.addNode(r),this.lastNode=r}},n.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===dg.ElementType.Comment){this.lastNode.data+=e;return}var t=new qo.Comment(e);this.addNode(t),this.lastNode=t},n.prototype.oncommentend=function(){this.lastNode=null},n.prototype.oncdatastart=function(){var e=new qo.Text(""),t=new qo.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},n.prototype.oncdataend=function(){this.lastNode=null},n.prototype.onprocessinginstruction=function(e,t){var r=new qo.ProcessingInstruction(e,t);this.addNode(r)},n.prototype.handleCallback=function(e){if(typeof this.callback=="function")this.callback(e,this.dom);else if(e)throw e},n.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),r&&(e.prev=r,r.next=e),e.parent=t,this.lastNode=null},n}();Ni.DomHandler=G4;Ni.default=G4});var W4=le(fg=>{"use strict";L();Object.defineProperty(fg,"__esModule",{value:!0});function Qd(n){for(var e=1;e<n.length;e++)n[e][0]+=n[e-1][0]+1;return n}fg.default=new Map(Qd([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(Qd([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(Qd([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(Qd([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]))});var Zd=le(dr=>{"use strict";L();Object.defineProperty(dr,"__esModule",{value:!0});dr.escapeText=dr.escapeAttribute=dr.escapeUTF8=dr.escape=dr.encodeXML=dr.getCodePoint=dr.xmlReplacer=void 0;dr.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var z4=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);dr.getCodePoint=String.prototype.codePointAt!=null?function(n,e){return n.codePointAt(e)}:function(n,e){return(n.charCodeAt(e)&64512)===55296?(n.charCodeAt(e)-55296)*1024+n.charCodeAt(e+1)-56320+65536:n.charCodeAt(e)};function V4(n){for(var e="",t=0,r;(r=dr.xmlReplacer.exec(n))!==null;){var i=r.index,o=n.charCodeAt(i),s=z4.get(o);s!==void 0?(e+=n.substring(t,i)+s,t=i+1):(e+="".concat(n.substring(t,i),"&#x").concat((0,dr.getCodePoint)(n,i).toString(16),";"),t=dr.xmlReplacer.lastIndex+=+((o&64512)===55296))}return e+n.substr(t)}dr.encodeXML=V4;dr.escape=V4;function hg(n,e){return function(r){for(var i,o=0,s="";i=n.exec(r);)o!==i.index&&(s+=r.substring(o,i.index)),s+=e.get(i[0].charCodeAt(0)),o=i.index+1;return s+r.substring(o)}}dr.escapeUTF8=hg(/[&<>'"]/g,z4);dr.escapeAttribute=hg(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]]));dr.escapeText=hg(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))});var pg=le(Go=>{"use strict";L();var FL=Go&&Go.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Go,"__esModule",{value:!0});Go.encodeNonAsciiHTML=Go.encodeHTML=void 0;var HL=FL(W4()),$4=Zd(),UL=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function jL(n){return J4(UL,n)}Go.encodeHTML=jL;function qL(n){return J4($4.xmlReplacer,n)}Go.encodeNonAsciiHTML=qL;function J4(n,e){for(var t="",r=0,i;(i=n.exec(e))!==null;){var o=i.index;t+=e.substring(r,o);var s=e.charCodeAt(o),l=HL.default.get(s);if(typeof l=="object"){if(o+1<e.length){var f=e.charCodeAt(o+1),u=typeof l.n=="number"?l.n===f?l.o:void 0:l.n.get(f);if(u!==void 0){t+=u,r=n.lastIndex+=1;continue}}l=l.v}if(l!==void 0)t+=l,r=o+1;else{var m=(0,$4.getCodePoint)(e,o);t+="&#x".concat(m.toString(16),";"),r=n.lastIndex+=+(m!==s)}}return t+e.substr(r)}});var X4=le(et=>{"use strict";L();Object.defineProperty(et,"__esModule",{value:!0});et.decodeXMLStrict=et.decodeHTML5Strict=et.decodeHTML4Strict=et.decodeHTML5=et.decodeHTML4=et.decodeHTMLAttribute=et.decodeHTMLStrict=et.decodeHTML=et.decodeXML=et.DecodingMode=et.EntityDecoder=et.encodeHTML5=et.encodeHTML4=et.encodeNonAsciiHTML=et.encodeHTML=et.escapeText=et.escapeAttribute=et.escapeUTF8=et.escape=et.encodeXML=et.encode=et.decodeStrict=et.decode=et.EncodingMode=et.EntityLevel=void 0;var gg=$u(),K4=pg(),ef=Zd(),Ta;(function(n){n[n.XML=0]="XML",n[n.HTML=1]="HTML"})(Ta=et.EntityLevel||(et.EntityLevel={}));var Ku;(function(n){n[n.UTF8=0]="UTF8",n[n.ASCII=1]="ASCII",n[n.Extensive=2]="Extensive",n[n.Attribute=3]="Attribute",n[n.Text=4]="Text"})(Ku=et.EncodingMode||(et.EncodingMode={}));function Y4(n,e){e===void 0&&(e=Ta.XML);var t=typeof e=="number"?e:e.level;if(t===Ta.HTML){var r=typeof e=="object"?e.mode:void 0;return(0,gg.decodeHTML)(n,r)}return(0,gg.decodeXML)(n)}et.decode=Y4;function GL(n,e){var t;e===void 0&&(e=Ta.XML);var r=typeof e=="number"?{level:e}:e;return(t=r.mode)!==null&&t!==void 0||(r.mode=gg.DecodingMode.Strict),Y4(n,r)}et.decodeStrict=GL;function WL(n,e){e===void 0&&(e=Ta.XML);var t=typeof e=="number"?{level:e}:e;return t.mode===Ku.UTF8?(0,ef.escapeUTF8)(n):t.mode===Ku.Attribute?(0,ef.escapeAttribute)(n):t.mode===Ku.Text?(0,ef.escapeText)(n):t.level===Ta.HTML?t.mode===Ku.ASCII?(0,K4.encodeNonAsciiHTML)(n):(0,K4.encodeHTML)(n):(0,ef.encodeXML)(n)}et.encode=WL;var Yu=Zd();Object.defineProperty(et,"encodeXML",{enumerable:!0,get:function(){return Yu.encodeXML}});Object.defineProperty(et,"escape",{enumerable:!0,get:function(){return Yu.escape}});Object.defineProperty(et,"escapeUTF8",{enumerable:!0,get:function(){return Yu.escapeUTF8}});Object.defineProperty(et,"escapeAttribute",{enumerable:!0,get:function(){return Yu.escapeAttribute}});Object.defineProperty(et,"escapeText",{enumerable:!0,get:function(){return Yu.escapeText}});var tf=pg();Object.defineProperty(et,"encodeHTML",{enumerable:!0,get:function(){return tf.encodeHTML}});Object.defineProperty(et,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return tf.encodeNonAsciiHTML}});Object.defineProperty(et,"encodeHTML4",{enumerable:!0,get:function(){return tf.encodeHTML}});Object.defineProperty(et,"encodeHTML5",{enumerable:!0,get:function(){return tf.encodeHTML}});var di=$u();Object.defineProperty(et,"EntityDecoder",{enumerable:!0,get:function(){return di.EntityDecoder}});Object.defineProperty(et,"DecodingMode",{enumerable:!0,get:function(){return di.DecodingMode}});Object.defineProperty(et,"decodeXML",{enumerable:!0,get:function(){return di.decodeXML}});Object.defineProperty(et,"decodeHTML",{enumerable:!0,get:function(){return di.decodeHTML}});Object.defineProperty(et,"decodeHTMLStrict",{enumerable:!0,get:function(){return di.decodeHTMLStrict}});Object.defineProperty(et,"decodeHTMLAttribute",{enumerable:!0,get:function(){return di.decodeHTMLAttribute}});Object.defineProperty(et,"decodeHTML4",{enumerable:!0,get:function(){return di.decodeHTML}});Object.defineProperty(et,"decodeHTML5",{enumerable:!0,get:function(){return di.decodeHTML}});Object.defineProperty(et,"decodeHTML4Strict",{enumerable:!0,get:function(){return di.decodeHTMLStrict}});Object.defineProperty(et,"decodeHTML5Strict",{enumerable:!0,get:function(){return di.decodeHTMLStrict}});Object.defineProperty(et,"decodeXMLStrict",{enumerable:!0,get:function(){return di.decodeXML}})});var Q4=le(Pa=>{"use strict";L();Object.defineProperty(Pa,"__esModule",{value:!0});Pa.attributeNames=Pa.elementNames=void 0;Pa.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(n){return[n.toLowerCase(),n]}));Pa.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(n){return[n.toLowerCase(),n]}))});var t_=le(Ln=>{"use strict";L();var Oa=Ln&&Ln.__assign||function(){return Oa=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Oa.apply(this,arguments)},zL=Ln&&Ln.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),VL=Ln&&Ln.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),$L=Ln&&Ln.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&zL(e,n,t);return VL(e,n),e};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.render=void 0;var po=$L(xa()),rf=X4(),e_=Q4(),JL=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function KL(n){return n.replace(/"/g,"&quot;")}function YL(n,e){var t;if(n){var r=((t=e.encodeEntities)!==null&&t!==void 0?t:e.decodeEntities)===!1?KL:e.xmlMode||e.encodeEntities!=="utf8"?rf.encodeXML:rf.escapeAttribute;return Object.keys(n).map(function(i){var o,s,l=(o=n[i])!==null&&o!==void 0?o:"";return e.xmlMode==="foreign"&&(i=(s=e_.attributeNames.get(i))!==null&&s!==void 0?s:i),!e.emptyAttrs&&!e.xmlMode&&l===""?i:"".concat(i,'="').concat(r(l),'"')}).join(" ")}}var Z4=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function nf(n,e){e===void 0&&(e={});for(var t=("length"in n)?n:[n],r="",i=0;i<t.length;i++)r+=XL(t[i],e);return r}Ln.render=nf;Ln.default=nf;function XL(n,e){switch(n.type){case po.Root:return nf(n.children,e);case po.Doctype:case po.Directive:return tI(n);case po.Comment:return iI(n);case po.CDATA:return nI(n);case po.Script:case po.Style:case po.Tag:return eI(n,e);case po.Text:return rI(n,e)}}var QL=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),ZL=new Set(["svg","math"]);function eI(n,e){var t;e.xmlMode==="foreign"&&(n.name=(t=e_.elementNames.get(n.name))!==null&&t!==void 0?t:n.name,n.parent&&QL.has(n.parent.name)&&(e=Oa(Oa({},e),{xmlMode:!1}))),!e.xmlMode&&ZL.has(n.name)&&(e=Oa(Oa({},e),{xmlMode:"foreign"}));var r="<".concat(n.name),i=YL(n.attribs,e);return i&&(r+=" ".concat(i)),n.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&Z4.has(n.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",n.children.length>0&&(r+=nf(n.children,e)),(e.xmlMode||!Z4.has(n.name))&&(r+="</".concat(n.name,">"))),r}function tI(n){return"<".concat(n.data,">")}function rI(n,e){var t,r=n.data||"";return((t=e.encodeEntities)!==null&&t!==void 0?t:e.decodeEntities)!==!1&&!(!e.xmlMode&&n.parent&&JL.has(n.parent.name))&&(r=e.xmlMode||e.encodeEntities!=="utf8"?(0,rf.encodeXML)(r):(0,rf.escapeText)(r)),r}function nI(n){return"<![CDATA[".concat(n.children[0].data,"]]>")}function iI(n){return"<!--".concat(n.data,"-->")}});var bg=le(un=>{"use strict";L();var oI=un&&un.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(un,"__esModule",{value:!0});un.innerText=un.textContent=un.getText=un.getInnerHTML=un.getOuterHTML=void 0;var Bi=ho(),sI=oI(t_()),aI=xa();function r_(n,e){return(0,sI.default)(n,e)}un.getOuterHTML=r_;function uI(n,e){return(0,Bi.hasChildren)(n)?n.children.map(function(t){return r_(t,e)}).join(""):""}un.getInnerHTML=uI;function of(n){return Array.isArray(n)?n.map(of).join(""):(0,Bi.isTag)(n)?n.name==="br"?`
`:of(n.children):(0,Bi.isCDATA)(n)?of(n.children):(0,Bi.isText)(n)?n.data:""}un.getText=of;function mg(n){return Array.isArray(n)?n.map(mg).join(""):(0,Bi.hasChildren)(n)&&!(0,Bi.isComment)(n)?mg(n.children):(0,Bi.isText)(n)?n.data:""}un.textContent=mg;function yg(n){return Array.isArray(n)?n.map(yg).join(""):(0,Bi.hasChildren)(n)&&(n.type===aI.ElementType.Tag||(0,Bi.isCDATA)(n))?yg(n.children):(0,Bi.isText)(n)?n.data:""}un.innerText=yg});var o_=le(Sr=>{"use strict";L();Object.defineProperty(Sr,"__esModule",{value:!0});Sr.prevElementSibling=Sr.nextElementSibling=Sr.getName=Sr.hasAttrib=Sr.getAttributeValue=Sr.getSiblings=Sr.getParent=Sr.getChildren=void 0;var vg=ho();function n_(n){return(0,vg.hasChildren)(n)?n.children:[]}Sr.getChildren=n_;function i_(n){return n.parent||null}Sr.getParent=i_;function lI(n){var e,t,r=i_(n);if(r!=null)return n_(r);for(var i=[n],o=n.prev,s=n.next;o!=null;)i.unshift(o),e=o,o=e.prev;for(;s!=null;)i.push(s),t=s,s=t.next;return i}Sr.getSiblings=lI;function cI(n,e){var t;return(t=n.attribs)===null||t===void 0?void 0:t[e]}Sr.getAttributeValue=cI;function dI(n,e){return n.attribs!=null&&Object.prototype.hasOwnProperty.call(n.attribs,e)&&n.attribs[e]!=null}Sr.hasAttrib=dI;function fI(n){return n.name}Sr.getName=fI;function hI(n){for(var e,t=n.next;t!==null&&!(0,vg.isTag)(t);)e=t,t=e.next;return t}Sr.nextElementSibling=hI;function pI(n){for(var e,t=n.prev;t!==null&&!(0,vg.isTag)(t);)e=t,t=e.prev;return t}Sr.prevElementSibling=pI});var s_=le(ln=>{"use strict";L();Object.defineProperty(ln,"__esModule",{value:!0});ln.prepend=ln.prependChild=ln.append=ln.appendChild=ln.replaceElement=ln.removeElement=void 0;function Xu(n){if(n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),n.parent){var e=n.parent.children,t=e.lastIndexOf(n);t>=0&&e.splice(t,1)}n.next=null,n.prev=null,n.parent=null}ln.removeElement=Xu;function gI(n,e){var t=e.prev=n.prev;t&&(t.next=e);var r=e.next=n.next;r&&(r.prev=e);var i=e.parent=n.parent;if(i){var o=i.children;o[o.lastIndexOf(n)]=e,n.parent=null}}ln.replaceElement=gI;function mI(n,e){if(Xu(e),e.next=null,e.parent=n,n.children.push(e)>1){var t=n.children[n.children.length-2];t.next=e,e.prev=t}else e.prev=null}ln.appendChild=mI;function yI(n,e){Xu(e);var t=n.parent,r=n.next;if(e.next=r,e.prev=n,n.next=e,e.parent=t,r){if(r.prev=e,t){var i=t.children;i.splice(i.lastIndexOf(r),0,e)}}else t&&t.children.push(e)}ln.append=yI;function bI(n,e){if(Xu(e),e.parent=n,e.prev=null,n.children.unshift(e)!==1){var t=n.children[1];t.prev=e,e.next=t}else e.next=null}ln.prependChild=bI;function vI(n,e){Xu(e);var t=n.parent;if(t){var r=t.children;r.splice(r.indexOf(n),0,e)}n.prev&&(n.prev.next=e),e.parent=t,e.prev=n.prev,e.next=n,n.prev=e}ln.prepend=vI});var _g=le(cn=>{"use strict";L();Object.defineProperty(cn,"__esModule",{value:!0});cn.findAll=cn.existsOne=cn.findOne=cn.findOneChild=cn.find=cn.filter=void 0;var sf=ho();function _I(n,e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=1/0),a_(n,Array.isArray(e)?e:[e],t,r)}cn.filter=_I;function a_(n,e,t,r){for(var i=[],o=[e],s=[0];;){if(s[0]>=o[0].length){if(s.length===1)return i;o.shift(),s.shift();continue}var l=o[0][s[0]++];if(n(l)&&(i.push(l),--r<=0))return i;t&&(0,sf.hasChildren)(l)&&l.children.length>0&&(s.unshift(0),o.unshift(l.children))}}cn.find=a_;function wI(n,e){return e.find(n)}cn.findOneChild=wI;function u_(n,e,t){t===void 0&&(t=!0);for(var r=null,i=0;i<e.length&&!r;i++){var o=e[i];if((0,sf.isTag)(o))n(o)?r=o:t&&o.children.length>0&&(r=u_(n,o.children,!0));else continue}return r}cn.findOne=u_;function l_(n,e){return e.some(function(t){return(0,sf.isTag)(t)&&(n(t)||l_(n,t.children))})}cn.existsOne=l_;function SI(n,e){for(var t=[],r=[e],i=[0];;){if(i[0]>=r[0].length){if(r.length===1)return t;r.shift(),i.shift();continue}var o=r[0][i[0]++];(0,sf.isTag)(o)&&(n(o)&&t.push(o),o.children.length>0&&(i.unshift(0),r.unshift(o.children)))}}cn.findAll=SI});var wg=le(Zn=>{"use strict";L();Object.defineProperty(Zn,"__esModule",{value:!0});Zn.getElementsByTagType=Zn.getElementsByTagName=Zn.getElementById=Zn.getElements=Zn.testElement=void 0;var Ps=ho(),uf=_g(),af={tag_name:function(n){return typeof n=="function"?function(e){return(0,Ps.isTag)(e)&&n(e.name)}:n==="*"?Ps.isTag:function(e){return(0,Ps.isTag)(e)&&e.name===n}},tag_type:function(n){return typeof n=="function"?function(e){return n(e.type)}:function(e){return e.type===n}},tag_contains:function(n){return typeof n=="function"?function(e){return(0,Ps.isText)(e)&&n(e.data)}:function(e){return(0,Ps.isText)(e)&&e.data===n}}};function c_(n,e){return typeof e=="function"?function(t){return(0,Ps.isTag)(t)&&e(t.attribs[n])}:function(t){return(0,Ps.isTag)(t)&&t.attribs[n]===e}}function AI(n,e){return function(t){return n(t)||e(t)}}function d_(n){var e=Object.keys(n).map(function(t){var r=n[t];return Object.prototype.hasOwnProperty.call(af,t)?af[t](r):c_(t,r)});return e.length===0?null:e.reduce(AI)}function EI(n,e){var t=d_(n);return t?t(e):!0}Zn.testElement=EI;function CI(n,e,t,r){r===void 0&&(r=1/0);var i=d_(n);return i?(0,uf.filter)(i,e,t,r):[]}Zn.getElements=CI;function xI(n,e,t){return t===void 0&&(t=!0),Array.isArray(e)||(e=[e]),(0,uf.findOne)(c_("id",n),e,t)}Zn.getElementById=xI;function TI(n,e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=1/0),(0,uf.filter)(af.tag_name(n),e,t,r)}Zn.getElementsByTagName=TI;function PI(n,e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=1/0),(0,uf.filter)(af.tag_type(n),e,t,r)}Zn.getElementsByTagType=PI});var p_=le(fi=>{"use strict";L();Object.defineProperty(fi,"__esModule",{value:!0});fi.uniqueSort=fi.compareDocumentPosition=fi.DocumentPosition=fi.removeSubsets=void 0;var f_=ho();function OI(n){for(var e=n.length;--e>=0;){var t=n[e];if(e>0&&n.lastIndexOf(t,e-1)>=0){n.splice(e,1);continue}for(var r=t.parent;r;r=r.parent)if(n.includes(r)){n.splice(e,1);break}}return n}fi.removeSubsets=OI;var Di;(function(n){n[n.DISCONNECTED=1]="DISCONNECTED",n[n.PRECEDING=2]="PRECEDING",n[n.FOLLOWING=4]="FOLLOWING",n[n.CONTAINS=8]="CONTAINS",n[n.CONTAINED_BY=16]="CONTAINED_BY"})(Di=fi.DocumentPosition||(fi.DocumentPosition={}));function h_(n,e){var t=[],r=[];if(n===e)return 0;for(var i=(0,f_.hasChildren)(n)?n:n.parent;i;)t.unshift(i),i=i.parent;for(i=(0,f_.hasChildren)(e)?e:e.parent;i;)r.unshift(i),i=i.parent;for(var o=Math.min(t.length,r.length),s=0;s<o&&t[s]===r[s];)s++;if(s===0)return Di.DISCONNECTED;var l=t[s-1],f=l.children,u=t[s],m=r[s];return f.indexOf(u)>f.indexOf(m)?l===e?Di.FOLLOWING|Di.CONTAINED_BY:Di.FOLLOWING:l===n?Di.PRECEDING|Di.CONTAINS:Di.PRECEDING}fi.compareDocumentPosition=h_;function MI(n){return n=n.filter(function(e,t,r){return!r.includes(e,t+1)}),n.sort(function(e,t){var r=h_(e,t);return r&Di.PRECEDING?-1:r&Di.FOLLOWING?1:0}),n}fi.uniqueSort=MI});var m_=le(cf=>{"use strict";L();Object.defineProperty(cf,"__esModule",{value:!0});cf.getFeed=void 0;var kI=bg(),Qu=wg();function RI(n){var e=lf(DI,n);return e?e.name==="feed"?LI(e):II(e):null}cf.getFeed=RI;function LI(n){var e,t=n.children,r={type:"atom",items:(0,Qu.getElementsByTagName)("entry",t).map(function(s){var l,f=s.children,u={media:g_(f)};dn(u,"id","id",f),dn(u,"title","title",f);var m=(l=lf("link",f))===null||l===void 0?void 0:l.attribs.href;m&&(u.link=m);var y=Wo("summary",f)||Wo("content",f);y&&(u.description=y);var _=Wo("updated",f);return _&&(u.pubDate=new Date(_)),u})};dn(r,"id","id",t),dn(r,"title","title",t);var i=(e=lf("link",t))===null||e===void 0?void 0:e.attribs.href;i&&(r.link=i),dn(r,"description","subtitle",t);var o=Wo("updated",t);return o&&(r.updated=new Date(o)),dn(r,"author","email",t,!0),r}function II(n){var e,t,r=(t=(e=lf("channel",n.children))===null||e===void 0?void 0:e.children)!==null&&t!==void 0?t:[],i={type:n.name.substr(0,3),id:"",items:(0,Qu.getElementsByTagName)("item",n.children).map(function(s){var l=s.children,f={media:g_(l)};dn(f,"id","guid",l),dn(f,"title","title",l),dn(f,"link","link",l),dn(f,"description","description",l);var u=Wo("pubDate",l)||Wo("dc:date",l);return u&&(f.pubDate=new Date(u)),f})};dn(i,"title","title",r),dn(i,"link","link",r),dn(i,"description","description",r);var o=Wo("lastBuildDate",r);return o&&(i.updated=new Date(o)),dn(i,"author","managingEditor",r,!0),i}var NI=["url","type","lang"],BI=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function g_(n){return(0,Qu.getElementsByTagName)("media:content",n).map(function(e){for(var t=e.attribs,r={medium:t.medium,isDefault:!!t.isDefault},i=0,o=NI;i<o.length;i++){var s=o[i];t[s]&&(r[s]=t[s])}for(var l=0,f=BI;l<f.length;l++){var s=f[l];t[s]&&(r[s]=parseInt(t[s],10))}return t.expression&&(r.expression=t.expression),r})}function lf(n,e){return(0,Qu.getElementsByTagName)(n,e,!0,1)[0]}function Wo(n,e,t){return t===void 0&&(t=!1),(0,kI.textContent)((0,Qu.getElementsByTagName)(n,e,t,1)).trim()}function dn(n,e,t,r,i){i===void 0&&(i=!1);var o=Wo(t,r,i);o&&(n[e]=o)}function DI(n){return n==="rss"||n==="feed"||n==="rdf:RDF"}});var df=le(zt=>{"use strict";L();var FI=zt&&zt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Os=zt&&zt.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&FI(e,n,t)};Object.defineProperty(zt,"__esModule",{value:!0});zt.hasChildren=zt.isDocument=zt.isComment=zt.isText=zt.isCDATA=zt.isTag=void 0;Os(bg(),zt);Os(o_(),zt);Os(s_(),zt);Os(_g(),zt);Os(wg(),zt);Os(p_(),zt);Os(m_(),zt);var Ma=ho();Object.defineProperty(zt,"isTag",{enumerable:!0,get:function(){return Ma.isTag}});Object.defineProperty(zt,"isCDATA",{enumerable:!0,get:function(){return Ma.isCDATA}});Object.defineProperty(zt,"isText",{enumerable:!0,get:function(){return Ma.isText}});Object.defineProperty(zt,"isComment",{enumerable:!0,get:function(){return Ma.isComment}});Object.defineProperty(zt,"isDocument",{enumerable:!0,get:function(){return Ma.isDocument}});Object.defineProperty(zt,"hasChildren",{enumerable:!0,get:function(){return Ma.hasChildren}})});var A_=le(Mt=>{"use strict";L();var HI=Mt&&Mt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),UI=Mt&&Mt.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),y_=Mt&&Mt.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&HI(e,n,t);return UI(e,n),e},jI=Mt&&Mt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.DomUtils=Mt.parseFeed=Mt.getFeed=Mt.ElementType=Mt.Tokenizer=Mt.createDomStream=Mt.parseDOM=Mt.parseDocument=Mt.DefaultHandler=Mt.DomHandler=Mt.Parser=void 0;var b_=sg(),qI=sg();Object.defineProperty(Mt,"Parser",{enumerable:!0,get:function(){return qI.Parser}});var v_=ho(),__=ho();Object.defineProperty(Mt,"DomHandler",{enumerable:!0,get:function(){return __.DomHandler}});Object.defineProperty(Mt,"DefaultHandler",{enumerable:!0,get:function(){return __.DomHandler}});function w_(n,e){var t=new v_.DomHandler(void 0,e);return new b_.Parser(t,e).end(n),t.root}Mt.parseDocument=w_;function S_(n,e){return w_(n,e).children}Mt.parseDOM=S_;function GI(n,e,t){var r=new v_.DomHandler(n,e,t);return new b_.Parser(r,e)}Mt.createDomStream=GI;var WI=og();Object.defineProperty(Mt,"Tokenizer",{enumerable:!0,get:function(){return jI(WI).default}});Mt.ElementType=y_(xa());var zI=df(),VI=df();Object.defineProperty(Mt,"getFeed",{enumerable:!0,get:function(){return VI.getFeed}});var $I={xmlMode:!0};function JI(n,e){return e===void 0&&(e=$I),(0,zI.getFeed)(S_(n,e))}Mt.parseFeed=JI;Mt.DomUtils=y_(df())});var C_=le((cz,E_)=>{"use strict";L();E_.exports=n=>{if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}});var T_=le(Sg=>{"use strict";L();Object.defineProperty(Sg,"__esModule",{value:!0});function x_(n){return Object.prototype.toString.call(n)==="[object Object]"}function KI(n){var e,t;return x_(n)===!1?!1:(e=n.constructor,e===void 0?!0:(t=e.prototype,!(x_(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}Sg.isPlainObject=KI});var k_=le((pz,M_)=>{"use strict";L();var YI=function(e){return XI(e)&&!QI(e)};function XI(n){return!!n&&typeof n=="object"}function QI(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||tN(n)}var ZI=typeof Symbol=="function"&&Symbol.for,eN=ZI?Symbol.for("react.element"):60103;function tN(n){return n.$$typeof===eN}function rN(n){return Array.isArray(n)?[]:{}}function Zu(n,e){return e.clone!==!1&&e.isMergeableObject(n)?ka(rN(n),n,e):n}function nN(n,e,t){return n.concat(e).map(function(r){return Zu(r,t)})}function iN(n,e){if(!e.customMerge)return ka;var t=e.customMerge(n);return typeof t=="function"?t:ka}function oN(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter(function(e){return n.propertyIsEnumerable(e)}):[]}function P_(n){return Object.keys(n).concat(oN(n))}function O_(n,e){try{return e in n}catch{return!1}}function sN(n,e){return O_(n,e)&&!(Object.hasOwnProperty.call(n,e)&&Object.propertyIsEnumerable.call(n,e))}function aN(n,e,t){var r={};return t.isMergeableObject(n)&&P_(n).forEach(function(i){r[i]=Zu(n[i],t)}),P_(e).forEach(function(i){sN(n,i)||(O_(n,i)&&t.isMergeableObject(e[i])?r[i]=iN(i,t)(n[i],e[i],t):r[i]=Zu(e[i],t))}),r}function ka(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||nN,t.isMergeableObject=t.isMergeableObject||YI,t.cloneUnlessOtherwiseSpecified=Zu;var r=Array.isArray(e),i=Array.isArray(n),o=r===i;return o?r?t.arrayMerge(n,e,t):aN(n,e,t):Zu(e,t)}ka.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return ka(r,i,t)},{})};var uN=ka;M_.exports=uN});var L_=le((R_,ff)=>{L();(function(n,e){typeof define=="function"&&define.amd?define([],e):typeof ff=="object"&&ff.exports?ff.exports=e():n.parseSrcset=e()})(R_,function(){return function(n){function e(S){return S===" "||S==="	"||S===`
`||S==="\f"||S==="\r"}function t(S){var E,b=S.exec(n.substring(h));if(b)return E=b[0],h+=E.length,E}for(var r=n.length,i=/^[ \t\n\r\u000c]+/,o=/^[, \t\n\r\u000c]+/,s=/^[^ \t\n\r\u000c]+/,l=/[,]+$/,f=/^\d+$/,u=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,m,y,_,v,p,h=0,c=[];;){if(t(o),h>=r)return c;m=t(s),y=[],m.slice(-1)===","?(m=m.replace(l,""),w()):g()}function g(){for(t(i),_="",v="in descriptor";;){if(p=n.charAt(h),v==="in descriptor")if(e(p))_&&(y.push(_),_="",v="after descriptor");else if(p===","){h+=1,_&&y.push(_),w();return}else if(p==="(")_=_+p,v="in parens";else if(p===""){_&&y.push(_),w();return}else _=_+p;else if(v==="in parens")if(p===")")_=_+p,v="in descriptor";else if(p===""){y.push(_),w();return}else _=_+p;else if(v==="after descriptor"&&!e(p))if(p===""){w();return}else v="in descriptor",h-=1;h+=1}}function w(){var S=!1,E,b,C,M,P={},B,I,F,D,W;for(M=0;M<y.length;M++)B=y[M],I=B[B.length-1],F=B.substring(0,B.length-1),D=parseInt(F,10),W=parseFloat(F),f.test(F)&&I==="w"?((E||b)&&(S=!0),D===0?S=!0:E=D):u.test(F)&&I==="x"?((E||b||C)&&(S=!0),W<0?S=!0:b=W):f.test(F)&&I==="h"?((C||b)&&(S=!0),D===0?S=!0:C=D):S=!0;S?console&&console.log&&console.log("Invalid srcset descriptor found in '"+n+"' at '"+B+"'."):(P.url=m,E&&(P.w=E),b&&(P.d=b),C&&(P.h=C),c.push(P))}}})});var N_=le((yz,Ag)=>{L();var Vt=String,I_=function(){return{isColorSupported:!1,reset:Vt,bold:Vt,dim:Vt,italic:Vt,underline:Vt,inverse:Vt,hidden:Vt,strikethrough:Vt,black:Vt,red:Vt,green:Vt,yellow:Vt,blue:Vt,magenta:Vt,cyan:Vt,white:Vt,gray:Vt,bgBlack:Vt,bgRed:Vt,bgGreen:Vt,bgYellow:Vt,bgBlue:Vt,bgMagenta:Vt,bgCyan:Vt,bgWhite:Vt}};Ag.exports=I_();Ag.exports.createColors=I_});var Eg=le(()=>{L()});var hf=le((Sz,F_)=>{"use strict";L();var B_=N_(),D_=Eg(),el=class n extends Error{constructor(e,t,r,i,o,s){super(e),this.name="CssSyntaxError",this.reason=e,o&&(this.file=o),i&&(this.source=i),s&&(this.plugin=s),typeof t<"u"&&typeof r<"u"&&(typeof t=="number"?(this.line=t,this.column=r):(this.line=t.line,this.column=t.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,n)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=B_.isColorSupported),D_&&e&&(t=D_(t));let r=t.split(/\r?\n/),i=Math.max(this.line-3,0),o=Math.min(this.line+2,r.length),s=String(o).length,l,f;if(e){let{bold:u,gray:m,red:y}=B_.createColors(!0);l=_=>u(y(_)),f=_=>m(_)}else l=f=u=>u;return r.slice(i,o).map((u,m)=>{let y=i+1+m,_=" "+(" "+y).slice(-s)+" | ";if(y===this.line){let v=f(_.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return l(">")+f(_)+u+`
 `+v+l("^")}return" "+f(_)+u}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};F_.exports=el;el.default=el});var pf=le((Ez,Cg)=>{"use strict";L();Cg.exports.isClean=Symbol("isClean");Cg.exports.my=Symbol("my")});var xg=le((xz,U_)=>{"use strict";L();var H_={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function lN(n){return n[0].toUpperCase()+n.slice(1)}var tl=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?r+=e.raws.afterName:i&&(r+=" "),e.nodes)this.block(e,r+i);else{let o=(e.raws.between||"")+(t?";":"");this.builder(r+i+o,e)}}beforeAfter(e,t){let r;e.type==="decl"?r=this.raw(e,null,"beforeDecl"):e.type==="comment"?r=this.raw(e,null,"beforeComment"):t==="before"?r=this.raw(e,null,"beforeRule"):r=this.raw(e,null,"beforeClose");let i=e.parent,o=0;for(;i&&i.type!=="root";)o+=1,i=i.parent;if(r.includes(`
`)){let s=this.raw(e,null,"indent");if(s.length)for(let l=0;l<o;l++)r+=s}return r}block(e,t){let r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start");let i;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let r=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let o=e.nodes[i],s=this.raw(o,"before");s&&this.builder(s),this.stringify(o,t!==i||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),i=e.prop+r+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,t,r){let i;if(r||(r=t),t&&(i=e.raws[t],typeof i<"u"))return i;let o=e.parent;if(r==="before"&&(!o||o.type==="root"&&o.first===e||o&&o.type==="document"))return"";if(!o)return H_[r];let s=e.root();if(s.rawCache||(s.rawCache={}),typeof s.rawCache[r]<"u")return s.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(e,r);{let l="raw"+lN(r);this[l]?i=this[l](s,e):s.walk(f=>{if(i=f.raws[t],typeof i<"u")return!1})}return typeof i>"u"&&(i=H_[r]),s.rawCache[r]=i,i}rawBeforeClose(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after<"u")return t=r.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk(r=>{if(r.type!=="decl"&&(t=r.raws.between,typeof t<"u"))return!1}),t}rawBeforeRule(e){let t;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&typeof r.raws.before<"u")return t=r.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(r=>{if(typeof r.raws.between<"u")return t=r.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length===0&&(t=r.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(r=>{let i=r.parent;if(i&&i!==e&&i.parent&&i.parent===e&&typeof r.raws.before<"u"){let o=r.raws.before.split(`
`);return t=o[o.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(t=r.raws.semicolon,typeof t<"u"))return!1}),t}rawValue(e,t){let r=e[t],i=e.raws[t];return i&&i.value===r?i.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};U_.exports=tl;tl.default=tl});var rl=le((Pz,j_)=>{"use strict";L();var cN=xg();function Tg(n,e){new cN(e).stringify(n)}j_.exports=Tg;Tg.default=Tg});var il=le((Mz,q_)=>{"use strict";L();var{isClean:gf,my:dN}=pf(),fN=hf(),hN=xg(),pN=rl();function Pg(n,e){let t=new n.constructor;for(let r in n){if(!Object.prototype.hasOwnProperty.call(n,r)||r==="proxyCache")continue;let i=n[r],o=typeof i;r==="parent"&&o==="object"?e&&(t[r]=e):r==="source"?t[r]=i:Array.isArray(i)?t[r]=i.map(s=>Pg(s,t)):(o==="object"&&i!==null&&(i=Pg(i)),t[r]=i)}return t}var nl=class{constructor(e={}){this.raws={},this[gf]=!1,this[dN]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let r of e[t])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=Pg(this);for(let r in e)t[r]=e[r];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:r,start:i}=this.rangeBy(t);return this.source.input.error(e,{column:i.column,line:i.line},{column:r.column,line:r.line},t)}return new fN(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markDirty(){if(this[gf]){this[gf]=!1;let e=this;for(;e=e.parent;)e[gf]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){t=this.toString();let i=t.indexOf(e.word);i!==-1&&(r=this.positionInside(i,t))}return r}positionInside(e,t){let r=t||this.toString(),i=this.source.start.column,o=this.source.start.line;for(let s=0;s<e;s++)r[s]===`
`?(i=1,o+=1):i+=1;return{column:i,line:o}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let i=this.toString(),o=i.indexOf(e.word);o!==-1&&(t=this.positionInside(o,i),r=this.positionInside(o+e.word.length,i))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return new hN().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let i of e)i===this?r=!0:r?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);r||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let r={},i=t==null;t=t||new Map;let o=0;for(let s in this){if(!Object.prototype.hasOwnProperty.call(this,s)||s==="parent"||s==="proxyCache")continue;let l=this[s];if(Array.isArray(l))r[s]=l.map(f=>typeof f=="object"&&f.toJSON?f.toJSON(null,t):f);else if(typeof l=="object"&&l.toJSON)r[s]=l.toJSON(null,t);else if(s==="source"){let f=t.get(l.input);f==null&&(f=o,t.set(l.input,o),o++),r[s]={end:l.end,inputId:f,start:l.start}}else r[s]=l}return i&&(r.inputs=[...t.keys()].map(s=>s.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=pN){e.stringify&&(e=e.stringify);let t="";return e(this,r=>{t+=r}),t}warn(e,t,r){let i={node:this};for(let o in r)i[o]=r[o];return e.warn(t,i)}get proxyOf(){return this}};q_.exports=nl;nl.default=nl});var sl=le((Rz,G_)=>{"use strict";L();var gN=il(),ol=class extends gN{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};G_.exports=ol;ol.default=ol});var mf=le(()=>{L()});var al=le(()=>{L()});var yf=le(()=>{L()});var z_=le((Gz,W_)=>{L();var mN="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",yN=(n,e=21)=>(t=e)=>{let r="",i=t;for(;i--;)r+=n[Math.random()*n.length|0];return r},bN=(n=21)=>{let e="",t=n;for(;t--;)e+=mN[Math.random()*64|0];return e};W_.exports={nanoid:bN,customAlphabet:yN}});var bf=le(()=>{L()});var Mg=le((Jz,J_)=>{"use strict";L();var{SourceMapConsumer:V_,SourceMapGenerator:$_}=mf(),{existsSync:vN,readFileSync:_N}=bf(),{dirname:Og,join:wN}=al();function SN(n){return Buffer?Buffer.from(n,"base64").toString():window.atob(n)}var ul=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,i=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Og(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new V_(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,o=/^data:application\/json,/;if(i.test(e)||o.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(t.test(e)||r.test(e))return SN(e.substr(RegExp.lastMatch.length));let s=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+s)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),i=e.indexOf("*/",r);r>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,i)))}loadFile(e){if(this.root=Og(e),vN(e))return this.mapFile=e,_N(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let r=t(e);if(r){let i=this.loadFile(r);if(!i)throw new Error("Unable to load previous source map: "+r.toString());return i}}else{if(t instanceof V_)return $_.fromSourceMap(t).toString();if(t instanceof $_)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return e&&(r=wN(Og(e),r)),this.loadFile(r)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};J_.exports=ul;ul.default=ul});var ll=le((Yz,Q_)=>{"use strict";L();var{SourceMapConsumer:AN,SourceMapGenerator:EN}=mf(),{fileURLToPath:K_,pathToFileURL:vf}=yf(),{isAbsolute:Lg,resolve:Ig}=al(),{nanoid:CN}=z_(),kg=Eg(),Y_=hf(),xN=Mg(),Rg=Symbol("fromOffsetCache"),TN=!!(AN&&EN),X_=!!(Ig&&Lg),Ra=class{constructor(e,t={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!X_||/^\w+:\/\//.test(t.from)||Lg(t.from)?this.file=t.from:this.file=Ig(t.from)),X_&&TN){let r=new xN(this.css,t);if(r.text){this.map=r;let i=r.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+CN(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,i={}){let o,s,l;if(t&&typeof t=="object"){let u=t,m=r;if(typeof u.offset=="number"){let y=this.fromOffset(u.offset);t=y.line,r=y.col}else t=u.line,r=u.column;if(typeof m.offset=="number"){let y=this.fromOffset(m.offset);s=y.line,l=y.col}else s=m.line,l=m.column}else if(!r){let u=this.fromOffset(t);t=u.line,r=u.col}let f=this.origin(t,r,s,l);return f?o=new Y_(e,f.endLine===void 0?f.line:{column:f.column,line:f.line},f.endLine===void 0?f.column:{column:f.endColumn,line:f.endLine},f.source,f.file,i.plugin):o=new Y_(e,s===void 0?t:{column:r,line:t},s===void 0?r:{column:l,line:s},this.css,this.file,i.plugin),o.input={column:r,endColumn:l,endLine:s,line:t,source:this.css},this.file&&(vf&&(o.input.url=vf(this.file).toString()),o.input.file=this.file),o}fromOffset(e){let t,r;if(this[Rg])r=this[Rg];else{let o=this.css.split(`
`);r=new Array(o.length);let s=0;for(let l=0,f=o.length;l<f;l++)r[l]=s,s+=o[l].length+1;this[Rg]=r}t=r[r.length-1];let i=0;if(e>=t)i=r.length-1;else{let o=r.length-2,s;for(;i<o;)if(s=i+(o-i>>1),e<r[s])o=s-1;else if(e>=r[s+1])i=s+1;else{i=s;break}}return{col:e-r[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Ig(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,i){if(!this.map)return!1;let o=this.map.consumer(),s=o.originalPositionFor({column:t,line:e});if(!s.source)return!1;let l;typeof r=="number"&&(l=o.originalPositionFor({column:i,line:r}));let f;Lg(s.source)?f=vf(s.source):f=new URL(s.source,this.map.consumer().sourceRoot||vf(this.map.mapFile));let u={column:s.column,endColumn:l&&l.column,endLine:l&&l.line,line:s.line,url:f.toString()};if(f.protocol==="file:")if(K_)u.file=K_(f);else throw new Error("file: protocol is not available in this PostCSS build");let m=o.sourceContentFor(s.source);return m&&(u.source=m),u}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};Q_.exports=Ra;Ra.default=Ra;kg&&kg.registerInput&&kg.registerInput(Ra)});var Bg=le((Qz,i6)=>{"use strict";L();var{SourceMapConsumer:e6,SourceMapGenerator:_f}=mf(),{dirname:wf,relative:t6,resolve:r6,sep:n6}=al(),{pathToFileURL:Z_}=yf(),PN=ll(),ON=!!(e6&&_f),MN=!!(wf&&r6&&t6&&n6),Ng=class{constructor(e,t,r,i){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),r=e.root||wf(e.file),i;this.mapOpts.sourcesContent===!1?(i=new e6(e.text),i.sourcesContent&&(i.sourcesContent=i.sourcesContent.map(()=>null))):i=e.consumer(),this.map.applySourceMap(i,t,this.toUrl(this.path(r)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),MN&&ON&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=_f.fromSourceMap(e)}else this.map=new _f({file:this.outputFile()}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new _f({file:this.outputFile()});let e=1,t=1,r="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""},o,s;this.stringify(this.root,(l,f,u)=>{if(this.css+=l,f&&u!=="end"&&(i.generated.line=e,i.generated.column=t-1,f.source&&f.source.start?(i.source=this.sourcePath(f),i.original.line=f.source.start.line,i.original.column=f.source.start.column-1,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,this.map.addMapping(i))),o=l.match(/\n/g),o?(e+=o.length,s=l.lastIndexOf(`
`),t=l.length-s):t+=l.length,f&&u!=="start"){let m=f.parent||{raws:{}};(!(f.type==="decl"||f.type==="atrule"&&!f.nodes)||f!==m.last||m.raws.semicolon)&&(f.source&&f.source.end?(i.source=this.sourcePath(f),i.original.line=f.source.end.line,i.original.column=f.source.end.column-1,i.generated.line=e,i.generated.column=t-2,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,i.generated.line=e,i.generated.column=t-1,this.map.addMapping(i)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let r=this.opts.to?wf(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(r=wf(r6(r,this.mapOpts.annotation)));let i=t6(r,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new PN(this.css,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let i=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(i,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(Z_){let r=Z_(e).toString();return this.memoizedFileURLs.set(e,r),r}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;n6==="\\"&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}};i6.exports=Ng});var dl=le((eV,o6)=>{"use strict";L();var kN=il(),cl=class extends kN{constructor(e){super(e),this.type="comment"}};o6.exports=cl;cl.default=cl});var zo=le((rV,p6)=>{"use strict";L();var{isClean:s6,my:a6}=pf(),u6=sl(),l6=dl(),RN=il(),c6,Dg,Fg,d6;function f6(n){return n.map(e=>(e.nodes&&(e.nodes=f6(e.nodes)),delete e.source,e))}function h6(n){if(n[s6]=!1,n.proxyOf.nodes)for(let e of n.proxyOf.nodes)h6(e)}var hi=class n extends RN{append(...e){for(let t of e){let r=this.normalize(t,this.last);for(let i of r)this.proxyOf.nodes.push(i)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),r,i;for(;this.indexes[t]<this.proxyOf.nodes.length&&(r=this.indexes[t],i=e(this.proxyOf.nodes[r],r),i!==!1);)this.indexes[t]+=1;return delete this.indexes[t],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...r)=>e[t](...r.map(i=>typeof i=="function"?(o,s)=>i(o.toProxy(),s):i)):t==="every"||t==="some"?r=>e[t]((i,...o)=>r(i.toProxy(),...o)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(r=>r.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r=this.index(e),i=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let s of i)this.proxyOf.nodes.splice(r+1,0,s);let o;for(let s in this.indexes)o=this.indexes[s],r<o&&(this.indexes[s]=o+i.length);return this.markDirty(),this}insertBefore(e,t){let r=this.index(e),i=r===0?"prepend":!1,o=this.normalize(t,this.proxyOf.nodes[r],i).reverse();r=this.index(e);for(let l of o)this.proxyOf.nodes.splice(r,0,l);let s;for(let l in this.indexes)s=this.indexes[l],r<=s&&(this.indexes[l]=s+o.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=f6(c6(e).nodes);else if(Array.isArray(e)){e=e.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new u6(e)]}else if(e.selector)e=[new Dg(e)];else if(e.name)e=[new Fg(e)];else if(e.text)e=[new l6(e)];else throw new Error("Unknown node type in node creation");return e.map(i=>(i[a6]||n.rebuild(i),i=i.proxyOf,i.parent&&i.parent.removeChild(i),i[s6]&&h6(i),typeof i.raws.before>"u"&&t&&typeof t.raws.before<"u"&&(i.raws.before=t.raws.before.replace(/\S/g,"")),i.parent=this.proxyOf,i))}prepend(...e){e=e.reverse();for(let t of e){let r=this.normalize(t,this.first,"prepend").reverse();for(let i of r)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+r.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls(i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,r)=>{let i;try{i=e(t,r)}catch(o){throw t.addToError(o)}return i!==!1&&t.walk&&(i=t.walk(e)),i})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="atrule"&&e.test(r.name))return t(r,i)}):this.walk((r,i)=>{if(r.type==="atrule"&&r.name===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="atrule")return t(r,i)}))}walkComments(e){return this.walk((t,r)=>{if(t.type==="comment")return e(t,r)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="decl"&&e.test(r.prop))return t(r,i)}):this.walk((r,i)=>{if(r.type==="decl"&&r.prop===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="decl")return t(r,i)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="rule"&&e.test(r.selector))return t(r,i)}):this.walk((r,i)=>{if(r.type==="rule"&&r.selector===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="rule")return t(r,i)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};hi.registerParse=n=>{c6=n};hi.registerRule=n=>{Dg=n};hi.registerAtRule=n=>{Fg=n};hi.registerRoot=n=>{d6=n};p6.exports=hi;hi.default=hi;hi.rebuild=n=>{n.type==="atrule"?Object.setPrototypeOf(n,Fg.prototype):n.type==="rule"?Object.setPrototypeOf(n,Dg.prototype):n.type==="decl"?Object.setPrototypeOf(n,u6.prototype):n.type==="comment"?Object.setPrototypeOf(n,l6.prototype):n.type==="root"&&Object.setPrototypeOf(n,d6.prototype),n[a6]=!0,n.nodes&&n.nodes.forEach(e=>{hi.rebuild(e)})}});var Sf=le((iV,y6)=>{"use strict";L();var LN=zo(),g6,m6,Ms=class extends LN{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new g6(new m6,this,e).stringify()}};Ms.registerLazyResult=n=>{g6=n};Ms.registerProcessor=n=>{m6=n};y6.exports=Ms;Ms.default=Ms});var Hg=le((sV,v6)=>{"use strict";L();var b6={};v6.exports=function(e){b6[e]||(b6[e]=!0,typeof console<"u"&&console.warn&&console.warn(e))}});var Ug=le((uV,_6)=>{"use strict";L();var fl=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(let r in t)this[r]=t[r]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};_6.exports=fl;fl.default=fl});var Af=le((cV,w6)=>{"use strict";L();var IN=Ug(),hl=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new IN(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}};w6.exports=hl;hl.default=hl});var x6=le((fV,C6)=>{"use strict";L();var jg="'".charCodeAt(0),S6='"'.charCodeAt(0),Ef="\\".charCodeAt(0),A6="/".charCodeAt(0),Cf=`
`.charCodeAt(0),pl=" ".charCodeAt(0),xf="\f".charCodeAt(0),Tf="	".charCodeAt(0),Pf="\r".charCodeAt(0),NN="[".charCodeAt(0),BN="]".charCodeAt(0),DN="(".charCodeAt(0),FN=")".charCodeAt(0),HN="{".charCodeAt(0),UN="}".charCodeAt(0),jN=";".charCodeAt(0),qN="*".charCodeAt(0),GN=":".charCodeAt(0),WN="@".charCodeAt(0),Of=/[\t\n\f\r "#'()/;[\\\]{}]/g,Mf=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,zN=/.[\r\n"'(/\\]/,E6=/[\da-f]/i;C6.exports=function(e,t={}){let r=e.css.valueOf(),i=t.ignoreErrors,o,s,l,f,u,m,y,_,v,p,h=r.length,c=0,g=[],w=[];function S(){return c}function E(P){throw e.error("Unclosed "+P,c)}function b(){return w.length===0&&c>=h}function C(P){if(w.length)return w.pop();if(c>=h)return;let B=P?P.ignoreUnclosed:!1;switch(o=r.charCodeAt(c),o){case Cf:case pl:case Tf:case Pf:case xf:{s=c;do s+=1,o=r.charCodeAt(s);while(o===pl||o===Cf||o===Tf||o===Pf||o===xf);p=["space",r.slice(c,s)],c=s-1;break}case NN:case BN:case HN:case UN:case GN:case jN:case FN:{let I=String.fromCharCode(o);p=[I,I,c];break}case DN:{if(_=g.length?g.pop()[1]:"",v=r.charCodeAt(c+1),_==="url"&&v!==jg&&v!==S6&&v!==pl&&v!==Cf&&v!==Tf&&v!==xf&&v!==Pf){s=c;do{if(m=!1,s=r.indexOf(")",s+1),s===-1)if(i||B){s=c;break}else E("bracket");for(y=s;r.charCodeAt(y-1)===Ef;)y-=1,m=!m}while(m);p=["brackets",r.slice(c,s+1),c,s],c=s}else s=r.indexOf(")",c+1),f=r.slice(c,s+1),s===-1||zN.test(f)?p=["(","(",c]:(p=["brackets",f,c,s],c=s);break}case jg:case S6:{l=o===jg?"'":'"',s=c;do{if(m=!1,s=r.indexOf(l,s+1),s===-1)if(i||B){s=c+1;break}else E("string");for(y=s;r.charCodeAt(y-1)===Ef;)y-=1,m=!m}while(m);p=["string",r.slice(c,s+1),c,s],c=s;break}case WN:{Of.lastIndex=c+1,Of.test(r),Of.lastIndex===0?s=r.length-1:s=Of.lastIndex-2,p=["at-word",r.slice(c,s+1),c,s],c=s;break}case Ef:{for(s=c,u=!0;r.charCodeAt(s+1)===Ef;)s+=1,u=!u;if(o=r.charCodeAt(s+1),u&&o!==A6&&o!==pl&&o!==Cf&&o!==Tf&&o!==Pf&&o!==xf&&(s+=1,E6.test(r.charAt(s)))){for(;E6.test(r.charAt(s+1));)s+=1;r.charCodeAt(s+1)===pl&&(s+=1)}p=["word",r.slice(c,s+1),c,s],c=s;break}default:{o===A6&&r.charCodeAt(c+1)===qN?(s=r.indexOf("*/",c+2)+1,s===0&&(i||B?s=r.length:E("comment")),p=["comment",r.slice(c,s+1),c,s],c=s):(Mf.lastIndex=c+1,Mf.test(r),Mf.lastIndex===0?s=r.length-1:s=Mf.lastIndex-2,p=["word",r.slice(c,s+1),c,s],g.push(p),c=s);break}}return c++,p}function M(P){w.push(P)}return{back:M,endOfFile:b,nextToken:C,position:S}}});var kf=le((pV,P6)=>{"use strict";L();var T6=zo(),La=class extends T6{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};P6.exports=La;La.default=La;T6.registerAtRule(La)});var Ia=le((mV,R6)=>{"use strict";L();var O6=zo(),M6,k6,Vo=class extends O6{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let i=super.normalize(e);if(t){if(r==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let o of i)o.raws.before=t.raws.before}return i}removeChild(e,t){let r=this.index(e);return!t&&r===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new M6(new k6,this,e).stringify()}};Vo.registerLazyResult=n=>{M6=n};Vo.registerProcessor=n=>{k6=n};R6.exports=Vo;Vo.default=Vo;O6.registerRoot(Vo)});var qg=le((bV,L6)=>{"use strict";L();var gl={comma(n){return gl.split(n,[","],!0)},space(n){let e=[" ",`
`,"	"];return gl.split(n,e)},split(n,e,t){let r=[],i="",o=!1,s=0,l=!1,f="",u=!1;for(let m of n)u?u=!1:m==="\\"?u=!0:l?m===f&&(l=!1):m==='"'||m==="'"?(l=!0,f=m):m==="("?s+=1:m===")"?s>0&&(s-=1):s===0&&e.includes(m)&&(o=!0),o?(i!==""&&r.push(i.trim()),i="",o=!1):i+=m;return(t||i!=="")&&r.push(i.trim()),r}};L6.exports=gl;gl.default=gl});var Rf=le((_V,N6)=>{"use strict";L();var I6=zo(),VN=qg(),Na=class extends I6{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return VN.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};N6.exports=Na;Na.default=Na;I6.registerRule(Na)});var H6=le((SV,F6)=>{"use strict";L();var $N=sl(),JN=x6(),KN=dl(),YN=kf(),XN=Ia(),B6=Rf(),D6={empty:!0,space:!0};function QN(n){for(let e=n.length-1;e>=0;e--){let t=n[e],r=t[3]||t[2];if(r)return r}}var Gg=class{constructor(e){this.input=e,this.root=new XN,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new YN;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let r,i,o,s=!1,l=!1,f=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),r=e[0],r==="("||r==="["?u.push(r==="("?")":"]"):r==="{"&&u.length>0?u.push("}"):r===u[u.length-1]&&u.pop(),u.length===0)if(r===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(r==="{"){l=!0;break}else if(r==="}"){if(f.length>0){for(o=f.length-1,i=f[o];i&&i[0]==="space";)i=f[--o];i&&(t.source.end=this.getPosition(i[3]||i[2]),t.source.end.offset++)}this.end(e);break}else f.push(e);else f.push(e);if(this.tokenizer.endOfFile()){s=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(f),f.length?(t.raws.afterName=this.spacesAndCommentsFromStart(f),this.raw(t,"params",f),s&&(e=f[f.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),l&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let r=0,i;for(let o=t-1;o>=0&&(i=e[o],!(i[0]!=="space"&&(r+=1,r===2)));o--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}colon(e){let t=0,r,i,o;for(let[s,l]of e.entries()){if(r=l,i=r[0],i==="("&&(t+=1),i===")"&&(t-=1),t===0&&i===":")if(!o)this.doubleColon(r);else{if(o[0]==="word"&&o[1]==="progid")continue;return s}o=r}return!1}comment(e){let t=new KN;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let i=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=i[2],t.raws.left=i[1],t.raws.right=i[3]}}createTokenizer(){this.tokenizer=JN(this.input)}decl(e,t){let r=new $N;this.init(r,e[0][2]);let i=e[e.length-1];for(i[0]===";"&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]||QN(e)),r.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let u=e[0][0];if(u===":"||u==="space"||u==="comment")break;r.prop+=e.shift()[1]}r.raws.between="";let o;for(;e.length;)if(o=e.shift(),o[0]===":"){r.raws.between+=o[1];break}else o[0]==="word"&&/\w/.test(o[1])&&this.unknownWord([o]),r.raws.between+=o[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let s=[],l;for(;e.length&&(l=e[0][0],!(l!=="space"&&l!=="comment"));)s.push(e.shift());this.precheckMissedSemicolon(e);for(let u=e.length-1;u>=0;u--){if(o=e[u],o[1].toLowerCase()==="!important"){r.important=!0;let m=this.stringFrom(e,u);m=this.spacesFromEnd(e)+m,m!==" !important"&&(r.raws.important=m);break}else if(o[1].toLowerCase()==="important"){let m=e.slice(0),y="";for(let _=u;_>0;_--){let v=m[_][0];if(y.trim().indexOf("!")===0&&v!=="space")break;y=m.pop()[1]+y}y.trim().indexOf("!")===0&&(r.important=!0,r.raws.important=y,e=m)}if(o[0]!=="space"&&o[0]!=="comment")break}e.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(r.raws.between+=s.map(u=>u[1]).join(""),s=[]),this.raw(r,"value",s.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new B6;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,r=null,i=!1,o=null,s=[],l=e[1].startsWith("--"),f=[],u=e;for(;u;){if(r=u[0],f.push(u),r==="("||r==="[")o||(o=u),s.push(r==="("?")":"]");else if(l&&i&&r==="{")o||(o=u),s.push("}");else if(s.length===0)if(r===";")if(i){this.decl(f,l);return}else break;else if(r==="{"){this.rule(f);return}else if(r==="}"){this.tokenizer.back(f.pop()),t=!0;break}else r===":"&&(i=!0);else r===s[s.length-1]&&(s.pop(),s.length===0&&(o=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),s.length>0&&this.unclosedBracket(o),t&&i){if(!l)for(;f.length&&(u=f[f.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(f.pop());this.decl(f,l)}else this.unknownWord(f)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,i){let o,s,l=r.length,f="",u=!0,m,y;for(let _=0;_<l;_+=1)o=r[_],s=o[0],s==="space"&&_===l-1&&!i?u=!1:s==="comment"?(y=r[_-1]?r[_-1][0]:"empty",m=r[_+1]?r[_+1][0]:"empty",!D6[y]&&!D6[m]?f.slice(-1)===","?u=!1:f+=o[1]:u=!1):f+=o[1];if(!u){let _=r.reduce((v,p)=>v+p[1],"");e.raws[t]={raw:_,value:f}}e[t]=f}rule(e){e.pop();let t=new B6;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],t==="space");)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let i=t;i<e.length;i++)r+=e[i][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};F6.exports=Gg});var If=le((EV,U6)=>{"use strict";L();var ZN=zo(),eB=H6(),tB=ll();function Lf(n,e){let t=new tB(n,e),r=new eB(t);try{r.parse()}catch(i){throw i}return r.root}U6.exports=Lf;Lf.default=Lf;ZN.registerParse(Lf)});var Vg=le((TV,W6)=>{"use strict";L();var{isClean:Fi,my:rB}=pf(),nB=Bg(),iB=rl(),oB=zo(),sB=Sf(),xV=Hg(),j6=Af(),aB=If(),uB=Ia(),lB={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},cB={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},dB={Once:!0,postcssPlugin:!0,prepare:!0},Ba=0;function ml(n){return typeof n=="object"&&typeof n.then=="function"}function G6(n){let e=!1,t=lB[n.type];return n.type==="decl"?e=n.prop.toLowerCase():n.type==="atrule"&&(e=n.name.toLowerCase()),e&&n.append?[t,t+"-"+e,Ba,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:n.append?[t,Ba,t+"Exit"]:[t,t+"Exit"]}function q6(n){let e;return n.type==="document"?e=["Document",Ba,"DocumentExit"]:n.type==="root"?e=["Root",Ba,"RootExit"]:e=G6(n),{eventIndex:0,events:e,iterator:0,node:n,visitorIndex:0,visitors:[]}}function Wg(n){return n[Fi]=!1,n.nodes&&n.nodes.forEach(e=>Wg(e)),n}var zg={},$o=class n{constructor(e,t,r){this.stringified=!1,this.processed=!1;let i;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))i=Wg(t);else if(t instanceof n||t instanceof j6)i=Wg(t.root),t.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=t.map);else{let o=aB;r.syntax&&(o=r.syntax.parse),r.parser&&(o=r.parser),o.parse&&(o=o.parse);try{i=o(t,r)}catch(s){this.processed=!0,this.error=s}i&&!i[rB]&&oB.rebuild(i)}this.result=new j6(e,i,r),this.helpers={...zg,postcss:zg,result:this.result},this.plugins=this.processor.plugins.map(o=>typeof o=="object"&&o.prepare?{...o,...o.prepare(this.result)}:o)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=r.postcssPlugin,e.setMessage()):r.postcssVersion}catch(i){console&&console.error&&console.error(i)}return e}prepareVisitors(){this.listeners={};let e=(t,r,i)=>{this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push([t,i])};for(let t of this.plugins)if(typeof t=="object")for(let r in t){if(!cB[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!dB[r])if(typeof t[r]=="object")for(let i in t[r])i==="*"?e(t,r,t[r][i]):e(t,r+"-"+i.toLowerCase(),t[r][i]);else typeof t[r]=="function"&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(ml(r))try{await r}catch(i){throw this.handleError(i)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Fi];){e[Fi]=!0;let t=[q6(e)];for(;t.length>0;){let r=this.visitTick(t);if(ml(r))try{await r}catch(i){let o=t[t.length-1].node;throw this.handleError(i,o)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let i=e.nodes.map(o=>r(o,this.helpers));await Promise.all(i)}else await r(e,this.helpers)}catch(i){throw this.handleError(i)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(r=>e.Once(r,this.helpers));return ml(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=iB;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let i=new nB(t,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(ml(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Fi];)e[Fi]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,i]of e){this.result.lastPlugin=r;let o;try{o=i(t,this.helpers)}catch(s){throw this.handleError(s,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(ml(o))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:i}=t;if(r.type!=="root"&&r.type!=="document"&&!r.parent){e.pop();return}if(i.length>0&&t.visitorIndex<i.length){let[s,l]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=s;try{return l(r.toProxy(),this.helpers)}catch(f){throw this.handleError(f,r)}}if(t.iterator!==0){let s=t.iterator,l;for(;l=r.nodes[r.indexes[s]];)if(r.indexes[s]+=1,!l[Fi]){l[Fi]=!0,e.push(q6(l));return}t.iterator=0,delete r.indexes[s]}let o=t.events;for(;t.eventIndex<o.length;){let s=o[t.eventIndex];if(t.eventIndex+=1,s===Ba){r.nodes&&r.nodes.length&&(r[Fi]=!0,t.iterator=r.getIterator());return}else if(this.listeners[s]){t.visitors=this.listeners[s];return}}e.pop()}walkSync(e){e[Fi]=!0;let t=G6(e);for(let r of t)if(r===Ba)e.nodes&&e.each(i=>{i[Fi]||this.walkSync(i)});else{let i=this.listeners[r];if(i&&this.visitSync(i,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};$o.registerPostcss=n=>{zg=n};W6.exports=$o;$o.default=$o;uB.registerLazyResult($o);sB.registerLazyResult($o)});var V6=le((MV,z6)=>{"use strict";L();var fB=Bg(),hB=rl(),OV=Hg(),pB=If(),gB=Af(),yl=class{constructor(e,t,r){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;let i,o=hB;this.result=new gB(this._processor,i,this._opts),this.result.css=t;let s=this;Object.defineProperty(this.result,"root",{get(){return s.root}});let l=new fB(o,i,this._opts,t);if(l.isMap()){let[f,u]=l.generate();f&&(this.result.css=f),u&&(this.result.map=u)}}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=pB;try{e=t(this._css,this._opts)}catch(r){this.error=r}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};z6.exports=yl;yl.default=yl});var J6=le((RV,$6)=>{"use strict";L();var mB=V6(),yB=Vg(),bB=Sf(),vB=Ia(),ks=class{constructor(e=[]){this.version="8.4.31",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(r.postcss===!0?r=r():r.postcss&&(r=r.postcss),typeof r=="object"&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if(typeof r=="object"&&r.postcssPlugin)t.push(r);else if(typeof r=="function")t.push(r);else if(!(typeof r=="object"&&(r.parse||r.stringify)))throw new Error(r+" is not a PostCSS plugin");return t}process(e,t={}){return this.plugins.length===0&&typeof t.parser>"u"&&typeof t.stringifier>"u"&&typeof t.syntax>"u"?new mB(this,e,t):new yB(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};$6.exports=ks;ks.default=ks;vB.registerProcessor(ks);bB.registerProcessor(ks)});var Y6=le((IV,K6)=>{"use strict";L();var _B=sl(),wB=Mg(),SB=dl(),AB=kf(),EB=ll(),CB=Ia(),xB=Rf();function bl(n,e){if(Array.isArray(n))return n.map(i=>bl(i));let{inputs:t,...r}=n;if(t){e=[];for(let i of t){let o={...i,__proto__:EB.prototype};o.map&&(o.map={...o.map,__proto__:wB.prototype}),e.push(o)}}if(r.nodes&&(r.nodes=n.nodes.map(i=>bl(i,e))),r.source){let{inputId:i,...o}=r.source;r.source=o,i!=null&&(r.source.input=e[i])}if(r.type==="root")return new CB(r);if(r.type==="decl")return new _B(r);if(r.type==="rule")return new xB(r);if(r.type==="comment")return new SB(r);if(r.type==="atrule")return new AB(r);throw new Error("Unknown node type: "+n.type)}K6.exports=bl;bl.default=bl});var iw=le((BV,nw)=>{"use strict";L();var TB=hf(),X6=sl(),PB=Vg(),OB=zo(),$g=J6(),MB=rl(),kB=Y6(),Q6=Sf(),RB=Ug(),Z6=dl(),ew=kf(),LB=Af(),IB=ll(),NB=If(),BB=qg(),tw=Rf(),rw=Ia(),DB=il();function Dt(...n){return n.length===1&&Array.isArray(n[0])&&(n=n[0]),new $g(n)}Dt.plugin=function(e,t){let r=!1;function i(...s){console&&console.warn&&!r&&(r=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let l=t(...s);return l.postcssPlugin=e,l.postcssVersion=new $g().version,l}let o;return Object.defineProperty(i,"postcss",{get(){return o||(o=i()),o}}),i.process=function(s,l,f){return Dt([i(f)]).process(s,l)},i};Dt.stringify=MB;Dt.parse=NB;Dt.fromJSON=kB;Dt.list=BB;Dt.comment=n=>new Z6(n);Dt.atRule=n=>new ew(n);Dt.decl=n=>new X6(n);Dt.rule=n=>new tw(n);Dt.root=n=>new rw(n);Dt.document=n=>new Q6(n);Dt.CssSyntaxError=TB;Dt.Declaration=X6;Dt.Container=OB;Dt.Processor=$g;Dt.Document=Q6;Dt.Comment=Z6;Dt.Warning=RB;Dt.AtRule=ew;Dt.Result=LB;Dt.Input=IB;Dt.Rule=tw;Dt.Root=rw;Dt.Node=DB;PB.registerPostcss(Dt);nw.exports=Dt;Dt.default=Dt});var Jg=le((FV,uw)=>{L();var FB=A_(),ow=C_(),{isPlainObject:HB}=T_(),sw=k_(),UB=L_(),{parse:jB}=iw(),qB=["img","audio","video","picture","svg","object","map","iframe","embed"],GB=["script","style"];function vl(n,e){n&&Object.keys(n).forEach(function(t){e(n[t],t)})}function go(n,e){return{}.hasOwnProperty.call(n,e)}function aw(n,e){let t=[];return vl(n,function(r){e(r)&&t.push(r)}),t}function WB(n){for(let e in n)if(go(n,e))return!1;return!0}function zB(n){return n.map(function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")}).join(", ")}uw.exports=_l;var VB=/^[^\0\t\n\f\r /<=>]+$/;function _l(n,e,t){if(n==null)return"";typeof n=="number"&&(n=n.toString());let r="",i="";function o(G,Y){let X=this;this.tag=G,this.attribs=Y||{},this.tagPosition=r.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(c.length){let Q=c[c.length-1];Q.text+=X.text}},this.updateParentNodeMediaChildren=function(){c.length&&qB.includes(this.tag)&&c[c.length-1].mediaChildren.push(this.tag)}}e=Object.assign({},_l.defaults,e),e.parser=Object.assign({},$B,e.parser);let s=function(G){return e.allowedTags===!1||(e.allowedTags||[]).indexOf(G)>-1};GB.forEach(function(G){s(G)&&!e.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${G}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});let l=e.nonTextTags||["script","style","textarea","option"],f,u;e.allowedAttributes&&(f={},u={},vl(e.allowedAttributes,function(G,Y){f[Y]=[];let X=[];G.forEach(function(Q){typeof Q=="string"&&Q.indexOf("*")>=0?X.push(ow(Q).replace(/\\\*/g,".*")):f[Y].push(Q)}),X.length&&(u[Y]=new RegExp("^("+X.join("|")+")$"))}));let m={},y={},_={};vl(e.allowedClasses,function(G,Y){if(f&&(go(f,Y)||(f[Y]=[]),f[Y].push("class")),m[Y]=G,Array.isArray(G)){let X=[];m[Y]=[],_[Y]=[],G.forEach(function(Q){typeof Q=="string"&&Q.indexOf("*")>=0?X.push(ow(Q).replace(/\\\*/g,".*")):Q instanceof RegExp?_[Y].push(Q):m[Y].push(Q)}),X.length&&(y[Y]=new RegExp("^("+X.join("|")+")$"))}});let v={},p;vl(e.transformTags,function(G,Y){let X;typeof G=="function"?X=G:typeof G=="string"&&(X=_l.simpleTransform(G)),Y==="*"?p=X:v[Y]=X});let h,c,g,w,S,E,b=!1;M();let C=new FB.Parser({onopentag:function(G,Y){if(e.enforceHtmlBoundary&&G==="html"&&M(),S){E++;return}let X=new o(G,Y);c.push(X);let Q=!1,se=!!X.text,ve;if(go(v,G)&&(ve=v[G](G,Y),X.attribs=Y=ve.attribs,ve.text!==void 0&&(X.innerText=ve.text),G!==ve.tagName&&(X.name=G=ve.tagName,w[h]=ve.tagName)),p&&(ve=p(G,Y),X.attribs=Y=ve.attribs,G!==ve.tagName&&(X.name=G=ve.tagName,w[h]=ve.tagName)),(!s(G)||e.disallowedTagsMode==="recursiveEscape"&&!WB(g)||e.nestingLimit!=null&&h>=e.nestingLimit)&&(Q=!0,g[h]=!0,e.disallowedTagsMode==="discard"&&l.indexOf(G)!==-1&&(S=!0,E=1),g[h]=!0),h++,Q){if(e.disallowedTagsMode==="discard")return;i=r,r=""}r+="<"+G,G==="script"&&(e.allowedScriptHostnames||e.allowedScriptDomains)&&(X.innerText=""),(!f||go(f,G)||f["*"])&&vl(Y,function(ce,z){if(!VB.test(z)){delete X.attribs[z];return}if(ce===""&&(e.nonBooleanAttributes.includes(z)||e.nonBooleanAttributes.includes("*"))){delete X.attribs[z];return}let H=!1;if(!f||go(f,G)&&f[G].indexOf(z)!==-1||f["*"]&&f["*"].indexOf(z)!==-1||go(u,G)&&u[G].test(z)||u["*"]&&u["*"].test(z))H=!0;else if(f&&f[G]){for(let R of f[G])if(HB(R)&&R.name&&R.name===z){H=!0;let x="";if(R.multiple===!0){let T=ce.split(" ");for(let O of T)R.values.indexOf(O)!==-1&&(x===""?x=O:x+=" "+O)}else R.values.indexOf(ce)>=0&&(x=ce);ce=x}}if(H){if(e.allowedSchemesAppliedToAttributes.indexOf(z)!==-1&&B(G,ce)){delete X.attribs[z];return}if(G==="script"&&z==="src"){let R=!0;try{let x=I(ce);if(e.allowedScriptHostnames||e.allowedScriptDomains){let T=(e.allowedScriptHostnames||[]).find(function(N){return N===x.url.hostname}),O=(e.allowedScriptDomains||[]).find(function(N){return x.url.hostname===N||x.url.hostname.endsWith(`.${N}`)});R=T||O}}catch{R=!1}if(!R){delete X.attribs[z];return}}if(G==="iframe"&&z==="src"){let R=!0;try{let x=I(ce);if(x.isRelativeUrl)R=go(e,"allowIframeRelativeUrls")?e.allowIframeRelativeUrls:!e.allowedIframeHostnames&&!e.allowedIframeDomains;else if(e.allowedIframeHostnames||e.allowedIframeDomains){let T=(e.allowedIframeHostnames||[]).find(function(N){return N===x.url.hostname}),O=(e.allowedIframeDomains||[]).find(function(N){return x.url.hostname===N||x.url.hostname.endsWith(`.${N}`)});R=T||O}}catch{R=!1}if(!R){delete X.attribs[z];return}}if(z==="srcset")try{let R=UB(ce);if(R.forEach(function(x){B("srcset",x.url)&&(x.evil=!0)}),R=aw(R,function(x){return!x.evil}),R.length)ce=zB(aw(R,function(x){return!x.evil})),X.attribs[z]=ce;else{delete X.attribs[z];return}}catch{delete X.attribs[z];return}if(z==="class"){let R=m[G],x=m["*"],T=y[G],O=_[G],N=y["*"],U=[T,N].concat(O).filter(function(V){return V});if(R&&x?ce=q(ce,sw(R,x),U):ce=q(ce,R||x,U),!ce.length){delete X.attribs[z];return}}if(z==="style"){if(e.parseStyleAttributes)try{let R=jB(G+" {"+ce+"}"),x=F(R,e.allowedStyles);if(ce=D(x),ce.length===0){delete X.attribs[z];return}}catch{typeof window<"u"&&console.warn('Failed to parse "'+G+" {"+ce+`}", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547`),delete X.attribs[z];return}else if(e.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.")}r+=" "+z,ce&&ce.length&&(r+='="'+P(ce,!0)+'"')}else delete X.attribs[z]}),e.selfClosing.indexOf(G)!==-1?r+=" />":(r+=">",X.innerText&&!se&&!e.textFilter&&(r+=P(X.innerText),b=!0)),Q&&(r=i+P(r),i="")},ontext:function(G){if(S)return;let Y=c[c.length-1],X;if(Y&&(X=Y.tag,G=Y.innerText!==void 0?Y.innerText:G),e.disallowedTagsMode==="discard"&&(X==="script"||X==="style"))r+=G;else{let Q=P(G,!1);e.textFilter&&!b?r+=e.textFilter(Q,X):b||(r+=Q)}if(c.length){let Q=c[c.length-1];Q.text+=G}},onclosetag:function(G,Y){if(S)if(E--,!E)S=!1;else return;let X=c.pop();if(!X)return;if(X.tag!==G){c.push(X);return}S=e.enforceHtmlBoundary?G==="html":!1,h--;let Q=g[h];if(Q){if(delete g[h],e.disallowedTagsMode==="discard"){X.updateParentNodeText();return}i=r,r=""}if(w[h]&&(G=w[h],delete w[h]),e.exclusiveFilter&&e.exclusiveFilter(X)){r=r.substr(0,X.tagPosition);return}if(X.updateParentNodeMediaChildren(),X.updateParentNodeText(),e.selfClosing.indexOf(G)!==-1||Y&&!s(G)&&["escape","recursiveEscape"].indexOf(e.disallowedTagsMode)>=0){Q&&(r=i,i="");return}r+="</"+G+">",Q&&(r=i+P(r),i=""),b=!1}},e.parser);return C.write(n),C.end(),r;function M(){r="",h=0,c=[],g={},w={},S=!1,E=0}function P(G,Y){return typeof G!="string"&&(G=G+""),e.parser.decodeEntities&&(G=G.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Y&&(G=G.replace(/"/g,"&quot;"))),G=G.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Y&&(G=G.replace(/"/g,"&quot;")),G}function B(G,Y){for(Y=Y.replace(/[\x00-\x20]+/g,"");;){let se=Y.indexOf("<!--");if(se===-1)break;let ve=Y.indexOf("-->",se+4);if(ve===-1)break;Y=Y.substring(0,se)+Y.substring(ve+3)}let X=Y.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!X)return Y.match(/^[/\\]{2}/)?!e.allowProtocolRelative:!1;let Q=X[1].toLowerCase();return go(e.allowedSchemesByTag,G)?e.allowedSchemesByTag[G].indexOf(Q)===-1:!e.allowedSchemes||e.allowedSchemes.indexOf(Q)===-1}function I(G){if(G=G.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),G.startsWith("relative:"))throw new Error("relative: exploit attempt");let Y="relative://relative-site";for(let se=0;se<100;se++)Y+=`/${se}`;let X=new URL(G,Y);return{isRelativeUrl:X&&X.hostname==="relative-site"&&X.protocol==="relative:",url:X}}function F(G,Y){if(!Y)return G;let X=G.nodes[0],Q;return Y[X.selector]&&Y["*"]?Q=sw(Y[X.selector],Y["*"]):Q=Y[X.selector]||Y["*"],Q&&(G.nodes[0].nodes=X.nodes.reduce(W(Q),[])),G}function D(G){return G.nodes[0].nodes.reduce(function(Y,X){return Y.push(`${X.prop}:${X.value}${X.important?" !important":""}`),Y},[]).join(";")}function W(G){return function(Y,X){return go(G,X.prop)&&G[X.prop].some(function(se){return se.test(X.value)})&&Y.push(X),Y}}function q(G,Y,X){return Y?(G=G.split(/\s+/),G.filter(function(Q){return Y.indexOf(Q)!==-1||X.some(function(se){return se.test(Q)})}).join(" ")):G}}var $B={decodeEntities:!0};_l.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0};_l.simpleTransform=function(n,e,t){return t=t===void 0?!0:t,e=e||{},function(r,i){let o;if(t)for(o in e)i[o]=e[o];else i=e;return{tagName:n,attribs:i}}}});var $t=le((cw,Nf)=>{L();(function(n,e){"use strict";typeof define=="function"&&define.amd?define(e):typeof Nf=="object"&&Nf.exports?Nf.exports=e():n.log=e()})(cw,function(){"use strict";var n=function(){},e="undefined",t=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(p,h){var c=p[h];if(typeof c.bind=="function")return c.bind(p);try{return Function.prototype.bind.call(c,p)}catch{return function(){return Function.prototype.apply.apply(c,[p,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(p){return p==="debug"&&(p="log"),typeof console===e?!1:p==="trace"&&t?o:console[p]!==void 0?i(console,p):console.log!==void 0?i(console,"log"):n}function l(p,h){for(var c=0;c<r.length;c++){var g=r[c];this[g]=c<p?n:this.methodFactory(g,p,h)}this.log=this.debug}function f(p,h,c){return function(){typeof console!==e&&(l.call(this,h,c),this[p].apply(this,arguments))}}function u(p,h,c){return s(p)||f.apply(this,arguments)}function m(p,h,c){var g=this,w;h=h??"WARN";var S="loglevel";typeof p=="string"?S+=":"+p:typeof p=="symbol"&&(S=void 0);function E(P){var B=(r[P]||"silent").toUpperCase();if(!(typeof window===e||!S)){try{window.localStorage[S]=B;return}catch{}try{window.document.cookie=encodeURIComponent(S)+"="+B+";"}catch{}}}function b(){var P;if(!(typeof window===e||!S)){try{P=window.localStorage[S]}catch{}if(typeof P===e)try{var B=window.document.cookie,I=B.indexOf(encodeURIComponent(S)+"=");I!==-1&&(P=/^([^;]+)/.exec(B.slice(I))[1])}catch{}return g.levels[P]===void 0&&(P=void 0),P}}function C(){if(!(typeof window===e||!S)){try{window.localStorage.removeItem(S);return}catch{}try{window.document.cookie=encodeURIComponent(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}g.name=p,g.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},g.methodFactory=c||u,g.getLevel=function(){return w},g.setLevel=function(P,B){if(typeof P=="string"&&g.levels[P.toUpperCase()]!==void 0&&(P=g.levels[P.toUpperCase()]),typeof P=="number"&&P>=0&&P<=g.levels.SILENT){if(w=P,B!==!1&&E(P),l.call(g,P,p),typeof console===e&&P<g.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+P},g.setDefaultLevel=function(P){h=P,b()||g.setLevel(P,!1)},g.resetLevel=function(){g.setLevel(h,!1),C()},g.enableAll=function(P){g.setLevel(g.levels.TRACE,P)},g.disableAll=function(P){g.setLevel(g.levels.SILENT,P)};var M=b();M==null&&(M=h),g.setLevel(M,!1)}var y=new m,_={};y.getLogger=function(h){if(typeof h!="symbol"&&typeof h!="string"||h==="")throw new TypeError("You must supply a name when creating a logger.");var c=_[h];return c||(c=_[h]=new m(h,y.getLevel(),y.methodFactory)),c};var v=typeof window!==e?window.log:void 0;return y.noConflict=function(){return typeof window!==e&&window.log===y&&(window.log=v),y},y.getLoggers=function(){return _},y.default=y,y})});var Jo=le(($V,fw)=>{L();function Yg(n,e,t){var r,i,o,s,l;e==null&&(e=100);function f(){var m=Date.now()-s;m<e&&m>=0?r=setTimeout(f,e-m):(r=null,t||(l=n.apply(o,i),o=i=null))}var u=function(){o=this,i=arguments,s=Date.now();var m=t&&!r;return r||(r=setTimeout(f,e)),m&&(l=n.apply(o,i),o=i=null),l};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(l=n.apply(o,i),o=i=null,clearTimeout(r),r=null)},u}Yg.debounce=Yg;fw.exports=Yg});var Ow=le((Q$,Pw)=>{"use strict";L();var sD={},aD=sD.hasOwnProperty,uD=function(e,t){if(!e)return t;var r={};for(var i in t)r[i]=aD.call(e,i)?e[i]:t[i];return r},lD=/[ -,\.\/:-@\[-\^`\{-~]/,cD=/[ -,\.\/:-@\[\]\^`\{-~]/,dD=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,t1=function n(e,t){t=uD(t,n.options),t.quotes!="single"&&t.quotes!="double"&&(t.quotes="single");for(var r=t.quotes=="double"?'"':"'",i=t.isIdentifier,o=e.charAt(0),s="",l=0,f=e.length;l<f;){var u=e.charAt(l++),m=u.charCodeAt(),y=void 0;if(m<32||m>126){if(m>=55296&&m<=56319&&l<f){var _=e.charCodeAt(l++);(_&64512)==56320?m=((m&1023)<<10)+(_&1023)+65536:l--}y="\\"+m.toString(16).toUpperCase()+" "}else t.escapeEverything?lD.test(u)?y="\\"+u:y="\\"+m.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(u)?y="\\"+m.toString(16).toUpperCase()+" ":u=="\\"||!i&&(u=='"'&&r==u||u=="'"&&r==u)||i&&cD.test(u)?y="\\"+u:y=u;s+=y}return i&&(/^-[-\d]/.test(s)?s="\\-"+s.slice(1):/\d/.test(o)&&(s="\\3"+o+" "+s.slice(1))),s=s.replace(dD,function(v,p,h){return p&&p.length%2?v:(p||"")+h}),!i&&t.wrap?r+s+r:s};t1.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};t1.version="3.0.0";Pw.exports=t1});var Gf=le((Ha,Cl)=>{L();(function(){var n,e="4.17.21",t=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",o="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",u=1,m=2,y=4,_=1,v=2,p=1,h=2,c=4,g=8,w=16,S=32,E=64,b=128,C=256,M=512,P=30,B="...",I=800,F=16,D=1,W=2,q=3,G=1/0,Y=9007199254740991,X=17976931348623157e292,Q=0/0,se=4294967295,ve=se-1,ce=se>>>1,z=[["ary",b],["bind",p],["bindKey",h],["curry",g],["curryRight",w],["flip",M],["partial",S],["partialRight",E],["rearg",C]],H="[object Arguments]",R="[object Array]",x="[object AsyncFunction]",T="[object Boolean]",O="[object Date]",N="[object DOMException]",U="[object Error]",V="[object Function]",Z="[object GeneratorFunction]",re="[object Map]",ne="[object Number]",ae="[object Null]",fe="[object Object]",he="[object Promise]",Te="[object Proxy]",Ne="[object RegExp]",Se="[object Set]",ye="[object String]",oe="[object Symbol]",Ee="[object Undefined]",xe="[object WeakMap]",K="[object WeakSet]",ie="[object ArrayBuffer]",be="[object DataView]",Ce="[object Float32Array]",Le="[object Float64Array]",Ke="[object Int8Array]",ze="[object Int16Array]",Ve="[object Int32Array]",qe="[object Uint8Array]",pe="[object Uint8ClampedArray]",ee="[object Uint16Array]",de="[object Uint32Array]",je=/\b__p \+= '';/g,Be=/\b(__p \+=) '' \+/g,ut=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ct=/&(?:amp|lt|gt|quot|#39);/g,Ht=/[&<>"']/g,Br=RegExp(Ct.source),Hn=RegExp(Ht.source),hr=/<%-([\s\S]+?)%>/g,ii=/<%([\s\S]+?)%>/g,bn=/<%=([\s\S]+?)%>/g,xo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qt=/^\w*$/,Gi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vi=/[\\^$.*+?()[\]{}|]/g,os=RegExp(vi.source),_i=/^\s+/,Wi=/\s/,pr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wr=/\{\n\/\* \[wrapped with (.+)\] \*/,oi=/,? & /,$l=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rC=/[()=,{}\[\]\/\s]/,nC=/\\(\\)?/g,iC=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hm=/\w*$/,oC=/^[-+]0x[0-9a-f]+$/i,sC=/^0b[01]+$/i,aC=/^\[object .+?Constructor\]$/,uC=/^0o[0-7]+$/i,lC=/^(?:0|[1-9]\d*)$/,cC=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jl=/($^)/,dC=/['\n\r\u2028\u2029\\]/g,Kl="\\ud800-\\udfff",fC="\\u0300-\\u036f",hC="\\ufe20-\\ufe2f",pC="\\u20d0-\\u20ff",pm=fC+hC+pC,gm="\\u2700-\\u27bf",mm="a-z\\xdf-\\xf6\\xf8-\\xff",gC="\\xac\\xb1\\xd7\\xf7",mC="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",yC="\\u2000-\\u206f",bC=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ym="A-Z\\xc0-\\xd6\\xd8-\\xde",bm="\\ufe0e\\ufe0f",vm=gC+mC+yC+bC,Nh="['\u2019]",vC="["+Kl+"]",_m="["+vm+"]",Yl="["+pm+"]",wm="\\d+",_C="["+gm+"]",Sm="["+mm+"]",Am="[^"+Kl+vm+wm+gm+mm+ym+"]",Bh="\\ud83c[\\udffb-\\udfff]",wC="(?:"+Yl+"|"+Bh+")",Em="[^"+Kl+"]",Dh="(?:\\ud83c[\\udde6-\\uddff]){2}",Fh="[\\ud800-\\udbff][\\udc00-\\udfff]",Vs="["+ym+"]",Cm="\\u200d",xm="(?:"+Sm+"|"+Am+")",SC="(?:"+Vs+"|"+Am+")",Tm="(?:"+Nh+"(?:d|ll|m|re|s|t|ve))?",Pm="(?:"+Nh+"(?:D|LL|M|RE|S|T|VE))?",Om=wC+"?",Mm="["+bm+"]?",AC="(?:"+Cm+"(?:"+[Em,Dh,Fh].join("|")+")"+Mm+Om+")*",EC="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",CC="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",km=Mm+Om+AC,xC="(?:"+[_C,Dh,Fh].join("|")+")"+km,TC="(?:"+[Em+Yl+"?",Yl,Dh,Fh,vC].join("|")+")",PC=RegExp(Nh,"g"),OC=RegExp(Yl,"g"),Hh=RegExp(Bh+"(?="+Bh+")|"+TC+km,"g"),MC=RegExp([Vs+"?"+Sm+"+"+Tm+"(?="+[_m,Vs,"$"].join("|")+")",SC+"+"+Pm+"(?="+[_m,Vs+xm,"$"].join("|")+")",Vs+"?"+xm+"+"+Tm,Vs+"+"+Pm,CC,EC,wm,xC].join("|"),"g"),kC=RegExp("["+Cm+Kl+pm+bm+"]"),RC=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,LC=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],IC=-1,Gt={};Gt[Ce]=Gt[Le]=Gt[Ke]=Gt[ze]=Gt[Ve]=Gt[qe]=Gt[pe]=Gt[ee]=Gt[de]=!0,Gt[H]=Gt[R]=Gt[ie]=Gt[T]=Gt[be]=Gt[O]=Gt[U]=Gt[V]=Gt[re]=Gt[ne]=Gt[fe]=Gt[Ne]=Gt[Se]=Gt[ye]=Gt[xe]=!1;var qt={};qt[H]=qt[R]=qt[ie]=qt[be]=qt[T]=qt[O]=qt[Ce]=qt[Le]=qt[Ke]=qt[ze]=qt[Ve]=qt[re]=qt[ne]=qt[fe]=qt[Ne]=qt[Se]=qt[ye]=qt[oe]=qt[qe]=qt[pe]=qt[ee]=qt[de]=!0,qt[U]=qt[V]=qt[xe]=!1;var NC={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},BC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},DC={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},FC={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},HC=parseFloat,UC=parseInt,Rm=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,jC=typeof self=="object"&&self&&self.Object===Object&&self,gr=Rm||jC||Function("return this")(),Uh=typeof Ha=="object"&&Ha&&!Ha.nodeType&&Ha,ss=Uh&&typeof Cl=="object"&&Cl&&!Cl.nodeType&&Cl,Lm=ss&&ss.exports===Uh,jh=Lm&&Rm.process,Un=function(){try{var ge=ss&&ss.require&&ss.require("util").types;return ge||jh&&jh.binding&&jh.binding("util")}catch{}}(),Im=Un&&Un.isArrayBuffer,Nm=Un&&Un.isDate,Bm=Un&&Un.isMap,Dm=Un&&Un.isRegExp,Fm=Un&&Un.isSet,Hm=Un&&Un.isTypedArray;function vn(ge,Pe,Ae){switch(Ae.length){case 0:return ge.call(Pe);case 1:return ge.call(Pe,Ae[0]);case 2:return ge.call(Pe,Ae[0],Ae[1]);case 3:return ge.call(Pe,Ae[0],Ae[1],Ae[2])}return ge.apply(Pe,Ae)}function qC(ge,Pe,Ae,$e){for(var lt=-1,kt=ge==null?0:ge.length;++lt<kt;){var ar=ge[lt];Pe($e,ar,Ae(ar),ge)}return $e}function jn(ge,Pe){for(var Ae=-1,$e=ge==null?0:ge.length;++Ae<$e&&Pe(ge[Ae],Ae,ge)!==!1;);return ge}function GC(ge,Pe){for(var Ae=ge==null?0:ge.length;Ae--&&Pe(ge[Ae],Ae,ge)!==!1;);return ge}function Um(ge,Pe){for(var Ae=-1,$e=ge==null?0:ge.length;++Ae<$e;)if(!Pe(ge[Ae],Ae,ge))return!1;return!0}function To(ge,Pe){for(var Ae=-1,$e=ge==null?0:ge.length,lt=0,kt=[];++Ae<$e;){var ar=ge[Ae];Pe(ar,Ae,ge)&&(kt[lt++]=ar)}return kt}function Xl(ge,Pe){var Ae=ge==null?0:ge.length;return!!Ae&&$s(ge,Pe,0)>-1}function qh(ge,Pe,Ae){for(var $e=-1,lt=ge==null?0:ge.length;++$e<lt;)if(Ae(Pe,ge[$e]))return!0;return!1}function Kt(ge,Pe){for(var Ae=-1,$e=ge==null?0:ge.length,lt=Array($e);++Ae<$e;)lt[Ae]=Pe(ge[Ae],Ae,ge);return lt}function Po(ge,Pe){for(var Ae=-1,$e=Pe.length,lt=ge.length;++Ae<$e;)ge[lt+Ae]=Pe[Ae];return ge}function Gh(ge,Pe,Ae,$e){var lt=-1,kt=ge==null?0:ge.length;for($e&&kt&&(Ae=ge[++lt]);++lt<kt;)Ae=Pe(Ae,ge[lt],lt,ge);return Ae}function WC(ge,Pe,Ae,$e){var lt=ge==null?0:ge.length;for($e&&lt&&(Ae=ge[--lt]);lt--;)Ae=Pe(Ae,ge[lt],lt,ge);return Ae}function Wh(ge,Pe){for(var Ae=-1,$e=ge==null?0:ge.length;++Ae<$e;)if(Pe(ge[Ae],Ae,ge))return!0;return!1}var zC=zh("length");function VC(ge){return ge.split("")}function $C(ge){return ge.match($l)||[]}function jm(ge,Pe,Ae){var $e;return Ae(ge,function(lt,kt,ar){if(Pe(lt,kt,ar))return $e=kt,!1}),$e}function Ql(ge,Pe,Ae,$e){for(var lt=ge.length,kt=Ae+($e?1:-1);$e?kt--:++kt<lt;)if(Pe(ge[kt],kt,ge))return kt;return-1}function $s(ge,Pe,Ae){return Pe===Pe?o5(ge,Pe,Ae):Ql(ge,qm,Ae)}function JC(ge,Pe,Ae,$e){for(var lt=Ae-1,kt=ge.length;++lt<kt;)if($e(ge[lt],Pe))return lt;return-1}function qm(ge){return ge!==ge}function Gm(ge,Pe){var Ae=ge==null?0:ge.length;return Ae?$h(ge,Pe)/Ae:Q}function zh(ge){return function(Pe){return Pe==null?n:Pe[ge]}}function Vh(ge){return function(Pe){return ge==null?n:ge[Pe]}}function Wm(ge,Pe,Ae,$e,lt){return lt(ge,function(kt,ar,jt){Ae=$e?($e=!1,kt):Pe(Ae,kt,ar,jt)}),Ae}function KC(ge,Pe){var Ae=ge.length;for(ge.sort(Pe);Ae--;)ge[Ae]=ge[Ae].value;return ge}function $h(ge,Pe){for(var Ae,$e=-1,lt=ge.length;++$e<lt;){var kt=Pe(ge[$e]);kt!==n&&(Ae=Ae===n?kt:Ae+kt)}return Ae}function Jh(ge,Pe){for(var Ae=-1,$e=Array(ge);++Ae<ge;)$e[Ae]=Pe(Ae);return $e}function YC(ge,Pe){return Kt(Pe,function(Ae){return[Ae,ge[Ae]]})}function zm(ge){return ge&&ge.slice(0,Km(ge)+1).replace(_i,"")}function _n(ge){return function(Pe){return ge(Pe)}}function Kh(ge,Pe){return Kt(Pe,function(Ae){return ge[Ae]})}function hu(ge,Pe){return ge.has(Pe)}function Vm(ge,Pe){for(var Ae=-1,$e=ge.length;++Ae<$e&&$s(Pe,ge[Ae],0)>-1;);return Ae}function $m(ge,Pe){for(var Ae=ge.length;Ae--&&$s(Pe,ge[Ae],0)>-1;);return Ae}function XC(ge,Pe){for(var Ae=ge.length,$e=0;Ae--;)ge[Ae]===Pe&&++$e;return $e}var QC=Vh(NC),ZC=Vh(BC);function e5(ge){return"\\"+FC[ge]}function t5(ge,Pe){return ge==null?n:ge[Pe]}function Js(ge){return kC.test(ge)}function r5(ge){return RC.test(ge)}function n5(ge){for(var Pe,Ae=[];!(Pe=ge.next()).done;)Ae.push(Pe.value);return Ae}function Yh(ge){var Pe=-1,Ae=Array(ge.size);return ge.forEach(function($e,lt){Ae[++Pe]=[lt,$e]}),Ae}function Jm(ge,Pe){return function(Ae){return ge(Pe(Ae))}}function Oo(ge,Pe){for(var Ae=-1,$e=ge.length,lt=0,kt=[];++Ae<$e;){var ar=ge[Ae];(ar===Pe||ar===f)&&(ge[Ae]=f,kt[lt++]=Ae)}return kt}function Zl(ge){var Pe=-1,Ae=Array(ge.size);return ge.forEach(function($e){Ae[++Pe]=$e}),Ae}function i5(ge){var Pe=-1,Ae=Array(ge.size);return ge.forEach(function($e){Ae[++Pe]=[$e,$e]}),Ae}function o5(ge,Pe,Ae){for(var $e=Ae-1,lt=ge.length;++$e<lt;)if(ge[$e]===Pe)return $e;return-1}function s5(ge,Pe,Ae){for(var $e=Ae+1;$e--;)if(ge[$e]===Pe)return $e;return $e}function Ks(ge){return Js(ge)?u5(ge):zC(ge)}function si(ge){return Js(ge)?l5(ge):VC(ge)}function Km(ge){for(var Pe=ge.length;Pe--&&Wi.test(ge.charAt(Pe)););return Pe}var a5=Vh(DC);function u5(ge){for(var Pe=Hh.lastIndex=0;Hh.test(ge);)++Pe;return Pe}function l5(ge){return ge.match(Hh)||[]}function c5(ge){return ge.match(MC)||[]}var d5=function ge(Pe){Pe=Pe==null?gr:Mo.defaults(gr.Object(),Pe,Mo.pick(gr,LC));var Ae=Pe.Array,$e=Pe.Date,lt=Pe.Error,kt=Pe.Function,ar=Pe.Math,jt=Pe.Object,Xh=Pe.RegExp,f5=Pe.String,qn=Pe.TypeError,ec=Ae.prototype,h5=kt.prototype,Ys=jt.prototype,tc=Pe["__core-js_shared__"],rc=h5.toString,Nt=Ys.hasOwnProperty,p5=0,Ym=function(){var a=/[^.]+$/.exec(tc&&tc.keys&&tc.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),nc=Ys.toString,g5=rc.call(jt),m5=gr._,y5=Xh("^"+rc.call(Nt).replace(vi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ic=Lm?Pe.Buffer:n,ko=Pe.Symbol,oc=Pe.Uint8Array,Xm=ic?ic.allocUnsafe:n,sc=Jm(jt.getPrototypeOf,jt),Qm=jt.create,Zm=Ys.propertyIsEnumerable,ac=ec.splice,ey=ko?ko.isConcatSpreadable:n,pu=ko?ko.iterator:n,as=ko?ko.toStringTag:n,uc=function(){try{var a=fs(jt,"defineProperty");return a({},"",{}),a}catch{}}(),b5=Pe.clearTimeout!==gr.clearTimeout&&Pe.clearTimeout,v5=$e&&$e.now!==gr.Date.now&&$e.now,_5=Pe.setTimeout!==gr.setTimeout&&Pe.setTimeout,lc=ar.ceil,cc=ar.floor,Qh=jt.getOwnPropertySymbols,w5=ic?ic.isBuffer:n,ty=Pe.isFinite,S5=ec.join,A5=Jm(jt.keys,jt),ur=ar.max,Dr=ar.min,E5=$e.now,C5=Pe.parseInt,ry=ar.random,x5=ec.reverse,Zh=fs(Pe,"DataView"),gu=fs(Pe,"Map"),e0=fs(Pe,"Promise"),Xs=fs(Pe,"Set"),mu=fs(Pe,"WeakMap"),yu=fs(jt,"create"),dc=mu&&new mu,Qs={},T5=hs(Zh),P5=hs(gu),O5=hs(e0),M5=hs(Xs),k5=hs(mu),fc=ko?ko.prototype:n,bu=fc?fc.valueOf:n,ny=fc?fc.toString:n;function $(a){if(Zt(a)&&!ct(a)&&!(a instanceof At)){if(a instanceof Gn)return a;if(Nt.call(a,"__wrapped__"))return ib(a)}return new Gn(a)}var Zs=function(){function a(){}return function(d){if(!Yt(d))return{};if(Qm)return Qm(d);a.prototype=d;var A=new a;return a.prototype=n,A}}();function hc(){}function Gn(a,d){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}$.templateSettings={escape:hr,evaluate:ii,interpolate:bn,variable:"",imports:{_:$}},$.prototype=hc.prototype,$.prototype.constructor=$,Gn.prototype=Zs(hc.prototype),Gn.prototype.constructor=Gn;function At(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function R5(){var a=new At(this.__wrapped__);return a.__actions__=tn(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=tn(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=tn(this.__views__),a}function L5(){if(this.__filtered__){var a=new At(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function I5(){var a=this.__wrapped__.value(),d=this.__dir__,A=ct(a),k=d<0,j=A?a.length:0,J=Vx(0,j,this.__views__),te=J.start,ue=J.end,me=ue-te,Oe=k?ue:te-1,Me=this.__iteratees__,Ie=Me.length,Ge=0,Qe=Dr(me,this.__takeCount__);if(!A||!k&&j==me&&Qe==me)return Ty(a,this.__actions__);var nt=[];e:for(;me--&&Ge<Qe;){Oe+=d;for(var ht=-1,it=a[Oe];++ht<Ie;){var vt=Me[ht],xt=vt.iteratee,An=vt.type,$r=xt(it);if(An==W)it=$r;else if(!$r){if(An==D)continue e;break e}}nt[Ge++]=it}return nt}At.prototype=Zs(hc.prototype),At.prototype.constructor=At;function us(a){var d=-1,A=a==null?0:a.length;for(this.clear();++d<A;){var k=a[d];this.set(k[0],k[1])}}function N5(){this.__data__=yu?yu(null):{},this.size=0}function B5(a){var d=this.has(a)&&delete this.__data__[a];return this.size-=d?1:0,d}function D5(a){var d=this.__data__;if(yu){var A=d[a];return A===s?n:A}return Nt.call(d,a)?d[a]:n}function F5(a){var d=this.__data__;return yu?d[a]!==n:Nt.call(d,a)}function H5(a,d){var A=this.__data__;return this.size+=this.has(a)?0:1,A[a]=yu&&d===n?s:d,this}us.prototype.clear=N5,us.prototype.delete=B5,us.prototype.get=D5,us.prototype.has=F5,us.prototype.set=H5;function zi(a){var d=-1,A=a==null?0:a.length;for(this.clear();++d<A;){var k=a[d];this.set(k[0],k[1])}}function U5(){this.__data__=[],this.size=0}function j5(a){var d=this.__data__,A=pc(d,a);if(A<0)return!1;var k=d.length-1;return A==k?d.pop():ac.call(d,A,1),--this.size,!0}function q5(a){var d=this.__data__,A=pc(d,a);return A<0?n:d[A][1]}function G5(a){return pc(this.__data__,a)>-1}function W5(a,d){var A=this.__data__,k=pc(A,a);return k<0?(++this.size,A.push([a,d])):A[k][1]=d,this}zi.prototype.clear=U5,zi.prototype.delete=j5,zi.prototype.get=q5,zi.prototype.has=G5,zi.prototype.set=W5;function Vi(a){var d=-1,A=a==null?0:a.length;for(this.clear();++d<A;){var k=a[d];this.set(k[0],k[1])}}function z5(){this.size=0,this.__data__={hash:new us,map:new(gu||zi),string:new us}}function V5(a){var d=xc(this,a).delete(a);return this.size-=d?1:0,d}function $5(a){return xc(this,a).get(a)}function J5(a){return xc(this,a).has(a)}function K5(a,d){var A=xc(this,a),k=A.size;return A.set(a,d),this.size+=A.size==k?0:1,this}Vi.prototype.clear=z5,Vi.prototype.delete=V5,Vi.prototype.get=$5,Vi.prototype.has=J5,Vi.prototype.set=K5;function ls(a){var d=-1,A=a==null?0:a.length;for(this.__data__=new Vi;++d<A;)this.add(a[d])}function Y5(a){return this.__data__.set(a,s),this}function X5(a){return this.__data__.has(a)}ls.prototype.add=ls.prototype.push=Y5,ls.prototype.has=X5;function ai(a){var d=this.__data__=new zi(a);this.size=d.size}function Q5(){this.__data__=new zi,this.size=0}function Z5(a){var d=this.__data__,A=d.delete(a);return this.size=d.size,A}function ex(a){return this.__data__.get(a)}function tx(a){return this.__data__.has(a)}function rx(a,d){var A=this.__data__;if(A instanceof zi){var k=A.__data__;if(!gu||k.length<t-1)return k.push([a,d]),this.size=++A.size,this;A=this.__data__=new Vi(k)}return A.set(a,d),this.size=A.size,this}ai.prototype.clear=Q5,ai.prototype.delete=Z5,ai.prototype.get=ex,ai.prototype.has=tx,ai.prototype.set=rx;function iy(a,d){var A=ct(a),k=!A&&ps(a),j=!A&&!k&&Bo(a),J=!A&&!k&&!j&&na(a),te=A||k||j||J,ue=te?Jh(a.length,f5):[],me=ue.length;for(var Oe in a)(d||Nt.call(a,Oe))&&!(te&&(Oe=="length"||j&&(Oe=="offset"||Oe=="parent")||J&&(Oe=="buffer"||Oe=="byteLength"||Oe=="byteOffset")||Yi(Oe,me)))&&ue.push(Oe);return ue}function oy(a){var d=a.length;return d?a[d0(0,d-1)]:n}function nx(a,d){return Tc(tn(a),cs(d,0,a.length))}function ix(a){return Tc(tn(a))}function t0(a,d,A){(A!==n&&!ui(a[d],A)||A===n&&!(d in a))&&$i(a,d,A)}function vu(a,d,A){var k=a[d];(!(Nt.call(a,d)&&ui(k,A))||A===n&&!(d in a))&&$i(a,d,A)}function pc(a,d){for(var A=a.length;A--;)if(ui(a[A][0],d))return A;return-1}function ox(a,d,A,k){return Ro(a,function(j,J,te){d(k,j,A(j),te)}),k}function sy(a,d){return a&&Si(d,mr(d),a)}function sx(a,d){return a&&Si(d,nn(d),a)}function $i(a,d,A){d=="__proto__"&&uc?uc(a,d,{configurable:!0,enumerable:!0,value:A,writable:!0}):a[d]=A}function r0(a,d){for(var A=-1,k=d.length,j=Ae(k),J=a==null;++A<k;)j[A]=J?n:B0(a,d[A]);return j}function cs(a,d,A){return a===a&&(A!==n&&(a=a<=A?a:A),d!==n&&(a=a>=d?a:d)),a}function Wn(a,d,A,k,j,J){var te,ue=d&u,me=d&m,Oe=d&y;if(A&&(te=j?A(a,k,j,J):A(a)),te!==n)return te;if(!Yt(a))return a;var Me=ct(a);if(Me){if(te=Jx(a),!ue)return tn(a,te)}else{var Ie=Fr(a),Ge=Ie==V||Ie==Z;if(Bo(a))return My(a,ue);if(Ie==fe||Ie==H||Ge&&!j){if(te=me||Ge?{}:Ky(a),!ue)return me?Dx(a,sx(te,a)):Bx(a,sy(te,a))}else{if(!qt[Ie])return j?a:{};te=Kx(a,Ie,ue)}}J||(J=new ai);var Qe=J.get(a);if(Qe)return Qe;J.set(a,te),Eb(a)?a.forEach(function(it){te.add(Wn(it,d,A,it,a,J))}):Sb(a)&&a.forEach(function(it,vt){te.set(vt,Wn(it,d,A,vt,a,J))});var nt=Oe?me?S0:w0:me?nn:mr,ht=Me?n:nt(a);return jn(ht||a,function(it,vt){ht&&(vt=it,it=a[vt]),vu(te,vt,Wn(it,d,A,vt,a,J))}),te}function ax(a){var d=mr(a);return function(A){return ay(A,a,d)}}function ay(a,d,A){var k=A.length;if(a==null)return!k;for(a=jt(a);k--;){var j=A[k],J=d[j],te=a[j];if(te===n&&!(j in a)||!J(te))return!1}return!0}function uy(a,d,A){if(typeof a!="function")throw new qn(i);return xu(function(){a.apply(n,A)},d)}function _u(a,d,A,k){var j=-1,J=Xl,te=!0,ue=a.length,me=[],Oe=d.length;if(!ue)return me;A&&(d=Kt(d,_n(A))),k?(J=qh,te=!1):d.length>=t&&(J=hu,te=!1,d=new ls(d));e:for(;++j<ue;){var Me=a[j],Ie=A==null?Me:A(Me);if(Me=k||Me!==0?Me:0,te&&Ie===Ie){for(var Ge=Oe;Ge--;)if(d[Ge]===Ie)continue e;me.push(Me)}else J(d,Ie,k)||me.push(Me)}return me}var Ro=Ny(wi),ly=Ny(i0,!0);function ux(a,d){var A=!0;return Ro(a,function(k,j,J){return A=!!d(k,j,J),A}),A}function gc(a,d,A){for(var k=-1,j=a.length;++k<j;){var J=a[k],te=d(J);if(te!=null&&(ue===n?te===te&&!Sn(te):A(te,ue)))var ue=te,me=J}return me}function lx(a,d,A,k){var j=a.length;for(A=ft(A),A<0&&(A=-A>j?0:j+A),k=k===n||k>j?j:ft(k),k<0&&(k+=j),k=A>k?0:xb(k);A<k;)a[A++]=d;return a}function cy(a,d){var A=[];return Ro(a,function(k,j,J){d(k,j,J)&&A.push(k)}),A}function Er(a,d,A,k,j){var J=-1,te=a.length;for(A||(A=Xx),j||(j=[]);++J<te;){var ue=a[J];d>0&&A(ue)?d>1?Er(ue,d-1,A,k,j):Po(j,ue):k||(j[j.length]=ue)}return j}var n0=By(),dy=By(!0);function wi(a,d){return a&&n0(a,d,mr)}function i0(a,d){return a&&dy(a,d,mr)}function mc(a,d){return To(d,function(A){return Xi(a[A])})}function ds(a,d){d=Io(d,a);for(var A=0,k=d.length;a!=null&&A<k;)a=a[Ai(d[A++])];return A&&A==k?a:n}function fy(a,d,A){var k=d(a);return ct(a)?k:Po(k,A(a))}function zr(a){return a==null?a===n?Ee:ae:as&&as in jt(a)?zx(a):iT(a)}function o0(a,d){return a>d}function cx(a,d){return a!=null&&Nt.call(a,d)}function dx(a,d){return a!=null&&d in jt(a)}function fx(a,d,A){return a>=Dr(d,A)&&a<ur(d,A)}function s0(a,d,A){for(var k=A?qh:Xl,j=a[0].length,J=a.length,te=J,ue=Ae(J),me=1/0,Oe=[];te--;){var Me=a[te];te&&d&&(Me=Kt(Me,_n(d))),me=Dr(Me.length,me),ue[te]=!A&&(d||j>=120&&Me.length>=120)?new ls(te&&Me):n}Me=a[0];var Ie=-1,Ge=ue[0];e:for(;++Ie<j&&Oe.length<me;){var Qe=Me[Ie],nt=d?d(Qe):Qe;if(Qe=A||Qe!==0?Qe:0,!(Ge?hu(Ge,nt):k(Oe,nt,A))){for(te=J;--te;){var ht=ue[te];if(!(ht?hu(ht,nt):k(a[te],nt,A)))continue e}Ge&&Ge.push(nt),Oe.push(Qe)}}return Oe}function hx(a,d,A,k){return wi(a,function(j,J,te){d(k,A(j),J,te)}),k}function wu(a,d,A){d=Io(d,a),a=Zy(a,d);var k=a==null?a:a[Ai(Vn(d))];return k==null?n:vn(k,a,A)}function hy(a){return Zt(a)&&zr(a)==H}function px(a){return Zt(a)&&zr(a)==ie}function gx(a){return Zt(a)&&zr(a)==O}function Su(a,d,A,k,j){return a===d?!0:a==null||d==null||!Zt(a)&&!Zt(d)?a!==a&&d!==d:mx(a,d,A,k,Su,j)}function mx(a,d,A,k,j,J){var te=ct(a),ue=ct(d),me=te?R:Fr(a),Oe=ue?R:Fr(d);me=me==H?fe:me,Oe=Oe==H?fe:Oe;var Me=me==fe,Ie=Oe==fe,Ge=me==Oe;if(Ge&&Bo(a)){if(!Bo(d))return!1;te=!0,Me=!1}if(Ge&&!Me)return J||(J=new ai),te||na(a)?Vy(a,d,A,k,j,J):Gx(a,d,me,A,k,j,J);if(!(A&_)){var Qe=Me&&Nt.call(a,"__wrapped__"),nt=Ie&&Nt.call(d,"__wrapped__");if(Qe||nt){var ht=Qe?a.value():a,it=nt?d.value():d;return J||(J=new ai),j(ht,it,A,k,J)}}return Ge?(J||(J=new ai),Wx(a,d,A,k,j,J)):!1}function yx(a){return Zt(a)&&Fr(a)==re}function a0(a,d,A,k){var j=A.length,J=j,te=!k;if(a==null)return!J;for(a=jt(a);j--;){var ue=A[j];if(te&&ue[2]?ue[1]!==a[ue[0]]:!(ue[0]in a))return!1}for(;++j<J;){ue=A[j];var me=ue[0],Oe=a[me],Me=ue[1];if(te&&ue[2]){if(Oe===n&&!(me in a))return!1}else{var Ie=new ai;if(k)var Ge=k(Oe,Me,me,a,d,Ie);if(!(Ge===n?Su(Me,Oe,_|v,k,Ie):Ge))return!1}}return!0}function py(a){if(!Yt(a)||Zx(a))return!1;var d=Xi(a)?y5:aC;return d.test(hs(a))}function bx(a){return Zt(a)&&zr(a)==Ne}function vx(a){return Zt(a)&&Fr(a)==Se}function _x(a){return Zt(a)&&Lc(a.length)&&!!Gt[zr(a)]}function gy(a){return typeof a=="function"?a:a==null?on:typeof a=="object"?ct(a)?by(a[0],a[1]):yy(a):Db(a)}function u0(a){if(!Cu(a))return A5(a);var d=[];for(var A in jt(a))Nt.call(a,A)&&A!="constructor"&&d.push(A);return d}function wx(a){if(!Yt(a))return nT(a);var d=Cu(a),A=[];for(var k in a)k=="constructor"&&(d||!Nt.call(a,k))||A.push(k);return A}function l0(a,d){return a<d}function my(a,d){var A=-1,k=rn(a)?Ae(a.length):[];return Ro(a,function(j,J,te){k[++A]=d(j,J,te)}),k}function yy(a){var d=E0(a);return d.length==1&&d[0][2]?Xy(d[0][0],d[0][1]):function(A){return A===a||a0(A,a,d)}}function by(a,d){return x0(a)&&Yy(d)?Xy(Ai(a),d):function(A){var k=B0(A,a);return k===n&&k===d?D0(A,a):Su(d,k,_|v)}}function yc(a,d,A,k,j){a!==d&&n0(d,function(J,te){if(j||(j=new ai),Yt(J))Sx(a,d,te,A,yc,k,j);else{var ue=k?k(P0(a,te),J,te+"",a,d,j):n;ue===n&&(ue=J),t0(a,te,ue)}},nn)}function Sx(a,d,A,k,j,J,te){var ue=P0(a,A),me=P0(d,A),Oe=te.get(me);if(Oe){t0(a,A,Oe);return}var Me=J?J(ue,me,A+"",a,d,te):n,Ie=Me===n;if(Ie){var Ge=ct(me),Qe=!Ge&&Bo(me),nt=!Ge&&!Qe&&na(me);Me=me,Ge||Qe||nt?ct(ue)?Me=ue:tr(ue)?Me=tn(ue):Qe?(Ie=!1,Me=My(me,!0)):nt?(Ie=!1,Me=ky(me,!0)):Me=[]:Tu(me)||ps(me)?(Me=ue,ps(ue)?Me=Tb(ue):(!Yt(ue)||Xi(ue))&&(Me=Ky(me))):Ie=!1}Ie&&(te.set(me,Me),j(Me,me,k,J,te),te.delete(me)),t0(a,A,Me)}function vy(a,d){var A=a.length;if(A)return d+=d<0?A:0,Yi(d,A)?a[d]:n}function _y(a,d,A){d.length?d=Kt(d,function(J){return ct(J)?function(te){return ds(te,J.length===1?J[0]:J)}:J}):d=[on];var k=-1;d=Kt(d,_n(tt()));var j=my(a,function(J,te,ue){var me=Kt(d,function(Oe){return Oe(J)});return{criteria:me,index:++k,value:J}});return KC(j,function(J,te){return Nx(J,te,A)})}function Ax(a,d){return wy(a,d,function(A,k){return D0(a,k)})}function wy(a,d,A){for(var k=-1,j=d.length,J={};++k<j;){var te=d[k],ue=ds(a,te);A(ue,te)&&Au(J,Io(te,a),ue)}return J}function Ex(a){return function(d){return ds(d,a)}}function c0(a,d,A,k){var j=k?JC:$s,J=-1,te=d.length,ue=a;for(a===d&&(d=tn(d)),A&&(ue=Kt(a,_n(A)));++J<te;)for(var me=0,Oe=d[J],Me=A?A(Oe):Oe;(me=j(ue,Me,me,k))>-1;)ue!==a&&ac.call(ue,me,1),ac.call(a,me,1);return a}function Sy(a,d){for(var A=a?d.length:0,k=A-1;A--;){var j=d[A];if(A==k||j!==J){var J=j;Yi(j)?ac.call(a,j,1):p0(a,j)}}return a}function d0(a,d){return a+cc(ry()*(d-a+1))}function Cx(a,d,A,k){for(var j=-1,J=ur(lc((d-a)/(A||1)),0),te=Ae(J);J--;)te[k?J:++j]=a,a+=A;return te}function f0(a,d){var A="";if(!a||d<1||d>Y)return A;do d%2&&(A+=a),d=cc(d/2),d&&(a+=a);while(d);return A}function gt(a,d){return O0(Qy(a,d,on),a+"")}function xx(a){return oy(ia(a))}function Tx(a,d){var A=ia(a);return Tc(A,cs(d,0,A.length))}function Au(a,d,A,k){if(!Yt(a))return a;d=Io(d,a);for(var j=-1,J=d.length,te=J-1,ue=a;ue!=null&&++j<J;){var me=Ai(d[j]),Oe=A;if(me==="__proto__"||me==="constructor"||me==="prototype")return a;if(j!=te){var Me=ue[me];Oe=k?k(Me,me,ue):n,Oe===n&&(Oe=Yt(Me)?Me:Yi(d[j+1])?[]:{})}vu(ue,me,Oe),ue=ue[me]}return a}var Ay=dc?function(a,d){return dc.set(a,d),a}:on,Px=uc?function(a,d){return uc(a,"toString",{configurable:!0,enumerable:!1,value:H0(d),writable:!0})}:on;function Ox(a){return Tc(ia(a))}function zn(a,d,A){var k=-1,j=a.length;d<0&&(d=-d>j?0:j+d),A=A>j?j:A,A<0&&(A+=j),j=d>A?0:A-d>>>0,d>>>=0;for(var J=Ae(j);++k<j;)J[k]=a[k+d];return J}function Mx(a,d){var A;return Ro(a,function(k,j,J){return A=d(k,j,J),!A}),!!A}function bc(a,d,A){var k=0,j=a==null?k:a.length;if(typeof d=="number"&&d===d&&j<=ce){for(;k<j;){var J=k+j>>>1,te=a[J];te!==null&&!Sn(te)&&(A?te<=d:te<d)?k=J+1:j=J}return j}return h0(a,d,on,A)}function h0(a,d,A,k){var j=0,J=a==null?0:a.length;if(J===0)return 0;d=A(d);for(var te=d!==d,ue=d===null,me=Sn(d),Oe=d===n;j<J;){var Me=cc((j+J)/2),Ie=A(a[Me]),Ge=Ie!==n,Qe=Ie===null,nt=Ie===Ie,ht=Sn(Ie);if(te)var it=k||nt;else Oe?it=nt&&(k||Ge):ue?it=nt&&Ge&&(k||!Qe):me?it=nt&&Ge&&!Qe&&(k||!ht):Qe||ht?it=!1:it=k?Ie<=d:Ie<d;it?j=Me+1:J=Me}return Dr(J,ve)}function Ey(a,d){for(var A=-1,k=a.length,j=0,J=[];++A<k;){var te=a[A],ue=d?d(te):te;if(!A||!ui(ue,me)){var me=ue;J[j++]=te===0?0:te}}return J}function Cy(a){return typeof a=="number"?a:Sn(a)?Q:+a}function wn(a){if(typeof a=="string")return a;if(ct(a))return Kt(a,wn)+"";if(Sn(a))return ny?ny.call(a):"";var d=a+"";return d=="0"&&1/a==-G?"-0":d}function Lo(a,d,A){var k=-1,j=Xl,J=a.length,te=!0,ue=[],me=ue;if(A)te=!1,j=qh;else if(J>=t){var Oe=d?null:jx(a);if(Oe)return Zl(Oe);te=!1,j=hu,me=new ls}else me=d?[]:ue;e:for(;++k<J;){var Me=a[k],Ie=d?d(Me):Me;if(Me=A||Me!==0?Me:0,te&&Ie===Ie){for(var Ge=me.length;Ge--;)if(me[Ge]===Ie)continue e;d&&me.push(Ie),ue.push(Me)}else j(me,Ie,A)||(me!==ue&&me.push(Ie),ue.push(Me))}return ue}function p0(a,d){return d=Io(d,a),a=Zy(a,d),a==null||delete a[Ai(Vn(d))]}function xy(a,d,A,k){return Au(a,d,A(ds(a,d)),k)}function vc(a,d,A,k){for(var j=a.length,J=k?j:-1;(k?J--:++J<j)&&d(a[J],J,a););return A?zn(a,k?0:J,k?J+1:j):zn(a,k?J+1:0,k?j:J)}function Ty(a,d){var A=a;return A instanceof At&&(A=A.value()),Gh(d,function(k,j){return j.func.apply(j.thisArg,Po([k],j.args))},A)}function g0(a,d,A){var k=a.length;if(k<2)return k?Lo(a[0]):[];for(var j=-1,J=Ae(k);++j<k;)for(var te=a[j],ue=-1;++ue<k;)ue!=j&&(J[j]=_u(J[j]||te,a[ue],d,A));return Lo(Er(J,1),d,A)}function Py(a,d,A){for(var k=-1,j=a.length,J=d.length,te={};++k<j;){var ue=k<J?d[k]:n;A(te,a[k],ue)}return te}function m0(a){return tr(a)?a:[]}function y0(a){return typeof a=="function"?a:on}function Io(a,d){return ct(a)?a:x0(a,d)?[a]:nb(Rt(a))}var kx=gt;function No(a,d,A){var k=a.length;return A=A===n?k:A,!d&&A>=k?a:zn(a,d,A)}var Oy=b5||function(a){return gr.clearTimeout(a)};function My(a,d){if(d)return a.slice();var A=a.length,k=Xm?Xm(A):new a.constructor(A);return a.copy(k),k}function b0(a){var d=new a.constructor(a.byteLength);return new oc(d).set(new oc(a)),d}function Rx(a,d){var A=d?b0(a.buffer):a.buffer;return new a.constructor(A,a.byteOffset,a.byteLength)}function Lx(a){var d=new a.constructor(a.source,hm.exec(a));return d.lastIndex=a.lastIndex,d}function Ix(a){return bu?jt(bu.call(a)):{}}function ky(a,d){var A=d?b0(a.buffer):a.buffer;return new a.constructor(A,a.byteOffset,a.length)}function Ry(a,d){if(a!==d){var A=a!==n,k=a===null,j=a===a,J=Sn(a),te=d!==n,ue=d===null,me=d===d,Oe=Sn(d);if(!ue&&!Oe&&!J&&a>d||J&&te&&me&&!ue&&!Oe||k&&te&&me||!A&&me||!j)return 1;if(!k&&!J&&!Oe&&a<d||Oe&&A&&j&&!k&&!J||ue&&A&&j||!te&&j||!me)return-1}return 0}function Nx(a,d,A){for(var k=-1,j=a.criteria,J=d.criteria,te=j.length,ue=A.length;++k<te;){var me=Ry(j[k],J[k]);if(me){if(k>=ue)return me;var Oe=A[k];return me*(Oe=="desc"?-1:1)}}return a.index-d.index}function Ly(a,d,A,k){for(var j=-1,J=a.length,te=A.length,ue=-1,me=d.length,Oe=ur(J-te,0),Me=Ae(me+Oe),Ie=!k;++ue<me;)Me[ue]=d[ue];for(;++j<te;)(Ie||j<J)&&(Me[A[j]]=a[j]);for(;Oe--;)Me[ue++]=a[j++];return Me}function Iy(a,d,A,k){for(var j=-1,J=a.length,te=-1,ue=A.length,me=-1,Oe=d.length,Me=ur(J-ue,0),Ie=Ae(Me+Oe),Ge=!k;++j<Me;)Ie[j]=a[j];for(var Qe=j;++me<Oe;)Ie[Qe+me]=d[me];for(;++te<ue;)(Ge||j<J)&&(Ie[Qe+A[te]]=a[j++]);return Ie}function tn(a,d){var A=-1,k=a.length;for(d||(d=Ae(k));++A<k;)d[A]=a[A];return d}function Si(a,d,A,k){var j=!A;A||(A={});for(var J=-1,te=d.length;++J<te;){var ue=d[J],me=k?k(A[ue],a[ue],ue,A,a):n;me===n&&(me=a[ue]),j?$i(A,ue,me):vu(A,ue,me)}return A}function Bx(a,d){return Si(a,C0(a),d)}function Dx(a,d){return Si(a,$y(a),d)}function _c(a,d){return function(A,k){var j=ct(A)?qC:ox,J=d?d():{};return j(A,a,tt(k,2),J)}}function ea(a){return gt(function(d,A){var k=-1,j=A.length,J=j>1?A[j-1]:n,te=j>2?A[2]:n;for(J=a.length>3&&typeof J=="function"?(j--,J):n,te&&Vr(A[0],A[1],te)&&(J=j<3?n:J,j=1),d=jt(d);++k<j;){var ue=A[k];ue&&a(d,ue,k,J)}return d})}function Ny(a,d){return function(A,k){if(A==null)return A;if(!rn(A))return a(A,k);for(var j=A.length,J=d?j:-1,te=jt(A);(d?J--:++J<j)&&k(te[J],J,te)!==!1;);return A}}function By(a){return function(d,A,k){for(var j=-1,J=jt(d),te=k(d),ue=te.length;ue--;){var me=te[a?ue:++j];if(A(J[me],me,J)===!1)break}return d}}function Fx(a,d,A){var k=d&p,j=Eu(a);function J(){var te=this&&this!==gr&&this instanceof J?j:a;return te.apply(k?A:this,arguments)}return J}function Dy(a){return function(d){d=Rt(d);var A=Js(d)?si(d):n,k=A?A[0]:d.charAt(0),j=A?No(A,1).join(""):d.slice(1);return k[a]()+j}}function ta(a){return function(d){return Gh(Nb(Ib(d).replace(PC,"")),a,"")}}function Eu(a){return function(){var d=arguments;switch(d.length){case 0:return new a;case 1:return new a(d[0]);case 2:return new a(d[0],d[1]);case 3:return new a(d[0],d[1],d[2]);case 4:return new a(d[0],d[1],d[2],d[3]);case 5:return new a(d[0],d[1],d[2],d[3],d[4]);case 6:return new a(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new a(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var A=Zs(a.prototype),k=a.apply(A,d);return Yt(k)?k:A}}function Hx(a,d,A){var k=Eu(a);function j(){for(var J=arguments.length,te=Ae(J),ue=J,me=ra(j);ue--;)te[ue]=arguments[ue];var Oe=J<3&&te[0]!==me&&te[J-1]!==me?[]:Oo(te,me);if(J-=Oe.length,J<A)return qy(a,d,wc,j.placeholder,n,te,Oe,n,n,A-J);var Me=this&&this!==gr&&this instanceof j?k:a;return vn(Me,this,te)}return j}function Fy(a){return function(d,A,k){var j=jt(d);if(!rn(d)){var J=tt(A,3);d=mr(d),A=function(ue){return J(j[ue],ue,j)}}var te=a(d,A,k);return te>-1?j[J?d[te]:te]:n}}function Hy(a){return Ki(function(d){var A=d.length,k=A,j=Gn.prototype.thru;for(a&&d.reverse();k--;){var J=d[k];if(typeof J!="function")throw new qn(i);if(j&&!te&&Cc(J)=="wrapper")var te=new Gn([],!0)}for(k=te?k:A;++k<A;){J=d[k];var ue=Cc(J),me=ue=="wrapper"?A0(J):n;me&&T0(me[0])&&me[1]==(b|g|S|C)&&!me[4].length&&me[9]==1?te=te[Cc(me[0])].apply(te,me[3]):te=J.length==1&&T0(J)?te[ue]():te.thru(J)}return function(){var Oe=arguments,Me=Oe[0];if(te&&Oe.length==1&&ct(Me))return te.plant(Me).value();for(var Ie=0,Ge=A?d[Ie].apply(this,Oe):Me;++Ie<A;)Ge=d[Ie].call(this,Ge);return Ge}})}function wc(a,d,A,k,j,J,te,ue,me,Oe){var Me=d&b,Ie=d&p,Ge=d&h,Qe=d&(g|w),nt=d&M,ht=Ge?n:Eu(a);function it(){for(var vt=arguments.length,xt=Ae(vt),An=vt;An--;)xt[An]=arguments[An];if(Qe)var $r=ra(it),En=XC(xt,$r);if(k&&(xt=Ly(xt,k,j,Qe)),J&&(xt=Iy(xt,J,te,Qe)),vt-=En,Qe&&vt<Oe){var rr=Oo(xt,$r);return qy(a,d,wc,it.placeholder,A,xt,rr,ue,me,Oe-vt)}var li=Ie?A:this,Zi=Ge?li[a]:a;return vt=xt.length,ue?xt=oT(xt,ue):nt&&vt>1&&xt.reverse(),Me&&me<vt&&(xt.length=me),this&&this!==gr&&this instanceof it&&(Zi=ht||Eu(Zi)),Zi.apply(li,xt)}return it}function Uy(a,d){return function(A,k){return hx(A,a,d(k),{})}}function Sc(a,d){return function(A,k){var j;if(A===n&&k===n)return d;if(A!==n&&(j=A),k!==n){if(j===n)return k;typeof A=="string"||typeof k=="string"?(A=wn(A),k=wn(k)):(A=Cy(A),k=Cy(k)),j=a(A,k)}return j}}function v0(a){return Ki(function(d){return d=Kt(d,_n(tt())),gt(function(A){var k=this;return a(d,function(j){return vn(j,k,A)})})})}function Ac(a,d){d=d===n?" ":wn(d);var A=d.length;if(A<2)return A?f0(d,a):d;var k=f0(d,lc(a/Ks(d)));return Js(d)?No(si(k),0,a).join(""):k.slice(0,a)}function Ux(a,d,A,k){var j=d&p,J=Eu(a);function te(){for(var ue=-1,me=arguments.length,Oe=-1,Me=k.length,Ie=Ae(Me+me),Ge=this&&this!==gr&&this instanceof te?J:a;++Oe<Me;)Ie[Oe]=k[Oe];for(;me--;)Ie[Oe++]=arguments[++ue];return vn(Ge,j?A:this,Ie)}return te}function jy(a){return function(d,A,k){return k&&typeof k!="number"&&Vr(d,A,k)&&(A=k=n),d=Qi(d),A===n?(A=d,d=0):A=Qi(A),k=k===n?d<A?1:-1:Qi(k),Cx(d,A,k,a)}}function Ec(a){return function(d,A){return typeof d=="string"&&typeof A=="string"||(d=$n(d),A=$n(A)),a(d,A)}}function qy(a,d,A,k,j,J,te,ue,me,Oe){var Me=d&g,Ie=Me?te:n,Ge=Me?n:te,Qe=Me?J:n,nt=Me?n:J;d|=Me?S:E,d&=~(Me?E:S),d&c||(d&=~(p|h));var ht=[a,d,j,Qe,Ie,nt,Ge,ue,me,Oe],it=A.apply(n,ht);return T0(a)&&eb(it,ht),it.placeholder=k,tb(it,a,d)}function _0(a){var d=ar[a];return function(A,k){if(A=$n(A),k=k==null?0:Dr(ft(k),292),k&&ty(A)){var j=(Rt(A)+"e").split("e"),J=d(j[0]+"e"+(+j[1]+k));return j=(Rt(J)+"e").split("e"),+(j[0]+"e"+(+j[1]-k))}return d(A)}}var jx=Xs&&1/Zl(new Xs([,-0]))[1]==G?function(a){return new Xs(a)}:q0;function Gy(a){return function(d){var A=Fr(d);return A==re?Yh(d):A==Se?i5(d):YC(d,a(d))}}function Ji(a,d,A,k,j,J,te,ue){var me=d&h;if(!me&&typeof a!="function")throw new qn(i);var Oe=k?k.length:0;if(Oe||(d&=~(S|E),k=j=n),te=te===n?te:ur(ft(te),0),ue=ue===n?ue:ft(ue),Oe-=j?j.length:0,d&E){var Me=k,Ie=j;k=j=n}var Ge=me?n:A0(a),Qe=[a,d,A,k,j,Me,Ie,J,te,ue];if(Ge&&rT(Qe,Ge),a=Qe[0],d=Qe[1],A=Qe[2],k=Qe[3],j=Qe[4],ue=Qe[9]=Qe[9]===n?me?0:a.length:ur(Qe[9]-Oe,0),!ue&&d&(g|w)&&(d&=~(g|w)),!d||d==p)var nt=Fx(a,d,A);else d==g||d==w?nt=Hx(a,d,ue):(d==S||d==(p|S))&&!j.length?nt=Ux(a,d,A,k):nt=wc.apply(n,Qe);var ht=Ge?Ay:eb;return tb(ht(nt,Qe),a,d)}function Wy(a,d,A,k){return a===n||ui(a,Ys[A])&&!Nt.call(k,A)?d:a}function zy(a,d,A,k,j,J){return Yt(a)&&Yt(d)&&(J.set(d,a),yc(a,d,n,zy,J),J.delete(d)),a}function qx(a){return Tu(a)?n:a}function Vy(a,d,A,k,j,J){var te=A&_,ue=a.length,me=d.length;if(ue!=me&&!(te&&me>ue))return!1;var Oe=J.get(a),Me=J.get(d);if(Oe&&Me)return Oe==d&&Me==a;var Ie=-1,Ge=!0,Qe=A&v?new ls:n;for(J.set(a,d),J.set(d,a);++Ie<ue;){var nt=a[Ie],ht=d[Ie];if(k)var it=te?k(ht,nt,Ie,d,a,J):k(nt,ht,Ie,a,d,J);if(it!==n){if(it)continue;Ge=!1;break}if(Qe){if(!Wh(d,function(vt,xt){if(!hu(Qe,xt)&&(nt===vt||j(nt,vt,A,k,J)))return Qe.push(xt)})){Ge=!1;break}}else if(!(nt===ht||j(nt,ht,A,k,J))){Ge=!1;break}}return J.delete(a),J.delete(d),Ge}function Gx(a,d,A,k,j,J,te){switch(A){case be:if(a.byteLength!=d.byteLength||a.byteOffset!=d.byteOffset)return!1;a=a.buffer,d=d.buffer;case ie:return!(a.byteLength!=d.byteLength||!J(new oc(a),new oc(d)));case T:case O:case ne:return ui(+a,+d);case U:return a.name==d.name&&a.message==d.message;case Ne:case ye:return a==d+"";case re:var ue=Yh;case Se:var me=k&_;if(ue||(ue=Zl),a.size!=d.size&&!me)return!1;var Oe=te.get(a);if(Oe)return Oe==d;k|=v,te.set(a,d);var Me=Vy(ue(a),ue(d),k,j,J,te);return te.delete(a),Me;case oe:if(bu)return bu.call(a)==bu.call(d)}return!1}function Wx(a,d,A,k,j,J){var te=A&_,ue=w0(a),me=ue.length,Oe=w0(d),Me=Oe.length;if(me!=Me&&!te)return!1;for(var Ie=me;Ie--;){var Ge=ue[Ie];if(!(te?Ge in d:Nt.call(d,Ge)))return!1}var Qe=J.get(a),nt=J.get(d);if(Qe&&nt)return Qe==d&&nt==a;var ht=!0;J.set(a,d),J.set(d,a);for(var it=te;++Ie<me;){Ge=ue[Ie];var vt=a[Ge],xt=d[Ge];if(k)var An=te?k(xt,vt,Ge,d,a,J):k(vt,xt,Ge,a,d,J);if(!(An===n?vt===xt||j(vt,xt,A,k,J):An)){ht=!1;break}it||(it=Ge=="constructor")}if(ht&&!it){var $r=a.constructor,En=d.constructor;$r!=En&&"constructor"in a&&"constructor"in d&&!(typeof $r=="function"&&$r instanceof $r&&typeof En=="function"&&En instanceof En)&&(ht=!1)}return J.delete(a),J.delete(d),ht}function Ki(a){return O0(Qy(a,n,ab),a+"")}function w0(a){return fy(a,mr,C0)}function S0(a){return fy(a,nn,$y)}var A0=dc?function(a){return dc.get(a)}:q0;function Cc(a){for(var d=a.name+"",A=Qs[d],k=Nt.call(Qs,d)?A.length:0;k--;){var j=A[k],J=j.func;if(J==null||J==a)return j.name}return d}function ra(a){var d=Nt.call($,"placeholder")?$:a;return d.placeholder}function tt(){var a=$.iteratee||U0;return a=a===U0?gy:a,arguments.length?a(arguments[0],arguments[1]):a}function xc(a,d){var A=a.__data__;return Qx(d)?A[typeof d=="string"?"string":"hash"]:A.map}function E0(a){for(var d=mr(a),A=d.length;A--;){var k=d[A],j=a[k];d[A]=[k,j,Yy(j)]}return d}function fs(a,d){var A=t5(a,d);return py(A)?A:n}function zx(a){var d=Nt.call(a,as),A=a[as];try{a[as]=n;var k=!0}catch{}var j=nc.call(a);return k&&(d?a[as]=A:delete a[as]),j}var C0=Qh?function(a){return a==null?[]:(a=jt(a),To(Qh(a),function(d){return Zm.call(a,d)}))}:G0,$y=Qh?function(a){for(var d=[];a;)Po(d,C0(a)),a=sc(a);return d}:G0,Fr=zr;(Zh&&Fr(new Zh(new ArrayBuffer(1)))!=be||gu&&Fr(new gu)!=re||e0&&Fr(e0.resolve())!=he||Xs&&Fr(new Xs)!=Se||mu&&Fr(new mu)!=xe)&&(Fr=function(a){var d=zr(a),A=d==fe?a.constructor:n,k=A?hs(A):"";if(k)switch(k){case T5:return be;case P5:return re;case O5:return he;case M5:return Se;case k5:return xe}return d});function Vx(a,d,A){for(var k=-1,j=A.length;++k<j;){var J=A[k],te=J.size;switch(J.type){case"drop":a+=te;break;case"dropRight":d-=te;break;case"take":d=Dr(d,a+te);break;case"takeRight":a=ur(a,d-te);break}}return{start:a,end:d}}function $x(a){var d=a.match(Wr);return d?d[1].split(oi):[]}function Jy(a,d,A){d=Io(d,a);for(var k=-1,j=d.length,J=!1;++k<j;){var te=Ai(d[k]);if(!(J=a!=null&&A(a,te)))break;a=a[te]}return J||++k!=j?J:(j=a==null?0:a.length,!!j&&Lc(j)&&Yi(te,j)&&(ct(a)||ps(a)))}function Jx(a){var d=a.length,A=new a.constructor(d);return d&&typeof a[0]=="string"&&Nt.call(a,"index")&&(A.index=a.index,A.input=a.input),A}function Ky(a){return typeof a.constructor=="function"&&!Cu(a)?Zs(sc(a)):{}}function Kx(a,d,A){var k=a.constructor;switch(d){case ie:return b0(a);case T:case O:return new k(+a);case be:return Rx(a,A);case Ce:case Le:case Ke:case ze:case Ve:case qe:case pe:case ee:case de:return ky(a,A);case re:return new k;case ne:case ye:return new k(a);case Ne:return Lx(a);case Se:return new k;case oe:return Ix(a)}}function Yx(a,d){var A=d.length;if(!A)return a;var k=A-1;return d[k]=(A>1?"& ":"")+d[k],d=d.join(A>2?", ":" "),a.replace(pr,`{
/* [wrapped with `+d+`] */
`)}function Xx(a){return ct(a)||ps(a)||!!(ey&&a&&a[ey])}function Yi(a,d){var A=typeof a;return d=d??Y,!!d&&(A=="number"||A!="symbol"&&lC.test(a))&&a>-1&&a%1==0&&a<d}function Vr(a,d,A){if(!Yt(A))return!1;var k=typeof d;return(k=="number"?rn(A)&&Yi(d,A.length):k=="string"&&d in A)?ui(A[d],a):!1}function x0(a,d){if(ct(a))return!1;var A=typeof a;return A=="number"||A=="symbol"||A=="boolean"||a==null||Sn(a)?!0:Qt.test(a)||!xo.test(a)||d!=null&&a in jt(d)}function Qx(a){var d=typeof a;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?a!=="__proto__":a===null}function T0(a){var d=Cc(a),A=$[d];if(typeof A!="function"||!(d in At.prototype))return!1;if(a===A)return!0;var k=A0(A);return!!k&&a===k[0]}function Zx(a){return!!Ym&&Ym in a}var eT=tc?Xi:W0;function Cu(a){var d=a&&a.constructor,A=typeof d=="function"&&d.prototype||Ys;return a===A}function Yy(a){return a===a&&!Yt(a)}function Xy(a,d){return function(A){return A==null?!1:A[a]===d&&(d!==n||a in jt(A))}}function tT(a){var d=kc(a,function(k){return A.size===l&&A.clear(),k}),A=d.cache;return d}function rT(a,d){var A=a[1],k=d[1],j=A|k,J=j<(p|h|b),te=k==b&&A==g||k==b&&A==C&&a[7].length<=d[8]||k==(b|C)&&d[7].length<=d[8]&&A==g;if(!(J||te))return a;k&p&&(a[2]=d[2],j|=A&p?0:c);var ue=d[3];if(ue){var me=a[3];a[3]=me?Ly(me,ue,d[4]):ue,a[4]=me?Oo(a[3],f):d[4]}return ue=d[5],ue&&(me=a[5],a[5]=me?Iy(me,ue,d[6]):ue,a[6]=me?Oo(a[5],f):d[6]),ue=d[7],ue&&(a[7]=ue),k&b&&(a[8]=a[8]==null?d[8]:Dr(a[8],d[8])),a[9]==null&&(a[9]=d[9]),a[0]=d[0],a[1]=j,a}function nT(a){var d=[];if(a!=null)for(var A in jt(a))d.push(A);return d}function iT(a){return nc.call(a)}function Qy(a,d,A){return d=ur(d===n?a.length-1:d,0),function(){for(var k=arguments,j=-1,J=ur(k.length-d,0),te=Ae(J);++j<J;)te[j]=k[d+j];j=-1;for(var ue=Ae(d+1);++j<d;)ue[j]=k[j];return ue[d]=A(te),vn(a,this,ue)}}function Zy(a,d){return d.length<2?a:ds(a,zn(d,0,-1))}function oT(a,d){for(var A=a.length,k=Dr(d.length,A),j=tn(a);k--;){var J=d[k];a[k]=Yi(J,A)?j[J]:n}return a}function P0(a,d){if(!(d==="constructor"&&typeof a[d]=="function")&&d!="__proto__")return a[d]}var eb=rb(Ay),xu=_5||function(a,d){return gr.setTimeout(a,d)},O0=rb(Px);function tb(a,d,A){var k=d+"";return O0(a,Yx(k,sT($x(k),A)))}function rb(a){var d=0,A=0;return function(){var k=E5(),j=F-(k-A);if(A=k,j>0){if(++d>=I)return arguments[0]}else d=0;return a.apply(n,arguments)}}function Tc(a,d){var A=-1,k=a.length,j=k-1;for(d=d===n?k:d;++A<d;){var J=d0(A,j),te=a[J];a[J]=a[A],a[A]=te}return a.length=d,a}var nb=tT(function(a){var d=[];return a.charCodeAt(0)===46&&d.push(""),a.replace(Gi,function(A,k,j,J){d.push(j?J.replace(nC,"$1"):k||A)}),d});function Ai(a){if(typeof a=="string"||Sn(a))return a;var d=a+"";return d=="0"&&1/a==-G?"-0":d}function hs(a){if(a!=null){try{return rc.call(a)}catch{}try{return a+""}catch{}}return""}function sT(a,d){return jn(z,function(A){var k="_."+A[0];d&A[1]&&!Xl(a,k)&&a.push(k)}),a.sort()}function ib(a){if(a instanceof At)return a.clone();var d=new Gn(a.__wrapped__,a.__chain__);return d.__actions__=tn(a.__actions__),d.__index__=a.__index__,d.__values__=a.__values__,d}function aT(a,d,A){(A?Vr(a,d,A):d===n)?d=1:d=ur(ft(d),0);var k=a==null?0:a.length;if(!k||d<1)return[];for(var j=0,J=0,te=Ae(lc(k/d));j<k;)te[J++]=zn(a,j,j+=d);return te}function uT(a){for(var d=-1,A=a==null?0:a.length,k=0,j=[];++d<A;){var J=a[d];J&&(j[k++]=J)}return j}function lT(){var a=arguments.length;if(!a)return[];for(var d=Ae(a-1),A=arguments[0],k=a;k--;)d[k-1]=arguments[k];return Po(ct(A)?tn(A):[A],Er(d,1))}var cT=gt(function(a,d){return tr(a)?_u(a,Er(d,1,tr,!0)):[]}),dT=gt(function(a,d){var A=Vn(d);return tr(A)&&(A=n),tr(a)?_u(a,Er(d,1,tr,!0),tt(A,2)):[]}),fT=gt(function(a,d){var A=Vn(d);return tr(A)&&(A=n),tr(a)?_u(a,Er(d,1,tr,!0),n,A):[]});function hT(a,d,A){var k=a==null?0:a.length;return k?(d=A||d===n?1:ft(d),zn(a,d<0?0:d,k)):[]}function pT(a,d,A){var k=a==null?0:a.length;return k?(d=A||d===n?1:ft(d),d=k-d,zn(a,0,d<0?0:d)):[]}function gT(a,d){return a&&a.length?vc(a,tt(d,3),!0,!0):[]}function mT(a,d){return a&&a.length?vc(a,tt(d,3),!0):[]}function yT(a,d,A,k){var j=a==null?0:a.length;return j?(A&&typeof A!="number"&&Vr(a,d,A)&&(A=0,k=j),lx(a,d,A,k)):[]}function ob(a,d,A){var k=a==null?0:a.length;if(!k)return-1;var j=A==null?0:ft(A);return j<0&&(j=ur(k+j,0)),Ql(a,tt(d,3),j)}function sb(a,d,A){var k=a==null?0:a.length;if(!k)return-1;var j=k-1;return A!==n&&(j=ft(A),j=A<0?ur(k+j,0):Dr(j,k-1)),Ql(a,tt(d,3),j,!0)}function ab(a){var d=a==null?0:a.length;return d?Er(a,1):[]}function bT(a){var d=a==null?0:a.length;return d?Er(a,G):[]}function vT(a,d){var A=a==null?0:a.length;return A?(d=d===n?1:ft(d),Er(a,d)):[]}function _T(a){for(var d=-1,A=a==null?0:a.length,k={};++d<A;){var j=a[d];k[j[0]]=j[1]}return k}function ub(a){return a&&a.length?a[0]:n}function wT(a,d,A){var k=a==null?0:a.length;if(!k)return-1;var j=A==null?0:ft(A);return j<0&&(j=ur(k+j,0)),$s(a,d,j)}function ST(a){var d=a==null?0:a.length;return d?zn(a,0,-1):[]}var AT=gt(function(a){var d=Kt(a,m0);return d.length&&d[0]===a[0]?s0(d):[]}),ET=gt(function(a){var d=Vn(a),A=Kt(a,m0);return d===Vn(A)?d=n:A.pop(),A.length&&A[0]===a[0]?s0(A,tt(d,2)):[]}),CT=gt(function(a){var d=Vn(a),A=Kt(a,m0);return d=typeof d=="function"?d:n,d&&A.pop(),A.length&&A[0]===a[0]?s0(A,n,d):[]});function xT(a,d){return a==null?"":S5.call(a,d)}function Vn(a){var d=a==null?0:a.length;return d?a[d-1]:n}function TT(a,d,A){var k=a==null?0:a.length;if(!k)return-1;var j=k;return A!==n&&(j=ft(A),j=j<0?ur(k+j,0):Dr(j,k-1)),d===d?s5(a,d,j):Ql(a,qm,j,!0)}function PT(a,d){return a&&a.length?vy(a,ft(d)):n}var OT=gt(lb);function lb(a,d){return a&&a.length&&d&&d.length?c0(a,d):a}function MT(a,d,A){return a&&a.length&&d&&d.length?c0(a,d,tt(A,2)):a}function kT(a,d,A){return a&&a.length&&d&&d.length?c0(a,d,n,A):a}var RT=Ki(function(a,d){var A=a==null?0:a.length,k=r0(a,d);return Sy(a,Kt(d,function(j){return Yi(j,A)?+j:j}).sort(Ry)),k});function LT(a,d){var A=[];if(!(a&&a.length))return A;var k=-1,j=[],J=a.length;for(d=tt(d,3);++k<J;){var te=a[k];d(te,k,a)&&(A.push(te),j.push(k))}return Sy(a,j),A}function M0(a){return a==null?a:x5.call(a)}function IT(a,d,A){var k=a==null?0:a.length;return k?(A&&typeof A!="number"&&Vr(a,d,A)?(d=0,A=k):(d=d==null?0:ft(d),A=A===n?k:ft(A)),zn(a,d,A)):[]}function NT(a,d){return bc(a,d)}function BT(a,d,A){return h0(a,d,tt(A,2))}function DT(a,d){var A=a==null?0:a.length;if(A){var k=bc(a,d);if(k<A&&ui(a[k],d))return k}return-1}function FT(a,d){return bc(a,d,!0)}function HT(a,d,A){return h0(a,d,tt(A,2),!0)}function UT(a,d){var A=a==null?0:a.length;if(A){var k=bc(a,d,!0)-1;if(ui(a[k],d))return k}return-1}function jT(a){return a&&a.length?Ey(a):[]}function qT(a,d){return a&&a.length?Ey(a,tt(d,2)):[]}function GT(a){var d=a==null?0:a.length;return d?zn(a,1,d):[]}function WT(a,d,A){return a&&a.length?(d=A||d===n?1:ft(d),zn(a,0,d<0?0:d)):[]}function zT(a,d,A){var k=a==null?0:a.length;return k?(d=A||d===n?1:ft(d),d=k-d,zn(a,d<0?0:d,k)):[]}function VT(a,d){return a&&a.length?vc(a,tt(d,3),!1,!0):[]}function $T(a,d){return a&&a.length?vc(a,tt(d,3)):[]}var JT=gt(function(a){return Lo(Er(a,1,tr,!0))}),KT=gt(function(a){var d=Vn(a);return tr(d)&&(d=n),Lo(Er(a,1,tr,!0),tt(d,2))}),YT=gt(function(a){var d=Vn(a);return d=typeof d=="function"?d:n,Lo(Er(a,1,tr,!0),n,d)});function XT(a){return a&&a.length?Lo(a):[]}function QT(a,d){return a&&a.length?Lo(a,tt(d,2)):[]}function ZT(a,d){return d=typeof d=="function"?d:n,a&&a.length?Lo(a,n,d):[]}function k0(a){if(!(a&&a.length))return[];var d=0;return a=To(a,function(A){if(tr(A))return d=ur(A.length,d),!0}),Jh(d,function(A){return Kt(a,zh(A))})}function cb(a,d){if(!(a&&a.length))return[];var A=k0(a);return d==null?A:Kt(A,function(k){return vn(d,n,k)})}var eP=gt(function(a,d){return tr(a)?_u(a,d):[]}),tP=gt(function(a){return g0(To(a,tr))}),rP=gt(function(a){var d=Vn(a);return tr(d)&&(d=n),g0(To(a,tr),tt(d,2))}),nP=gt(function(a){var d=Vn(a);return d=typeof d=="function"?d:n,g0(To(a,tr),n,d)}),iP=gt(k0);function oP(a,d){return Py(a||[],d||[],vu)}function sP(a,d){return Py(a||[],d||[],Au)}var aP=gt(function(a){var d=a.length,A=d>1?a[d-1]:n;return A=typeof A=="function"?(a.pop(),A):n,cb(a,A)});function db(a){var d=$(a);return d.__chain__=!0,d}function uP(a,d){return d(a),a}function Pc(a,d){return d(a)}var lP=Ki(function(a){var d=a.length,A=d?a[0]:0,k=this.__wrapped__,j=function(J){return r0(J,a)};return d>1||this.__actions__.length||!(k instanceof At)||!Yi(A)?this.thru(j):(k=k.slice(A,+A+(d?1:0)),k.__actions__.push({func:Pc,args:[j],thisArg:n}),new Gn(k,this.__chain__).thru(function(J){return d&&!J.length&&J.push(n),J}))});function cP(){return db(this)}function dP(){return new Gn(this.value(),this.__chain__)}function fP(){this.__values__===n&&(this.__values__=Cb(this.value()));var a=this.__index__>=this.__values__.length,d=a?n:this.__values__[this.__index__++];return{done:a,value:d}}function hP(){return this}function pP(a){for(var d,A=this;A instanceof hc;){var k=ib(A);k.__index__=0,k.__values__=n,d?j.__wrapped__=k:d=k;var j=k;A=A.__wrapped__}return j.__wrapped__=a,d}function gP(){var a=this.__wrapped__;if(a instanceof At){var d=a;return this.__actions__.length&&(d=new At(this)),d=d.reverse(),d.__actions__.push({func:Pc,args:[M0],thisArg:n}),new Gn(d,this.__chain__)}return this.thru(M0)}function mP(){return Ty(this.__wrapped__,this.__actions__)}var yP=_c(function(a,d,A){Nt.call(a,A)?++a[A]:$i(a,A,1)});function bP(a,d,A){var k=ct(a)?Um:ux;return A&&Vr(a,d,A)&&(d=n),k(a,tt(d,3))}function vP(a,d){var A=ct(a)?To:cy;return A(a,tt(d,3))}var _P=Fy(ob),wP=Fy(sb);function SP(a,d){return Er(Oc(a,d),1)}function AP(a,d){return Er(Oc(a,d),G)}function EP(a,d,A){return A=A===n?1:ft(A),Er(Oc(a,d),A)}function fb(a,d){var A=ct(a)?jn:Ro;return A(a,tt(d,3))}function hb(a,d){var A=ct(a)?GC:ly;return A(a,tt(d,3))}var CP=_c(function(a,d,A){Nt.call(a,A)?a[A].push(d):$i(a,A,[d])});function xP(a,d,A,k){a=rn(a)?a:ia(a),A=A&&!k?ft(A):0;var j=a.length;return A<0&&(A=ur(j+A,0)),Ic(a)?A<=j&&a.indexOf(d,A)>-1:!!j&&$s(a,d,A)>-1}var TP=gt(function(a,d,A){var k=-1,j=typeof d=="function",J=rn(a)?Ae(a.length):[];return Ro(a,function(te){J[++k]=j?vn(d,te,A):wu(te,d,A)}),J}),PP=_c(function(a,d,A){$i(a,A,d)});function Oc(a,d){var A=ct(a)?Kt:my;return A(a,tt(d,3))}function OP(a,d,A,k){return a==null?[]:(ct(d)||(d=d==null?[]:[d]),A=k?n:A,ct(A)||(A=A==null?[]:[A]),_y(a,d,A))}var MP=_c(function(a,d,A){a[A?0:1].push(d)},function(){return[[],[]]});function kP(a,d,A){var k=ct(a)?Gh:Wm,j=arguments.length<3;return k(a,tt(d,4),A,j,Ro)}function RP(a,d,A){var k=ct(a)?WC:Wm,j=arguments.length<3;return k(a,tt(d,4),A,j,ly)}function LP(a,d){var A=ct(a)?To:cy;return A(a,Rc(tt(d,3)))}function IP(a){var d=ct(a)?oy:xx;return d(a)}function NP(a,d,A){(A?Vr(a,d,A):d===n)?d=1:d=ft(d);var k=ct(a)?nx:Tx;return k(a,d)}function BP(a){var d=ct(a)?ix:Ox;return d(a)}function DP(a){if(a==null)return 0;if(rn(a))return Ic(a)?Ks(a):a.length;var d=Fr(a);return d==re||d==Se?a.size:u0(a).length}function FP(a,d,A){var k=ct(a)?Wh:Mx;return A&&Vr(a,d,A)&&(d=n),k(a,tt(d,3))}var HP=gt(function(a,d){if(a==null)return[];var A=d.length;return A>1&&Vr(a,d[0],d[1])?d=[]:A>2&&Vr(d[0],d[1],d[2])&&(d=[d[0]]),_y(a,Er(d,1),[])}),Mc=v5||function(){return gr.Date.now()};function UP(a,d){if(typeof d!="function")throw new qn(i);return a=ft(a),function(){if(--a<1)return d.apply(this,arguments)}}function pb(a,d,A){return d=A?n:d,d=a&&d==null?a.length:d,Ji(a,b,n,n,n,n,d)}function gb(a,d){var A;if(typeof d!="function")throw new qn(i);return a=ft(a),function(){return--a>0&&(A=d.apply(this,arguments)),a<=1&&(d=n),A}}var R0=gt(function(a,d,A){var k=p;if(A.length){var j=Oo(A,ra(R0));k|=S}return Ji(a,k,d,A,j)}),mb=gt(function(a,d,A){var k=p|h;if(A.length){var j=Oo(A,ra(mb));k|=S}return Ji(d,k,a,A,j)});function yb(a,d,A){d=A?n:d;var k=Ji(a,g,n,n,n,n,n,d);return k.placeholder=yb.placeholder,k}function bb(a,d,A){d=A?n:d;var k=Ji(a,w,n,n,n,n,n,d);return k.placeholder=bb.placeholder,k}function vb(a,d,A){var k,j,J,te,ue,me,Oe=0,Me=!1,Ie=!1,Ge=!0;if(typeof a!="function")throw new qn(i);d=$n(d)||0,Yt(A)&&(Me=!!A.leading,Ie="maxWait"in A,J=Ie?ur($n(A.maxWait)||0,d):J,Ge="trailing"in A?!!A.trailing:Ge);function Qe(rr){var li=k,Zi=j;return k=j=n,Oe=rr,te=a.apply(Zi,li),te}function nt(rr){return Oe=rr,ue=xu(vt,d),Me?Qe(rr):te}function ht(rr){var li=rr-me,Zi=rr-Oe,Fb=d-li;return Ie?Dr(Fb,J-Zi):Fb}function it(rr){var li=rr-me,Zi=rr-Oe;return me===n||li>=d||li<0||Ie&&Zi>=J}function vt(){var rr=Mc();if(it(rr))return xt(rr);ue=xu(vt,ht(rr))}function xt(rr){return ue=n,Ge&&k?Qe(rr):(k=j=n,te)}function An(){ue!==n&&Oy(ue),Oe=0,k=me=j=ue=n}function $r(){return ue===n?te:xt(Mc())}function En(){var rr=Mc(),li=it(rr);if(k=arguments,j=this,me=rr,li){if(ue===n)return nt(me);if(Ie)return Oy(ue),ue=xu(vt,d),Qe(me)}return ue===n&&(ue=xu(vt,d)),te}return En.cancel=An,En.flush=$r,En}var jP=gt(function(a,d){return uy(a,1,d)}),qP=gt(function(a,d,A){return uy(a,$n(d)||0,A)});function GP(a){return Ji(a,M)}function kc(a,d){if(typeof a!="function"||d!=null&&typeof d!="function")throw new qn(i);var A=function(){var k=arguments,j=d?d.apply(this,k):k[0],J=A.cache;if(J.has(j))return J.get(j);var te=a.apply(this,k);return A.cache=J.set(j,te)||J,te};return A.cache=new(kc.Cache||Vi),A}kc.Cache=Vi;function Rc(a){if(typeof a!="function")throw new qn(i);return function(){var d=arguments;switch(d.length){case 0:return!a.call(this);case 1:return!a.call(this,d[0]);case 2:return!a.call(this,d[0],d[1]);case 3:return!a.call(this,d[0],d[1],d[2])}return!a.apply(this,d)}}function WP(a){return gb(2,a)}var zP=kx(function(a,d){d=d.length==1&&ct(d[0])?Kt(d[0],_n(tt())):Kt(Er(d,1),_n(tt()));var A=d.length;return gt(function(k){for(var j=-1,J=Dr(k.length,A);++j<J;)k[j]=d[j].call(this,k[j]);return vn(a,this,k)})}),L0=gt(function(a,d){var A=Oo(d,ra(L0));return Ji(a,S,n,d,A)}),_b=gt(function(a,d){var A=Oo(d,ra(_b));return Ji(a,E,n,d,A)}),VP=Ki(function(a,d){return Ji(a,C,n,n,n,d)});function $P(a,d){if(typeof a!="function")throw new qn(i);return d=d===n?d:ft(d),gt(a,d)}function JP(a,d){if(typeof a!="function")throw new qn(i);return d=d==null?0:ur(ft(d),0),gt(function(A){var k=A[d],j=No(A,0,d);return k&&Po(j,k),vn(a,this,j)})}function KP(a,d,A){var k=!0,j=!0;if(typeof a!="function")throw new qn(i);return Yt(A)&&(k="leading"in A?!!A.leading:k,j="trailing"in A?!!A.trailing:j),vb(a,d,{leading:k,maxWait:d,trailing:j})}function YP(a){return pb(a,1)}function XP(a,d){return L0(y0(d),a)}function QP(){if(!arguments.length)return[];var a=arguments[0];return ct(a)?a:[a]}function ZP(a){return Wn(a,y)}function e7(a,d){return d=typeof d=="function"?d:n,Wn(a,y,d)}function t7(a){return Wn(a,u|y)}function r7(a,d){return d=typeof d=="function"?d:n,Wn(a,u|y,d)}function n7(a,d){return d==null||ay(a,d,mr(d))}function ui(a,d){return a===d||a!==a&&d!==d}var i7=Ec(o0),o7=Ec(function(a,d){return a>=d}),ps=hy(function(){return arguments}())?hy:function(a){return Zt(a)&&Nt.call(a,"callee")&&!Zm.call(a,"callee")},ct=Ae.isArray,s7=Im?_n(Im):px;function rn(a){return a!=null&&Lc(a.length)&&!Xi(a)}function tr(a){return Zt(a)&&rn(a)}function a7(a){return a===!0||a===!1||Zt(a)&&zr(a)==T}var Bo=w5||W0,u7=Nm?_n(Nm):gx;function l7(a){return Zt(a)&&a.nodeType===1&&!Tu(a)}function c7(a){if(a==null)return!0;if(rn(a)&&(ct(a)||typeof a=="string"||typeof a.splice=="function"||Bo(a)||na(a)||ps(a)))return!a.length;var d=Fr(a);if(d==re||d==Se)return!a.size;if(Cu(a))return!u0(a).length;for(var A in a)if(Nt.call(a,A))return!1;return!0}function d7(a,d){return Su(a,d)}function f7(a,d,A){A=typeof A=="function"?A:n;var k=A?A(a,d):n;return k===n?Su(a,d,n,A):!!k}function I0(a){if(!Zt(a))return!1;var d=zr(a);return d==U||d==N||typeof a.message=="string"&&typeof a.name=="string"&&!Tu(a)}function h7(a){return typeof a=="number"&&ty(a)}function Xi(a){if(!Yt(a))return!1;var d=zr(a);return d==V||d==Z||d==x||d==Te}function wb(a){return typeof a=="number"&&a==ft(a)}function Lc(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=Y}function Yt(a){var d=typeof a;return a!=null&&(d=="object"||d=="function")}function Zt(a){return a!=null&&typeof a=="object"}var Sb=Bm?_n(Bm):yx;function p7(a,d){return a===d||a0(a,d,E0(d))}function g7(a,d,A){return A=typeof A=="function"?A:n,a0(a,d,E0(d),A)}function m7(a){return Ab(a)&&a!=+a}function y7(a){if(eT(a))throw new lt(r);return py(a)}function b7(a){return a===null}function v7(a){return a==null}function Ab(a){return typeof a=="number"||Zt(a)&&zr(a)==ne}function Tu(a){if(!Zt(a)||zr(a)!=fe)return!1;var d=sc(a);if(d===null)return!0;var A=Nt.call(d,"constructor")&&d.constructor;return typeof A=="function"&&A instanceof A&&rc.call(A)==g5}var N0=Dm?_n(Dm):bx;function _7(a){return wb(a)&&a>=-Y&&a<=Y}var Eb=Fm?_n(Fm):vx;function Ic(a){return typeof a=="string"||!ct(a)&&Zt(a)&&zr(a)==ye}function Sn(a){return typeof a=="symbol"||Zt(a)&&zr(a)==oe}var na=Hm?_n(Hm):_x;function w7(a){return a===n}function S7(a){return Zt(a)&&Fr(a)==xe}function A7(a){return Zt(a)&&zr(a)==K}var E7=Ec(l0),C7=Ec(function(a,d){return a<=d});function Cb(a){if(!a)return[];if(rn(a))return Ic(a)?si(a):tn(a);if(pu&&a[pu])return n5(a[pu]());var d=Fr(a),A=d==re?Yh:d==Se?Zl:ia;return A(a)}function Qi(a){if(!a)return a===0?a:0;if(a=$n(a),a===G||a===-G){var d=a<0?-1:1;return d*X}return a===a?a:0}function ft(a){var d=Qi(a),A=d%1;return d===d?A?d-A:d:0}function xb(a){return a?cs(ft(a),0,se):0}function $n(a){if(typeof a=="number")return a;if(Sn(a))return Q;if(Yt(a)){var d=typeof a.valueOf=="function"?a.valueOf():a;a=Yt(d)?d+"":d}if(typeof a!="string")return a===0?a:+a;a=zm(a);var A=sC.test(a);return A||uC.test(a)?UC(a.slice(2),A?2:8):oC.test(a)?Q:+a}function Tb(a){return Si(a,nn(a))}function x7(a){return a?cs(ft(a),-Y,Y):a===0?a:0}function Rt(a){return a==null?"":wn(a)}var T7=ea(function(a,d){if(Cu(d)||rn(d)){Si(d,mr(d),a);return}for(var A in d)Nt.call(d,A)&&vu(a,A,d[A])}),Pb=ea(function(a,d){Si(d,nn(d),a)}),Nc=ea(function(a,d,A,k){Si(d,nn(d),a,k)}),P7=ea(function(a,d,A,k){Si(d,mr(d),a,k)}),O7=Ki(r0);function M7(a,d){var A=Zs(a);return d==null?A:sy(A,d)}var k7=gt(function(a,d){a=jt(a);var A=-1,k=d.length,j=k>2?d[2]:n;for(j&&Vr(d[0],d[1],j)&&(k=1);++A<k;)for(var J=d[A],te=nn(J),ue=-1,me=te.length;++ue<me;){var Oe=te[ue],Me=a[Oe];(Me===n||ui(Me,Ys[Oe])&&!Nt.call(a,Oe))&&(a[Oe]=J[Oe])}return a}),R7=gt(function(a){return a.push(n,zy),vn(Ob,n,a)});function L7(a,d){return jm(a,tt(d,3),wi)}function I7(a,d){return jm(a,tt(d,3),i0)}function N7(a,d){return a==null?a:n0(a,tt(d,3),nn)}function B7(a,d){return a==null?a:dy(a,tt(d,3),nn)}function D7(a,d){return a&&wi(a,tt(d,3))}function F7(a,d){return a&&i0(a,tt(d,3))}function H7(a){return a==null?[]:mc(a,mr(a))}function U7(a){return a==null?[]:mc(a,nn(a))}function B0(a,d,A){var k=a==null?n:ds(a,d);return k===n?A:k}function j7(a,d){return a!=null&&Jy(a,d,cx)}function D0(a,d){return a!=null&&Jy(a,d,dx)}var q7=Uy(function(a,d,A){d!=null&&typeof d.toString!="function"&&(d=nc.call(d)),a[d]=A},H0(on)),G7=Uy(function(a,d,A){d!=null&&typeof d.toString!="function"&&(d=nc.call(d)),Nt.call(a,d)?a[d].push(A):a[d]=[A]},tt),W7=gt(wu);function mr(a){return rn(a)?iy(a):u0(a)}function nn(a){return rn(a)?iy(a,!0):wx(a)}function z7(a,d){var A={};return d=tt(d,3),wi(a,function(k,j,J){$i(A,d(k,j,J),k)}),A}function V7(a,d){var A={};return d=tt(d,3),wi(a,function(k,j,J){$i(A,j,d(k,j,J))}),A}var $7=ea(function(a,d,A){yc(a,d,A)}),Ob=ea(function(a,d,A,k){yc(a,d,A,k)}),J7=Ki(function(a,d){var A={};if(a==null)return A;var k=!1;d=Kt(d,function(J){return J=Io(J,a),k||(k=J.length>1),J}),Si(a,S0(a),A),k&&(A=Wn(A,u|m|y,qx));for(var j=d.length;j--;)p0(A,d[j]);return A});function K7(a,d){return Mb(a,Rc(tt(d)))}var Y7=Ki(function(a,d){return a==null?{}:Ax(a,d)});function Mb(a,d){if(a==null)return{};var A=Kt(S0(a),function(k){return[k]});return d=tt(d),wy(a,A,function(k,j){return d(k,j[0])})}function X7(a,d,A){d=Io(d,a);var k=-1,j=d.length;for(j||(j=1,a=n);++k<j;){var J=a==null?n:a[Ai(d[k])];J===n&&(k=j,J=A),a=Xi(J)?J.call(a):J}return a}function Q7(a,d,A){return a==null?a:Au(a,d,A)}function Z7(a,d,A,k){return k=typeof k=="function"?k:n,a==null?a:Au(a,d,A,k)}var kb=Gy(mr),Rb=Gy(nn);function e9(a,d,A){var k=ct(a),j=k||Bo(a)||na(a);if(d=tt(d,4),A==null){var J=a&&a.constructor;j?A=k?new J:[]:Yt(a)?A=Xi(J)?Zs(sc(a)):{}:A={}}return(j?jn:wi)(a,function(te,ue,me){return d(A,te,ue,me)}),A}function t9(a,d){return a==null?!0:p0(a,d)}function r9(a,d,A){return a==null?a:xy(a,d,y0(A))}function n9(a,d,A,k){return k=typeof k=="function"?k:n,a==null?a:xy(a,d,y0(A),k)}function ia(a){return a==null?[]:Kh(a,mr(a))}function i9(a){return a==null?[]:Kh(a,nn(a))}function o9(a,d,A){return A===n&&(A=d,d=n),A!==n&&(A=$n(A),A=A===A?A:0),d!==n&&(d=$n(d),d=d===d?d:0),cs($n(a),d,A)}function s9(a,d,A){return d=Qi(d),A===n?(A=d,d=0):A=Qi(A),a=$n(a),fx(a,d,A)}function a9(a,d,A){if(A&&typeof A!="boolean"&&Vr(a,d,A)&&(d=A=n),A===n&&(typeof d=="boolean"?(A=d,d=n):typeof a=="boolean"&&(A=a,a=n)),a===n&&d===n?(a=0,d=1):(a=Qi(a),d===n?(d=a,a=0):d=Qi(d)),a>d){var k=a;a=d,d=k}if(A||a%1||d%1){var j=ry();return Dr(a+j*(d-a+HC("1e-"+((j+"").length-1))),d)}return d0(a,d)}var u9=ta(function(a,d,A){return d=d.toLowerCase(),a+(A?Lb(d):d)});function Lb(a){return F0(Rt(a).toLowerCase())}function Ib(a){return a=Rt(a),a&&a.replace(cC,QC).replace(OC,"")}function l9(a,d,A){a=Rt(a),d=wn(d);var k=a.length;A=A===n?k:cs(ft(A),0,k);var j=A;return A-=d.length,A>=0&&a.slice(A,j)==d}function c9(a){return a=Rt(a),a&&Hn.test(a)?a.replace(Ht,ZC):a}function d9(a){return a=Rt(a),a&&os.test(a)?a.replace(vi,"\\$&"):a}var f9=ta(function(a,d,A){return a+(A?"-":"")+d.toLowerCase()}),h9=ta(function(a,d,A){return a+(A?" ":"")+d.toLowerCase()}),p9=Dy("toLowerCase");function g9(a,d,A){a=Rt(a),d=ft(d);var k=d?Ks(a):0;if(!d||k>=d)return a;var j=(d-k)/2;return Ac(cc(j),A)+a+Ac(lc(j),A)}function m9(a,d,A){a=Rt(a),d=ft(d);var k=d?Ks(a):0;return d&&k<d?a+Ac(d-k,A):a}function y9(a,d,A){a=Rt(a),d=ft(d);var k=d?Ks(a):0;return d&&k<d?Ac(d-k,A)+a:a}function b9(a,d,A){return A||d==null?d=0:d&&(d=+d),C5(Rt(a).replace(_i,""),d||0)}function v9(a,d,A){return(A?Vr(a,d,A):d===n)?d=1:d=ft(d),f0(Rt(a),d)}function _9(){var a=arguments,d=Rt(a[0]);return a.length<3?d:d.replace(a[1],a[2])}var w9=ta(function(a,d,A){return a+(A?"_":"")+d.toLowerCase()});function S9(a,d,A){return A&&typeof A!="number"&&Vr(a,d,A)&&(d=A=n),A=A===n?se:A>>>0,A?(a=Rt(a),a&&(typeof d=="string"||d!=null&&!N0(d))&&(d=wn(d),!d&&Js(a))?No(si(a),0,A):a.split(d,A)):[]}var A9=ta(function(a,d,A){return a+(A?" ":"")+F0(d)});function E9(a,d,A){return a=Rt(a),A=A==null?0:cs(ft(A),0,a.length),d=wn(d),a.slice(A,A+d.length)==d}function C9(a,d,A){var k=$.templateSettings;A&&Vr(a,d,A)&&(d=n),a=Rt(a),d=Nc({},d,k,Wy);var j=Nc({},d.imports,k.imports,Wy),J=mr(j),te=Kh(j,J),ue,me,Oe=0,Me=d.interpolate||Jl,Ie="__p += '",Ge=Xh((d.escape||Jl).source+"|"+Me.source+"|"+(Me===bn?iC:Jl).source+"|"+(d.evaluate||Jl).source+"|$","g"),Qe="//# sourceURL="+(Nt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++IC+"]")+`
`;a.replace(Ge,function(it,vt,xt,An,$r,En){return xt||(xt=An),Ie+=a.slice(Oe,En).replace(dC,e5),vt&&(ue=!0,Ie+=`' +
__e(`+vt+`) +
'`),$r&&(me=!0,Ie+=`';
`+$r+`;
__p += '`),xt&&(Ie+=`' +
((__t = (`+xt+`)) == null ? '' : __t) +
'`),Oe=En+it.length,it}),Ie+=`';
`;var nt=Nt.call(d,"variable")&&d.variable;if(!nt)Ie=`with (obj) {
`+Ie+`
}
`;else if(rC.test(nt))throw new lt(o);Ie=(me?Ie.replace(je,""):Ie).replace(Be,"$1").replace(ut,"$1;"),Ie="function("+(nt||"obj")+`) {
`+(nt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ue?", __e = _.escape":"")+(me?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ie+`return __p
}`;var ht=Bb(function(){return kt(J,Qe+"return "+Ie).apply(n,te)});if(ht.source=Ie,I0(ht))throw ht;return ht}function x9(a){return Rt(a).toLowerCase()}function T9(a){return Rt(a).toUpperCase()}function P9(a,d,A){if(a=Rt(a),a&&(A||d===n))return zm(a);if(!a||!(d=wn(d)))return a;var k=si(a),j=si(d),J=Vm(k,j),te=$m(k,j)+1;return No(k,J,te).join("")}function O9(a,d,A){if(a=Rt(a),a&&(A||d===n))return a.slice(0,Km(a)+1);if(!a||!(d=wn(d)))return a;var k=si(a),j=$m(k,si(d))+1;return No(k,0,j).join("")}function M9(a,d,A){if(a=Rt(a),a&&(A||d===n))return a.replace(_i,"");if(!a||!(d=wn(d)))return a;var k=si(a),j=Vm(k,si(d));return No(k,j).join("")}function k9(a,d){var A=P,k=B;if(Yt(d)){var j="separator"in d?d.separator:j;A="length"in d?ft(d.length):A,k="omission"in d?wn(d.omission):k}a=Rt(a);var J=a.length;if(Js(a)){var te=si(a);J=te.length}if(A>=J)return a;var ue=A-Ks(k);if(ue<1)return k;var me=te?No(te,0,ue).join(""):a.slice(0,ue);if(j===n)return me+k;if(te&&(ue+=me.length-ue),N0(j)){if(a.slice(ue).search(j)){var Oe,Me=me;for(j.global||(j=Xh(j.source,Rt(hm.exec(j))+"g")),j.lastIndex=0;Oe=j.exec(Me);)var Ie=Oe.index;me=me.slice(0,Ie===n?ue:Ie)}}else if(a.indexOf(wn(j),ue)!=ue){var Ge=me.lastIndexOf(j);Ge>-1&&(me=me.slice(0,Ge))}return me+k}function R9(a){return a=Rt(a),a&&Br.test(a)?a.replace(Ct,a5):a}var L9=ta(function(a,d,A){return a+(A?" ":"")+d.toUpperCase()}),F0=Dy("toUpperCase");function Nb(a,d,A){return a=Rt(a),d=A?n:d,d===n?r5(a)?c5(a):$C(a):a.match(d)||[]}var Bb=gt(function(a,d){try{return vn(a,n,d)}catch(A){return I0(A)?A:new lt(A)}}),I9=Ki(function(a,d){return jn(d,function(A){A=Ai(A),$i(a,A,R0(a[A],a))}),a});function N9(a){var d=a==null?0:a.length,A=tt();return a=d?Kt(a,function(k){if(typeof k[1]!="function")throw new qn(i);return[A(k[0]),k[1]]}):[],gt(function(k){for(var j=-1;++j<d;){var J=a[j];if(vn(J[0],this,k))return vn(J[1],this,k)}})}function B9(a){return ax(Wn(a,u))}function H0(a){return function(){return a}}function D9(a,d){return a==null||a!==a?d:a}var F9=Hy(),H9=Hy(!0);function on(a){return a}function U0(a){return gy(typeof a=="function"?a:Wn(a,u))}function U9(a){return yy(Wn(a,u))}function j9(a,d){return by(a,Wn(d,u))}var q9=gt(function(a,d){return function(A){return wu(A,a,d)}}),G9=gt(function(a,d){return function(A){return wu(a,A,d)}});function j0(a,d,A){var k=mr(d),j=mc(d,k);A==null&&!(Yt(d)&&(j.length||!k.length))&&(A=d,d=a,a=this,j=mc(d,mr(d)));var J=!(Yt(A)&&"chain"in A)||!!A.chain,te=Xi(a);return jn(j,function(ue){var me=d[ue];a[ue]=me,te&&(a.prototype[ue]=function(){var Oe=this.__chain__;if(J||Oe){var Me=a(this.__wrapped__),Ie=Me.__actions__=tn(this.__actions__);return Ie.push({func:me,args:arguments,thisArg:a}),Me.__chain__=Oe,Me}return me.apply(a,Po([this.value()],arguments))})}),a}function W9(){return gr._===this&&(gr._=m5),this}function q0(){}function z9(a){return a=ft(a),gt(function(d){return vy(d,a)})}var V9=v0(Kt),$9=v0(Um),J9=v0(Wh);function Db(a){return x0(a)?zh(Ai(a)):Ex(a)}function K9(a){return function(d){return a==null?n:ds(a,d)}}var Y9=jy(),X9=jy(!0);function G0(){return[]}function W0(){return!1}function Q9(){return{}}function Z9(){return""}function eO(){return!0}function tO(a,d){if(a=ft(a),a<1||a>Y)return[];var A=se,k=Dr(a,se);d=tt(d),a-=se;for(var j=Jh(k,d);++A<a;)d(A);return j}function rO(a){return ct(a)?Kt(a,Ai):Sn(a)?[a]:tn(nb(Rt(a)))}function nO(a){var d=++p5;return Rt(a)+d}var iO=Sc(function(a,d){return a+d},0),oO=_0("ceil"),sO=Sc(function(a,d){return a/d},1),aO=_0("floor");function uO(a){return a&&a.length?gc(a,on,o0):n}function lO(a,d){return a&&a.length?gc(a,tt(d,2),o0):n}function cO(a){return Gm(a,on)}function dO(a,d){return Gm(a,tt(d,2))}function fO(a){return a&&a.length?gc(a,on,l0):n}function hO(a,d){return a&&a.length?gc(a,tt(d,2),l0):n}var pO=Sc(function(a,d){return a*d},1),gO=_0("round"),mO=Sc(function(a,d){return a-d},0);function yO(a){return a&&a.length?$h(a,on):0}function bO(a,d){return a&&a.length?$h(a,tt(d,2)):0}return $.after=UP,$.ary=pb,$.assign=T7,$.assignIn=Pb,$.assignInWith=Nc,$.assignWith=P7,$.at=O7,$.before=gb,$.bind=R0,$.bindAll=I9,$.bindKey=mb,$.castArray=QP,$.chain=db,$.chunk=aT,$.compact=uT,$.concat=lT,$.cond=N9,$.conforms=B9,$.constant=H0,$.countBy=yP,$.create=M7,$.curry=yb,$.curryRight=bb,$.debounce=vb,$.defaults=k7,$.defaultsDeep=R7,$.defer=jP,$.delay=qP,$.difference=cT,$.differenceBy=dT,$.differenceWith=fT,$.drop=hT,$.dropRight=pT,$.dropRightWhile=gT,$.dropWhile=mT,$.fill=yT,$.filter=vP,$.flatMap=SP,$.flatMapDeep=AP,$.flatMapDepth=EP,$.flatten=ab,$.flattenDeep=bT,$.flattenDepth=vT,$.flip=GP,$.flow=F9,$.flowRight=H9,$.fromPairs=_T,$.functions=H7,$.functionsIn=U7,$.groupBy=CP,$.initial=ST,$.intersection=AT,$.intersectionBy=ET,$.intersectionWith=CT,$.invert=q7,$.invertBy=G7,$.invokeMap=TP,$.iteratee=U0,$.keyBy=PP,$.keys=mr,$.keysIn=nn,$.map=Oc,$.mapKeys=z7,$.mapValues=V7,$.matches=U9,$.matchesProperty=j9,$.memoize=kc,$.merge=$7,$.mergeWith=Ob,$.method=q9,$.methodOf=G9,$.mixin=j0,$.negate=Rc,$.nthArg=z9,$.omit=J7,$.omitBy=K7,$.once=WP,$.orderBy=OP,$.over=V9,$.overArgs=zP,$.overEvery=$9,$.overSome=J9,$.partial=L0,$.partialRight=_b,$.partition=MP,$.pick=Y7,$.pickBy=Mb,$.property=Db,$.propertyOf=K9,$.pull=OT,$.pullAll=lb,$.pullAllBy=MT,$.pullAllWith=kT,$.pullAt=RT,$.range=Y9,$.rangeRight=X9,$.rearg=VP,$.reject=LP,$.remove=LT,$.rest=$P,$.reverse=M0,$.sampleSize=NP,$.set=Q7,$.setWith=Z7,$.shuffle=BP,$.slice=IT,$.sortBy=HP,$.sortedUniq=jT,$.sortedUniqBy=qT,$.split=S9,$.spread=JP,$.tail=GT,$.take=WT,$.takeRight=zT,$.takeRightWhile=VT,$.takeWhile=$T,$.tap=uP,$.throttle=KP,$.thru=Pc,$.toArray=Cb,$.toPairs=kb,$.toPairsIn=Rb,$.toPath=rO,$.toPlainObject=Tb,$.transform=e9,$.unary=YP,$.union=JT,$.unionBy=KT,$.unionWith=YT,$.uniq=XT,$.uniqBy=QT,$.uniqWith=ZT,$.unset=t9,$.unzip=k0,$.unzipWith=cb,$.update=r9,$.updateWith=n9,$.values=ia,$.valuesIn=i9,$.without=eP,$.words=Nb,$.wrap=XP,$.xor=tP,$.xorBy=rP,$.xorWith=nP,$.zip=iP,$.zipObject=oP,$.zipObjectDeep=sP,$.zipWith=aP,$.entries=kb,$.entriesIn=Rb,$.extend=Pb,$.extendWith=Nc,j0($,$),$.add=iO,$.attempt=Bb,$.camelCase=u9,$.capitalize=Lb,$.ceil=oO,$.clamp=o9,$.clone=ZP,$.cloneDeep=t7,$.cloneDeepWith=r7,$.cloneWith=e7,$.conformsTo=n7,$.deburr=Ib,$.defaultTo=D9,$.divide=sO,$.endsWith=l9,$.eq=ui,$.escape=c9,$.escapeRegExp=d9,$.every=bP,$.find=_P,$.findIndex=ob,$.findKey=L7,$.findLast=wP,$.findLastIndex=sb,$.findLastKey=I7,$.floor=aO,$.forEach=fb,$.forEachRight=hb,$.forIn=N7,$.forInRight=B7,$.forOwn=D7,$.forOwnRight=F7,$.get=B0,$.gt=i7,$.gte=o7,$.has=j7,$.hasIn=D0,$.head=ub,$.identity=on,$.includes=xP,$.indexOf=wT,$.inRange=s9,$.invoke=W7,$.isArguments=ps,$.isArray=ct,$.isArrayBuffer=s7,$.isArrayLike=rn,$.isArrayLikeObject=tr,$.isBoolean=a7,$.isBuffer=Bo,$.isDate=u7,$.isElement=l7,$.isEmpty=c7,$.isEqual=d7,$.isEqualWith=f7,$.isError=I0,$.isFinite=h7,$.isFunction=Xi,$.isInteger=wb,$.isLength=Lc,$.isMap=Sb,$.isMatch=p7,$.isMatchWith=g7,$.isNaN=m7,$.isNative=y7,$.isNil=v7,$.isNull=b7,$.isNumber=Ab,$.isObject=Yt,$.isObjectLike=Zt,$.isPlainObject=Tu,$.isRegExp=N0,$.isSafeInteger=_7,$.isSet=Eb,$.isString=Ic,$.isSymbol=Sn,$.isTypedArray=na,$.isUndefined=w7,$.isWeakMap=S7,$.isWeakSet=A7,$.join=xT,$.kebabCase=f9,$.last=Vn,$.lastIndexOf=TT,$.lowerCase=h9,$.lowerFirst=p9,$.lt=E7,$.lte=C7,$.max=uO,$.maxBy=lO,$.mean=cO,$.meanBy=dO,$.min=fO,$.minBy=hO,$.stubArray=G0,$.stubFalse=W0,$.stubObject=Q9,$.stubString=Z9,$.stubTrue=eO,$.multiply=pO,$.nth=PT,$.noConflict=W9,$.noop=q0,$.now=Mc,$.pad=g9,$.padEnd=m9,$.padStart=y9,$.parseInt=b9,$.random=a9,$.reduce=kP,$.reduceRight=RP,$.repeat=v9,$.replace=_9,$.result=X7,$.round=gO,$.runInContext=ge,$.sample=IP,$.size=DP,$.snakeCase=w9,$.some=FP,$.sortedIndex=NT,$.sortedIndexBy=BT,$.sortedIndexOf=DT,$.sortedLastIndex=FT,$.sortedLastIndexBy=HT,$.sortedLastIndexOf=UT,$.startCase=A9,$.startsWith=E9,$.subtract=mO,$.sum=yO,$.sumBy=bO,$.template=C9,$.times=tO,$.toFinite=Qi,$.toInteger=ft,$.toLength=xb,$.toLower=x9,$.toNumber=$n,$.toSafeInteger=x7,$.toString=Rt,$.toUpper=T9,$.trim=P9,$.trimEnd=O9,$.trimStart=M9,$.truncate=k9,$.unescape=R9,$.uniqueId=nO,$.upperCase=L9,$.upperFirst=F0,$.each=fb,$.eachRight=hb,$.first=ub,j0($,function(){var a={};return wi($,function(d,A){Nt.call($.prototype,A)||(a[A]=d)}),a}(),{chain:!1}),$.VERSION=e,jn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){$[a].placeholder=$}),jn(["drop","take"],function(a,d){At.prototype[a]=function(A){A=A===n?1:ur(ft(A),0);var k=this.__filtered__&&!d?new At(this):this.clone();return k.__filtered__?k.__takeCount__=Dr(A,k.__takeCount__):k.__views__.push({size:Dr(A,se),type:a+(k.__dir__<0?"Right":"")}),k},At.prototype[a+"Right"]=function(A){return this.reverse()[a](A).reverse()}}),jn(["filter","map","takeWhile"],function(a,d){var A=d+1,k=A==D||A==q;At.prototype[a]=function(j){var J=this.clone();return J.__iteratees__.push({iteratee:tt(j,3),type:A}),J.__filtered__=J.__filtered__||k,J}}),jn(["head","last"],function(a,d){var A="take"+(d?"Right":"");At.prototype[a]=function(){return this[A](1).value()[0]}}),jn(["initial","tail"],function(a,d){var A="drop"+(d?"":"Right");At.prototype[a]=function(){return this.__filtered__?new At(this):this[A](1)}}),At.prototype.compact=function(){return this.filter(on)},At.prototype.find=function(a){return this.filter(a).head()},At.prototype.findLast=function(a){return this.reverse().find(a)},At.prototype.invokeMap=gt(function(a,d){return typeof a=="function"?new At(this):this.map(function(A){return wu(A,a,d)})}),At.prototype.reject=function(a){return this.filter(Rc(tt(a)))},At.prototype.slice=function(a,d){a=ft(a);var A=this;return A.__filtered__&&(a>0||d<0)?new At(A):(a<0?A=A.takeRight(-a):a&&(A=A.drop(a)),d!==n&&(d=ft(d),A=d<0?A.dropRight(-d):A.take(d-a)),A)},At.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},At.prototype.toArray=function(){return this.take(se)},wi(At.prototype,function(a,d){var A=/^(?:filter|find|map|reject)|While$/.test(d),k=/^(?:head|last)$/.test(d),j=$[k?"take"+(d=="last"?"Right":""):d],J=k||/^find/.test(d);j&&($.prototype[d]=function(){var te=this.__wrapped__,ue=k?[1]:arguments,me=te instanceof At,Oe=ue[0],Me=me||ct(te),Ie=function(vt){var xt=j.apply($,Po([vt],ue));return k&&Ge?xt[0]:xt};Me&&A&&typeof Oe=="function"&&Oe.length!=1&&(me=Me=!1);var Ge=this.__chain__,Qe=!!this.__actions__.length,nt=J&&!Ge,ht=me&&!Qe;if(!J&&Me){te=ht?te:new At(this);var it=a.apply(te,ue);return it.__actions__.push({func:Pc,args:[Ie],thisArg:n}),new Gn(it,Ge)}return nt&&ht?a.apply(this,ue):(it=this.thru(Ie),nt?k?it.value()[0]:it.value():it)})}),jn(["pop","push","shift","sort","splice","unshift"],function(a){var d=ec[a],A=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",k=/^(?:pop|shift)$/.test(a);$.prototype[a]=function(){var j=arguments;if(k&&!this.__chain__){var J=this.value();return d.apply(ct(J)?J:[],j)}return this[A](function(te){return d.apply(ct(te)?te:[],j)})}}),wi(At.prototype,function(a,d){var A=$[d];if(A){var k=A.name+"";Nt.call(Qs,k)||(Qs[k]=[]),Qs[k].push({name:d,func:A})}}),Qs[wc(n,h).name]=[{name:"wrapper",func:n}],At.prototype.clone=R5,At.prototype.reverse=L5,At.prototype.value=I5,$.prototype.at=lP,$.prototype.chain=cP,$.prototype.commit=dP,$.prototype.next=fP,$.prototype.plant=pP,$.prototype.reverse=gP,$.prototype.toJSON=$.prototype.valueOf=$.prototype.value=mP,$.prototype.first=$.prototype.head,pu&&($.prototype[pu]=hP),$},Mo=d5();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(gr._=Mo,define(function(){return Mo})):ss?((ss.exports=Mo)._=Mo,Uh._=Mo):gr._=Mo}).call(Ha)});var p1=le((CJ,h1)=>{L();var Hw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);Hw?(d1=new Uint8Array(16),h1.exports=function(){return Hw(d1),d1}):(f1=new Array(16),h1.exports=function(){for(var e=0,t;e<16;e++)e&3||(t=Math.random()*4294967296),f1[e]=t>>>((e&3)<<3)&255;return f1});var d1,f1});var g1=le((TJ,jw)=>{L();var Uw=[];for(Ol=0;Ol<256;++Ol)Uw[Ol]=(Ol+256).toString(16).substr(1);var Ol;function ED(n,e){var t=e||0,r=Uw;return[r[n[t++]],r[n[t++]],r[n[t++]],r[n[t++]],"-",r[n[t++]],r[n[t++]],"-",r[n[t++]],r[n[t++]],"-",r[n[t++]],r[n[t++]],"-",r[n[t++]],r[n[t++]],r[n[t++]],r[n[t++]],r[n[t++]],r[n[t++]]].join("")}jw.exports=ED});var Ww=le((OJ,Gw)=>{L();var CD=p1(),xD=g1(),qw,m1,y1=0,b1=0;function TD(n,e,t){var r=e&&t||0,i=e||[];n=n||{};var o=n.node||qw,s=n.clockseq!==void 0?n.clockseq:m1;if(o==null||s==null){var l=CD();o==null&&(o=qw=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),s==null&&(s=m1=(l[6]<<8|l[7])&16383)}var f=n.msecs!==void 0?n.msecs:new Date().getTime(),u=n.nsecs!==void 0?n.nsecs:b1+1,m=f-y1+(u-b1)/1e4;if(m<0&&n.clockseq===void 0&&(s=s+1&16383),(m<0||f>y1)&&n.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y1=f,b1=u,m1=s,f+=122192928e5;var y=((f&268435455)*1e4+u)%4294967296;i[r++]=y>>>24&255,i[r++]=y>>>16&255,i[r++]=y>>>8&255,i[r++]=y&255;var _=f/4294967296*1e4&268435455;i[r++]=_>>>8&255,i[r++]=_&255,i[r++]=_>>>24&15|16,i[r++]=_>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var v=0;v<6;++v)i[r+v]=o[v];return e||xD(i)}Gw.exports=TD});var Vw=le((kJ,zw)=>{L();var PD=p1(),OD=g1();function MD(n,e,t){var r=e&&t||0;typeof n=="string"&&(e=n==="binary"?new Array(16):null,n=null),n=n||{};var i=n.random||(n.rng||PD)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e)for(var o=0;o<16;++o)e[r+o]=i[o];return e||OD(i)}zw.exports=MD});var _1=le((LJ,Jw)=>{L();var kD=Ww(),$w=Vw(),v1=$w;v1.v1=kD;v1.v4=$w;Jw.exports=v1});var Zw=le(Bs=>{"use strict";L();var S1;Object.defineProperty(Bs,"__esModule",{value:!0});Bs.MediaOverlayNode=Bs.timeStrToSeconds=void 0;var bo=(Yn(),Cn(Kn)),Qo=Tr(),ID=Fo();function ND(n){if(!n)return 0;n=n.replace("npt=","");let e=0,t=0,r=0;try{let i=n.indexOf("min");if(i>0){let o=n.substr(0,i);t=parseFloat(o)}else{let o=n.indexOf("ms");if(o>0){let s=n.substr(0,o);r=parseFloat(s)/1e3}else{let s=n.indexOf("s");if(s>0){let l=n.substr(0,s);r=parseFloat(l)}else{let l=n.indexOf("h");if(l>0){let f=n.substr(0,l);e=parseFloat(f)}else{let f=n.split(":");f.length===1?r=parseFloat(f[0]):f.length===2?(t=parseFloat(f[0]),r=parseFloat(f[1])):f.length===3?(e=parseFloat(f[0]),t=parseFloat(f[1]),r=parseFloat(f[2])):(console.log("SMIL TIME CLOCK SYNTAX PARSING ERROR ??"),console.log(n))}}}}}catch(i){return console.log(i),console.log("SMIL TIME CLOCK SYNTAX PARSING ERROR!"),console.log(n),0}return e*3600+t*60+r}Bs.timeStrToSeconds=ND;var za=Bs.MediaOverlayNode=S1=class{constructor(){this.initialized=!1}};bo.__decorate([(0,Qo.JsonProperty)("text"),bo.__metadata("design:type",String)],za.prototype,"Text",void 0);bo.__decorate([(0,Qo.JsonProperty)("audio"),bo.__metadata("design:type",String)],za.prototype,"Audio",void 0);bo.__decorate([(0,Qo.JsonProperty)("role"),(0,Qo.JsonConverter)(ID.JsonStringConverter),(0,Qo.JsonElementType)(String),bo.__metadata("design:type",Array)],za.prototype,"Role",void 0);bo.__decorate([(0,Qo.JsonProperty)("narration"),(0,Qo.JsonElementType)(S1),bo.__metadata("design:type",Array)],za.prototype,"Children",void 0);Bs.MediaOverlayNode=za=S1=bo.__decorate([(0,Qo.JsonObject)()],za)});var n8=le((Ml,C1)=>{L();(function(n,e){typeof Ml=="object"&&typeof C1=="object"?C1.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Ml=="object"?Ml.devtoolsDetector=e():n.devtoolsDetector=e()})(typeof self<"u"?self:Ml,function(){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(r,i,o){t.o(r,i)||Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:o})},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=3)}([function(n,e,t){"use strict";t.d(e,"j",function(){return m}),t.d(e,"e",function(){return y}),t.d(e,"f",function(){return _}),t.d(e,"d",function(){return v}),t.d(e,"i",function(){return p}),t.d(e,"g",function(){return h}),t.d(e,"c",function(){return c}),t.d(e,"h",function(){return g}),e.a=function(){for(var S,E=[],b=0;b<arguments.length;b++)E[b]=arguments[b];return u!=null&&u.document?(S=u.document).createElement.apply(S,E):{}},t.d(e,"b",function(){return w});var r,i,o,s,l,f=t(1),u=Object(f.a)(),m=((r=u==null?void 0:u.navigator)===null||r===void 0?void 0:r.userAgent)||"unknown",y="InstallTrigger"in((u==null?void 0:u.window)||{})||/firefox/i.test(m),_=/trident/i.test(m)||/msie/i.test(m),v=/edge/i.test(m),p=/webkit/i.test(m)&&!v,h=/IqiyiApp/.test(m),c=((i=u==null?void 0:u.window)===null||i===void 0?void 0:i.chrome)!==void 0||/chrome/i.test(m)||/CriOS/i.test(m),g=(((s=(o=u==null?void 0:u.window)===null||o===void 0?void 0:o.safari)===null||s===void 0?void 0:s.pushNotification)||!1).toString()==="[object SafariRemoteNotification]"||/safari/i.test(m)&&!c,w=typeof((l=u.document)===null||l===void 0?void 0:l.createElement)=="function"},function(n,e,t){"use strict";(function(r){e.c=function(){return typeof performance<"u"?performance.now():Date.now()},e.b=function(s){s===void 0&&(s={});for(var l=s.includes,f=l===void 0?[]:l,u=s.excludes,m=u===void 0?[]:u,y=!1,_=!1,v=0,p=f;v<p.length;v++){var h=p[v];if(h===!0){y=!0;break}}for(var c=0,g=m;c<g.length;c++){var h=g[c];if(h===!0){_=!0;break}}return y&&!_},e.d=function(s,l,f){var u=o.a[s];return u===void 0?!1:Object(i.compare)(u,l,f)},e.a=function(){return typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:this};var i=t(8),o=(t.n(i),t(4))}).call(e,t(7))},function(n,e,t){"use strict";t.d(e,"b",function(){return o}),t.d(e,"c",function(){return s}),t.d(e,"a",function(){return l});var r=t(0);function i(f){if(console){if(!r.f&&!r.d)return console[f];if(f==="log"||f==="clear")return function(){for(var u=[],m=0;m<arguments.length;m++)u[m]=arguments[m];console[f].apply(console,u)}}return function(){for(var u=[],m=0;m<arguments.length;m++)u[m]=arguments[m]}}var o=i("log"),s=i("table"),l=i("clear")},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addListener=function(y){m.addListener(y)},e.removeListener=function(y){m.removeListener(y)},e.isLaunch=function(){return m.isLaunch()},e.launch=function(){m.launch()},e.stop=function(){m.stop()},e.setDetectDelay=function(y){m.setDetectDelay(y)};var r=t(6),i=t(9);t.d(e,"DevtoolsDetector",function(){return r.a}),t.d(e,"checkers",function(){return i});var o=t(1);t.d(e,"match",function(){return o.b}),t.d(e,"specificVersionMatch",function(){return o.d});var s=t(0);t.d(e,"userAgent",function(){return s.j}),t.d(e,"isFirefox",function(){return s.e}),t.d(e,"isIE",function(){return s.f}),t.d(e,"isEdge",function(){return s.d}),t.d(e,"isWebkit",function(){return s.i}),t.d(e,"isIqiyiApp",function(){return s.g}),t.d(e,"isChrome",function(){return s.c}),t.d(e,"isSafari",function(){return s.h}),t.d(e,"createElement",function(){return s.a}),t.d(e,"inBrowser",function(){return s.b});var l=t(2);t.d(e,"log",function(){return l.b}),t.d(e,"table",function(){return l.c}),t.d(e,"clear",function(){return l.a});var f=t(4);t.d(e,"versionMap",function(){return f.a});var u=t(5);t.d(e,"isMac",function(){return u.d}),t.d(e,"isIpad",function(){return u.b}),t.d(e,"isIphone",function(){return u.c}),t.d(e,"isAndroid",function(){return u.a}),t.d(e,"isWindows",function(){return u.e});var m=new r.a({checkers:[i.erudaChecker,i.elementIdChecker,i.regToStringChecker,i.functionToStringChecker,i.depRegToStringChecker,i.dateToStringChecker,i.performanceChecker,i.debuggerChecker]});e.default=m},function(n,e,t){"use strict";t.d(e,"a",function(){return r});for(var r={},i=0,o=(t(0).j||"").match(/\w+\/(\d|\.)+(\s|$)/gi)||[];i<o.length;i++){var s=o[i].split("/"),l=s[0],f=s[1];r[l]=f}},function(n,e,t){"use strict";t.d(e,"d",function(){return i}),t.d(e,"b",function(){return o}),t.d(e,"c",function(){return s}),t.d(e,"a",function(){return l}),t.d(e,"e",function(){return f});var r=t(0),i=/macintosh/i.test(r.j),o=/ipad/i.test(r.j)||i&&navigator.maxTouchPoints>1,s=/iphone/i.test(r.j),l=/android/i.test(r.j),f=/windows/i.test(r.j)},function(n,e,t){"use strict";t.d(e,"a",function(){return s});var r=t(0),i=this&&this.__awaiter||function(l,f,u,m){return new(u||(u=Promise))(function(y,_){function v(c){try{h(m.next(c))}catch(g){_(g)}}function p(c){try{h(m.throw(c))}catch(g){_(g)}}function h(c){c.done?y(c.value):function(g){return g instanceof u?g:new u(function(w){w(g)})}(c.value).then(v,p)}h((m=m.apply(l,f||[])).next())})},o=this&&this.__generator||function(l,f){var u,m,y,_,v={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return _={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function p(h){return function(c){return function(g){if(u)throw new TypeError("Generator is already executing.");for(;v;)try{if(u=1,m&&(y=2&g[0]?m.return:g[0]?m.throw||((y=m.return)&&y.call(m),0):m.next)&&!(y=y.call(m,g[1])).done)return y;switch(m=0,y&&(g=[2&g[0],y.value]),g[0]){case 0:case 1:y=g;break;case 4:return v.label++,{value:g[1],done:!1};case 5:v.label++,m=g[1],g=[0];continue;case 7:g=v.ops.pop(),v.trys.pop();continue;default:if(!(y=(y=v.trys).length>0&&y[y.length-1])&&(g[0]===6||g[0]===2)){v=0;continue}if(g[0]===3&&(!y||g[1]>y[0]&&g[1]<y[3])){v.label=g[1];break}if(g[0]===6&&v.label<y[1]){v.label=y[1],y=g;break}if(y&&v.label<y[2]){v.label=y[2],v.ops.push(g);break}y[2]&&v.ops.pop(),v.trys.pop();continue}g=f.call(l,v)}catch(w){g=[6,w],m=0}finally{u=y=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([h,c])}}},s=function(){function l(f){var u=f.checkers;this._listeners=[],this._isOpen=!1,this._detectLoopStopped=!0,this._detectLoopDelay=500,this._checkers=u.slice()}return l.prototype.launch=function(){r.b&&(this._detectLoopDelay<=0&&this.setDetectDelay(500),this._detectLoopStopped&&(this._detectLoopStopped=!1,this._detectLoop()))},l.prototype.stop=function(){this._detectLoopStopped||(this._detectLoopStopped=!0,clearTimeout(this._timer))},l.prototype.isLaunch=function(){return!this._detectLoopStopped},l.prototype.setDetectDelay=function(f){this._detectLoopDelay=f},l.prototype.addListener=function(f){this._listeners.push(f)},l.prototype.removeListener=function(f){this._listeners=this._listeners.filter(function(u){return u!==f})},l.prototype._broadcast=function(f){for(var u=0,m=this._listeners;u<m.length;u++){var y=m[u];try{y(f.isOpen,f)}catch{}}},l.prototype._detectLoop=function(){return i(this,void 0,void 0,function(){var f,u,m,y,_,v=this;return o(this,function(p){switch(p.label){case 0:f=!1,u="",m=0,y=this._checkers,p.label=1;case 1:return m<y.length?[4,(_=y[m]).isEnable()]:[3,6];case 2:return p.sent()?(u=_.name,[4,_.isOpen()]):[3,4];case 3:f=p.sent(),p.label=4;case 4:if(f)return[3,6];p.label=5;case 5:return m++,[3,1];case 6:return f!=this._isOpen&&(this._isOpen=f,this._broadcast({isOpen:f,checkerName:u})),this._detectLoopDelay>0&&!this._detectLoopStopped?this._timer=setTimeout(function(){return v._detectLoop()},this._detectLoopDelay):this.stop(),[2]}})})},l}()},function(n,e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(t=window)}n.exports=t},function(n,e,t){var r,i,o;(function(s,l){i=[],(o=typeof(r=l)=="function"?r.apply(e,i):r)===void 0||(n.exports=o)})(0,function(){var s=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function l(v){var p=v.replace(/^v/,"").replace(/\+.*$/,""),h=function(g,w){return g.indexOf(w)===-1?g.length:g.indexOf(w)}(p,"-"),c=p.substring(0,h).split(".");return c.push(p.substring(h+1)),c}function f(v){return isNaN(Number(v))?v:Number(v)}function u(v){if(typeof v!="string")throw new TypeError("Invalid argument expected string");if(!s.test(v))throw new Error("Invalid argument not valid semver ('"+v+"' received)")}function m(v,p){[v,p].forEach(u);for(var h=l(v),c=l(p),g=0;g<Math.max(h.length-1,c.length-1);g++){var w=parseInt(h[g]||0,10),S=parseInt(c[g]||0,10);if(w>S)return 1;if(S>w)return-1}var E=h[h.length-1],b=c[c.length-1];if(E&&b){var C=E.split(".").map(f),M=b.split(".").map(f);for(g=0;g<Math.max(C.length,M.length);g++){if(C[g]===void 0||typeof M[g]=="string"&&typeof C[g]=="number")return-1;if(M[g]===void 0||typeof C[g]=="string"&&typeof M[g]=="number"||C[g]>M[g])return 1;if(M[g]>C[g])return-1}}else if(E||b)return E?-1:1;return 0}var y=[">",">=","=","<","<="],_={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return m.validate=function(v){return typeof v=="string"&&s.test(v)},m.compare=function(v,p,h){(function(g){if(typeof g!="string")throw new TypeError("Invalid operator type, expected string but got "+typeof g);if(y.indexOf(g)===-1)throw new TypeError("Invalid operator, expected one of "+y.join("|"))})(h);var c=m(v,p);return _[h].indexOf(c)>-1},m})},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(10);t.d(e,"depRegToStringChecker",function(){return r.a});var i=t(11);t.d(e,"elementIdChecker",function(){return i.a});var o=t(12);t.d(e,"functionToStringChecker",function(){return o.a});var s=t(13);t.d(e,"regToStringChecker",function(){return s.a});var l=t(14);t.d(e,"debuggerChecker",function(){return l.a});var f=t(15);t.d(e,"dateToStringChecker",function(){return f.a});var u=t(16);t.d(e,"performanceChecker",function(){return u.a});var m=t(17);t.d(e,"erudaChecker",function(){return m.a})},function(n,e,t){"use strict";t.d(e,"a",function(){return m});var r=t(0),i=t(2),o=t(1),s=this&&this.__awaiter||function(y,_,v,p){return new(v||(v=Promise))(function(h,c){function g(E){try{S(p.next(E))}catch(b){c(b)}}function w(E){try{S(p.throw(E))}catch(b){c(b)}}function S(E){E.done?h(E.value):function(b){return b instanceof v?b:new v(function(C){C(b)})}(E.value).then(g,w)}S((p=p.apply(y,_||[])).next())})},l=this&&this.__generator||function(y,_){var v,p,h,c,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return c={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function w(S){return function(E){return function(b){if(v)throw new TypeError("Generator is already executing.");for(;g;)try{if(v=1,p&&(h=2&b[0]?p.return:b[0]?p.throw||((h=p.return)&&h.call(p),0):p.next)&&!(h=h.call(p,b[1])).done)return h;switch(p=0,h&&(b=[2&b[0],h.value]),b[0]){case 0:case 1:h=b;break;case 4:return g.label++,{value:b[1],done:!1};case 5:g.label++,p=b[1],b=[0];continue;case 7:b=g.ops.pop(),g.trys.pop();continue;default:if(!(h=(h=g.trys).length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){g=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){g.label=b[1];break}if(b[0]===6&&g.label<h[1]){g.label=h[1],h=b;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(b);break}h[2]&&g.ops.pop(),g.trys.pop();continue}b=_.call(y,g)}catch(C){b=[6,C],p=0}finally{v=h=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([S,E])}}},f=/ /,u=!1;f.toString=function(){return u=!0,m.name};var m={name:"dep-reg-to-string",isOpen:function(){return s(this,void 0,void 0,function(){return l(this,function(y){return u=!1,Object(i.c)({dep:f}),Object(i.a)(),[2,u]})})},isEnable:function(){return s(this,void 0,void 0,function(){return l(this,function(y){return[2,Object(o.b)({includes:[!0],excludes:[r.e,r.f]})]})})}}},function(n,e,t){"use strict";t.d(e,"a",function(){return m});var r=t(0),i=t(2),o=t(1),s=this&&this.__awaiter||function(y,_,v,p){return new(v||(v=Promise))(function(h,c){function g(E){try{S(p.next(E))}catch(b){c(b)}}function w(E){try{S(p.throw(E))}catch(b){c(b)}}function S(E){E.done?h(E.value):function(b){return b instanceof v?b:new v(function(C){C(b)})}(E.value).then(g,w)}S((p=p.apply(y,_||[])).next())})},l=this&&this.__generator||function(y,_){var v,p,h,c,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return c={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function w(S){return function(E){return function(b){if(v)throw new TypeError("Generator is already executing.");for(;g;)try{if(v=1,p&&(h=2&b[0]?p.return:b[0]?p.throw||((h=p.return)&&h.call(p),0):p.next)&&!(h=h.call(p,b[1])).done)return h;switch(p=0,h&&(b=[2&b[0],h.value]),b[0]){case 0:case 1:h=b;break;case 4:return g.label++,{value:b[1],done:!1};case 5:g.label++,p=b[1],b=[0];continue;case 7:b=g.ops.pop(),g.trys.pop();continue;default:if(!(h=(h=g.trys).length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){g=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){g.label=b[1];break}if(b[0]===6&&g.label<h[1]){g.label=h[1],h=b;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(b);break}h[2]&&g.ops.pop(),g.trys.pop();continue}b=_.call(y,g)}catch(C){b=[6,C],p=0}finally{v=h=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([S,E])}}},f=Object(r.a)("div"),u=!1;Object.defineProperty(f,"id",{get:function(){return u=!0,m.name},configurable:!0});var m={name:"element-id",isOpen:function(){return s(this,void 0,void 0,function(){return l(this,function(y){return u=!1,Object(i.b)(f),Object(i.a)(),[2,u]})})},isEnable:function(){return s(this,void 0,void 0,function(){return l(this,function(y){return[2,Object(o.b)({includes:[!0],excludes:[r.f,r.d,r.e]})]})})}}},function(n,e,t){"use strict";t.d(e,"a",function(){return y});var r=t(0),i=t(2),o=t(5),s=t(1),l=this&&this.__awaiter||function(_,v,p,h){return new(p||(p=Promise))(function(c,g){function w(b){try{E(h.next(b))}catch(C){g(C)}}function S(b){try{E(h.throw(b))}catch(C){g(C)}}function E(b){b.done?c(b.value):function(C){return C instanceof p?C:new p(function(M){M(C)})}(b.value).then(w,S)}E((h=h.apply(_,v||[])).next())})},f=this&&this.__generator||function(_,v){var p,h,c,g,w={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return g={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function S(E){return function(b){return function(C){if(p)throw new TypeError("Generator is already executing.");for(;w;)try{if(p=1,h&&(c=2&C[0]?h.return:C[0]?h.throw||((c=h.return)&&c.call(h),0):h.next)&&!(c=c.call(h,C[1])).done)return c;switch(h=0,c&&(C=[2&C[0],c.value]),C[0]){case 0:case 1:c=C;break;case 4:return w.label++,{value:C[1],done:!1};case 5:w.label++,h=C[1],C=[0];continue;case 7:C=w.ops.pop(),w.trys.pop();continue;default:if(!(c=(c=w.trys).length>0&&c[c.length-1])&&(C[0]===6||C[0]===2)){w=0;continue}if(C[0]===3&&(!c||C[1]>c[0]&&C[1]<c[3])){w.label=C[1];break}if(C[0]===6&&w.label<c[1]){w.label=c[1],c=C;break}if(c&&w.label<c[2]){w.label=c[2],w.ops.push(C);break}c[2]&&w.ops.pop(),w.trys.pop();continue}C=v.call(_,w)}catch(M){C=[6,M],h=0}finally{p=c=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([E,b])}}};function u(){}var m=0;u.toString=function(){return m++,""};var y={name:"function-to-string",isOpen:function(){return l(this,void 0,void 0,function(){return f(this,function(_){return m=0,Object(i.b)(u),Object(i.a)(),[2,m===2]})})},isEnable:function(){return l(this,void 0,void 0,function(){return f(this,function(_){return[2,Object(s.b)({includes:[!0],excludes:[r.g,r.e,(o.b||o.c)&&r.c]})]})})}}},function(n,e,t){"use strict";t.d(e,"a",function(){return m});var r=t(2),i=t(0),o=t(1),s=this&&this.__awaiter||function(y,_,v,p){return new(v||(v=Promise))(function(h,c){function g(E){try{S(p.next(E))}catch(b){c(b)}}function w(E){try{S(p.throw(E))}catch(b){c(b)}}function S(E){E.done?h(E.value):function(b){return b instanceof v?b:new v(function(C){C(b)})}(E.value).then(g,w)}S((p=p.apply(y,_||[])).next())})},l=this&&this.__generator||function(y,_){var v,p,h,c,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return c={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function w(S){return function(E){return function(b){if(v)throw new TypeError("Generator is already executing.");for(;g;)try{if(v=1,p&&(h=2&b[0]?p.return:b[0]?p.throw||((h=p.return)&&h.call(p),0):p.next)&&!(h=h.call(p,b[1])).done)return h;switch(p=0,h&&(b=[2&b[0],h.value]),b[0]){case 0:case 1:h=b;break;case 4:return g.label++,{value:b[1],done:!1};case 5:g.label++,p=b[1],b=[0];continue;case 7:b=g.ops.pop(),g.trys.pop();continue;default:if(!(h=(h=g.trys).length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){g=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){g.label=b[1];break}if(b[0]===6&&g.label<h[1]){g.label=h[1],h=b;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(b);break}h[2]&&g.ops.pop(),g.trys.pop();continue}b=_.call(y,g)}catch(C){b=[6,C],p=0}finally{v=h=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([S,E])}}},f=/ /,u=!1;f.toString=function(){return u=!0,m.name};var m={name:"reg-to-string",isOpen:function(){return s(this,void 0,void 0,function(){return l(this,function(y){return u=!1,Object(r.b)(f),Object(r.a)(),[2,u]})})},isEnable:function(){return s(this,void 0,void 0,function(){return l(this,function(y){return[2,Object(o.b)({includes:[!0],excludes:[i.i]})]})})}}},function(n,e,t){"use strict";t.d(e,"a",function(){return s});var r=t(1),i=this&&this.__awaiter||function(l,f,u,m){return new(u||(u=Promise))(function(y,_){function v(c){try{h(m.next(c))}catch(g){_(g)}}function p(c){try{h(m.throw(c))}catch(g){_(g)}}function h(c){c.done?y(c.value):function(g){return g instanceof u?g:new u(function(w){w(g)})}(c.value).then(v,p)}h((m=m.apply(l,f||[])).next())})},o=this&&this.__generator||function(l,f){var u,m,y,_,v={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return _={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function p(h){return function(c){return function(g){if(u)throw new TypeError("Generator is already executing.");for(;v;)try{if(u=1,m&&(y=2&g[0]?m.return:g[0]?m.throw||((y=m.return)&&y.call(m),0):m.next)&&!(y=y.call(m,g[1])).done)return y;switch(m=0,y&&(g=[2&g[0],y.value]),g[0]){case 0:case 1:y=g;break;case 4:return v.label++,{value:g[1],done:!1};case 5:v.label++,m=g[1],g=[0];continue;case 7:g=v.ops.pop(),v.trys.pop();continue;default:if(!(y=(y=v.trys).length>0&&y[y.length-1])&&(g[0]===6||g[0]===2)){v=0;continue}if(g[0]===3&&(!y||g[1]>y[0]&&g[1]<y[3])){v.label=g[1];break}if(g[0]===6&&v.label<y[1]){v.label=y[1],y=g;break}if(y&&v.label<y[2]){v.label=y[2],v.ops.push(g);break}y[2]&&v.ops.pop(),v.trys.pop();continue}g=f.call(l,v)}catch(w){g=[6,w],m=0}finally{u=y=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([h,c])}}},s={name:"debugger-checker",isOpen:function(){return i(this,void 0,void 0,function(){var l;return o(this,function(f){return l=Object(r.c)(),(function(){}).constructor("debugger")(),[2,Object(r.c)()-l>100]})})},isEnable:function(){return i(this,void 0,void 0,function(){return o(this,function(l){return[2,!0]})})}}},function(n,e,t){"use strict";t.d(e,"a",function(){return y});var r=t(0),i=t(2),o=t(1),s=t(3),l=this&&this.__awaiter||function(_,v,p,h){return new(p||(p=Promise))(function(c,g){function w(b){try{E(h.next(b))}catch(C){g(C)}}function S(b){try{E(h.throw(b))}catch(C){g(C)}}function E(b){b.done?c(b.value):function(C){return C instanceof p?C:new p(function(M){M(C)})}(b.value).then(w,S)}E((h=h.apply(_,v||[])).next())})},f=this&&this.__generator||function(_,v){var p,h,c,g,w={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return g={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function S(E){return function(b){return function(C){if(p)throw new TypeError("Generator is already executing.");for(;w;)try{if(p=1,h&&(c=2&C[0]?h.return:C[0]?h.throw||((c=h.return)&&c.call(h),0):h.next)&&!(c=c.call(h,C[1])).done)return c;switch(h=0,c&&(C=[2&C[0],c.value]),C[0]){case 0:case 1:c=C;break;case 4:return w.label++,{value:C[1],done:!1};case 5:w.label++,h=C[1],C=[0];continue;case 7:C=w.ops.pop(),w.trys.pop();continue;default:if(!(c=(c=w.trys).length>0&&c[c.length-1])&&(C[0]===6||C[0]===2)){w=0;continue}if(C[0]===3&&(!c||C[1]>c[0]&&C[1]<c[3])){w.label=C[1];break}if(C[0]===6&&w.label<c[1]){w.label=c[1],c=C;break}if(c&&w.label<c[2]){w.label=c[2],w.ops.push(C);break}c[2]&&w.ops.pop(),w.trys.pop();continue}C=v.call(_,w)}catch(M){C=[6,M],h=0}finally{p=c=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([E,b])}}},u=new Date,m=0;u.toString=function(){return m++,""};var y={name:"date-to-string",isOpen:function(){return l(this,void 0,void 0,function(){return f(this,function(_){return m=0,Object(i.b)(u),Object(i.a)(),[2,m===2]})})},isEnable:function(){return l(this,void 0,void 0,function(){return f(this,function(_){return[2,Object(o.b)({includes:[r.c],excludes:[(s.isIpad||s.isIphone)&&r.c]})]})})}}},function(n,e,t){"use strict";t.d(e,"a",function(){return m});var r=t(0),i=t(2),o=t(1),s=this&&this.__awaiter||function(y,_,v,p){return new(v||(v=Promise))(function(h,c){function g(E){try{S(p.next(E))}catch(b){c(b)}}function w(E){try{S(p.throw(E))}catch(b){c(b)}}function S(E){E.done?h(E.value):function(b){return b instanceof v?b:new v(function(C){C(b)})}(E.value).then(g,w)}S((p=p.apply(y,_||[])).next())})},l=this&&this.__generator||function(y,_){var v,p,h,c,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return c={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function w(S){return function(E){return function(b){if(v)throw new TypeError("Generator is already executing.");for(;g;)try{if(v=1,p&&(h=2&b[0]?p.return:b[0]?p.throw||((h=p.return)&&h.call(p),0):p.next)&&!(h=h.call(p,b[1])).done)return h;switch(p=0,h&&(b=[2&b[0],h.value]),b[0]){case 0:case 1:h=b;break;case 4:return g.label++,{value:b[1],done:!1};case 5:g.label++,p=b[1],b=[0];continue;case 7:b=g.ops.pop(),g.trys.pop();continue;default:if(!(h=(h=g.trys).length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){g=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){g.label=b[1];break}if(b[0]===6&&g.label<h[1]){g.label=h[1],h=b;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(b);break}h[2]&&g.ops.pop(),g.trys.pop();continue}b=_.call(y,g)}catch(C){b=[6,C],p=0}finally{v=h=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([S,E])}}},f=null,u=0,m={name:"performance",isOpen:function(){return s(this,void 0,void 0,function(){var y,_;return l(this,function(v){return f===null&&(f=function(){for(var p=function(){for(var g={},w=0;w<500;w++)g["".concat(w)]="".concat(w);return g}(),h=[],c=0;c<50;c++)h.push(p);return h}()),y=function(){var p=Object(o.c)();return Object(i.c)(f),Object(o.c)()-p}(),_=function(){var p=Object(o.c)();return Object(i.b)(f),Object(o.c)()-p}(),u=Math.max(u,_),Object(i.a)(),y===0?[2,!1]:u===0?[2,!1]:[2,y>10*u]})})},isEnable:function(){return s(this,void 0,void 0,function(){return l(this,function(y){return[2,Object(o.b)({includes:[r.c],excludes:[]})]})})}}},function(n,e,t){"use strict";t.d(e,"a",function(){return o});var r=this&&this.__awaiter||function(s,l,f,u){return new(f||(f=Promise))(function(m,y){function _(h){try{p(u.next(h))}catch(c){y(c)}}function v(h){try{p(u.throw(h))}catch(c){y(c)}}function p(h){h.done?m(h.value):function(c){return c instanceof f?c:new f(function(g){g(c)})}(h.value).then(_,v)}p((u=u.apply(s,l||[])).next())})},i=this&&this.__generator||function(s,l){var f,u,m,y,_={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return y={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function v(p){return function(h){return function(c){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,u&&(m=2&c[0]?u.return:c[0]?u.throw||((m=u.return)&&m.call(u),0):u.next)&&!(m=m.call(u,c[1])).done)return m;switch(u=0,m&&(c=[2&c[0],m.value]),c[0]){case 0:case 1:m=c;break;case 4:return _.label++,{value:c[1],done:!1};case 5:_.label++,u=c[1],c=[0];continue;case 7:c=_.ops.pop(),_.trys.pop();continue;default:if(!(m=(m=_.trys).length>0&&m[m.length-1])&&(c[0]===6||c[0]===2)){_=0;continue}if(c[0]===3&&(!m||c[1]>m[0]&&c[1]<m[3])){_.label=c[1];break}if(c[0]===6&&_.label<m[1]){_.label=m[1],m=c;break}if(m&&_.label<m[2]){_.label=m[2],_.ops.push(c);break}m[2]&&_.ops.pop(),_.trys.pop();continue}c=l.call(s,_)}catch(g){c=[6,g],u=0}finally{f=m=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([p,h])}}},o={name:"eruda",isOpen:function(){var s;return r(this,void 0,void 0,function(){return i(this,function(l){return typeof eruda<"u"?[2,((s=eruda==null?void 0:eruda._devTools)===null||s===void 0?void 0:s._isShow)===!0]:[2,!1]})})},isEnable:function(){return r(this,void 0,void 0,function(){return i(this,function(s){return[2,!0]})})}}}])})});var i8=le((GK,DD)=>{DD.exports=[{name:"nodejs",version:"0.2.0",date:"2011-08-26",lts:!1,security:!1,v8:"2.3.8.0"},{name:"nodejs",version:"0.3.0",date:"2011-08-26",lts:!1,security:!1,v8:"2.5.1.0"},{name:"nodejs",version:"0.4.0",date:"2011-08-26",lts:!1,security:!1,v8:"3.1.2.0"},{name:"nodejs",version:"0.5.0",date:"2011-08-26",lts:!1,security:!1,v8:"3.1.8.25"},{name:"nodejs",version:"0.6.0",date:"2011-11-04",lts:!1,security:!1,v8:"3.6.6.6"},{name:"nodejs",version:"0.7.0",date:"2012-01-17",lts:!1,security:!1,v8:"3.8.6.0"},{name:"nodejs",version:"0.8.0",date:"2012-06-22",lts:!1,security:!1,v8:"3.11.10.10"},{name:"nodejs",version:"0.9.0",date:"2012-07-20",lts:!1,security:!1,v8:"3.11.10.15"},{name:"nodejs",version:"0.10.0",date:"2013-03-11",lts:!1,security:!1,v8:"3.14.5.8"},{name:"nodejs",version:"0.11.0",date:"2013-03-28",lts:!1,security:!1,v8:"3.17.13.0"},{name:"nodejs",version:"0.12.0",date:"2015-02-06",lts:!1,security:!1,v8:"3.28.73.0"},{name:"nodejs",version:"4.0.0",date:"2015-09-08",lts:!1,security:!1,v8:"4.5.103.30"},{name:"nodejs",version:"4.1.0",date:"2015-09-17",lts:!1,security:!1,v8:"4.5.103.33"},{name:"nodejs",version:"4.2.0",date:"2015-10-12",lts:"Argon",security:!1,v8:"4.5.103.35"},{name:"nodejs",version:"4.3.0",date:"2016-02-09",lts:"Argon",security:!1,v8:"4.5.103.35"},{name:"nodejs",version:"4.4.0",date:"2016-03-08",lts:"Argon",security:!1,v8:"4.5.103.35"},{name:"nodejs",version:"4.5.0",date:"2016-08-16",lts:"Argon",security:!1,v8:"4.5.103.37"},{name:"nodejs",version:"4.6.0",date:"2016-09-27",lts:"Argon",security:!0,v8:"4.5.103.37"},{name:"nodejs",version:"4.7.0",date:"2016-12-06",lts:"Argon",security:!1,v8:"4.5.103.43"},{name:"nodejs",version:"4.8.0",date:"2017-02-21",lts:"Argon",security:!1,v8:"4.5.103.45"},{name:"nodejs",version:"4.9.0",date:"2018-03-28",lts:"Argon",security:!0,v8:"4.5.103.53"},{name:"nodejs",version:"5.0.0",date:"2015-10-29",lts:!1,security:!1,v8:"4.6.85.28"},{name:"nodejs",version:"5.1.0",date:"2015-11-17",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.2.0",date:"2015-12-09",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.3.0",date:"2015-12-15",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.4.0",date:"2016-01-06",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.5.0",date:"2016-01-21",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.6.0",date:"2016-02-09",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.7.0",date:"2016-02-23",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.8.0",date:"2016-03-09",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.9.0",date:"2016-03-16",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.10.0",date:"2016-04-01",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.11.0",date:"2016-04-21",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.12.0",date:"2016-06-23",lts:!1,security:!1,v8:"4.6.85.32"},{name:"nodejs",version:"6.0.0",date:"2016-04-26",lts:!1,security:!1,v8:"5.0.71.35"},{name:"nodejs",version:"6.1.0",date:"2016-05-05",lts:!1,security:!1,v8:"5.0.71.35"},{name:"nodejs",version:"6.2.0",date:"2016-05-17",lts:!1,security:!1,v8:"5.0.71.47"},{name:"nodejs",version:"6.3.0",date:"2016-07-06",lts:!1,security:!1,v8:"5.0.71.52"},{name:"nodejs",version:"6.4.0",date:"2016-08-12",lts:!1,security:!1,v8:"5.0.71.60"},{name:"nodejs",version:"6.5.0",date:"2016-08-26",lts:!1,security:!1,v8:"5.1.281.81"},{name:"nodejs",version:"6.6.0",date:"2016-09-14",lts:!1,security:!1,v8:"5.1.281.83"},{name:"nodejs",version:"6.7.0",date:"2016-09-27",lts:!1,security:!0,v8:"5.1.281.83"},{name:"nodejs",version:"6.8.0",date:"2016-10-12",lts:!1,security:!1,v8:"5.1.281.84"},{name:"nodejs",version:"6.9.0",date:"2016-10-18",lts:"Boron",security:!1,v8:"5.1.281.84"},{name:"nodejs",version:"6.10.0",date:"2017-02-21",lts:"Boron",security:!1,v8:"5.1.281.93"},{name:"nodejs",version:"6.11.0",date:"2017-06-06",lts:"Boron",security:!1,v8:"5.1.281.102"},{name:"nodejs",version:"6.12.0",date:"2017-11-06",lts:"Boron",security:!1,v8:"5.1.281.108"},{name:"nodejs",version:"6.13.0",date:"2018-02-10",lts:"Boron",security:!1,v8:"5.1.281.111"},{name:"nodejs",version:"6.14.0",date:"2018-03-28",lts:"Boron",security:!0,v8:"5.1.281.111"},{name:"nodejs",version:"6.15.0",date:"2018-11-27",lts:"Boron",security:!0,v8:"5.1.281.111"},{name:"nodejs",version:"6.16.0",date:"2018-12-26",lts:"Boron",security:!1,v8:"5.1.281.111"},{name:"nodejs",version:"6.17.0",date:"2019-02-28",lts:"Boron",security:!0,v8:"5.1.281.111"},{name:"nodejs",version:"7.0.0",date:"2016-10-25",lts:!1,security:!1,v8:"5.4.500.36"},{name:"nodejs",version:"7.1.0",date:"2016-11-08",lts:!1,security:!1,v8:"5.4.500.36"},{name:"nodejs",version:"7.2.0",date:"2016-11-22",lts:!1,security:!1,v8:"5.4.500.43"},{name:"nodejs",version:"7.3.0",date:"2016-12-20",lts:!1,security:!1,v8:"5.4.500.45"},{name:"nodejs",version:"7.4.0",date:"2017-01-04",lts:!1,security:!1,v8:"5.4.500.45"},{name:"nodejs",version:"7.5.0",date:"2017-01-31",lts:!1,security:!1,v8:"5.4.500.48"},{name:"nodejs",version:"7.6.0",date:"2017-02-21",lts:!1,security:!1,v8:"5.5.372.40"},{name:"nodejs",version:"7.7.0",date:"2017-02-28",lts:!1,security:!1,v8:"5.5.372.41"},{name:"nodejs",version:"7.8.0",date:"2017-03-29",lts:!1,security:!1,v8:"5.5.372.43"},{name:"nodejs",version:"7.9.0",date:"2017-04-11",lts:!1,security:!1,v8:"5.5.372.43"},{name:"nodejs",version:"7.10.0",date:"2017-05-02",lts:!1,security:!1,v8:"5.5.372.43"},{name:"nodejs",version:"8.0.0",date:"2017-05-30",lts:!1,security:!1,v8:"5.8.283.41"},{name:"nodejs",version:"8.1.0",date:"2017-06-08",lts:!1,security:!1,v8:"5.8.283.41"},{name:"nodejs",version:"8.2.0",date:"2017-07-19",lts:!1,security:!1,v8:"5.8.283.41"},{name:"nodejs",version:"8.3.0",date:"2017-08-08",lts:!1,security:!1,v8:"6.0.286.52"},{name:"nodejs",version:"8.4.0",date:"2017-08-15",lts:!1,security:!1,v8:"6.0.286.52"},{name:"nodejs",version:"8.5.0",date:"2017-09-12",lts:!1,security:!1,v8:"6.0.287.53"},{name:"nodejs",version:"8.6.0",date:"2017-09-26",lts:!1,security:!1,v8:"6.0.287.53"},{name:"nodejs",version:"8.7.0",date:"2017-10-11",lts:!1,security:!1,v8:"6.1.534.42"},{name:"nodejs",version:"8.8.0",date:"2017-10-24",lts:!1,security:!1,v8:"6.1.534.42"},{name:"nodejs",version:"8.9.0",date:"2017-10-31",lts:"Carbon",security:!1,v8:"6.1.534.46"},{name:"nodejs",version:"8.10.0",date:"2018-03-06",lts:"Carbon",security:!1,v8:"6.2.414.50"},{name:"nodejs",version:"8.11.0",date:"2018-03-28",lts:"Carbon",security:!0,v8:"6.2.414.50"},{name:"nodejs",version:"8.12.0",date:"2018-09-10",lts:"Carbon",security:!1,v8:"6.2.414.66"},{name:"nodejs",version:"8.13.0",date:"2018-11-20",lts:"Carbon",security:!1,v8:"6.2.414.72"},{name:"nodejs",version:"8.14.0",date:"2018-11-27",lts:"Carbon",security:!0,v8:"6.2.414.72"},{name:"nodejs",version:"8.15.0",date:"2018-12-26",lts:"Carbon",security:!1,v8:"6.2.414.75"},{name:"nodejs",version:"8.16.0",date:"2019-04-16",lts:"Carbon",security:!1,v8:"6.2.414.77"},{name:"nodejs",version:"8.17.0",date:"2019-12-17",lts:"Carbon",security:!0,v8:"6.2.414.78"},{name:"nodejs",version:"9.0.0",date:"2017-10-31",lts:!1,security:!1,v8:"6.2.414.32"},{name:"nodejs",version:"9.1.0",date:"2017-11-07",lts:!1,security:!1,v8:"6.2.414.32"},{name:"nodejs",version:"9.2.0",date:"2017-11-14",lts:!1,security:!1,v8:"6.2.414.44"},{name:"nodejs",version:"9.3.0",date:"2017-12-12",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"9.4.0",date:"2018-01-10",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"9.5.0",date:"2018-01-31",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"9.6.0",date:"2018-02-21",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"9.7.0",date:"2018-03-01",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"9.8.0",date:"2018-03-07",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"9.9.0",date:"2018-03-21",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"9.10.0",date:"2018-03-28",lts:!1,security:!0,v8:"6.2.414.46"},{name:"nodejs",version:"9.11.0",date:"2018-04-04",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"10.0.0",date:"2018-04-24",lts:!1,security:!1,v8:"6.6.346.24"},{name:"nodejs",version:"10.1.0",date:"2018-05-08",lts:!1,security:!1,v8:"6.6.346.27"},{name:"nodejs",version:"10.2.0",date:"2018-05-23",lts:!1,security:!1,v8:"6.6.346.32"},{name:"nodejs",version:"10.3.0",date:"2018-05-29",lts:!1,security:!1,v8:"6.6.346.32"},{name:"nodejs",version:"10.4.0",date:"2018-06-06",lts:!1,security:!1,v8:"6.7.288.43"},{name:"nodejs",version:"10.5.0",date:"2018-06-20",lts:!1,security:!1,v8:"6.7.288.46"},{name:"nodejs",version:"10.6.0",date:"2018-07-04",lts:!1,security:!1,v8:"6.7.288.46"},{name:"nodejs",version:"10.7.0",date:"2018-07-18",lts:!1,security:!1,v8:"6.7.288.49"},{name:"nodejs",version:"10.8.0",date:"2018-08-01",lts:!1,security:!1,v8:"6.7.288.49"},{name:"nodejs",version:"10.9.0",date:"2018-08-15",lts:!1,security:!1,v8:"6.8.275.24"},{name:"nodejs",version:"10.10.0",date:"2018-09-06",lts:!1,security:!1,v8:"6.8.275.30"},{name:"nodejs",version:"10.11.0",date:"2018-09-19",lts:!1,security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.12.0",date:"2018-10-10",lts:!1,security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.13.0",date:"2018-10-30",lts:"Dubnium",security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.14.0",date:"2018-11-27",lts:"Dubnium",security:!0,v8:"6.8.275.32"},{name:"nodejs",version:"10.15.0",date:"2018-12-26",lts:"Dubnium",security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.16.0",date:"2019-05-28",lts:"Dubnium",security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.17.0",date:"2019-10-22",lts:"Dubnium",security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.18.0",date:"2019-12-17",lts:"Dubnium",security:!0,v8:"6.8.275.32"},{name:"nodejs",version:"10.19.0",date:"2020-02-05",lts:"Dubnium",security:!0,v8:"6.8.275.32"},{name:"nodejs",version:"10.20.0",date:"2020-03-26",lts:"Dubnium",security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.21.0",date:"2020-06-02",lts:"Dubnium",security:!0,v8:"6.8.275.32"},{name:"nodejs",version:"10.22.0",date:"2020-07-21",lts:"Dubnium",security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.23.0",date:"2020-10-27",lts:"Dubnium",security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.24.0",date:"2021-02-23",lts:"Dubnium",security:!0,v8:"6.8.275.32"},{name:"nodejs",version:"11.0.0",date:"2018-10-23",lts:!1,security:!1,v8:"7.0.276.28"},{name:"nodejs",version:"11.1.0",date:"2018-10-30",lts:!1,security:!1,v8:"7.0.276.32"},{name:"nodejs",version:"11.2.0",date:"2018-11-15",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.3.0",date:"2018-11-27",lts:!1,security:!0,v8:"7.0.276.38"},{name:"nodejs",version:"11.4.0",date:"2018-12-07",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.5.0",date:"2018-12-18",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.6.0",date:"2018-12-26",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.7.0",date:"2019-01-17",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.8.0",date:"2019-01-24",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.9.0",date:"2019-01-30",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.10.0",date:"2019-02-14",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.11.0",date:"2019-03-05",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.12.0",date:"2019-03-14",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.13.0",date:"2019-03-28",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.14.0",date:"2019-04-10",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.15.0",date:"2019-04-30",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"12.0.0",date:"2019-04-23",lts:!1,security:!1,v8:"7.4.288.21"},{name:"nodejs",version:"12.1.0",date:"2019-04-29",lts:!1,security:!1,v8:"7.4.288.21"},{name:"nodejs",version:"12.2.0",date:"2019-05-07",lts:!1,security:!1,v8:"7.4.288.21"},{name:"nodejs",version:"12.3.0",date:"2019-05-21",lts:!1,security:!1,v8:"7.4.288.27"},{name:"nodejs",version:"12.4.0",date:"2019-06-04",lts:!1,security:!1,v8:"7.4.288.27"},{name:"nodejs",version:"12.5.0",date:"2019-06-26",lts:!1,security:!1,v8:"7.5.288.22"},{name:"nodejs",version:"12.6.0",date:"2019-07-03",lts:!1,security:!1,v8:"7.5.288.22"},{name:"nodejs",version:"12.7.0",date:"2019-07-23",lts:!1,security:!1,v8:"7.5.288.22"},{name:"nodejs",version:"12.8.0",date:"2019-08-06",lts:!1,security:!1,v8:"7.5.288.22"},{name:"nodejs",version:"12.9.0",date:"2019-08-20",lts:!1,security:!1,v8:"7.6.303.29"},{name:"nodejs",version:"12.10.0",date:"2019-09-04",lts:!1,security:!1,v8:"7.6.303.29"},{name:"nodejs",version:"12.11.0",date:"2019-09-25",lts:!1,security:!1,v8:"7.7.299.11"},{name:"nodejs",version:"12.12.0",date:"2019-10-11",lts:!1,security:!1,v8:"7.7.299.13"},{name:"nodejs",version:"12.13.0",date:"2019-10-21",lts:"Erbium",security:!1,v8:"7.7.299.13"},{name:"nodejs",version:"12.14.0",date:"2019-12-17",lts:"Erbium",security:!0,v8:"7.7.299.13"},{name:"nodejs",version:"12.15.0",date:"2020-02-05",lts:"Erbium",security:!0,v8:"7.7.299.13"},{name:"nodejs",version:"12.16.0",date:"2020-02-11",lts:"Erbium",security:!1,v8:"7.8.279.23"},{name:"nodejs",version:"12.17.0",date:"2020-05-26",lts:"Erbium",security:!1,v8:"7.8.279.23"},{name:"nodejs",version:"12.18.0",date:"2020-06-02",lts:"Erbium",security:!0,v8:"7.8.279.23"},{name:"nodejs",version:"12.19.0",date:"2020-10-06",lts:"Erbium",security:!1,v8:"7.8.279.23"},{name:"nodejs",version:"12.20.0",date:"2020-11-24",lts:"Erbium",security:!1,v8:"7.8.279.23"},{name:"nodejs",version:"12.21.0",date:"2021-02-23",lts:"Erbium",security:!0,v8:"7.8.279.23"},{name:"nodejs",version:"12.22.0",date:"2021-03-30",lts:"Erbium",security:!1,v8:"7.8.279.23"},{name:"nodejs",version:"13.0.0",date:"2019-10-22",lts:!1,security:!1,v8:"7.8.279.17"},{name:"nodejs",version:"13.1.0",date:"2019-11-05",lts:!1,security:!1,v8:"7.8.279.17"},{name:"nodejs",version:"13.2.0",date:"2019-11-21",lts:!1,security:!1,v8:"7.9.317.23"},{name:"nodejs",version:"13.3.0",date:"2019-12-03",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.4.0",date:"2019-12-17",lts:!1,security:!0,v8:"7.9.317.25"},{name:"nodejs",version:"13.5.0",date:"2019-12-18",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.6.0",date:"2020-01-07",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.7.0",date:"2020-01-21",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.8.0",date:"2020-02-05",lts:!1,security:!0,v8:"7.9.317.25"},{name:"nodejs",version:"13.9.0",date:"2020-02-18",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.10.0",date:"2020-03-04",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.11.0",date:"2020-03-12",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.12.0",date:"2020-03-26",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.13.0",date:"2020-04-14",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.14.0",date:"2020-04-29",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"14.0.0",date:"2020-04-21",lts:!1,security:!1,v8:"8.1.307.30"},{name:"nodejs",version:"14.1.0",date:"2020-04-29",lts:!1,security:!1,v8:"8.1.307.31"},{name:"nodejs",version:"14.2.0",date:"2020-05-05",lts:!1,security:!1,v8:"8.1.307.31"},{name:"nodejs",version:"14.3.0",date:"2020-05-19",lts:!1,security:!1,v8:"8.1.307.31"},{name:"nodejs",version:"14.4.0",date:"2020-06-02",lts:!1,security:!0,v8:"8.1.307.31"},{name:"nodejs",version:"14.5.0",date:"2020-06-30",lts:!1,security:!1,v8:"8.3.110.9"},{name:"nodejs",version:"14.6.0",date:"2020-07-20",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.7.0",date:"2020-07-29",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.8.0",date:"2020-08-11",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.9.0",date:"2020-08-27",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.10.0",date:"2020-09-08",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.11.0",date:"2020-09-15",lts:!1,security:!0,v8:"8.4.371.19"},{name:"nodejs",version:"14.12.0",date:"2020-09-22",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.13.0",date:"2020-09-29",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.14.0",date:"2020-10-15",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.15.0",date:"2020-10-27",lts:"Fermium",security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.16.0",date:"2021-02-23",lts:"Fermium",security:!0,v8:"8.4.371.19"},{name:"nodejs",version:"14.17.0",date:"2021-05-11",lts:"Fermium",security:!1,v8:"8.4.371.23"},{name:"nodejs",version:"14.18.0",date:"2021-09-28",lts:"Fermium",security:!1,v8:"8.4.371.23"},{name:"nodejs",version:"14.19.0",date:"2022-02-01",lts:"Fermium",security:!1,v8:"8.4.371.23"},{name:"nodejs",version:"14.20.0",date:"2022-07-07",lts:"Fermium",security:!0,v8:"8.4.371.23"},{name:"nodejs",version:"14.21.0",date:"2022-11-01",lts:"Fermium",security:!1,v8:"8.4.371.23"},{name:"nodejs",version:"15.0.0",date:"2020-10-20",lts:!1,security:!1,v8:"8.6.395.16"},{name:"nodejs",version:"15.1.0",date:"2020-11-04",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.2.0",date:"2020-11-10",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.3.0",date:"2020-11-24",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.4.0",date:"2020-12-09",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.5.0",date:"2020-12-22",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.6.0",date:"2021-01-14",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.7.0",date:"2021-01-25",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.8.0",date:"2021-02-02",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.9.0",date:"2021-02-18",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.10.0",date:"2021-02-23",lts:!1,security:!0,v8:"8.6.395.17"},{name:"nodejs",version:"15.11.0",date:"2021-03-03",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.12.0",date:"2021-03-17",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.13.0",date:"2021-03-31",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.14.0",date:"2021-04-06",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"16.0.0",date:"2021-04-20",lts:!1,security:!1,v8:"9.0.257.17"},{name:"nodejs",version:"16.1.0",date:"2021-05-04",lts:!1,security:!1,v8:"9.0.257.24"},{name:"nodejs",version:"16.2.0",date:"2021-05-19",lts:!1,security:!1,v8:"9.0.257.25"},{name:"nodejs",version:"16.3.0",date:"2021-06-03",lts:!1,security:!1,v8:"9.0.257.25"},{name:"nodejs",version:"16.4.0",date:"2021-06-23",lts:!1,security:!1,v8:"9.1.269.36"},{name:"nodejs",version:"16.5.0",date:"2021-07-14",lts:!1,security:!1,v8:"9.1.269.38"},{name:"nodejs",version:"16.6.0",date:"2021-07-29",lts:!1,security:!0,v8:"9.2.230.21"},{name:"nodejs",version:"16.7.0",date:"2021-08-18",lts:!1,security:!1,v8:"9.2.230.21"},{name:"nodejs",version:"16.8.0",date:"2021-08-25",lts:!1,security:!1,v8:"9.2.230.21"},{name:"nodejs",version:"16.9.0",date:"2021-09-07",lts:!1,security:!1,v8:"9.3.345.16"},{name:"nodejs",version:"16.10.0",date:"2021-09-22",lts:!1,security:!1,v8:"9.3.345.19"},{name:"nodejs",version:"16.11.0",date:"2021-10-08",lts:!1,security:!1,v8:"9.4.146.19"},{name:"nodejs",version:"16.12.0",date:"2021-10-20",lts:!1,security:!1,v8:"9.4.146.19"},{name:"nodejs",version:"16.13.0",date:"2021-10-26",lts:"Gallium",security:!1,v8:"9.4.146.19"},{name:"nodejs",version:"16.14.0",date:"2022-02-08",lts:"Gallium",security:!1,v8:"9.4.146.24"},{name:"nodejs",version:"16.15.0",date:"2022-04-26",lts:"Gallium",security:!1,v8:"9.4.146.24"},{name:"nodejs",version:"16.16.0",date:"2022-07-07",lts:"Gallium",security:!0,v8:"9.4.146.24"},{name:"nodejs",version:"16.17.0",date:"2022-08-16",lts:"Gallium",security:!1,v8:"9.4.146.26"},{name:"nodejs",version:"16.18.0",date:"2022-10-12",lts:"Gallium",security:!1,v8:"9.4.146.26"},{name:"nodejs",version:"16.19.0",date:"2022-12-13",lts:"Gallium",security:!1,v8:"9.4.146.26"},{name:"nodejs",version:"16.20.0",date:"2023-03-28",lts:"Gallium",security:!1,v8:"9.4.146.26"},{name:"nodejs",version:"17.0.0",date:"2021-10-19",lts:!1,security:!1,v8:"9.5.172.21"},{name:"nodejs",version:"17.1.0",date:"2021-11-09",lts:!1,security:!1,v8:"9.5.172.25"},{name:"nodejs",version:"17.2.0",date:"2021-11-30",lts:!1,security:!1,v8:"9.6.180.14"},{name:"nodejs",version:"17.3.0",date:"2021-12-17",lts:!1,security:!1,v8:"9.6.180.15"},{name:"nodejs",version:"17.4.0",date:"2022-01-18",lts:!1,security:!1,v8:"9.6.180.15"},{name:"nodejs",version:"17.5.0",date:"2022-02-10",lts:!1,security:!1,v8:"9.6.180.15"},{name:"nodejs",version:"17.6.0",date:"2022-02-22",lts:!1,security:!1,v8:"9.6.180.15"},{name:"nodejs",version:"17.7.0",date:"2022-03-09",lts:!1,security:!1,v8:"9.6.180.15"},{name:"nodejs",version:"17.8.0",date:"2022-03-22",lts:!1,security:!1,v8:"9.6.180.15"},{name:"nodejs",version:"17.9.0",date:"2022-04-07",lts:!1,security:!1,v8:"9.6.180.15"},{name:"nodejs",version:"18.0.0",date:"2022-04-18",lts:!1,security:!1,v8:"10.1.124.8"},{name:"nodejs",version:"18.1.0",date:"2022-05-03",lts:!1,security:!1,v8:"10.1.124.8"},{name:"nodejs",version:"18.2.0",date:"2022-05-17",lts:!1,security:!1,v8:"10.1.124.8"},{name:"nodejs",version:"18.3.0",date:"2022-06-02",lts:!1,security:!1,v8:"10.2.154.4"},{name:"nodejs",version:"18.4.0",date:"2022-06-16",lts:!1,security:!1,v8:"10.2.154.4"},{name:"nodejs",version:"18.5.0",date:"2022-07-06",lts:!1,security:!0,v8:"10.2.154.4"},{name:"nodejs",version:"18.6.0",date:"2022-07-13",lts:!1,security:!1,v8:"10.2.154.13"},{name:"nodejs",version:"18.7.0",date:"2022-07-26",lts:!1,security:!1,v8:"10.2.154.13"},{name:"nodejs",version:"18.8.0",date:"2022-08-24",lts:!1,security:!1,v8:"10.2.154.13"},{name:"nodejs",version:"18.9.0",date:"2022-09-07",lts:!1,security:!1,v8:"10.2.154.15"},{name:"nodejs",version:"18.10.0",date:"2022-09-28",lts:!1,security:!1,v8:"10.2.154.15"},{name:"nodejs",version:"18.11.0",date:"2022-10-13",lts:!1,security:!1,v8:"10.2.154.15"},{name:"nodejs",version:"18.12.0",date:"2022-10-25",lts:"Hydrogen",security:!1,v8:"10.2.154.15"},{name:"nodejs",version:"18.13.0",date:"2023-01-05",lts:"Hydrogen",security:!1,v8:"10.2.154.23"},{name:"nodejs",version:"18.14.0",date:"2023-02-01",lts:"Hydrogen",security:!1,v8:"10.2.154.23"},{name:"nodejs",version:"18.15.0",date:"2023-03-05",lts:"Hydrogen",security:!1,v8:"10.2.154.26"},{name:"nodejs",version:"18.16.0",date:"2023-04-12",lts:"Hydrogen",security:!1,v8:"10.2.154.26"},{name:"nodejs",version:"19.0.0",date:"2022-10-17",lts:!1,security:!1,v8:"10.7.193.13"},{name:"nodejs",version:"19.1.0",date:"2022-11-14",lts:!1,security:!1,v8:"10.7.193.20"},{name:"nodejs",version:"19.2.0",date:"2022-11-29",lts:!1,security:!1,v8:"10.8.168.20"},{name:"nodejs",version:"19.3.0",date:"2022-12-14",lts:!1,security:!1,v8:"10.8.168.21"},{name:"nodejs",version:"19.4.0",date:"2023-01-05",lts:!1,security:!1,v8:"10.8.168.25"},{name:"nodejs",version:"19.5.0",date:"2023-01-24",lts:!1,security:!1,v8:"10.8.168.25"},{name:"nodejs",version:"19.6.0",date:"2023-02-01",lts:!1,security:!1,v8:"10.8.168.25"},{name:"nodejs",version:"19.7.0",date:"2023-02-21",lts:!1,security:!1,v8:"10.8.168.25"},{name:"nodejs",version:"19.8.0",date:"2023-03-14",lts:!1,security:!1,v8:"10.8.168.25"},{name:"nodejs",version:"19.9.0",date:"2023-04-10",lts:!1,security:!1,v8:"10.8.168.25"},{name:"nodejs",version:"20.0.0",date:"2023-04-17",lts:!1,security:!1,v8:"11.3.244.4"},{name:"nodejs",version:"20.1.0",date:"2023-05-03",lts:!1,security:!1,v8:"11.3.244.8"},{name:"nodejs",version:"20.2.0",date:"2023-05-16",lts:!1,security:!1,v8:"11.3.244.8"},{name:"nodejs",version:"20.3.0",date:"2023-06-08",lts:!1,security:!1,v8:"11.3.244.8"},{name:"nodejs",version:"20.4.0",date:"2023-07-04",lts:!1,security:!1,v8:"11.3.244.8"}]});var s8=le((WK,o8)=>{L();o8.exports={A:"ie",B:"edge",C:"firefox",D:"chrome",E:"safari",F:"opera",G:"ios_saf",H:"op_mini",I:"android",J:"bb",K:"op_mob",L:"and_chr",M:"and_ff",N:"ie_mob",O:"and_uc",P:"samsung",Q:"and_qq",R:"baidu",S:"kaios"}});var u8=le((VK,a8)=>{L();a8.exports.browsers=s8()});var c8=le((JK,l8)=>{L();l8.exports={0:"113",1:"114",2:"115",3:"116",4:"5",5:"19",6:"23",7:"24",8:"25",9:"26",A:"10",B:"11",C:"12",D:"117",E:"7",F:"8",G:"9",H:"15",I:"4",J:"6",K:"13",L:"14",M:"16",N:"17",O:"18",P:"79",Q:"80",R:"81",S:"83",T:"84",U:"85",V:"86",W:"87",X:"88",Y:"89",Z:"90",a:"91",b:"92",c:"93",d:"94",e:"95",f:"96",g:"97",h:"98",i:"99",j:"100",k:"101",l:"102",m:"20",n:"21",o:"22",p:"73",q:"103",r:"104",s:"105",t:"106",u:"107",v:"108",w:"109",x:"110",y:"111",z:"112",AB:"27",BB:"28",CB:"29",DB:"30",EB:"31",FB:"32",GB:"33",HB:"34",IB:"35",JB:"36",KB:"37",LB:"38",MB:"39",NB:"40",OB:"41",PB:"42",QB:"43",RB:"44",SB:"45",TB:"46",UB:"47",VB:"48",WB:"49",XB:"50",YB:"51",ZB:"52",aB:"53",bB:"54",cB:"55",dB:"56",eB:"57",fB:"58",gB:"60",hB:"62",iB:"63",jB:"64",kB:"65",lB:"66",mB:"67",nB:"68",oB:"69",pB:"70",qB:"71",rB:"72",sB:"74",tB:"75",uB:"76",vB:"77",wB:"78",xB:"11.1",yB:"12.1",zB:"15.5","0B":"16.0","1B":"17.0","2B":"3","3B":"59","4B":"61","5B":"82","6B":"118","7B":"119","8B":"120","9B":"3.2",AC:"10.1",BC:"13.1",CC:"15.2-15.3",DC:"15.4",EC:"16.1",FC:"16.2",GC:"16.3",HC:"16.4",IC:"16.5",JC:"16.6",KC:"17.1",LC:"11.5",MC:"4.2-4.3",NC:"5.5",OC:"2",PC:"3.5",QC:"3.6",RC:"3.1",SC:"5.1",TC:"6.1",UC:"7.1",VC:"9.1",WC:"14.1",XC:"15.1",YC:"15.6",ZC:"TP",aC:"9.5-9.6",bC:"10.0-10.1",cC:"10.5",dC:"10.6",eC:"11.6",fC:"4.0-4.1",gC:"5.0-5.1",hC:"6.0-6.1",iC:"7.0-7.1",jC:"8.1-8.4",kC:"9.0-9.2",lC:"9.3",mC:"10.0-10.2",nC:"10.3",oC:"11.0-11.2",pC:"11.3-11.4",qC:"12.0-12.1",rC:"12.2-12.5",sC:"13.0-13.1",tC:"13.2",uC:"13.3",vC:"13.4-13.7",wC:"14.0-14.4",xC:"14.5-14.8",yC:"15.0-15.1",zC:"15.6-15.7","0C":"all","1C":"2.1","2C":"2.2","3C":"2.3","4C":"4.1","5C":"4.4","6C":"4.4.3-4.4.4","7C":"5.0-5.4","8C":"6.2-6.4","9C":"7.2-7.4",AD:"8.2",BD:"9.2",CD:"11.1-11.2",DD:"12.0",ED:"13.0",FD:"14.0",GD:"15.0",HD:"18.0",ID:"19.0",JD:"13.18",KD:"2.5",LD:"3.0-3.1"}});var f8=le((YK,d8)=>{L();d8.exports.browserVersions=c8()});var p8=le((QK,h8)=>{L();h8.exports={A:{A:{J:0,E:0,F:.0268696,G:.0537391,A:0,B:.416478,NC:0},B:"ms",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","NC","J","E","F","G","A","B","","",""],E:"IE",F:{NC:962323200,J:998870400,E:1161129600,F:1237420800,G:1300060800,A:1346716800,B:1381968e3}},B:{A:{0:.035192,1:.607062,2:3.20687,3:1.03376,C:.004399,K:.004399,L:.004399,H:.004399,M:0,N:.004399,O:.008798,P:0,Q:.004399,R:.004399,S:.004399,T:.008798,U:.004399,V:.008798,W:.004399,X:.004399,Y:.004399,Z:.008798,a:0,b:.013197,c:0,d:0,e:0,f:0,g:0,h:0,i:.017596,j:0,k:0,l:0,q:0,r:0,s:0,t:0,u:.008798,v:.013197,w:.083581,x:.013197,y:.092379,z:.096778,D:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","C","K","L","H","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","q","r","s","t","u","v","w","x","y","z","0","1","2","3","D","","",""],E:"Edge",F:{0:1683158400,1:1685664e3,2:1689897600,3:1692576e3,C:1438128e3,K:1447286400,L:1470096e3,H:1491868800,M:1508198400,N:1525046400,O:1542067200,P:1579046400,Q:1581033600,R:1586736e3,S:1590019200,T:1594857600,U:1598486400,V:1602201600,W:1605830400,X:161136e4,Y:1614816e3,Z:1618358400,a:1622073600,b:1626912e3,c:1630627200,d:1632441600,e:1634774400,f:1637539200,g:1641427200,h:1643932800,i:1646265600,j:1649635200,k:1651190400,l:1653955200,q:1655942400,r:1659657600,s:1661990400,t:1664755200,u:1666915200,v:1670198400,w:1673481600,x:1675900800,y:1678665600,z:1680825600,D:1694649600},D:{C:"ms",K:"ms",L:"ms",H:"ms",M:"ms",N:"ms",O:"ms"}},C:{A:{0:.026394,1:.030793,2:.580668,3:1.39008,4:0,5:0,6:0,7:0,8:0,9:0,OC:0,"2B":0,I:0,J:0,E:0,F:0,G:0,A:0,B:.008798,C:0,K:0,L:0,H:0,M:0,N:0,O:0,m:0,n:0,o:0,AB:0,BB:0,CB:0,DB:0,EB:0,FB:0,GB:0,HB:0,IB:0,JB:0,KB:0,LB:0,MB:0,NB:0,OB:0,PB:0,QB:.008798,RB:.004399,SB:0,TB:0,UB:0,VB:.004399,WB:0,XB:.008798,YB:0,ZB:.052788,aB:.004399,bB:.004399,cB:0,dB:.008798,eB:0,fB:0,"3B":.004399,gB:0,"4B":0,hB:0,iB:0,jB:0,kB:0,lB:0,mB:0,nB:0,oB:0,pB:0,qB:0,rB:.030793,p:0,sB:0,tB:0,uB:0,vB:0,wB:.039591,P:0,Q:0,R:0,"5B":0,S:.008798,T:0,U:0,V:0,W:0,X:.004399,Y:0,Z:.004399,a:.008798,b:0,c:0,d:.013197,e:0,f:0,g:0,h:0,i:0,j:0,k:0,l:.118773,q:.017596,r:0,s:.004399,t:.004399,u:.004399,v:.008798,w:.008798,x:.008798,y:.013197,z:.065985,D:.052788,"6B":0,"7B":0,"8B":0,PC:0,QC:0},B:"moz",C:["OC","2B","PC","QC","I","4","J","E","F","G","A","B","C","K","L","H","M","N","O","5","m","n","o","6","7","8","9","AB","BB","CB","DB","EB","FB","GB","HB","IB","JB","KB","LB","MB","NB","OB","PB","QB","RB","SB","TB","UB","VB","WB","XB","YB","ZB","aB","bB","cB","dB","eB","fB","3B","gB","4B","hB","iB","jB","kB","lB","mB","nB","oB","pB","qB","rB","p","sB","tB","uB","vB","wB","P","Q","R","5B","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","q","r","s","t","u","v","w","x","y","z","0","1","2","3","D","6B","7B","8B"],E:"Firefox",F:{0:1683590400,1:1686009600,2:1688428800,3:1690848e3,4:1308614400,5:1357603200,6:1372118400,7:1375747200,8:1379376e3,9:1386633600,OC:1161648e3,"2B":1213660800,PC:124632e4,QC:1264032e3,I:1300752e3,J:1313452800,E:1317081600,F:1317081600,G:1320710400,A:1324339200,B:1327968e3,C:1331596800,K:1335225600,L:1338854400,H:1342483200,M:1346112e3,N:1349740800,O:1353628800,m:1361232e3,n:1364860800,o:1368489600,AB:1391472e3,BB:1395100800,CB:1398729600,DB:1402358400,EB:1405987200,FB:1409616e3,GB:1413244800,HB:1417392e3,IB:1421107200,JB:1424736e3,KB:1428278400,LB:1431475200,MB:1435881600,NB:1439251200,OB:144288e4,PB:1446508800,QB:1450137600,RB:1453852800,SB:1457395200,TB:1461628800,UB:1465257600,VB:1470096e3,WB:1474329600,XB:1479168e3,YB:1485216e3,ZB:1488844800,aB:149256e4,bB:1497312e3,cB:1502150400,dB:1506556800,eB:1510617600,fB:1516665600,"3B":1520985600,gB:1525824e3,"4B":1529971200,hB:1536105600,iB:1540252800,jB:1544486400,kB:154872e4,lB:1552953600,mB:1558396800,nB:1562630400,oB:1567468800,pB:1571788800,qB:1575331200,rB:1578355200,p:1581379200,sB:1583798400,tB:1586304e3,uB:1588636800,vB:1591056e3,wB:1593475200,P:1595894400,Q:1598313600,R:1600732800,"5B":1603152e3,S:1605571200,T:1607990400,U:1611619200,V:1614038400,W:1616457600,X:1618790400,Y:1622505600,Z:1626134400,a:1628553600,b:1630972800,c:1633392e3,d:1635811200,e:1638835200,f:1641859200,g:1644364800,h:1646697600,i:1649116800,j:1651536e3,k:1653955200,l:1656374400,q:1658793600,r:1661212800,s:1663632e3,t:1666051200,u:1668470400,v:1670889600,w:1673913600,x:1676332800,y:1678752e3,z:1681171200,D:1693267200,"6B":null,"7B":null,"8B":null}},D:{A:{0:.255142,1:2.10712,2:12.8099,3:5.7231,4:0,5:0,6:0,7:0,8:0,9:0,I:0,J:0,E:0,F:0,G:0,A:0,B:0,C:0,K:0,L:0,H:0,M:0,N:0,O:0,m:0,n:0,o:0,AB:0,BB:0,CB:0,DB:0,EB:0,FB:0,GB:0,HB:.004399,IB:0,JB:0,KB:0,LB:.013197,MB:0,NB:0,OB:0,PB:0,QB:0,RB:0,SB:0,TB:0,UB:.004399,VB:.017596,WB:.030793,XB:.013197,YB:0,ZB:0,aB:.008798,bB:0,cB:.004399,dB:.048389,eB:.004399,fB:0,"3B":0,gB:.021995,"4B":.004399,hB:.004399,iB:.008798,jB:0,kB:.008798,lB:.026394,mB:.004399,nB:.039591,oB:.065985,pB:.039591,qB:.021995,rB:.026394,p:.030793,sB:.048389,tB:.048389,uB:.096778,vB:.026394,wB:.039591,P:.202354,Q:.079182,R:.057187,S:.114374,T:.030793,U:.083581,V:.092379,W:.08798,X:.048389,Y:.039591,Z:.048389,a:.061586,b:.035192,c:.127571,d:.030793,e:.017596,f:.026394,g:.026394,h:.061586,i:.04399,j:.035192,k:.035192,l:.039591,q:.211152,r:.052788,s:.048389,t:.052788,u:.123172,v:.180359,w:1.83878,x:.149566,y:.285935,z:.228748,D:.017596,"6B":.004399,"7B":0,"8B":0},B:"webkit",C:["","","","","","I","4","J","E","F","G","A","B","C","K","L","H","M","N","O","5","m","n","o","6","7","8","9","AB","BB","CB","DB","EB","FB","GB","HB","IB","JB","KB","LB","MB","NB","OB","PB","QB","RB","SB","TB","UB","VB","WB","XB","YB","ZB","aB","bB","cB","dB","eB","fB","3B","gB","4B","hB","iB","jB","kB","lB","mB","nB","oB","pB","qB","rB","p","sB","tB","uB","vB","wB","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","q","r","s","t","u","v","w","x","y","z","0","1","2","3","D","6B","7B","8B"],E:"Chrome",F:{0:1682985600,1:1685404800,2:1689724800,3:1692057600,4:1274745600,5:1332892800,6:1348531200,7:1352246400,8:1357862400,9:1361404800,I:1264377600,J:1283385600,E:1287619200,F:1291248e3,G:1296777600,A:1299542400,B:1303862400,C:1307404800,K:1312243200,L:1316131200,H:1316131200,M:1319500800,N:1323734400,O:1328659200,m:133704e4,n:1340668800,o:1343692800,AB:1364428800,BB:1369094400,CB:1374105600,DB:1376956800,EB:1384214400,FB:1389657600,GB:1392940800,HB:1397001600,IB:1400544e3,JB:1405468800,KB:1409011200,LB:141264e4,MB:1416268800,NB:1421798400,OB:1425513600,PB:1429401600,QB:143208e4,RB:1437523200,SB:1441152e3,TB:1444780800,UB:1449014400,VB:1453248e3,WB:1456963200,XB:1460592e3,YB:1464134400,ZB:1469059200,aB:1472601600,bB:1476230400,cB:1480550400,dB:1485302400,eB:1489017600,fB:149256e4,"3B":1496707200,gB:1500940800,"4B":1504569600,hB:1508198400,iB:1512518400,jB:1516752e3,kB:1520294400,lB:1523923200,mB:1527552e3,nB:1532390400,oB:1536019200,pB:1539648e3,qB:1543968e3,rB:154872e4,p:1552348800,sB:1555977600,tB:1559606400,uB:1564444800,vB:1568073600,wB:1571702400,P:1575936e3,Q:1580860800,R:1586304e3,S:1589846400,T:1594684800,U:1598313600,V:1601942400,W:1605571200,X:1611014400,Y:1614556800,Z:1618272e3,a:1621987200,b:1626739200,c:1630368e3,d:1632268800,e:1634601600,f:1637020800,g:1641340800,h:1643673600,i:1646092800,j:1648512e3,k:1650931200,l:1653350400,q:1655769600,r:1659398400,s:1661817600,t:1664236800,u:1666656e3,v:166968e4,w:1673308800,x:1675728e3,y:1678147200,z:1680566400,D:1694476800,"6B":null,"7B":null,"8B":null}},E:{A:{4:0,I:0,J:0,E:0,F:0,G:0,A:0,B:0,C:0,K:.017596,L:.105576,H:.017596,RC:0,"9B":0,SC:.008798,TC:0,UC:0,VC:.140768,AC:0,xB:.004399,yB:.030793,BC:.136369,WC:.255142,XC:.039591,CC:.035192,DC:.070384,zB:.123172,YC:.576269,"0B":.171561,EC:.180359,FC:.184758,GC:.422304,HC:.189157,IC:1.15254,JC:1.65402,"1B":.026394,KC:0,ZC:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","RC","9B","I","4","SC","J","TC","E","UC","F","G","VC","A","AC","B","xB","C","yB","K","BC","L","WC","H","XC","CC","DC","zB","YC","0B","EC","FC","GC","HC","IC","JC","1B","KC","ZC"],E:"Safari",F:{4:1275868800,RC:1205798400,"9B":1226534400,I:1244419200,SC:131112e4,J:1343174400,TC:13824e5,E:13824e5,UC:1410998400,F:1413417600,G:1443657600,VC:1458518400,A:1474329600,AC:1490572800,B:1505779200,xB:1522281600,C:1537142400,yB:1553472e3,K:1568851200,BC:1585008e3,L:1600214400,WC:1619395200,H:1632096e3,XC:1635292800,CC:1639353600,DC:1647216e3,zB:1652745600,YC:1658275200,"0B":1662940800,EC:1666569600,FC:1670889600,GC:1674432e3,HC:1679875200,IC:1684368e3,JC:1690156800,"1B":null,KC:null,ZC:null}},F:{A:{5:0,6:0,7:0,8:0,9:0,G:0,B:0,C:0,H:0,M:0,N:0,O:0,m:0,n:0,o:0,AB:0,BB:.004399,CB:0,DB:0,EB:0,FB:0,GB:0,HB:0,IB:0,JB:0,KB:0,LB:0,MB:0,NB:0,OB:0,PB:0,QB:0,RB:0,SB:0,TB:.013197,UB:0,VB:0,WB:0,XB:0,YB:0,ZB:0,aB:0,bB:0,cB:0,dB:0,eB:0,fB:0,gB:0,hB:0,iB:0,jB:0,kB:0,lB:0,mB:0,nB:0,oB:0,pB:0,qB:0,rB:0,p:0,sB:0,tB:0,uB:0,vB:0,wB:0,P:0,Q:0,R:0,"5B":0,S:0,T:0,U:.004399,V:0,W:0,X:0,Y:0,Z:0,a:0,b:0,c:0,d:0,e:.057187,f:0,g:.079182,h:0,i:.030793,j:.83581,k:.466294,l:.008798,aC:0,bC:0,cC:0,dC:0,xB:0,LC:0,eC:0,yB:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","G","aC","bC","cC","dC","B","xB","LC","eC","C","yB","H","M","N","O","5","m","n","o","6","7","8","9","AB","BB","CB","DB","EB","FB","GB","HB","IB","JB","KB","LB","MB","NB","OB","PB","QB","RB","SB","TB","UB","VB","WB","XB","YB","ZB","aB","bB","cB","dB","eB","fB","gB","hB","iB","jB","kB","lB","mB","nB","oB","pB","qB","rB","p","sB","tB","uB","vB","wB","P","Q","R","5B","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","","",""],E:"Opera",F:{5:1390867200,6:1405987200,7:1409616e3,8:1413331200,9:1417132800,G:1150761600,aC:1223424e3,bC:1251763200,cC:1267488e3,dC:1277942400,B:1292457600,xB:1302566400,LC:1309219200,eC:1323129600,C:1323129600,yB:1352073600,H:1372723200,M:1377561600,N:1381104e3,O:1386288e3,m:1393891200,n:1399334400,o:1401753600,AB:1422316800,BB:1425945600,CB:1430179200,DB:1433808e3,EB:1438646400,FB:1442448e3,GB:1445904e3,HB:1449100800,IB:1454371200,JB:1457308800,KB:146232e4,LB:1465344e3,MB:1470096e3,NB:1474329600,OB:1477267200,PB:1481587200,QB:1486425600,RB:1490054400,SB:1494374400,TB:1498003200,UB:1502236800,VB:1506470400,WB:1510099200,XB:1515024e3,YB:1517961600,ZB:1521676800,aB:1525910400,bB:1530144e3,cB:1534982400,dB:1537833600,eB:1543363200,fB:1548201600,gB:1554768e3,hB:1561593600,iB:1566259200,jB:1570406400,kB:1573689600,lB:1578441600,mB:1583971200,nB:1587513600,oB:1592956800,pB:1595894400,qB:1600128e3,rB:1603238400,p:161352e4,sB:1612224e3,tB:1616544e3,uB:1619568e3,vB:1623715200,wB:1627948800,P:1631577600,Q:1633392e3,R:1635984e3,"5B":1638403200,S:1642550400,T:1644969600,U:1647993600,V:1650412800,W:1652745600,X:1654646400,Y:1657152e3,Z:1660780800,a:1663113600,b:1668816e3,c:1668643200,d:1671062400,e:1675209600,f:1677024e3,g:1679529600,h:1681948800,i:1684195200,j:1687219200,k:1690329600,l:1692748800},D:{G:"o",B:"o",C:"o",aC:"o",bC:"o",cC:"o",dC:"o",xB:"o",LC:"o",eC:"o",yB:"o"}},G:{A:{F:0,"9B":0,fC:0,MC:.00279764,gC:.00419646,hC:.00279764,iC:.0125894,jC:.00419646,kC:.00839291,lC:.0391669,mC:.00279764,nC:.0545539,oC:.0223811,pC:.0195835,qC:.015387,rC:.257383,sC:.00699409,tC:.0111905,uC:.0181846,vC:.0573516,wC:.149674,xC:.257383,yC:.0965185,CC:.10631,DC:.120298,zB:.170656,zC:1.13864,"0B":.43783,EC:.863071,FC:.440628,GC:.879857,HC:.211222,IC:2.6032,JC:5.87084,"1B":.0965185,KC:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","9B","fC","MC","gC","hC","iC","F","jC","kC","lC","mC","nC","oC","pC","qC","rC","sC","tC","uC","vC","wC","xC","yC","CC","DC","zB","zC","0B","EC","FC","GC","HC","IC","JC","1B","KC","",""],E:"Safari on iOS",F:{"9B":1270252800,fC:1283904e3,MC:1299628800,gC:1331078400,hC:1359331200,iC:1394409600,F:1410912e3,jC:1413763200,kC:1442361600,lC:1458518400,mC:1473724800,nC:1490572800,oC:1505779200,pC:1522281600,qC:1537142400,rC:1553472e3,sC:1568851200,tC:1572220800,uC:1580169600,vC:1585008e3,wC:1600214400,xC:1619395200,yC:1632096e3,CC:1639353600,DC:1647216e3,zB:1652659200,zC:1658275200,"0B":1662940800,EC:1666569600,FC:1670889600,GC:1674432e3,HC:1679875200,IC:1684368e3,JC:1690156800,"1B":1694995200,KC:null}},H:{A:{"0C":1.08194},B:"o",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","0C","","",""],E:"Opera Mini",F:{"0C":1426464e3}},I:{A:{"2B":0,I:.0136938,D:0,"1C":0,"2C":.00684689,"3C":0,"4C":.0273876,MC:.0479282,"5C":0,"6C":.212254},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","1C","2C","3C","2B","I","4C","MC","5C","6C","D","","",""],E:"Android Browser",F:{"1C":1256515200,"2C":1274313600,"3C":1291593600,"2B":1298332800,I:1318896e3,"4C":1341792e3,MC:1374624e3,"5C":1386547200,"6C":1401667200,D:1694476800}},J:{A:{E:0,A:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","E","A","","",""],E:"Blackberry Browser",F:{E:1325376e3,A:1359504e3}},K:{A:{A:0,B:0,C:0,p:0,xB:0,LC:0,yB:0},B:"o",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","A","B","xB","LC","C","yB","p","","",""],E:"Opera Mobile",F:{A:1287100800,B:1300752e3,xB:1314835200,LC:1318291200,C:1330300800,yB:1349740800,p:1673827200},D:{p:"webkit"}},L:{A:{D:37.5486},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","D","","",""],E:"Chrome for Android",F:{D:1694476800}},M:{A:{D:.263294},B:"moz",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","D","","",""],E:"Firefox for Android",F:{D:1693267200}},N:{A:{A:0,B:0},B:"ms",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","A","B","","",""],E:"IE Mobile",F:{A:1340150400,B:1353456e3}},O:{A:{zB:1.00276},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","zB","","",""],E:"UC Browser for Android",F:{zB:1687132800},D:{zB:"webkit"}},P:{A:{I:.115947,m:.0843248,n:.210812,o:0,"7C":0,"8C":0,"9C":.0421624,AD:0,BD:0,AC:0,CD:.0105406,DD:0,ED:.0210812,FD:.0210812,GD:0,"0B":.0316218,"1B":.0316218,HD:.0316218,ID:.052703},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","I","7C","8C","9C","AD","BD","AC","CD","DD","ED","FD","GD","0B","1B","HD","ID","m","n","o","","",""],E:"Samsung Internet",F:{I:1461024e3,"7C":1481846400,"8C":1509408e3,"9C":1528329600,AD:1546128e3,BD:1554163200,AC:1567900800,CD:1582588800,DD:1593475200,ED:1605657600,FD:1618531200,GD:1629072e3,"0B":1640736e3,"1B":1651708800,HD:1659657600,ID:1667260800,m:1677369600,n:1684454400,o:1689292800}},Q:{A:{BC:.173662},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","BC","","",""],E:"QQ Browser",F:{BC:1663718400}},R:{A:{JD:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","JD","","",""],E:"Baidu Browser",F:{JD:1663027200}},S:{A:{KD:.05602,LD:0},B:"moz",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","KD","LD","","",""],E:"KaiOS Browser",F:{KD:1527811200,LD:1631664e3}}}});var b8=le((eY,y8)=>{"use strict";L();var FD=u8().browsers,x1=f8().browserVersions,g8=p8();function m8(n){return Object.keys(n).reduce((e,t)=>(e[x1[t]]=n[t],e),{})}y8.exports.agents=Object.keys(g8).reduce((n,e)=>{let t=g8[e];return n[FD[e]]=Object.keys(t).reduce((r,i)=>(i==="A"?r.usage_global=m8(t[i]):i==="C"?r.versions=t[i].reduce((o,s)=>(s===""?o.push(null):o.push(x1[s]),o),[]):i==="D"?r.prefix_exceptions=m8(t[i]):i==="E"?r.browser=t[i]:i==="F"?r.release_date=Object.keys(t[i]).reduce((o,s)=>(o[x1[s]]=t[i][s],o),{}):r.prefix=t[i],r),{}),n},{})});var v8=le((rY,HD)=>{HD.exports={"v0.8":{start:"2012-06-25",end:"2014-07-31"},"v0.10":{start:"2013-03-11",end:"2016-10-31"},"v0.12":{start:"2015-02-06",end:"2016-12-31"},v4:{start:"2015-09-08",lts:"2015-10-12",maintenance:"2017-04-01",end:"2018-04-30",codename:"Argon"},v5:{start:"2015-10-29",maintenance:"2016-04-30",end:"2016-06-30"},v6:{start:"2016-04-26",lts:"2016-10-18",maintenance:"2018-04-30",end:"2019-04-30",codename:"Boron"},v7:{start:"2016-10-25",maintenance:"2017-04-30",end:"2017-06-30"},v8:{start:"2017-05-30",lts:"2017-10-31",maintenance:"2019-01-01",end:"2019-12-31",codename:"Carbon"},v9:{start:"2017-10-01",maintenance:"2018-04-01",end:"2018-06-30"},v10:{start:"2018-04-24",lts:"2018-10-30",maintenance:"2020-05-19",end:"2021-04-30",codename:"Dubnium"},v11:{start:"2018-10-23",maintenance:"2019-04-22",end:"2019-06-01"},v12:{start:"2019-04-23",lts:"2019-10-21",maintenance:"2020-11-30",end:"2022-04-30",codename:"Erbium"},v13:{start:"2019-10-22",maintenance:"2020-04-01",end:"2020-06-01"},v14:{start:"2020-04-21",lts:"2020-10-27",maintenance:"2021-10-19",end:"2023-04-30",codename:"Fermium"},v15:{start:"2020-10-20",maintenance:"2021-04-01",end:"2021-06-01"},v16:{start:"2021-04-20",lts:"2021-10-26",maintenance:"2022-10-18",end:"2023-09-11",codename:"Gallium"},v17:{start:"2021-10-19",maintenance:"2022-04-01",end:"2022-06-01"},v18:{start:"2022-04-19",lts:"2022-10-25",maintenance:"2023-10-18",end:"2025-04-30",codename:"Hydrogen"},v19:{start:"2022-10-18",maintenance:"2023-04-01",end:"2023-06-01"},v20:{start:"2023-04-18",lts:"2023-10-24",maintenance:"2024-10-22",end:"2026-04-30",codename:""}}});var w8=le((nY,_8)=>{L();_8.exports={"0.20":"39","0.21":"41","0.22":"41","0.23":"41","0.24":"41","0.25":"42","0.26":"42","0.27":"43","0.28":"43","0.29":"43","0.30":"44","0.31":"45","0.32":"45","0.33":"45","0.34":"45","0.35":"45","0.36":"47","0.37":"49","1.0":"49","1.1":"50","1.2":"51","1.3":"52","1.4":"53","1.5":"54","1.6":"56","1.7":"58","1.8":"59","2.0":"61","2.1":"61","3.0":"66","3.1":"66","4.0":"69","4.1":"69","4.2":"69","5.0":"73","6.0":"76","6.1":"76","7.0":"78","7.1":"78","7.2":"78","7.3":"78","8.0":"80","8.1":"80","8.2":"80","8.3":"80","8.4":"80","8.5":"80","9.0":"83","9.1":"83","9.2":"83","9.3":"83","9.4":"83","10.0":"85","10.1":"85","10.2":"85","10.3":"85","10.4":"85","11.0":"87","11.1":"87","11.2":"87","11.3":"87","11.4":"87","11.5":"87","12.0":"89","12.1":"89","12.2":"89","13.0":"91","13.1":"91","13.2":"91","13.3":"91","13.4":"91","13.5":"91","13.6":"91","14.0":"93","14.1":"93","14.2":"93","15.0":"94","15.1":"94","15.2":"94","15.3":"94","15.4":"94","15.5":"94","16.0":"96","16.1":"96","16.2":"96","17.0":"98","17.1":"98","17.2":"98","17.3":"98","17.4":"98","18.0":"100","18.1":"100","18.2":"100","18.3":"100","19.0":"102","19.1":"102","20.0":"104","20.1":"104","20.2":"104","20.3":"104","21.0":"106","21.1":"106","21.2":"106","21.3":"106","21.4":"106","22.0":"108","22.1":"108","22.2":"108","22.3":"108","23.0":"110","23.1":"110","23.2":"110","23.3":"110","24.0":"112","24.1":"112","24.2":"112","24.3":"112","24.4":"112","24.5":"112","24.6":"112","24.7":"112","24.8":"112","25.0":"114","25.1":"114","25.2":"114","25.3":"114","25.4":"114","25.5":"114","25.6":"114","25.7":"114","25.8":"114","26.0":"116","26.1":"116","26.2":"116","27.0":"118"}});var P1=le((oY,S8)=>{L();function T1(n){this.name="BrowserslistError",this.message=n,this.browserslist=!0,Error.captureStackTrace&&Error.captureStackTrace(this,T1)}T1.prototype=Error.prototype;S8.exports=T1});var T8=le((aY,x8)=>{L();var A8=/^\s+and\s+(.*)/i,E8=/^(?:,\s*|\s+or\s+)(.*)/i;function C8(n){return Array.isArray(n)?n.reduce(function(e,t){return e.concat(C8(t))},[]):[n]}function UD(n,e){for(var t=1,r=n.length;t<=r;t++){var i=n.substr(-t,t);if(e(i,t,r))return n.slice(0,-t)}return""}function O1(n,e){var t={query:e};e.indexOf("not ")===0&&(t.not=!0,e=e.slice(4));for(var r in n){var i=n[r],o=e.match(i.regexp);if(o){t.type=r;for(var s=0;s<i.matches.length;s++)t[i.matches[s]]=o[s+1];return t}}return t.type="unknown",t}function jD(n,e,t){var r;return UD(e,function(i,o,s){return A8.test(i)?(r=O1(n,i.match(A8)[1]),r.compose="and",t.unshift(r),!0):E8.test(i)?(r=O1(n,i.match(E8)[1]),r.compose="or",t.unshift(r),!0):o===s?(r=O1(n,i.trim()),r.compose="or",t.unshift(r),!0):!1})}x8.exports=function(e,t){return Array.isArray(t)||(t=[t]),C8(t.map(function(r){var i=[];do r=jD(e,r,i);while(r);return i}))}});var O8=le((lY,P8)=>{L();var zf=P1();function kl(){}P8.exports={loadQueries:function(){throw new zf("Sharable configs are not supported in client-side build of Browserslist")},getStat:function(e){return e.stats},loadConfig:function(e){if(e.config)throw new zf("Browserslist config are not supported in client-side build")},loadCountry:function(){throw new zf("Country statistics are not supported in client-side build of Browserslist")},loadFeature:function(){throw new zf("Supports queries are not available in client-side build of Browserslist")},currentNode:function(e,t){return e(["maintained node versions"],t)[0]},parseConfig:kl,readConfig:kl,findConfig:kl,clearCaches:kl,oldDataWarning:kl,env:{}}});var $8=le((dY,V8)=>{L();var qD=i8(),vo=b8().agents,M1=v8(),Xf=al(),mi=w8(),pn=P1(),F8=T8(),qr=O8(),GD=365.259641*24*60*60*1e3,H8="37",WD=14;function U8(n,e){return(n+".").indexOf(e+".")===0}function zD(n){var e=n.slice(1);return Xe.nodeVersions.some(function(t){return U8(t,e)})}function M8(n){return n.filter(function(e){return typeof e=="string"})}function Vf(n){var e=n;return n.split(".").length===3&&(e=n.split(".").slice(0,-1).join(".")),e}function Zo(n){return function(t){return n+" "+t}}function I1(n){return parseInt(n.split(".")[0])}function $f(n,e){if(n.length===0)return[];var t=j8(n.map(I1)),r=t[t.length-e];if(!r)return n;for(var i=[],o=n.length-1;o>=0&&!(r>I1(n[o]));o--)i.unshift(n[o]);return i}function j8(n){for(var e=[],t=0;t<n.length;t++)e.indexOf(n[t])===-1&&e.push(n[t]);return e}function Qf(n,e,t){for(var r in t)n[e+" "+r]=t[r]}function k8(n,e){return e=parseFloat(e),n===">"?function(t){return parseFloat(t)>e}:n===">="?function(t){return parseFloat(t)>=e}:n==="<"?function(t){return parseFloat(t)<e}:function(t){return parseFloat(t)<=e}}function VD(n,e){return e=e.split(".").map(es),e[1]=e[1]||0,e[2]=e[2]||0,n===">"?function(t){return t=t.split(".").map(es),Rl(t,e)>0}:n===">="?function(t){return t=t.split(".").map(es),Rl(t,e)>=0}:n==="<"?function(t){return t=t.split(".").map(es),Rl(e,t)>0}:function(t){return t=t.split(".").map(es),Rl(e,t)>=0}}function es(n){return parseInt(n)}function Yf(n,e){return n<e?-1:n>e?1:0}function Rl(n,e){return Yf(parseInt(n[0]),parseInt(e[0]))||Yf(parseInt(n[1]||"0"),parseInt(e[1]||"0"))||Yf(parseInt(n[2]||"0"),parseInt(e[2]||"0"))}function R8(n,e){switch(e=e.split(".").map(es),typeof e[1]>"u"&&(e[1]="x"),n){case"<=":return function(t){return t=t.split(".").map(es),L8(t,e)<=0};case">=":default:return function(t){return t=t.split(".").map(es),L8(t,e)>=0}}}function L8(n,e){return n[0]!==e[0]?n[0]<e[0]?-1:1:e[1]==="x"?0:n[1]!==e[1]?n[1]<e[1]?-1:1:0}function $D(n,e){return n.versions.indexOf(e)!==-1?e:Xe.versionAliases[n.name][e]?Xe.versionAliases[n.name][e]:!1}function Jf(n,e){var t=$D(n,e);return t||(n.versions.length===1?n.versions[0]:!1)}function q8(n,e){return n=n/1e3,Object.keys(vo).reduce(function(t,r){var i=ts(r,e);if(!i)return t;var o=Object.keys(i.releaseDate).filter(function(s){var l=i.releaseDate[s];return l!==null&&l>=n});return t.concat(o.map(Zo(i.name)))},[])}function I8(n){return{name:n.name,versions:n.versions,released:n.released,releaseDate:n.releaseDate}}function ts(n,e){if(n=n.toLowerCase(),n=Xe.aliases[n]||n,e.mobileToDesktop&&Xe.desktopNames[n]){var t=Xe.data[Xe.desktopNames[n]];if(n==="android")return JD(I8(Xe.data[n]),t);var r=I8(t);return r.name=n,r}return Xe.data[n]}function N8(n,e){var t=e.indexOf(H8);return n.filter(function(r){return/^(?:[2-4]\.|[34]$)/.test(r)}).concat(e.slice(t))}function JD(n,e){return n.released=N8(n.released,e.released),n.versions=N8(n.versions,e.versions),n.released.forEach(function(t){n.releaseDate[t]===void 0&&(n.releaseDate[t]=e.releaseDate[t])}),n}function Ja(n,e){var t=ts(n,e);if(!t)throw new pn("Unknown browser "+n);return t}function KD(n){return new pn("Unknown browser query `"+n+"`. Maybe you are using old Browserslist or made typo in query.")}function Kf(n,e,t,r){var i=1;switch(e){case"android":if(r.mobileToDesktop)return n;var o=Xe.data.chrome.released;i=o.length-o.indexOf(H8);break;case"op_mob":var s=Xe.data.op_mob.released.slice(-1)[0];i=I1(s)-WD+1;break;default:return n}return t<=i?n.slice(-1):n.slice(i-1-t)}function B8(n){return typeof n=="string"&&(n.indexOf("y")>=0||n.indexOf("a")>=0)}function Ka(n,e){return F8(N1,n).reduce(function(t,r,i){if(r.not&&i===0)throw new pn("Write any browsers query (for instance, `defaults`) before `"+r.query+"`");var o=N1[r.type],s=o.select.call(Xe,e,r).map(function(f){var u=f.split(" ");return u[1]==="0"?u[0]+" "+ts(u[0],e).versions[0]:f});if(r.compose==="and")return r.not?t.filter(function(f){return s.indexOf(f)===-1}):t.filter(function(f){return s.indexOf(f)!==-1});if(r.not){var l={};return s.forEach(function(f){l[f]=!0}),t.filter(function(f){return!l[f]})}return t.concat(s)},[])}function G8(n){return typeof n>"u"&&(n={}),typeof n.path>"u"&&(n.path=Xf.resolve?Xf.resolve("."):"."),n}function W8(n,e){if(typeof n>"u"||n===null){var t=Xe.loadConfig(e);t?n=t:n=Xe.defaults}return n}function z8(n){if(!(typeof n=="string"||Array.isArray(n)))throw new pn("Browser queries must be an array or string. Got "+typeof n+".")}var k1={};function Xe(n,e){e=G8(e),n=W8(n,e),z8(n);var t={ignoreUnknownVersions:e.ignoreUnknownVersions,dangerousExtend:e.dangerousExtend,mobileToDesktop:e.mobileToDesktop,path:e.path,env:e.env};qr.oldDataWarning(Xe.data);var r=qr.getStat(e,Xe.data);if(r){t.customUsage={};for(var i in r)Qf(t.customUsage,i,r[i])}var o=JSON.stringify([n,t]);if(k1[o])return k1[o];var s=j8(Ka(n,t)).sort(function(l,f){if(l=l.split(" "),f=f.split(" "),l[0]===f[0]){var u=l[1].split("-")[0],m=f[1].split("-")[0];return Rl(m.split("."),u.split("."))}else return Yf(l[0],f[0])});return qr.env.BROWSERSLIST_DISABLE_CACHE||(k1[o]=s),s}Xe.parse=function(n,e){return e=G8(e),n=W8(n,e),z8(n),F8(N1,n)};Xe.cache={};Xe.data={};Xe.usage={global:{},custom:null};Xe.defaults=["> 0.5%","last 2 versions","Firefox ESR","not dead"];Xe.aliases={fx:"firefox",ff:"firefox",ios:"ios_saf",explorer:"ie",blackberry:"bb",explorermobile:"ie_mob",operamini:"op_mini",operamobile:"op_mob",chromeandroid:"and_chr",firefoxandroid:"and_ff",ucandroid:"and_uc",qqandroid:"and_qq"};Xe.desktopNames={and_chr:"chrome",and_ff:"firefox",ie_mob:"ie",android:"chrome"};Xe.versionAliases={};Xe.clearCaches=qr.clearCaches;Xe.parseConfig=qr.parseConfig;Xe.readConfig=qr.readConfig;Xe.findConfig=qr.findConfig;Xe.loadConfig=qr.loadConfig;Xe.coverage=function(n,e){var t;if(typeof e>"u")t=Xe.usage.global;else if(e==="my stats"){var r={};r.path=Xf.resolve?Xf.resolve("."):".";var i=qr.getStat(r);if(!i)throw new pn("Custom usage statistics was not provided");t={};for(var o in i)Qf(t,o,i[o])}else if(typeof e=="string")e.length>2?e=e.toLowerCase():e=e.toUpperCase(),qr.loadCountry(Xe.usage,e,Xe.data),t=Xe.usage[e];else{"dataByBrowser"in e&&(e=e.dataByBrowser),t={};for(var s in e)for(var l in e[s])t[s+" "+l]=e[s][l]}return n.reduce(function(f,u){var m=t[u];return m===void 0&&(m=t[u.replace(/ \S+$/," 0")]),f+(m||0)},0)};function R1(n,e){var t=Xe.nodeVersions.filter(function(r){return U8(r,e.version)});if(t.length===0){if(n.ignoreUnknownVersions)return[];throw new pn("Unknown version "+e.version+" of Node.js")}return["node "+t[t.length-1]]}function L1(n,e){var t=parseInt(e.year),r=parseInt(e.month||"01")-1,i=parseInt(e.day||"01");return q8(Date.UTC(t,r,i,0,0,0),n)}function D8(n,e){var t=parseFloat(e.coverage),r=Xe.usage.global;if(e.place)if(e.place.match(/^my\s+stats$/i)){if(!n.customUsage)throw new pn("Custom usage statistics was not provided");r=n.customUsage}else{var i;e.place.length===2?i=e.place.toUpperCase():i=e.place.toLowerCase(),qr.loadCountry(Xe.usage,i,Xe.data),r=Xe.usage[i]}for(var o=Object.keys(r).sort(function(m,y){return r[y]-r[m]}),s=0,l=[],f,u=0;u<o.length&&(f=o[u],!(r[f]===0||(s+=r[f],l.push(f),s>=t)));u++);return l}var N1={last_major_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+major\s+versions?$/i,select:function(n,e){return Object.keys(vo).reduce(function(t,r){var i=ts(r,n);if(!i)return t;var o=$f(i.released,e.versions);return o=o.map(Zo(i.name)),o=Kf(o,i.name,e.versions,n),t.concat(o)},[])}},last_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+versions?$/i,select:function(n,e){return Object.keys(vo).reduce(function(t,r){var i=ts(r,n);if(!i)return t;var o=i.released.slice(-e.versions);return o=o.map(Zo(i.name)),o=Kf(o,i.name,e.versions,n),t.concat(o)},[])}},last_electron_major_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+electron\s+major\s+versions?$/i,select:function(n,e){var t=$f(Object.keys(mi),e.versions);return t.map(function(r){return"chrome "+mi[r]})}},last_node_major_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+node\s+major\s+versions?$/i,select:function(n,e){return $f(Xe.nodeVersions,e.versions).map(function(t){return"node "+t})}},last_browser_major_versions:{matches:["versions","browser"],regexp:/^last\s+(\d+)\s+(\w+)\s+major\s+versions?$/i,select:function(n,e){var t=Ja(e.browser,n),r=$f(t.released,e.versions),i=r.map(Zo(t.name));return i=Kf(i,t.name,e.versions,n),i}},last_electron_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+electron\s+versions?$/i,select:function(n,e){return Object.keys(mi).slice(-e.versions).map(function(t){return"chrome "+mi[t]})}},last_node_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+node\s+versions?$/i,select:function(n,e){return Xe.nodeVersions.slice(-e.versions).map(function(t){return"node "+t})}},last_browser_versions:{matches:["versions","browser"],regexp:/^last\s+(\d+)\s+(\w+)\s+versions?$/i,select:function(n,e){var t=Ja(e.browser,n),r=t.released.slice(-e.versions).map(Zo(t.name));return r=Kf(r,t.name,e.versions,n),r}},unreleased_versions:{matches:[],regexp:/^unreleased\s+versions$/i,select:function(n){return Object.keys(vo).reduce(function(e,t){var r=ts(t,n);if(!r)return e;var i=r.versions.filter(function(o){return r.released.indexOf(o)===-1});return i=i.map(Zo(r.name)),e.concat(i)},[])}},unreleased_electron_versions:{matches:[],regexp:/^unreleased\s+electron\s+versions?$/i,select:function(){return[]}},unreleased_browser_versions:{matches:["browser"],regexp:/^unreleased\s+(\w+)\s+versions?$/i,select:function(n,e){var t=Ja(e.browser,n);return t.versions.filter(function(r){return t.released.indexOf(r)===-1}).map(Zo(t.name))}},last_years:{matches:["years"],regexp:/^last\s+(\d*.?\d+)\s+years?$/i,select:function(n,e){return q8(Date.now()-GD*e.years,n)}},since_y:{matches:["year"],regexp:/^since (\d+)$/i,select:L1},since_y_m:{matches:["year","month"],regexp:/^since (\d+)-(\d+)$/i,select:L1},since_y_m_d:{matches:["year","month","day"],regexp:/^since (\d+)-(\d+)-(\d+)$/i,select:L1},popularity:{matches:["sign","popularity"],regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%$/,select:function(n,e){var t=parseFloat(e.popularity),r=Xe.usage.global;return Object.keys(r).reduce(function(i,o){return e.sign===">"?r[o]>t&&i.push(o):e.sign==="<"?r[o]<t&&i.push(o):e.sign==="<="?r[o]<=t&&i.push(o):r[o]>=t&&i.push(o),i},[])}},popularity_in_my_stats:{matches:["sign","popularity"],regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%\s+in\s+my\s+stats$/,select:function(n,e){var t=parseFloat(e.popularity);if(!n.customUsage)throw new pn("Custom usage statistics was not provided");var r=n.customUsage;return Object.keys(r).reduce(function(i,o){var s=r[o];return s==null||(e.sign===">"?s>t&&i.push(o):e.sign==="<"?s<t&&i.push(o):e.sign==="<="?s<=t&&i.push(o):s>=t&&i.push(o)),i},[])}},popularity_in_config_stats:{matches:["sign","popularity","config"],regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%\s+in\s+(\S+)\s+stats$/,select:function(n,e){var t=parseFloat(e.popularity),r=qr.loadStat(n,e.config,Xe.data);if(r){n.customUsage={};for(var i in r)Qf(n.customUsage,i,r[i])}if(!n.customUsage)throw new pn("Custom usage statistics was not provided");var o=n.customUsage;return Object.keys(o).reduce(function(s,l){var f=o[l];return f==null||(e.sign===">"?f>t&&s.push(l):e.sign==="<"?f<t&&s.push(l):e.sign==="<="?f<=t&&s.push(l):f>=t&&s.push(l)),s},[])}},popularity_in_place:{matches:["sign","popularity","place"],regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%\s+in\s+((alt-)?\w\w)$/,select:function(n,e){var t=parseFloat(e.popularity),r=e.place;r.length===2?r=r.toUpperCase():r=r.toLowerCase(),qr.loadCountry(Xe.usage,r,Xe.data);var i=Xe.usage[r];return Object.keys(i).reduce(function(o,s){var l=i[s];return l==null||(e.sign===">"?l>t&&o.push(s):e.sign==="<"?l<t&&o.push(s):e.sign==="<="?l<=t&&o.push(s):l>=t&&o.push(s)),o},[])}},cover:{matches:["coverage"],regexp:/^cover\s+(\d+|\d+\.\d+|\.\d+)%$/i,select:D8},cover_in:{matches:["coverage","place"],regexp:/^cover\s+(\d+|\d+\.\d+|\.\d+)%\s+in\s+(my\s+stats|(alt-)?\w\w)$/i,select:D8},supports:{matches:["feature"],regexp:/^supports\s+([\w-]+)$/,select:function(n,e){qr.loadFeature(Xe.cache,e.feature);var t=Xe.cache[e.feature],r=[];for(var i in t){var o=ts(i,n),s=n.mobileToDesktop&&i in Xe.desktopNames&&B8(t[i][o.released.slice(-1)[0]]);o.versions.forEach(function(l){var f=t[i][l];f===void 0&&s&&(f=t[Xe.desktopNames[i]][l]),B8(f)&&r.push(i+" "+l)})}return r}},electron_range:{matches:["from","to"],regexp:/^electron\s+([\d.]+)\s*-\s*([\d.]+)$/i,select:function(n,e){var t=Vf(e.from),r=Vf(e.to),i=parseFloat(e.from),o=parseFloat(e.to);if(!mi[t])throw new pn("Unknown version "+i+" of electron");if(!mi[r])throw new pn("Unknown version "+o+" of electron");return Object.keys(mi).filter(function(s){var l=parseFloat(s);return l>=i&&l<=o}).map(function(s){return"chrome "+mi[s]})}},node_range:{matches:["from","to"],regexp:/^node\s+([\d.]+)\s*-\s*([\d.]+)$/i,select:function(n,e){return Xe.nodeVersions.filter(R8(">=",e.from)).filter(R8("<=",e.to)).map(function(t){return"node "+t})}},browser_range:{matches:["browser","from","to"],regexp:/^(\w+)\s+([\d.]+)\s*-\s*([\d.]+)$/i,select:function(n,e){var t=Ja(e.browser,n),r=parseFloat(Jf(t,e.from)||e.from),i=parseFloat(Jf(t,e.to)||e.to);function o(s){var l=parseFloat(s);return l>=r&&l<=i}return t.released.filter(o).map(Zo(t.name))}},electron_ray:{matches:["sign","version"],regexp:/^electron\s*(>=?|<=?)\s*([\d.]+)$/i,select:function(n,e){var t=Vf(e.version);return Object.keys(mi).filter(k8(e.sign,t)).map(function(r){return"chrome "+mi[r]})}},node_ray:{matches:["sign","version"],regexp:/^node\s*(>=?|<=?)\s*([\d.]+)$/i,select:function(n,e){return Xe.nodeVersions.filter(VD(e.sign,e.version)).map(function(t){return"node "+t})}},browser_ray:{matches:["browser","sign","version"],regexp:/^(\w+)\s*(>=?|<=?)\s*([\d.]+)$/,select:function(n,e){var t=e.version,r=Ja(e.browser,n),i=Xe.versionAliases[r.name][t];return i&&(t=i),r.released.filter(k8(e.sign,t)).map(function(o){return r.name+" "+o})}},firefox_esr:{matches:[],regexp:/^(firefox|ff|fx)\s+esr$/i,select:function(){return["firefox 102","firefox 115"]}},opera_mini_all:{matches:[],regexp:/(operamini|op_mini)\s+all/i,select:function(){return["op_mini all"]}},electron_version:{matches:["version"],regexp:/^electron\s+([\d.]+)$/i,select:function(n,e){var t=Vf(e.version),r=mi[t];if(!r)throw new pn("Unknown version "+e.version+" of electron");return["chrome "+r]}},node_major_version:{matches:["version"],regexp:/^node\s+(\d+)$/i,select:R1},node_minor_version:{matches:["version"],regexp:/^node\s+(\d+\.\d+)$/i,select:R1},node_patch_version:{matches:["version"],regexp:/^node\s+(\d+\.\d+\.\d+)$/i,select:R1},current_node:{matches:[],regexp:/^current\s+node$/i,select:function(n){return[qr.currentNode(Ka,n)]}},maintained_node:{matches:[],regexp:/^maintained\s+node\s+versions$/i,select:function(n){var e=Date.now(),t=Object.keys(M1).filter(function(r){return e<Date.parse(M1[r].end)&&e>Date.parse(M1[r].start)&&zD(r)}).map(function(r){return"node "+r.slice(1)});return Ka(t,n)}},phantomjs_1_9:{matches:[],regexp:/^phantomjs\s+1.9$/i,select:function(){return["safari 5"]}},phantomjs_2_1:{matches:[],regexp:/^phantomjs\s+2.1$/i,select:function(){return["safari 6"]}},browser_version:{matches:["browser","version"],regexp:/^(\w+)\s+(tp|[\d.]+)$/i,select:function(n,e){var t=e.version;/^tp$/i.test(t)&&(t="TP");var r=Ja(e.browser,n),i=Jf(r,t);if(i)t=i;else if(t.indexOf(".")===-1?i=t+".0":i=t.replace(/\.0$/,""),i=Jf(r,i),i)t=i;else{if(n.ignoreUnknownVersions)return[];throw new pn("Unknown version "+t+" of "+e.browser)}return[r.name+" "+t]}},browserslist_config:{matches:[],regexp:/^browserslist config$/i,select:function(n){return Xe(void 0,n)}},extends:{matches:["config"],regexp:/^extends (.+)$/i,select:function(n,e){return Ka(qr.loadQueries(n,e.config),n)}},defaults:{matches:[],regexp:/^defaults$/i,select:function(n){return Ka(Xe.defaults,n)}},dead:{matches:[],regexp:/^dead$/i,select:function(n){var e=["Baidu >= 0","ie <= 11","ie_mob <= 11","bb <= 10","op_mob <= 12.1","samsung 4"];return Ka(e,n)}},unknown:{matches:[],regexp:/^(\w+)$/i,select:function(n,e){throw ts(e.query,n)?new pn("Specify versions in Browserslist query for browser "+e.query):KD(e.query)}}};(function(){for(var n in vo){var e=vo[n];Xe.data[n]={name:n,versions:M8(vo[n].versions),released:M8(vo[n].versions.slice(0,-3)),releaseDate:vo[n].release_date},Qf(Xe.usage.global,n,e.usage_global),Xe.versionAliases[n]={};for(var t=0;t<e.versions.length;t++){var r=e.versions[t];if(r&&r.indexOf("-")!==-1)for(var i=r.split("-"),o=0;o<i.length;o++)Xe.versionAliases[n][i[o]]=r}}Xe.nodeVersions=qD.map(function(s){return s.version})})();V8.exports=Xe});var K8=le((hY,J8)=>{"use strict";L();J8.exports={_hasUFlag:!1,shouldRun:function(e){var t=e.flags.includes("s");return t?(e.flags=e.flags.replace("s",""),this._hasUFlag=e.flags.includes("u"),!0):!1},Char:function(e){var t=e.node;if(!(t.kind!=="meta"||t.value!==".")){var r="\\uFFFF",i="\uFFFF";this._hasUFlag&&(r="\\u{10FFFF}",i="\u{10FFFF}"),e.replace({type:"CharacterClass",expressions:[{type:"ClassRange",from:{type:"Char",value:"\\0",kind:"decimal",symbol:"\0"},to:{type:"Char",value:r,kind:"unicode",symbol:i}}]})}}}});var X8=le((gY,Y8)=>{"use strict";L();Y8.exports={_groupNames:{},init:function(){this._groupNames={}},getExtra:function(){return this._groupNames},Group:function(e){var t=e.node;t.name&&(this._groupNames[t.name]=t.number,delete t.name,delete t.nameRaw)},Backreference:function(e){var t=e.node;t.kind==="name"&&(t.kind="number",t.reference=t.number,delete t.referenceRaw)}}});var Z8=le((yY,Q8)=>{"use strict";L();Q8.exports={RegExp:function(e){var t=e.node;t.flags.includes("x")&&(t.flags=t.flags.replace("x",""))}}});var tS=le((vY,eS)=>{"use strict";L();eS.exports={dotAll:K8(),namedCapturingGroups:X8(),xFlag:Z8()}});var B1=le((wY,rS)=>{"use strict";L();function Dn(n){return n?YD[n.type](n):""}var YD={RegExp:function(e){return"/"+Dn(e.body)+"/"+e.flags},Alternative:function(e){return(e.expressions||[]).map(Dn).join("")},Disjunction:function(e){return Dn(e.left)+"|"+Dn(e.right)},Group:function(e){var t=Dn(e.expression);return e.capturing?e.name?"(?<"+(e.nameRaw||e.name)+">"+t+")":"("+t+")":"(?:"+t+")"},Backreference:function(e){switch(e.kind){case"number":return"\\"+e.reference;case"name":return"\\k<"+(e.referenceRaw||e.reference)+">";default:throw new TypeError("Unknown Backreference kind: "+e.kind)}},Assertion:function(e){switch(e.kind){case"^":case"$":case"\\b":case"\\B":return e.kind;case"Lookahead":{var t=Dn(e.assertion);return e.negative?"(?!"+t+")":"(?="+t+")"}case"Lookbehind":{var r=Dn(e.assertion);return e.negative?"(?<!"+r+")":"(?<="+r+")"}default:throw new TypeError("Unknown Assertion kind: "+e.kind)}},CharacterClass:function(e){var t=e.expressions.map(Dn).join("");return e.negative?"[^"+t+"]":"["+t+"]"},ClassRange:function(e){return Dn(e.from)+"-"+Dn(e.to)},Repetition:function(e){return""+Dn(e.expression)+Dn(e.quantifier)},Quantifier:function(e){var t=void 0,r=e.greedy?"":"?";switch(e.kind){case"+":case"?":case"*":t=e.kind;break;case"Range":e.from===e.to?t="{"+e.from+"}":e.to?t="{"+e.from+","+e.to+"}":t="{"+e.from+",}";break;default:throw new TypeError("Unknown Quantifier kind: "+e.kind)}return""+t+r},Char:function(e){var t=e.value;switch(e.kind){case"simple":return e.escaped?"\\"+t:t;case"hex":case"unicode":case"oct":case"decimal":case"control":case"meta":return t;default:throw new TypeError("Unknown Char kind: "+e.kind)}},UnicodeProperty:function(e){var t=e.negative?"P":"p",r=void 0;return!e.shorthand&&!e.binary?r=e.name+"=":r="","\\"+t+"{"+r+e.value+"}"}};rS.exports={generate:Dn}});var sS=le((AY,oS)=>{"use strict";L();var D1={General_Category:"gc",Script:"sc",Script_Extensions:"scx"},Ll=rh(D1),th={ASCII:"ASCII",ASCII_Hex_Digit:"AHex",Alphabetic:"Alpha",Any:"Any",Assigned:"Assigned",Bidi_Control:"Bidi_C",Bidi_Mirrored:"Bidi_M",Case_Ignorable:"CI",Cased:"Cased",Changes_When_Casefolded:"CWCF",Changes_When_Casemapped:"CWCM",Changes_When_Lowercased:"CWL",Changes_When_NFKC_Casefolded:"CWKCF",Changes_When_Titlecased:"CWT",Changes_When_Uppercased:"CWU",Dash:"Dash",Default_Ignorable_Code_Point:"DI",Deprecated:"Dep",Diacritic:"Dia",Emoji:"Emoji",Emoji_Component:"Emoji_Component",Emoji_Modifier:"Emoji_Modifier",Emoji_Modifier_Base:"Emoji_Modifier_Base",Emoji_Presentation:"Emoji_Presentation",Extended_Pictographic:"Extended_Pictographic",Extender:"Ext",Grapheme_Base:"Gr_Base",Grapheme_Extend:"Gr_Ext",Hex_Digit:"Hex",IDS_Binary_Operator:"IDSB",IDS_Trinary_Operator:"IDST",ID_Continue:"IDC",ID_Start:"IDS",Ideographic:"Ideo",Join_Control:"Join_C",Logical_Order_Exception:"LOE",Lowercase:"Lower",Math:"Math",Noncharacter_Code_Point:"NChar",Pattern_Syntax:"Pat_Syn",Pattern_White_Space:"Pat_WS",Quotation_Mark:"QMark",Radical:"Radical",Regional_Indicator:"RI",Sentence_Terminal:"STerm",Soft_Dotted:"SD",Terminal_Punctuation:"Term",Unified_Ideograph:"UIdeo",Uppercase:"Upper",Variation_Selector:"VS",White_Space:"space",XID_Continue:"XIDC",XID_Start:"XIDS"},rs=rh(th),F1={Cased_Letter:"LC",Close_Punctuation:"Pe",Connector_Punctuation:"Pc",Control:["Cc","cntrl"],Currency_Symbol:"Sc",Dash_Punctuation:"Pd",Decimal_Number:["Nd","digit"],Enclosing_Mark:"Me",Final_Punctuation:"Pf",Format:"Cf",Initial_Punctuation:"Pi",Letter:"L",Letter_Number:"Nl",Line_Separator:"Zl",Lowercase_Letter:"Ll",Mark:["M","Combining_Mark"],Math_Symbol:"Sm",Modifier_Letter:"Lm",Modifier_Symbol:"Sk",Nonspacing_Mark:"Mn",Number:"N",Open_Punctuation:"Ps",Other:"C",Other_Letter:"Lo",Other_Number:"No",Other_Punctuation:"Po",Other_Symbol:"So",Paragraph_Separator:"Zp",Private_Use:"Co",Punctuation:["P","punct"],Separator:"Z",Space_Separator:"Zs",Spacing_Mark:"Mc",Surrogate:"Cs",Symbol:"S",Titlecase_Letter:"Lt",Unassigned:"Cn",Uppercase_Letter:"Lu"},Zf=rh(F1),H1={Adlam:"Adlm",Ahom:"Ahom",Anatolian_Hieroglyphs:"Hluw",Arabic:"Arab",Armenian:"Armn",Avestan:"Avst",Balinese:"Bali",Bamum:"Bamu",Bassa_Vah:"Bass",Batak:"Batk",Bengali:"Beng",Bhaiksuki:"Bhks",Bopomofo:"Bopo",Brahmi:"Brah",Braille:"Brai",Buginese:"Bugi",Buhid:"Buhd",Canadian_Aboriginal:"Cans",Carian:"Cari",Caucasian_Albanian:"Aghb",Chakma:"Cakm",Cham:"Cham",Cherokee:"Cher",Common:"Zyyy",Coptic:["Copt","Qaac"],Cuneiform:"Xsux",Cypriot:"Cprt",Cyrillic:"Cyrl",Deseret:"Dsrt",Devanagari:"Deva",Dogra:"Dogr",Duployan:"Dupl",Egyptian_Hieroglyphs:"Egyp",Elbasan:"Elba",Ethiopic:"Ethi",Georgian:"Geor",Glagolitic:"Glag",Gothic:"Goth",Grantha:"Gran",Greek:"Grek",Gujarati:"Gujr",Gunjala_Gondi:"Gong",Gurmukhi:"Guru",Han:"Hani",Hangul:"Hang",Hanifi_Rohingya:"Rohg",Hanunoo:"Hano",Hatran:"Hatr",Hebrew:"Hebr",Hiragana:"Hira",Imperial_Aramaic:"Armi",Inherited:["Zinh","Qaai"],Inscriptional_Pahlavi:"Phli",Inscriptional_Parthian:"Prti",Javanese:"Java",Kaithi:"Kthi",Kannada:"Knda",Katakana:"Kana",Kayah_Li:"Kali",Kharoshthi:"Khar",Khmer:"Khmr",Khojki:"Khoj",Khudawadi:"Sind",Lao:"Laoo",Latin:"Latn",Lepcha:"Lepc",Limbu:"Limb",Linear_A:"Lina",Linear_B:"Linb",Lisu:"Lisu",Lycian:"Lyci",Lydian:"Lydi",Mahajani:"Mahj",Makasar:"Maka",Malayalam:"Mlym",Mandaic:"Mand",Manichaean:"Mani",Marchen:"Marc",Medefaidrin:"Medf",Masaram_Gondi:"Gonm",Meetei_Mayek:"Mtei",Mende_Kikakui:"Mend",Meroitic_Cursive:"Merc",Meroitic_Hieroglyphs:"Mero",Miao:"Plrd",Modi:"Modi",Mongolian:"Mong",Mro:"Mroo",Multani:"Mult",Myanmar:"Mymr",Nabataean:"Nbat",New_Tai_Lue:"Talu",Newa:"Newa",Nko:"Nkoo",Nushu:"Nshu",Ogham:"Ogam",Ol_Chiki:"Olck",Old_Hungarian:"Hung",Old_Italic:"Ital",Old_North_Arabian:"Narb",Old_Permic:"Perm",Old_Persian:"Xpeo",Old_Sogdian:"Sogo",Old_South_Arabian:"Sarb",Old_Turkic:"Orkh",Oriya:"Orya",Osage:"Osge",Osmanya:"Osma",Pahawh_Hmong:"Hmng",Palmyrene:"Palm",Pau_Cin_Hau:"Pauc",Phags_Pa:"Phag",Phoenician:"Phnx",Psalter_Pahlavi:"Phlp",Rejang:"Rjng",Runic:"Runr",Samaritan:"Samr",Saurashtra:"Saur",Sharada:"Shrd",Shavian:"Shaw",Siddham:"Sidd",SignWriting:"Sgnw",Sinhala:"Sinh",Sogdian:"Sogd",Sora_Sompeng:"Sora",Soyombo:"Soyo",Sundanese:"Sund",Syloti_Nagri:"Sylo",Syriac:"Syrc",Tagalog:"Tglg",Tagbanwa:"Tagb",Tai_Le:"Tale",Tai_Tham:"Lana",Tai_Viet:"Tavt",Takri:"Takr",Tamil:"Taml",Tangut:"Tang",Telugu:"Telu",Thaana:"Thaa",Thai:"Thai",Tibetan:"Tibt",Tifinagh:"Tfng",Tirhuta:"Tirh",Ugaritic:"Ugar",Vai:"Vaii",Warang_Citi:"Wara",Yi:"Yiii",Zanabazar_Square:"Zanb"},eh=rh(H1);function rh(n){var e={};for(var t in n)if(n.hasOwnProperty(t)){var r=n[t];if(Array.isArray(r))for(var i=0;i<r.length;i++)e[r[i]]=t;else e[r]=t}return e}function XD(n){return D1.hasOwnProperty(n)||Ll.hasOwnProperty(n)||th.hasOwnProperty(n)||rs.hasOwnProperty(n)}function QD(n,e){return eF(n)?nS(e):tF(n)?iS(e):!1}function ZD(n){return Ll.hasOwnProperty(n)||rs.hasOwnProperty(n)}function eF(n){return n==="General_Category"||n=="gc"}function tF(n){return n==="Script"||n==="Script_Extensions"||n==="sc"||n==="scx"}function nS(n){return F1.hasOwnProperty(n)||Zf.hasOwnProperty(n)}function iS(n){return H1.hasOwnProperty(n)||eh.hasOwnProperty(n)}function rF(n){return th.hasOwnProperty(n)||rs.hasOwnProperty(n)}function nF(n){return Ll.hasOwnProperty(n)?Ll[n]:rs.hasOwnProperty(n)?rs[n]:null}function iF(n){return Zf.hasOwnProperty(n)?Zf[n]:eh.hasOwnProperty(n)?eh[n]:rs.hasOwnProperty(n)?rs[n]:null}oS.exports={isAlias:ZD,isValidName:XD,isValidValue:QD,isGeneralCategoryValue:nS,isScriptCategoryValue:iS,isBinaryPropertyName:rF,getCanonicalName:nF,getCanonicalValue:iF,NON_BINARY_PROP_NAMES_TO_ALIASES:D1,NON_BINARY_ALIASES_TO_PROP_NAMES:Ll,BINARY_PROP_NAMES_TO_ALIASES:th,BINARY_ALIASES_TO_PROP_NAMES:rs,GENERAL_CATEGORY_VALUE_TO_ALIASES:F1,GENERAL_CATEGORY_VALUE_ALIASES_TO_VALUES:Zf,SCRIPT_VALUE_TO_ALIASES:H1,SCRIPT_VALUE_ALIASES_TO_VALUE:eh}});var vS=le((CY,bS)=>{"use strict";L();var oF=function(){function n(e,t){var r=[],i=!0,o=!1,s=void 0;try{for(var l=e[Symbol.iterator](),f;!(i=(f=l.next()).done)&&(r.push(f.value),!(t&&r.length===t));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function fS(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var qi=void 0,hS=void 0,or={},We=void 0,He=void 0;function Ye(n,e){return or.options.captureLocations?!n||!e?n||e:{startOffset:n.startOffset,endOffset:e.endOffset,startLine:n.startLine,endLine:e.endLine,startColumn:n.startColumn,endColumn:e.endColumn}:null}var pS="$",sF=[[-1,1,function(n,e){He=Ye(e,e),We=n}],[0,4,function(n,e,t,r,i,o,s,l){He=Ye(i,l),We=Xt({type:"RegExp",body:e,flags:dF(r)},nh(i,l||s))}],[1,1,function(n,e){He=Ye(e,e),We=n}],[1,0,function(){He=null,We=""}],[2,1,function(n,e){He=Ye(e,e),We=n}],[2,2,function(n,e,t,r){He=Ye(t,r),We=n+e}],[3,1,function(n,e){He=Ye(e,e),We=n}],[4,1,function(n,e){He=Ye(e,e),We=n}],[4,3,function(n,e,t,r,i,o){He=Ye(r,o);var s=null;i&&(s=nh(r||i,o||i)),We=Xt({type:"Disjunction",left:n,right:t},s)}],[5,1,function(n,e){if(He=Ye(e,e),n.length===0){We=null;return}n.length===1?We=Xt(n[0],He):We=Xt({type:"Alternative",expressions:n},He)}],[6,0,function(){He=null,We=[]}],[6,2,function(n,e,t,r){He=Ye(t,r),We=n.concat(e)}],[7,1,function(n,e){He=Ye(e,e),We=Xt(Object.assign({type:"Assertion"},n),He)}],[7,2,function(n,e,t,r){He=Ye(t,r),We=n,e&&(We=Xt({type:"Repetition",expression:n,quantifier:e},He))}],[8,1,function(n,e){He=Ye(e,e),We={kind:"^"}}],[8,1,function(n,e){He=Ye(e,e),We={kind:"$"}}],[8,1,function(n,e){He=Ye(e,e),We={kind:"\\b"}}],[8,1,function(n,e){He=Ye(e,e),We={kind:"\\B"}}],[8,3,function(n,e,t,r,i,o){He=Ye(r,o),We={kind:"Lookahead",assertion:e}}],[8,3,function(n,e,t,r,i,o){He=Ye(r,o),We={kind:"Lookahead",negative:!0,assertion:e}}],[8,3,function(n,e,t,r,i,o){He=Ye(r,o),We={kind:"Lookbehind",assertion:e}}],[8,3,function(n,e,t,r,i,o){He=Ye(r,o),We={kind:"Lookbehind",negative:!0,assertion:e}}],[9,1,function(n,e){He=Ye(e,e),We=n}],[9,1,function(n,e){He=Ye(e,e),We=n}],[9,1,function(n,e){He=Ye(e,e),We=n}],[10,1,function(n,e){He=Ye(e,e),We=Zr(n,"simple",He)}],[10,1,function(n,e){He=Ye(e,e),We=Zr(n.slice(1),"simple",He),We.escaped=!0}],[10,1,function(n,e){He=Ye(e,e),We=Zr(n,"unicode",He),We.isSurrogatePair=!0}],[10,1,function(n,e){He=Ye(e,e),We=Zr(n,"unicode",He)}],[10,1,function(n,e){He=Ye(e,e),We=lF(n,He)}],[10,1,function(n,e){He=Ye(e,e),We=Zr(n,"control",He)}],[10,1,function(n,e){He=Ye(e,e),We=Zr(n,"hex",He)}],[10,1,function(n,e){He=Ye(e,e),We=Zr(n,"oct",He)}],[10,1,function(n,e){He=Ye(e,e),We=fF(n,He)}],[10,1,function(n,e){He=Ye(e,e),We=Zr(n,"meta",He)}],[10,1,function(n,e){He=Ye(e,e),We=Zr(n,"meta",He)}],[10,1,function(n,e){He=Ye(e,e),We=yF(n,e)}],[11,1,function(n,e){He=Ye(e,e),We=n}],[11,0],[12,1,function(n,e){He=Ye(e,e),We=n}],[12,2,function(n,e,t,r){He=Ye(t,r),n.greedy=!1,We=n}],[13,1,function(n,e){He=Ye(e,e),We=Xt({type:"Quantifier",kind:n,greedy:!0},He)}],[13,1,function(n,e){He=Ye(e,e),We=Xt({type:"Quantifier",kind:n,greedy:!0},He)}],[13,1,function(n,e){He=Ye(e,e),We=Xt({type:"Quantifier",kind:n,greedy:!0},He)}],[13,1,function(n,e){He=Ye(e,e);var t=j1(n);We=Xt({type:"Quantifier",kind:"Range",from:t[0],to:t[0],greedy:!0},He)}],[13,1,function(n,e){He=Ye(e,e),We=Xt({type:"Quantifier",kind:"Range",from:j1(n)[0],greedy:!0},He)}],[13,1,function(n,e){He=Ye(e,e);var t=j1(n);We=Xt({type:"Quantifier",kind:"Range",from:t[0],to:t[1],greedy:!0},He)}],[14,1,function(n,e){He=Ye(e,e),We=n}],[14,1,function(n,e){He=Ye(e,e),We=n}],[15,3,function(n,e,t,r,i,o){He=Ye(r,o);var s=String(n),l=mS(s);if(!or.options.allowGroupNameDuplicates&&Il.hasOwnProperty(l))throw new SyntaxError('Duplicate of the named group "'+l+'".');Il[l]=n.groupNumber,We=Xt({type:"Group",capturing:!0,name:l,nameRaw:s,number:n.groupNumber,expression:e},He)}],[15,3,function(n,e,t,r,i,o){He=Ye(r,o),We=Xt({type:"Group",capturing:!0,number:n.groupNumber,expression:e},He)}],[16,3,function(n,e,t,r,i,o){He=Ye(r,o),We=Xt({type:"Group",capturing:!1,expression:e},He)}],[17,3,function(n,e,t,r,i,o){He=Ye(r,o),We=Xt({type:"CharacterClass",negative:!0,expressions:e},He)}],[17,3,function(n,e,t,r,i,o){He=Ye(r,o),We=Xt({type:"CharacterClass",expressions:e},He)}],[18,0,function(){He=null,We=[]}],[18,1,function(n,e){He=Ye(e,e),We=n}],[19,1,function(n,e){He=Ye(e,e),We=[n]}],[19,2,function(n,e,t,r){He=Ye(t,r),We=[n].concat(e)}],[19,4,function(n,e,t,r,i,o,s,l){He=Ye(i,l),lS(n,t),We=[Xt({type:"ClassRange",from:n,to:t},nh(i,s))],r&&(We=We.concat(r))}],[20,1,function(n,e){He=Ye(e,e),We=n}],[20,2,function(n,e,t,r){He=Ye(t,r),We=[n].concat(e)}],[20,4,function(n,e,t,r,i,o,s,l){He=Ye(i,l),lS(n,t),We=[Xt({type:"ClassRange",from:n,to:t},nh(i,s))],r&&(We=We.concat(r))}],[21,1,function(n,e){He=Ye(e,e),We=Zr(n,"simple",He)}],[21,1,function(n,e){He=Ye(e,e),We=n}],[22,1,function(n,e){He=Ye(e,e),We=n}],[22,1,function(n,e){He=Ye(e,e),We=Zr(n,"meta",He)}]],aS={SLASH:"23",CHAR:"24",BAR:"25",BOS:"26",EOS:"27",ESC_b:"28",ESC_B:"29",POS_LA_ASSERT:"30",R_PAREN:"31",NEG_LA_ASSERT:"32",POS_LB_ASSERT:"33",NEG_LB_ASSERT:"34",ESC_CHAR:"35",U_CODE_SURROGATE:"36",U_CODE:"37",U_PROP_VALUE_EXP:"38",CTRL_CH:"39",HEX_CODE:"40",OCT_CODE:"41",DEC_CODE:"42",META_CHAR:"43",ANY:"44",NAMED_GROUP_REF:"45",Q_MARK:"46",STAR:"47",PLUS:"48",RANGE_EXACT:"49",RANGE_OPEN:"50",RANGE_CLOSED:"51",NAMED_CAPTURE_GROUP:"52",L_PAREN:"53",NON_CAPTURE_GROUP:"54",NEG_CLASS:"55",R_BRACKET:"56",L_BRACKET:"57",DASH:"58",$:"59"},U1=[{0:1,23:"s2"},{59:"acc"},{3:3,4:4,5:5,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"s7"},{23:"r6",25:"s12"},{23:"r7",25:"r7",31:"r7"},{7:14,8:15,9:16,10:25,14:27,15:42,16:43,17:26,23:"r9",24:"s28",25:"r9",26:"s17",27:"s18",28:"s19",29:"s20",30:"s21",31:"r9",32:"s22",33:"s23",34:"s24",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",52:"s44",53:"s45",54:"s46",55:"s40",57:"s41"},{1:8,2:9,24:"s10",59:"r3"},{59:"r1"},{24:"s11",59:"r2"},{24:"r4",59:"r4"},{24:"r5",59:"r5"},{5:13,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r8",25:"r8",31:"r8"},{23:"r11",24:"r11",25:"r11",26:"r11",27:"r11",28:"r11",29:"r11",30:"r11",31:"r11",32:"r11",33:"r11",34:"r11",35:"r11",36:"r11",37:"r11",38:"r11",39:"r11",40:"r11",41:"r11",42:"r11",43:"r11",44:"r11",45:"r11",52:"r11",53:"r11",54:"r11",55:"r11",57:"r11"},{23:"r12",24:"r12",25:"r12",26:"r12",27:"r12",28:"r12",29:"r12",30:"r12",31:"r12",32:"r12",33:"r12",34:"r12",35:"r12",36:"r12",37:"r12",38:"r12",39:"r12",40:"r12",41:"r12",42:"r12",43:"r12",44:"r12",45:"r12",52:"r12",53:"r12",54:"r12",55:"r12",57:"r12"},{11:47,12:48,13:49,23:"r38",24:"r38",25:"r38",26:"r38",27:"r38",28:"r38",29:"r38",30:"r38",31:"r38",32:"r38",33:"r38",34:"r38",35:"r38",36:"r38",37:"r38",38:"r38",39:"r38",40:"r38",41:"r38",42:"r38",43:"r38",44:"r38",45:"r38",46:"s52",47:"s50",48:"s51",49:"s53",50:"s54",51:"s55",52:"r38",53:"r38",54:"r38",55:"r38",57:"r38"},{23:"r14",24:"r14",25:"r14",26:"r14",27:"r14",28:"r14",29:"r14",30:"r14",31:"r14",32:"r14",33:"r14",34:"r14",35:"r14",36:"r14",37:"r14",38:"r14",39:"r14",40:"r14",41:"r14",42:"r14",43:"r14",44:"r14",45:"r14",52:"r14",53:"r14",54:"r14",55:"r14",57:"r14"},{23:"r15",24:"r15",25:"r15",26:"r15",27:"r15",28:"r15",29:"r15",30:"r15",31:"r15",32:"r15",33:"r15",34:"r15",35:"r15",36:"r15",37:"r15",38:"r15",39:"r15",40:"r15",41:"r15",42:"r15",43:"r15",44:"r15",45:"r15",52:"r15",53:"r15",54:"r15",55:"r15",57:"r15"},{23:"r16",24:"r16",25:"r16",26:"r16",27:"r16",28:"r16",29:"r16",30:"r16",31:"r16",32:"r16",33:"r16",34:"r16",35:"r16",36:"r16",37:"r16",38:"r16",39:"r16",40:"r16",41:"r16",42:"r16",43:"r16",44:"r16",45:"r16",52:"r16",53:"r16",54:"r16",55:"r16",57:"r16"},{23:"r17",24:"r17",25:"r17",26:"r17",27:"r17",28:"r17",29:"r17",30:"r17",31:"r17",32:"r17",33:"r17",34:"r17",35:"r17",36:"r17",37:"r17",38:"r17",39:"r17",40:"r17",41:"r17",42:"r17",43:"r17",44:"r17",45:"r17",52:"r17",53:"r17",54:"r17",55:"r17",57:"r17"},{4:57,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:59,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:61,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:63,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r22",24:"r22",25:"r22",26:"r22",27:"r22",28:"r22",29:"r22",30:"r22",31:"r22",32:"r22",33:"r22",34:"r22",35:"r22",36:"r22",37:"r22",38:"r22",39:"r22",40:"r22",41:"r22",42:"r22",43:"r22",44:"r22",45:"r22",46:"r22",47:"r22",48:"r22",49:"r22",50:"r22",51:"r22",52:"r22",53:"r22",54:"r22",55:"r22",57:"r22"},{23:"r23",24:"r23",25:"r23",26:"r23",27:"r23",28:"r23",29:"r23",30:"r23",31:"r23",32:"r23",33:"r23",34:"r23",35:"r23",36:"r23",37:"r23",38:"r23",39:"r23",40:"r23",41:"r23",42:"r23",43:"r23",44:"r23",45:"r23",46:"r23",47:"r23",48:"r23",49:"r23",50:"r23",51:"r23",52:"r23",53:"r23",54:"r23",55:"r23",57:"r23"},{23:"r24",24:"r24",25:"r24",26:"r24",27:"r24",28:"r24",29:"r24",30:"r24",31:"r24",32:"r24",33:"r24",34:"r24",35:"r24",36:"r24",37:"r24",38:"r24",39:"r24",40:"r24",41:"r24",42:"r24",43:"r24",44:"r24",45:"r24",46:"r24",47:"r24",48:"r24",49:"r24",50:"r24",51:"r24",52:"r24",53:"r24",54:"r24",55:"r24",57:"r24"},{23:"r25",24:"r25",25:"r25",26:"r25",27:"r25",28:"r25",29:"r25",30:"r25",31:"r25",32:"r25",33:"r25",34:"r25",35:"r25",36:"r25",37:"r25",38:"r25",39:"r25",40:"r25",41:"r25",42:"r25",43:"r25",44:"r25",45:"r25",46:"r25",47:"r25",48:"r25",49:"r25",50:"r25",51:"r25",52:"r25",53:"r25",54:"r25",55:"r25",56:"r25",57:"r25",58:"r25"},{23:"r26",24:"r26",25:"r26",26:"r26",27:"r26",28:"r26",29:"r26",30:"r26",31:"r26",32:"r26",33:"r26",34:"r26",35:"r26",36:"r26",37:"r26",38:"r26",39:"r26",40:"r26",41:"r26",42:"r26",43:"r26",44:"r26",45:"r26",46:"r26",47:"r26",48:"r26",49:"r26",50:"r26",51:"r26",52:"r26",53:"r26",54:"r26",55:"r26",56:"r26",57:"r26",58:"r26"},{23:"r27",24:"r27",25:"r27",26:"r27",27:"r27",28:"r27",29:"r27",30:"r27",31:"r27",32:"r27",33:"r27",34:"r27",35:"r27",36:"r27",37:"r27",38:"r27",39:"r27",40:"r27",41:"r27",42:"r27",43:"r27",44:"r27",45:"r27",46:"r27",47:"r27",48:"r27",49:"r27",50:"r27",51:"r27",52:"r27",53:"r27",54:"r27",55:"r27",56:"r27",57:"r27",58:"r27"},{23:"r28",24:"r28",25:"r28",26:"r28",27:"r28",28:"r28",29:"r28",30:"r28",31:"r28",32:"r28",33:"r28",34:"r28",35:"r28",36:"r28",37:"r28",38:"r28",39:"r28",40:"r28",41:"r28",42:"r28",43:"r28",44:"r28",45:"r28",46:"r28",47:"r28",48:"r28",49:"r28",50:"r28",51:"r28",52:"r28",53:"r28",54:"r28",55:"r28",56:"r28",57:"r28",58:"r28"},{23:"r29",24:"r29",25:"r29",26:"r29",27:"r29",28:"r29",29:"r29",30:"r29",31:"r29",32:"r29",33:"r29",34:"r29",35:"r29",36:"r29",37:"r29",38:"r29",39:"r29",40:"r29",41:"r29",42:"r29",43:"r29",44:"r29",45:"r29",46:"r29",47:"r29",48:"r29",49:"r29",50:"r29",51:"r29",52:"r29",53:"r29",54:"r29",55:"r29",56:"r29",57:"r29",58:"r29"},{23:"r30",24:"r30",25:"r30",26:"r30",27:"r30",28:"r30",29:"r30",30:"r30",31:"r30",32:"r30",33:"r30",34:"r30",35:"r30",36:"r30",37:"r30",38:"r30",39:"r30",40:"r30",41:"r30",42:"r30",43:"r30",44:"r30",45:"r30",46:"r30",47:"r30",48:"r30",49:"r30",50:"r30",51:"r30",52:"r30",53:"r30",54:"r30",55:"r30",56:"r30",57:"r30",58:"r30"},{23:"r31",24:"r31",25:"r31",26:"r31",27:"r31",28:"r31",29:"r31",30:"r31",31:"r31",32:"r31",33:"r31",34:"r31",35:"r31",36:"r31",37:"r31",38:"r31",39:"r31",40:"r31",41:"r31",42:"r31",43:"r31",44:"r31",45:"r31",46:"r31",47:"r31",48:"r31",49:"r31",50:"r31",51:"r31",52:"r31",53:"r31",54:"r31",55:"r31",56:"r31",57:"r31",58:"r31"},{23:"r32",24:"r32",25:"r32",26:"r32",27:"r32",28:"r32",29:"r32",30:"r32",31:"r32",32:"r32",33:"r32",34:"r32",35:"r32",36:"r32",37:"r32",38:"r32",39:"r32",40:"r32",41:"r32",42:"r32",43:"r32",44:"r32",45:"r32",46:"r32",47:"r32",48:"r32",49:"r32",50:"r32",51:"r32",52:"r32",53:"r32",54:"r32",55:"r32",56:"r32",57:"r32",58:"r32"},{23:"r33",24:"r33",25:"r33",26:"r33",27:"r33",28:"r33",29:"r33",30:"r33",31:"r33",32:"r33",33:"r33",34:"r33",35:"r33",36:"r33",37:"r33",38:"r33",39:"r33",40:"r33",41:"r33",42:"r33",43:"r33",44:"r33",45:"r33",46:"r33",47:"r33",48:"r33",49:"r33",50:"r33",51:"r33",52:"r33",53:"r33",54:"r33",55:"r33",56:"r33",57:"r33",58:"r33"},{23:"r34",24:"r34",25:"r34",26:"r34",27:"r34",28:"r34",29:"r34",30:"r34",31:"r34",32:"r34",33:"r34",34:"r34",35:"r34",36:"r34",37:"r34",38:"r34",39:"r34",40:"r34",41:"r34",42:"r34",43:"r34",44:"r34",45:"r34",46:"r34",47:"r34",48:"r34",49:"r34",50:"r34",51:"r34",52:"r34",53:"r34",54:"r34",55:"r34",56:"r34",57:"r34",58:"r34"},{23:"r35",24:"r35",25:"r35",26:"r35",27:"r35",28:"r35",29:"r35",30:"r35",31:"r35",32:"r35",33:"r35",34:"r35",35:"r35",36:"r35",37:"r35",38:"r35",39:"r35",40:"r35",41:"r35",42:"r35",43:"r35",44:"r35",45:"r35",46:"r35",47:"r35",48:"r35",49:"r35",50:"r35",51:"r35",52:"r35",53:"r35",54:"r35",55:"r35",56:"r35",57:"r35",58:"r35"},{23:"r36",24:"r36",25:"r36",26:"r36",27:"r36",28:"r36",29:"r36",30:"r36",31:"r36",32:"r36",33:"r36",34:"r36",35:"r36",36:"r36",37:"r36",38:"r36",39:"r36",40:"r36",41:"r36",42:"r36",43:"r36",44:"r36",45:"r36",46:"r36",47:"r36",48:"r36",49:"r36",50:"r36",51:"r36",52:"r36",53:"r36",54:"r36",55:"r36",56:"r36",57:"r36",58:"r36"},{10:70,18:65,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{10:70,18:83,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{23:"r47",24:"r47",25:"r47",26:"r47",27:"r47",28:"r47",29:"r47",30:"r47",31:"r47",32:"r47",33:"r47",34:"r47",35:"r47",36:"r47",37:"r47",38:"r47",39:"r47",40:"r47",41:"r47",42:"r47",43:"r47",44:"r47",45:"r47",46:"r47",47:"r47",48:"r47",49:"r47",50:"r47",51:"r47",52:"r47",53:"r47",54:"r47",55:"r47",57:"r47"},{23:"r48",24:"r48",25:"r48",26:"r48",27:"r48",28:"r48",29:"r48",30:"r48",31:"r48",32:"r48",33:"r48",34:"r48",35:"r48",36:"r48",37:"r48",38:"r48",39:"r48",40:"r48",41:"r48",42:"r48",43:"r48",44:"r48",45:"r48",46:"r48",47:"r48",48:"r48",49:"r48",50:"r48",51:"r48",52:"r48",53:"r48",54:"r48",55:"r48",57:"r48"},{4:85,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:87,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:89,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r13",24:"r13",25:"r13",26:"r13",27:"r13",28:"r13",29:"r13",30:"r13",31:"r13",32:"r13",33:"r13",34:"r13",35:"r13",36:"r13",37:"r13",38:"r13",39:"r13",40:"r13",41:"r13",42:"r13",43:"r13",44:"r13",45:"r13",52:"r13",53:"r13",54:"r13",55:"r13",57:"r13"},{23:"r37",24:"r37",25:"r37",26:"r37",27:"r37",28:"r37",29:"r37",30:"r37",31:"r37",32:"r37",33:"r37",34:"r37",35:"r37",36:"r37",37:"r37",38:"r37",39:"r37",40:"r37",41:"r37",42:"r37",43:"r37",44:"r37",45:"r37",52:"r37",53:"r37",54:"r37",55:"r37",57:"r37"},{23:"r39",24:"r39",25:"r39",26:"r39",27:"r39",28:"r39",29:"r39",30:"r39",31:"r39",32:"r39",33:"r39",34:"r39",35:"r39",36:"r39",37:"r39",38:"r39",39:"r39",40:"r39",41:"r39",42:"r39",43:"r39",44:"r39",45:"r39",46:"s56",52:"r39",53:"r39",54:"r39",55:"r39",57:"r39"},{23:"r41",24:"r41",25:"r41",26:"r41",27:"r41",28:"r41",29:"r41",30:"r41",31:"r41",32:"r41",33:"r41",34:"r41",35:"r41",36:"r41",37:"r41",38:"r41",39:"r41",40:"r41",41:"r41",42:"r41",43:"r41",44:"r41",45:"r41",46:"r41",52:"r41",53:"r41",54:"r41",55:"r41",57:"r41"},{23:"r42",24:"r42",25:"r42",26:"r42",27:"r42",28:"r42",29:"r42",30:"r42",31:"r42",32:"r42",33:"r42",34:"r42",35:"r42",36:"r42",37:"r42",38:"r42",39:"r42",40:"r42",41:"r42",42:"r42",43:"r42",44:"r42",45:"r42",46:"r42",52:"r42",53:"r42",54:"r42",55:"r42",57:"r42"},{23:"r43",24:"r43",25:"r43",26:"r43",27:"r43",28:"r43",29:"r43",30:"r43",31:"r43",32:"r43",33:"r43",34:"r43",35:"r43",36:"r43",37:"r43",38:"r43",39:"r43",40:"r43",41:"r43",42:"r43",43:"r43",44:"r43",45:"r43",46:"r43",52:"r43",53:"r43",54:"r43",55:"r43",57:"r43"},{23:"r44",24:"r44",25:"r44",26:"r44",27:"r44",28:"r44",29:"r44",30:"r44",31:"r44",32:"r44",33:"r44",34:"r44",35:"r44",36:"r44",37:"r44",38:"r44",39:"r44",40:"r44",41:"r44",42:"r44",43:"r44",44:"r44",45:"r44",46:"r44",52:"r44",53:"r44",54:"r44",55:"r44",57:"r44"},{23:"r45",24:"r45",25:"r45",26:"r45",27:"r45",28:"r45",29:"r45",30:"r45",31:"r45",32:"r45",33:"r45",34:"r45",35:"r45",36:"r45",37:"r45",38:"r45",39:"r45",40:"r45",41:"r45",42:"r45",43:"r45",44:"r45",45:"r45",46:"r45",52:"r45",53:"r45",54:"r45",55:"r45",57:"r45"},{23:"r46",24:"r46",25:"r46",26:"r46",27:"r46",28:"r46",29:"r46",30:"r46",31:"r46",32:"r46",33:"r46",34:"r46",35:"r46",36:"r46",37:"r46",38:"r46",39:"r46",40:"r46",41:"r46",42:"r46",43:"r46",44:"r46",45:"r46",46:"r46",52:"r46",53:"r46",54:"r46",55:"r46",57:"r46"},{23:"r40",24:"r40",25:"r40",26:"r40",27:"r40",28:"r40",29:"r40",30:"r40",31:"r40",32:"r40",33:"r40",34:"r40",35:"r40",36:"r40",37:"r40",38:"r40",39:"r40",40:"r40",41:"r40",42:"r40",43:"r40",44:"r40",45:"r40",52:"r40",53:"r40",54:"r40",55:"r40",57:"r40"},{25:"s12",31:"s58"},{23:"r18",24:"r18",25:"r18",26:"r18",27:"r18",28:"r18",29:"r18",30:"r18",31:"r18",32:"r18",33:"r18",34:"r18",35:"r18",36:"r18",37:"r18",38:"r18",39:"r18",40:"r18",41:"r18",42:"r18",43:"r18",44:"r18",45:"r18",52:"r18",53:"r18",54:"r18",55:"r18",57:"r18"},{25:"s12",31:"s60"},{23:"r19",24:"r19",25:"r19",26:"r19",27:"r19",28:"r19",29:"r19",30:"r19",31:"r19",32:"r19",33:"r19",34:"r19",35:"r19",36:"r19",37:"r19",38:"r19",39:"r19",40:"r19",41:"r19",42:"r19",43:"r19",44:"r19",45:"r19",52:"r19",53:"r19",54:"r19",55:"r19",57:"r19"},{25:"s12",31:"s62"},{23:"r20",24:"r20",25:"r20",26:"r20",27:"r20",28:"r20",29:"r20",30:"r20",31:"r20",32:"r20",33:"r20",34:"r20",35:"r20",36:"r20",37:"r20",38:"r20",39:"r20",40:"r20",41:"r20",42:"r20",43:"r20",44:"r20",45:"r20",52:"r20",53:"r20",54:"r20",55:"r20",57:"r20"},{25:"s12",31:"s64"},{23:"r21",24:"r21",25:"r21",26:"r21",27:"r21",28:"r21",29:"r21",30:"r21",31:"r21",32:"r21",33:"r21",34:"r21",35:"r21",36:"r21",37:"r21",38:"r21",39:"r21",40:"r21",41:"r21",42:"r21",43:"r21",44:"r21",45:"r21",52:"r21",53:"r21",54:"r21",55:"r21",57:"r21"},{56:"s72"},{56:"r55"},{10:70,20:73,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r56",58:"s74"},{24:"r62",28:"r62",35:"r62",36:"r62",37:"r62",38:"r62",39:"r62",40:"r62",41:"r62",42:"r62",43:"r62",44:"r62",45:"r62",56:"r62",58:"r62"},{24:"r63",28:"r63",35:"r63",36:"r63",37:"r63",38:"r63",39:"r63",40:"r63",41:"r63",42:"r63",43:"r63",44:"r63",45:"r63",56:"r63",58:"r63"},{24:"r64",28:"r64",35:"r64",36:"r64",37:"r64",38:"r64",39:"r64",40:"r64",41:"r64",42:"r64",43:"r64",44:"r64",45:"r64",56:"r64",58:"r64"},{24:"r65",28:"r65",35:"r65",36:"r65",37:"r65",38:"r65",39:"r65",40:"r65",41:"r65",42:"r65",43:"r65",44:"r65",45:"r65",56:"r65",58:"r65"},{23:"r52",24:"r52",25:"r52",26:"r52",27:"r52",28:"r52",29:"r52",30:"r52",31:"r52",32:"r52",33:"r52",34:"r52",35:"r52",36:"r52",37:"r52",38:"r52",39:"r52",40:"r52",41:"r52",42:"r52",43:"r52",44:"r52",45:"r52",46:"r52",47:"r52",48:"r52",49:"r52",50:"r52",51:"r52",52:"r52",53:"r52",54:"r52",55:"r52",57:"r52"},{56:"r57"},{10:70,21:77,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{56:"r59"},{10:70,20:79,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r63",58:"s80"},{10:70,18:78,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r58"},{56:"r60"},{10:70,21:81,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{10:70,18:82,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r61"},{56:"s84"},{23:"r53",24:"r53",25:"r53",26:"r53",27:"r53",28:"r53",29:"r53",30:"r53",31:"r53",32:"r53",33:"r53",34:"r53",35:"r53",36:"r53",37:"r53",38:"r53",39:"r53",40:"r53",41:"r53",42:"r53",43:"r53",44:"r53",45:"r53",46:"r53",47:"r53",48:"r53",49:"r53",50:"r53",51:"r53",52:"r53",53:"r53",54:"r53",55:"r53",57:"r53"},{25:"s12",31:"s86"},{23:"r49",24:"r49",25:"r49",26:"r49",27:"r49",28:"r49",29:"r49",30:"r49",31:"r49",32:"r49",33:"r49",34:"r49",35:"r49",36:"r49",37:"r49",38:"r49",39:"r49",40:"r49",41:"r49",42:"r49",43:"r49",44:"r49",45:"r49",46:"r49",47:"r49",48:"r49",49:"r49",50:"r49",51:"r49",52:"r49",53:"r49",54:"r49",55:"r49",57:"r49"},{25:"s12",31:"s88"},{23:"r50",24:"r50",25:"r50",26:"r50",27:"r50",28:"r50",29:"r50",30:"r50",31:"r50",32:"r50",33:"r50",34:"r50",35:"r50",36:"r50",37:"r50",38:"r50",39:"r50",40:"r50",41:"r50",42:"r50",43:"r50",44:"r50",45:"r50",46:"r50",47:"r50",48:"r50",49:"r50",50:"r50",51:"r50",52:"r50",53:"r50",54:"r50",55:"r50",57:"r50"},{25:"s12",31:"s90"},{23:"r51",24:"r51",25:"r51",26:"r51",27:"r51",28:"r51",29:"r51",30:"r51",31:"r51",32:"r51",33:"r51",34:"r51",35:"r51",36:"r51",37:"r51",38:"r51",39:"r51",40:"r51",41:"r51",42:"r51",43:"r51",44:"r51",45:"r51",46:"r51",47:"r51",48:"r51",49:"r51",50:"r51",51:"r51",52:"r51",53:"r51",54:"r51",55:"r51",57:"r51"}],Qr=[],Fn=void 0,aF=[[/^#[^\n]+/,function(){}],[/^\s+/,function(){}],[/^-/,function(){return"DASH"}],[/^\//,function(){return"CHAR"}],[/^#/,function(){return"CHAR"}],[/^\|/,function(){return"CHAR"}],[/^\./,function(){return"CHAR"}],[/^\{/,function(){return"CHAR"}],[/^\{\d+\}/,function(){return"RANGE_EXACT"}],[/^\{\d+,\}/,function(){return"RANGE_OPEN"}],[/^\{\d+,\d+\}/,function(){return"RANGE_CLOSED"}],[/^\\k<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){var n=qi.slice(3,-1);return cS(n,this.getCurrentState()),"NAMED_GROUP_REF"}],[/^\\b/,function(){return"ESC_b"}],[/^\\B/,function(){return"ESC_B"}],[/^\\c[a-zA-Z]/,function(){return"CTRL_CH"}],[/^\\0\d{1,2}/,function(){return"OCT_CODE"}],[/^\\0/,function(){return"DEC_CODE"}],[/^\\\d{1,3}/,function(){return"DEC_CODE"}],[/^\\u[dD][89abAB][0-9a-fA-F]{2}\\u[dD][c-fC-F][0-9a-fA-F]{2}/,function(){return"U_CODE_SURROGATE"}],[/^\\u\{[0-9a-fA-F]{1,}\}/,function(){return"U_CODE"}],[/^\\u[0-9a-fA-F]{4}/,function(){return"U_CODE"}],[/^\\[pP]\{\w+(?:=\w+)?\}/,function(){return"U_PROP_VALUE_EXP"}],[/^\\x[0-9a-fA-F]{2}/,function(){return"HEX_CODE"}],[/^\\[tnrdDsSwWvf]/,function(){return"META_CHAR"}],[/^\\\//,function(){return"ESC_CHAR"}],[/^\\[ #]/,function(){return"ESC_CHAR"}],[/^\\[\^\$\.\*\+\?\(\)\\\[\]\{\}\|\/]/,function(){return"ESC_CHAR"}],[/^\\[^*?+\[()\\|]/,function(){var n=this.getCurrentState();if(n==="u_class"&&qi==="\\-")return"ESC_CHAR";if(n==="u"||n==="xu"||n==="u_class")throw new SyntaxError("invalid Unicode escape "+qi);return"ESC_CHAR"}],[/^\(/,function(){return"CHAR"}],[/^\)/,function(){return"CHAR"}],[/^\(\?=/,function(){return"POS_LA_ASSERT"}],[/^\(\?!/,function(){return"NEG_LA_ASSERT"}],[/^\(\?<=/,function(){return"POS_LB_ASSERT"}],[/^\(\?<!/,function(){return"NEG_LB_ASSERT"}],[/^\(\?:/,function(){return"NON_CAPTURE_GROUP"}],[/^\(\?<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){return qi=qi.slice(3,-1),cS(qi,this.getCurrentState()),"NAMED_CAPTURE_GROUP"}],[/^\(/,function(){return"L_PAREN"}],[/^\)/,function(){return"R_PAREN"}],[/^[*?+[^$]/,function(){return"CHAR"}],[/^\\\]/,function(){return"ESC_CHAR"}],[/^\]/,function(){return this.popState(),"R_BRACKET"}],[/^\^/,function(){return"BOS"}],[/^\$/,function(){return"EOS"}],[/^\*/,function(){return"STAR"}],[/^\?/,function(){return"Q_MARK"}],[/^\+/,function(){return"PLUS"}],[/^\|/,function(){return"BAR"}],[/^\./,function(){return"ANY"}],[/^\//,function(){return"SLASH"}],[/^[^*?+\[()\\|]/,function(){return"CHAR"}],[/^\[\^/,function(){var n=this.getCurrentState();return this.pushState(n==="u"||n==="xu"?"u_class":"class"),"NEG_CLASS"}],[/^\[/,function(){var n=this.getCurrentState();return this.pushState(n==="u"||n==="xu"?"u_class":"class"),"L_BRACKET"}]],uF={INITIAL:[8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u:[8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],xu:[0,1,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],x:[0,1,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u_class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]},uS={type:pS,value:""};Fn={initString:function(e){return this._string=e,this._cursor=0,this._states=["INITIAL"],this._tokensQueue=[],this._currentLine=1,this._currentColumn=0,this._currentLineBeginOffset=0,this._tokenStartOffset=0,this._tokenEndOffset=0,this._tokenStartLine=1,this._tokenEndLine=1,this._tokenStartColumn=0,this._tokenEndColumn=0,this},getStates:function(){return this._states},getCurrentState:function(){return this._states[this._states.length-1]},pushState:function(e){this._states.push(e)},begin:function(e){this.pushState(e)},popState:function(){return this._states.length>1?this._states.pop():this._states[0]},getNextToken:function(){if(this._tokensQueue.length>0)return this.onToken(this._toToken(this._tokensQueue.shift()));if(!this.hasMoreTokens())return this.onToken(uS);for(var e=this._string.slice(this._cursor),t=uF[this.getCurrentState()],r=0;r<t.length;r++){var i=t[r],o=aF[i],s=this._match(e,o[0]);if(e===""&&s===""&&this._cursor++,s!==null){qi=s,hS=qi.length;var l=o[1].call(this);if(!l)return this.getNextToken();if(Array.isArray(l)){var f=l.slice(1);if(l=l[0],f.length>0){var u;(u=this._tokensQueue).unshift.apply(u,fS(f))}}return this.onToken(this._toToken(l,qi))}}if(this.isEOF())return this._cursor++,uS;this.throwUnexpectedToken(e[0],this._currentLine,this._currentColumn)},throwUnexpectedToken:function(e,t,r){var i=this._string.split(`
`)[t-1],o="";if(i){var s=" ".repeat(r);o=`

`+i+`
`+s+`^
`}throw new SyntaxError(o+'Unexpected token: "'+e+'" '+("at "+t+":"+r+"."))},getCursor:function(){return this._cursor},getCurrentLine:function(){return this._currentLine},getCurrentColumn:function(){return this._currentColumn},_captureLocation:function(e){var t=/\n/g;this._tokenStartOffset=this._cursor,this._tokenStartLine=this._currentLine,this._tokenStartColumn=this._tokenStartOffset-this._currentLineBeginOffset;for(var r=void 0;(r=t.exec(e))!==null;)this._currentLine++,this._currentLineBeginOffset=this._tokenStartOffset+r.index+1;this._tokenEndOffset=this._cursor+e.length,this._tokenEndLine=this._currentLine,this._tokenEndColumn=this._currentColumn=this._tokenEndOffset-this._currentLineBeginOffset},_toToken:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return{type:e,value:t,startOffset:this._tokenStartOffset,endOffset:this._tokenEndOffset,startLine:this._tokenStartLine,endLine:this._tokenEndLine,startColumn:this._tokenStartColumn,endColumn:this._tokenEndColumn}},isEOF:function(){return this._cursor===this._string.length},hasMoreTokens:function(){return this._cursor<=this._string.length},_match:function(e,t){var r=e.match(t);return r?(this._captureLocation(r[0]),this._cursor+=r[0].length,r[0]):null},onToken:function(e){return e}};or.lexer=Fn;or.tokenizer=Fn;or.options={captureLocations:!0};var Ds={setOptions:function(e){return or.options=e,this},getOptions:function(){return or.options},parse:function(e,t){if(!Fn)throw new Error("Tokenizer instance wasn't specified.");Fn.initString(e);var r=or.options;t&&(or.options=Object.assign({},or.options,t)),Ds.onParseBegin(e,Fn,or.options),Qr.length=0,Qr.push(0);var i=Fn.getNextToken(),o=null;do{i||(or.options=r,yS());var s=Qr[Qr.length-1],l=aS[i.type];U1[s].hasOwnProperty(l)||(or.options=r,dS(i));var f=U1[s][l];if(f[0]==="s"){var u=null;or.options.captureLocations&&(u={startOffset:i.startOffset,endOffset:i.endOffset,startLine:i.startLine,endLine:i.endLine,startColumn:i.startColumn,endColumn:i.endColumn}),o=this.onShift(i),Qr.push({symbol:aS[o.type],semanticValue:o.value,loc:u},Number(f.slice(1))),i=Fn.getNextToken()}else if(f[0]==="r"){var m=f.slice(1),y=sF[m],_=typeof y[2]=="function",v=_?[]:null,p=_&&or.options.captureLocations?[]:null;if(y[1]!==0)for(var h=y[1];h-- >0;){Qr.pop();var c=Qr.pop();_&&(v.unshift(c.semanticValue),p&&p.unshift(c.loc))}var g={symbol:y[0]};if(_){qi=o?o.value:null,hS=o?o.value.length:null;var w=p!==null?v.concat(p):v;y[2].apply(y,fS(w)),g.semanticValue=We,p&&(g.loc=He)}var S=Qr[Qr.length-1],E=y[0];Qr.push(g,U1[S][E])}else if(f==="acc"){Qr.pop();var b=Qr.pop();return(Qr.length!==1||Qr[0]!==0||Fn.hasMoreTokens())&&(or.options=r,dS(i)),b.hasOwnProperty("semanticValue")?(or.options=r,Ds.onParseEnd(b.semanticValue),b.semanticValue):(Ds.onParseEnd(),or.options=r,!0)}}while(Fn.hasMoreTokens()||Qr.length>1)},setTokenizer:function(e){return Fn=e,Ds},getTokenizer:function(){return Fn},onParseBegin:function(e,t,r){},onParseEnd:function(e){},onShift:function(e){return e}},q1=0,Il={},gS="";Ds.onParseBegin=function(n,e){gS=n,q1=0,Il={};var t=n.lastIndexOf("/"),r=n.slice(t);r.includes("x")&&r.includes("u")?e.pushState("xu"):(r.includes("x")&&e.pushState("x"),r.includes("u")&&e.pushState("u"))};Ds.onShift=function(n){return(n.type==="L_PAREN"||n.type==="NAMED_CAPTURE_GROUP")&&(n.value=new String(n.value),n.value.groupNumber=++q1),n};function j1(n){var e=n.match(/\d+/g).map(Number);if(Number.isFinite(e[1])&&e[1]<e[0])throw new SyntaxError("Numbers out of order in "+n+" quantifier");return e}function lS(n,e){if(n.kind==="control"||e.kind==="control"||!isNaN(n.codePoint)&&!isNaN(e.codePoint)&&n.codePoint>e.codePoint)throw new SyntaxError("Range "+n.value+"-"+e.value+" out of order in character class")}var Ya=sS();function lF(n,e){var t=n[1]==="P",r=n.indexOf("="),i=n.slice(3,r!==-1?r:-1),o=void 0,s=r===-1&&Ya.isGeneralCategoryValue(i),l=r===-1&&Ya.isBinaryPropertyName(i);if(s)o=i,i="General_Category";else if(l)o=i;else{if(!Ya.isValidName(i))throw new SyntaxError("Invalid unicode property name: "+i+".");if(o=n.slice(r+1,-1),!Ya.isValidValue(i,o))throw new SyntaxError("Invalid "+i+" unicode property value: "+o+".")}return Xt({type:"UnicodeProperty",name:i,value:o,negative:t,shorthand:s,binary:l,canonicalName:Ya.getCanonicalName(i)||i,canonicalValue:Ya.getCanonicalValue(o)||o},e)}function Zr(n,e,t){var r=void 0,i=void 0;switch(e){case"decimal":{i=Number(n.slice(1)),r=String.fromCodePoint(i);break}case"oct":{i=parseInt(n.slice(1),8),r=String.fromCodePoint(i);break}case"hex":case"unicode":{if(n.lastIndexOf("\\u")>0){var o=n.split("\\u").slice(1),s=oF(o,2),l=s[0],f=s[1];l=parseInt(l,16),f=parseInt(f,16),i=(l-55296)*1024+(f-56320)+65536,r=String.fromCodePoint(i)}else{var u=n.slice(2).replace("{","");if(i=parseInt(u,16),i>1114111)throw new SyntaxError("Bad character escape sequence: "+n);r=String.fromCodePoint(i)}break}case"meta":{switch(n){case"\\t":r="	",i=r.codePointAt(0);break;case"\\n":r=`
`,i=r.codePointAt(0);break;case"\\r":r="\r",i=r.codePointAt(0);break;case"\\v":r="\v",i=r.codePointAt(0);break;case"\\f":r="\f",i=r.codePointAt(0);break;case"\\b":r="\b",i=r.codePointAt(0);case"\\0":r="\0",i=0;case".":r=".",i=NaN;break;default:i=NaN}break}case"simple":{r=n,i=r.codePointAt(0);break}}return Xt({type:"Char",value:n,kind:e,symbol:r,codePoint:i},t)}var cF="gimsuxy";function dF(n){var e=new Set,t=!0,r=!1,i=void 0;try{for(var o=n[Symbol.iterator](),s;!(t=(s=o.next()).done);t=!0){var l=s.value;if(e.has(l)||!cF.includes(l))throw new SyntaxError("Invalid flags: "+n);e.add(l)}}catch(f){r=!0,i=f}finally{try{!t&&o.return&&o.return()}finally{if(r)throw i}}return n.split("").sort().join("")}function fF(n,e){var t=Number(n.slice(1));return t>0&&t<=q1?Xt({type:"Backreference",kind:"number",number:t,reference:t},e):Zr(n,"decimal",e)}var hF=/^\\u[0-9a-fA-F]{4}/,pF=/^\\u\{[0-9a-fA-F]{1,}\}/,gF=/\\u\{[0-9a-fA-F]{1,}\}/;function cS(n,e){var t=gF.test(n),r=e==="u"||e==="xu"||e==="u_class";if(t&&!r)throw new SyntaxError('invalid group Unicode name "'+n+'", use `u` flag.');return n}var mF=/\\u(?:([dD][89aAbB][0-9a-fA-F]{2})\\u([dD][c-fC-F][0-9a-fA-F]{2})|([dD][89aAbB][0-9a-fA-F]{2})|([dD][c-fC-F][0-9a-fA-F]{2})|([0-9a-ce-fA-CE-F][0-9a-fA-F]{3}|[dD][0-7][0-9a-fA-F]{2})|\{(0*(?:[0-9a-fA-F]{1,5}|10[0-9a-fA-F]{4}))\})/;function mS(n){return n.replace(new RegExp(mF,"g"),function(e,t,r,i,o,s,l){return t?String.fromCodePoint(parseInt(t,16),parseInt(r,16)):i?String.fromCodePoint(parseInt(i,16)):o?String.fromCodePoint(parseInt(o,16)):s?String.fromCodePoint(parseInt(s,16)):l?String.fromCodePoint(parseInt(l,16)):e})}function yF(n,e){var t=n.slice(3,-1),r=mS(t);if(Il.hasOwnProperty(r))return Xt({type:"Backreference",kind:"name",number:Il[r],reference:r,referenceRaw:t},e);var i=null,o=null,s=null,l=null;e&&(i=e.startOffset,o=e.startLine,s=e.endLine,l=e.startColumn);var f=/^[\w$<>]/,u=void 0,m=[Zr(n.slice(1,2),"simple",i?{startLine:o,endLine:s,startColumn:l,startOffset:i,endOffset:i+=2,endColumn:l+=2}:null)];for(m[0].escaped=!0,n=n.slice(2);n.length>0;){var y=null;(y=n.match(hF))||(y=n.match(pF))?(i&&(u={startLine:o,endLine:s,startColumn:l,startOffset:i,endOffset:i+=y[0].length,endColumn:l+=y[0].length}),m.push(Zr(y[0],"unicode",u)),n=n.slice(y[0].length)):(y=n.match(f))&&(i&&(u={startLine:o,endLine:s,startColumn:l,startOffset:i,endOffset:++i,endColumn:++l}),m.push(Zr(y[0],"simple",u)),n=n.slice(1))}return m}function Xt(n,e){return or.options.captureLocations&&(n.loc={source:gS.slice(e.startOffset,e.endOffset),start:{line:e.startLine,column:e.startColumn,offset:e.startOffset},end:{line:e.endLine,column:e.endColumn,offset:e.endOffset}}),n}function nh(n,e){return or.options.captureLocations?{startOffset:n.startOffset,endOffset:e.endOffset,startLine:n.startLine,endLine:e.endLine,startColumn:n.startColumn,endColumn:e.endColumn}:null}function dS(n){n.type===pS&&yS(),Fn.throwUnexpectedToken(n.value,n.startLine,n.startColumn)}function yS(){bF("Unexpected end of input.")}function bF(n){throw new SyntaxError(n)}bS.exports=Ds});var Bl=le((TY,_S)=>{"use strict";L();var Nl=vS(),vF=Nl.parse.bind(Nl);Nl.parse=function(n,e){return vF(""+n,e)};Nl.setOptions({captureLocations:!1});_S.exports=Nl});var oh=le((OY,SS)=>{"use strict";L();var _F=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function wF(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var ih="expressions",wS="expression",W1=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;wF(this,n),this.node=e,this.parentPath=t,this.parent=t?t.node:null,this.property=r,this.index=i}return _F(n,[{key:"_enforceProp",value:function(t){if(!this.node.hasOwnProperty(t))throw new Error("Node of type "+this.node.type+` doesn't have "`+t+'" collection.')}},{key:"setChild",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=void 0;return r!=null?(i||(i=ih),this._enforceProp(i),this.node[i][r]=t,o=n.getForNode(t,this,i,r)):(i||(i=wS),this._enforceProp(i),this.node[i]=t,o=n.getForNode(t,this,i,null)),o}},{key:"appendChild",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;r||(r=ih),this._enforceProp(r);var i=this.node[r].length;return this.setChild(t,i,r)}},{key:"insertChildAt",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ih;this._enforceProp(i),this.node[i].splice(r,0,t),r<=n.getTraversingIndex()&&n.updateTraversingIndex(1),this._rebuildIndex(this.node,i)}},{key:"remove",value:function(){if(!this.isRemoved()&&(n.registry.delete(this.node),this.node=null,!!this.parent)){if(this.index!==null){this.parent[this.property].splice(this.index,1),this.index<=n.getTraversingIndex()&&n.updateTraversingIndex(-1),this._rebuildIndex(this.parent,this.property),this.index=null,this.property=null;return}delete this.parent[this.property],this.property=null}}},{key:"_rebuildIndex",value:function(t,r){for(var i=n.getForNode(t),o=0;o<t[r].length;o++){var s=n.getForNode(t[r][o],i,r,o);s.index=o}}},{key:"isRemoved",value:function(){return this.node===null}},{key:"replace",value:function(t){return n.registry.delete(this.node),this.node=t,this.parent?(this.index!==null?this.parent[this.property][this.index]=t:this.parent[this.property]=t,n.getForNode(t,this.parentPath,this.property,this.index)):null}},{key:"update",value:function(t){Object.assign(this.node,t)}},{key:"getParent",value:function(){return this.parentPath}},{key:"getChild",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.node.expressions?n.getForNode(this.node.expressions[t],this,ih,t):this.node.expression&&t==0?n.getForNode(this.node.expression,this,wS):null}},{key:"hasEqualSource",value:function(t){return JSON.stringify(this.node,G1)===JSON.stringify(t.node,G1)}},{key:"jsonEncode",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.format,i=t.useLoc;return JSON.stringify(this.node,i?null:G1,r)}},{key:"getPreviousSibling",value:function(){return!this.parent||this.index==null?null:n.getForNode(this.parent[this.property][this.index-1],n.getForNode(this.parent),this.property,this.index-1)}},{key:"getNextSibling",value:function(){return!this.parent||this.index==null?null:n.getForNode(this.parent[this.property][this.index+1],n.getForNode(this.parent),this.property,this.index+1)}}],[{key:"getForNode",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1;if(!t)return null;n.registry.has(t)||n.registry.set(t,new n(t,r,i,o==-1?null:o));var s=n.registry.get(t);return r!==null&&(s.parentPath=r,s.parent=s.parentPath.node),i!==null&&(s.property=i),o>=0&&(s.index=o),s}},{key:"initRegistry",value:function(){n.registry||(n.registry=new Map),n.registry.clear()}},{key:"updateTraversingIndex",value:function(t){return n.traversingIndexStack[n.traversingIndexStack.length-1]+=t}},{key:"getTraversingIndex",value:function(){return n.traversingIndexStack[n.traversingIndexStack.length-1]}}]),n}();W1.initRegistry();W1.traversingIndexStack=[];function G1(n,e){if(n!=="loc")return e}SS.exports=W1});var z1=le((kY,AS)=>{"use strict";L();var Xa=oh();function SF(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.pre,r=e.post,i=e.skipProperty;function o(s,l,f,u){if(!(!s||typeof s.type!="string")){var m=void 0;if(t&&(m=t(s,l,f,u)),m!==!1){l&&l[f]&&(isNaN(u)?s=l[f]:s=l[f][u]);for(var y in s)if(s.hasOwnProperty(y)){if(i?i(y,s):y[0]==="$")continue;var _=s[y];if(Array.isArray(_)){var v=0;for(Xa.traversingIndexStack.push(v);v<_.length;)o(_[v],s,y,v),v=Xa.updateTraversingIndex(1);Xa.traversingIndexStack.pop()}else o(_,s,y)}}r&&r(s,l,f,u)}}o(n,null)}AS.exports={traverse:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{asNodes:!1};Array.isArray(t)||(t=[t]),t=t.filter(function(o){return typeof o.shouldRun!="function"?!0:o.shouldRun(e)}),Xa.initRegistry(),t.forEach(function(o){typeof o.init=="function"&&o.init(e)});function i(o,s,l,f){var u=Xa.getForNode(s),m=Xa.getForNode(o,u,l,f);return m}SF(e,{pre:function(s,l,f,u){var m=void 0;r.asNodes||(m=i(s,l,f,u));var y=!0,_=!1,v=void 0;try{for(var p=t[Symbol.iterator](),h;!(y=(h=p.next()).done);y=!0){var c=h.value;if(typeof c["*"]=="function")if(m){if(!m.isRemoved()){var g=c["*"](m);if(g===!1)return!1}}else c["*"](s,l,f,u);var w=void 0;if(typeof c[s.type]=="function"?w=c[s.type]:typeof c[s.type]=="object"&&typeof c[s.type].pre=="function"&&(w=c[s.type].pre),w)if(m){if(!m.isRemoved()){var S=w.call(c,m);if(S===!1)return!1}}else w.call(c,s,l,f,u)}}catch(E){_=!0,v=E}finally{try{!y&&p.return&&p.return()}finally{if(_)throw v}}},post:function(s,l,f,u){if(s){var m=void 0;r.asNodes||(m=i(s,l,f,u));var y=!0,_=!1,v=void 0;try{for(var p=t[Symbol.iterator](),h;!(y=(h=p.next()).done);y=!0){var c=h.value,g=void 0;if(typeof c[s.type]=="object"&&typeof c[s.type].post=="function"&&(g=c[s.type].post),g)if(m){if(!m.isRemoved()){var w=g.call(c,m);if(w===!1)return!1}}else g.call(c,s,l,f,u)}}catch(S){_=!0,v=S}finally{try{!y&&p.return&&p.return()}finally{if(_)throw v}}}},skipProperty:function(s){return s==="loc"}})}}});var sh=le((LY,xS)=>{"use strict";L();var AF=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function EF(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var ES=B1(),CF=Bl(),xF=z1(),CS=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;EF(this,n),this._ast=e,this._source=null,this._string=null,this._regexp=null,this._extra=t}return AF(n,[{key:"getAST",value:function(){return this._ast}},{key:"setExtra",value:function(t){this._extra=t}},{key:"getExtra",value:function(){return this._extra}},{key:"toRegExp",value:function(){return this._regexp||(this._regexp=new RegExp(this.getSource(),this._ast.flags)),this._regexp}},{key:"getSource",value:function(){return this._source||(this._source=ES.generate(this._ast.body)),this._source}},{key:"getFlags",value:function(){return this._ast.flags}},{key:"toString",value:function(){return this._string||(this._string=ES.generate(this._ast)),this._string}}]),n}();xS.exports={TransformResult:CS,transform:function(e,t){var r=e;return e instanceof RegExp&&(e=""+e),typeof e=="string"&&(r=CF.parse(e,{captureLocations:!0})),xF.traverse(r,t),new CS(r)}}});var PS=le((NY,TS)=>{"use strict";L();var ah=tS(),TF=sh();TS.exports={transform:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=t.length>0?t:Object.keys(ah),i=void 0,o={};return r.forEach(function(s){if(!ah.hasOwnProperty(s))throw new Error("Unknown compat-transform: "+s+". Available transforms are: "+Object.keys(ah).join(", "));var l=ah[s];i=TF.transform(e,l),e=i.getAST(),typeof l.getExtra=="function"&&(o[s]=l.getExtra())}),i.setExtra(o),i}}});var MS=le((DY,OS)=>{"use strict";L();OS.exports=function n(e){if(e===null||typeof e!="object")return e;var t=void 0;Array.isArray(e)?t=[]:t={};for(var r in e)t[r]=n(e[r]);return t}});var RS=le((HY,kS)=>{"use strict";L();kS.exports={shouldRun:function(e){return e.flags.includes("u")},Char:function(e){var t=e.node;t.kind!=="unicode"||!t.isSurrogatePair||isNaN(t.codePoint)||(t.value="\\u{"+t.codePoint.toString(16)+"}",delete t.isSurrogatePair)}}});var US=le((jY,HS)=>{"use strict";L();var LS="A".codePointAt(0),IS="Z".codePointAt(0),NS="a".codePointAt(0),BS="z".codePointAt(0),DS="0".codePointAt(0),FS="9".codePointAt(0);HS.exports={Char:function(e){var t=e.node,r=e.parent;if(!(isNaN(t.codePoint)||t.kind==="simple")&&!(r.type==="ClassRange"&&!PF(r))&&OF(t.codePoint)){var i=String.fromCodePoint(t.codePoint),o={type:"Char",kind:"simple",value:i,symbol:i,codePoint:t.codePoint};MF(i,r.type)&&(o.escaped=!0),e.replace(o)}}};function PF(n){var e=n.from,t=n.to;return e.codePoint>=DS&&e.codePoint<=FS&&t.codePoint>=DS&&t.codePoint<=FS||e.codePoint>=LS&&e.codePoint<=IS&&t.codePoint>=LS&&t.codePoint<=IS||e.codePoint>=NS&&e.codePoint<=BS&&t.codePoint>=NS&&t.codePoint<=BS}function OF(n){return n>=32&&n<=126}function MF(n,e){return e==="ClassRange"||e==="CharacterClass"?/[\]\\^-]/.test(n):/[*[()+?^$./\\|{}]/.test(n)}});var WS=le((GY,GS)=>{"use strict";L();var jS="A".codePointAt(0),qS="Z".codePointAt(0);GS.exports={_AZClassRanges:null,_hasUFlag:!1,init:function(e){this._AZClassRanges=new Set,this._hasUFlag=e.flags.includes("u")},shouldRun:function(e){return e.flags.includes("i")},Char:function(e){var t=e.node,r=e.parent;if(!isNaN(t.codePoint)&&!(!this._hasUFlag&&t.codePoint>=4096)){if(r.type==="ClassRange"){if(!this._AZClassRanges.has(r)&&!kF(r))return;this._AZClassRanges.add(r)}var i=t.symbol.toLowerCase();i!==t.symbol&&(t.value=RF(i,t),t.symbol=i,t.codePoint=i.codePointAt(0))}}};function kF(n){var e=n.from,t=n.to;return e.codePoint>=jS&&e.codePoint<=qS&&t.codePoint>=jS&&t.codePoint<=qS}function RF(n,e){var t=n.codePointAt(0);if(e.kind==="decimal")return"\\"+t;if(e.kind==="oct")return"\\0"+t.toString(8);if(e.kind==="hex")return"\\x"+t.toString(16);if(e.kind==="unicode")if(e.isSurrogatePair){var r=LF(t),i=r.lead,o=r.trail;return"\\u"+"0".repeat(4-i.length)+i+"\\u"+"0".repeat(4-o.length)+o}else{if(e.value.includes("{"))return"\\u{"+t.toString(16)+"}";var s=t.toString(16);return"\\u"+"0".repeat(4-s.length)+s}return n}function LF(n){var e=Math.floor((n-65536)/1024)+55296,t=(n-65536)%1024+56320;return{lead:e.toString(16),trail:t.toString(16)}}});var VS=le((zY,zS)=>{"use strict";L();zS.exports={CharacterClass:function(e){for(var t=e.node,r={},i=0;i<t.expressions.length;i++){var o=e.getChild(i),s=o.jsonEncode();r.hasOwnProperty(s)&&(o.remove(),i--),r[s]=!0}}}});var uh=le(($Y,JS)=>{"use strict";L();function IF(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}function $S(n){if(n.type!=="Disjunction")throw new TypeError('Expected "Disjunction" node, got "'+n.type+'"');var e=[];return n.left&&n.left.type==="Disjunction"?e.push.apply(e,IF($S(n.left)).concat([n.right])):e.push(n.left,n.right),e}function NF(n){return n.reduce(function(e,t){return{type:"Disjunction",left:e,right:t}})}function BF(n){n.kind==="*"?n.kind="+":n.kind==="+"?(n.kind="Range",n.from=2,delete n.to):n.kind==="?"?(n.kind="Range",n.from=1,n.to=2):n.kind==="Range"&&(n.from+=1,n.to&&(n.to+=1))}JS.exports={disjunctionToList:$S,listToDisjunction:NF,increaseQuantifierByOne:BF}});var XS=le((KY,YS)=>{"use strict";L();var DF=uh(),FF=DF.increaseQuantifierByOne;YS.exports={Repetition:function(e){var t=e.node,r=e.parent;if(!(r.type!=="Alternative"||!e.index)){var i=e.getPreviousSibling();if(i)if(i.node.type==="Repetition"){if(!i.getChild().hasEqualSource(e.getChild()))return;var o=KS(i.node.quantifier),s=o.from,l=o.to,f=KS(t.quantifier),u=f.from,m=f.to;if(i.node.quantifier.greedy!==t.quantifier.greedy&&!lh(i.node.quantifier)&&!lh(t.quantifier))return;t.quantifier.kind="Range",t.quantifier.from=s+u,l&&m?t.quantifier.to=l+m:delete t.quantifier.to,(lh(i.node.quantifier)||lh(t.quantifier))&&(t.quantifier.greedy=!0),i.remove()}else{if(!i.hasEqualSource(e.getChild()))return;FF(t.quantifier),i.remove()}}}};function lh(n){return n.greedy&&(n.kind==="+"||n.kind==="*"||n.kind==="Range"&&!n.to)}function KS(n){var e=void 0,t=void 0;return n.kind==="*"?e=0:n.kind==="+"?e=1:n.kind==="?"?(e=0,t=1):(e=n.from,n.to&&(t=n.to)),{from:e,to:t}}});var ZS=le((XY,QS)=>{"use strict";L();QS.exports={Quantifier:function(e){var t=e.node;t.kind==="Range"&&(HF(e),UF(e),jF(e))}};function HF(n){var e=n.node;e.from!==0||e.to||(e.kind="*",delete e.from)}function UF(n){var e=n.node;e.from!==1||e.to||(e.kind="+",delete e.from)}function jF(n){var e=n.node;e.from!==1||e.to!==1||n.parentPath.replace(n.parentPath.node.expression)}});var tA=le((ZY,eA)=>{"use strict";L();eA.exports={ClassRange:function(e){var t=e.node;t.from.codePoint===t.to.codePoint?e.replace(t.from):t.from.codePoint===t.to.codePoint-1&&(e.getParent().insertChildAt(t.to,e.index+1),e.replace(t.from))}}});var oA=le((tX,iA)=>{"use strict";L();function rA(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}iA.exports={_hasIFlag:!1,_hasUFlag:!1,init:function(e){this._hasIFlag=e.flags.includes("i"),this._hasUFlag=e.flags.includes("u")},CharacterClass:function(e){qF(e),GF(e,this._hasIFlag,this._hasUFlag),WF(e)}};function qF(n){var e=n.node;e.expressions.forEach(function(t,r){zF(t)&&n.getChild(r).replace({type:"Char",value:"\\d",kind:"meta"})})}function GF(n,e,t){var r=n.node,i=null,o=null,s=null,l=null,f=null,u=null;r.expressions.forEach(function(m,y){$1(m,"\\d")?i=n.getChild(y):VF(m)?o=n.getChild(y):$F(m)?s=n.getChild(y):JF(m)?l=n.getChild(y):e&&t&&Dl(m,383)?f=n.getChild(y):e&&t&&Dl(m,8490)&&(u=n.getChild(y))}),i&&(o&&s||e&&(o||s))&&l&&(!t||!e||f&&u)&&(i.replace({type:"Char",value:"\\w",kind:"meta"}),o&&o.remove(),s&&s.remove(),l.remove(),f&&f.remove(),u&&u.remove())}var V1=[function(n){return nA(n," ")}].concat(rA(["\\f","\\n","\\r","\\t","\\v"].map(function(n){return function(e){return $1(e,n)}})),rA([160,5760,8232,8233,8239,8287,12288,65279].map(function(n){return function(e){return Dl(e,n)}})),[function(n){return n.type==="ClassRange"&&Dl(n.from,8192)&&Dl(n.to,8202)}]);function WF(n){var e=n.node;if(!(e.expressions.length<V1.length||!V1.every(function(r){return e.expressions.some(function(i){return r(i)})}))){var t=e.expressions.find(function(r){return $1(r,"\\n")});t.value="\\s",t.symbol=void 0,t.codePoint=NaN,e.expressions.map(function(r,i){return V1.some(function(o){return o(r)})?n.getChild(i):void 0}).filter(Boolean).forEach(function(r){return r.remove()})}}function zF(n){return n.type==="ClassRange"&&n.from.value==="0"&&n.to.value==="9"}function nA(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"simple";return n.type==="Char"&&n.value===e&&n.kind===t}function $1(n,e){return nA(n,e,"meta")}function VF(n){return n.type==="ClassRange"&&n.from.value==="a"&&n.to.value==="z"}function $F(n){return n.type==="ClassRange"&&n.from.value==="A"&&n.to.value==="Z"}function JF(n){return n.type==="Char"&&n.value==="_"&&n.kind==="simple"}function Dl(n,e){return n.type==="Char"&&n.kind==="unicode"&&n.codePoint===e}});var aA=le((nX,sA)=>{"use strict";L();sA.exports={CharacterClass:function(e){var t=e.node;if(!(t.expressions.length!==1||!QF(e)||!KF(t.expressions[0]))){var r=t.expressions[0],i=r.value,o=r.kind,s=r.escaped;if(t.negative){if(!YF(i))return;i=XF(i)}e.replace({type:"Char",value:i,kind:o,escaped:s||ZF(i)})}}};function KF(n){return n.type==="Char"&&n.value!=="\\b"}function YF(n){return/^\\[dwsDWS]$/.test(n)}function XF(n){return/[dws]/.test(n)?n.toUpperCase():n.toLowerCase()}function QF(n){var e=n.parent,t=n.index;if(e.type!=="Alternative")return!0;var r=e.expressions[t-1];return r==null?!0:!(r.type==="Backreference"&&r.kind==="number"||r.type==="Char"&&r.kind==="decimal")}function ZF(n){return/[*[()+?$./{}|]/.test(n)}});var lA=le((oX,uA)=>{"use strict";L();uA.exports={_hasXFlag:!1,init:function(e){this._hasXFlag=e.flags.includes("x")},Char:function(e){var t=e.node;t.escaped&&eH(e,this._hasXFlag)&&delete t.escaped}};function eH(n,e){var t=n.node.value,r=n.index,i=n.parent;return i.type!=="CharacterClass"&&i.type!=="ClassRange"?!rH(t,r,i,e):!tH(t,r,i)}function tH(n,e,t){return n==="^"?e===0&&!t.negative:n==="-"?!0:/[\]\\]/.test(n)}function rH(n,e,t,r){return n==="{"?nH(e,t):n==="}"?iH(e,t):r&&/[ #]/.test(n)?!0:/[*[()+?^$./\\|]/.test(n)}function ch(n,e,t){for(var r=n,i=(t?r>=0:r<e.expressions.length)&&e.expressions[r];i&&i.type==="Char"&&i.kind==="simple"&&!i.escaped&&/\d/.test(i.value);)t?r--:r++,i=(t?r>=0:r<e.expressions.length)&&e.expressions[r];return Math.abs(n-r)}function Qa(n,e){return n&&n.type==="Char"&&n.kind==="simple"&&!n.escaped&&n.value===e}function nH(n,e){if(n==null)return!1;var t=ch(n+1,e),r=n+t+1,i=r<e.expressions.length&&e.expressions[r];if(t){if(Qa(i,"}"))return!0;if(Qa(i,","))return t=ch(r+1,e),r=r+t+1,i=r<e.expressions.length&&e.expressions[r],Qa(i,"}")}return!1}function iH(n,e){if(n==null)return!1;var t=ch(n-1,e,!0),r=n-t-1,i=r>=0&&e.expressions[r];return t&&Qa(i,"{")?!0:Qa(i,",")?(t=ch(r-1,e,!0),r=r-t-1,i=r<e.expressions.length&&e.expressions[r],t&&Qa(i,"{")):!1}});var hA=le((aX,fA)=>{"use strict";L();fA.exports={_hasIUFlags:!1,init:function(e){this._hasIUFlags=e.flags.includes("i")&&e.flags.includes("u")},CharacterClass:function(e){var t=e.node,r=t.expressions,i=[];r.forEach(function(f){_o(f)&&i.push(f.value)}),r.sort(oH);for(var o=0;o<r.length;o++){var s=r[o];if(sH(s,i,this._hasIUFlags)||aH(s,r[o-1])||uH(s,r[o+1]))r.splice(o,1),o--;else{var l=lH(s,o,r);r.splice(o-l+1,l),o-=l}}}};function oH(n,e){var t=dh(n),r=dh(e);if(t===r){if(n.type==="ClassRange"&&e.type!=="ClassRange")return-1;if(e.type==="ClassRange"&&n.type!=="ClassRange")return 1;if(n.type==="ClassRange"&&e.type==="ClassRange")return dh(n.to)-dh(e.to);if(_o(n)&&_o(e)||cA(n)&&cA(e))return n.value<e.value?-1:1}return t-r}function dh(n){return n.type==="Char"?n.value==="-"||n.kind==="control"?1/0:n.kind==="meta"&&isNaN(n.codePoint)?-1:n.codePoint:n.from.codePoint}function _o(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return n.type==="Char"&&n.kind==="meta"&&(e?n.value===e:/^\\[dws]$/i.test(n.value))}function cA(n){return n.type==="Char"&&n.kind==="control"}function sH(n,e,t){for(var r=0;r<e.length;r++)if(J1(n,e[r],t))return!0;return!1}function J1(n,e,t){return n.type==="ClassRange"?J1(n.from,e,t)&&J1(n.to,e,t):e==="\\S"&&(_o(n,"\\w")||_o(n,"\\d"))||e==="\\D"&&(_o(n,"\\W")||_o(n,"\\s"))||e==="\\w"&&_o(n,"\\d")||e==="\\W"&&_o(n,"\\s")?!0:n.type!=="Char"||isNaN(n.codePoint)?!1:e==="\\s"?dA(n):e==="\\S"?!dA(n):e==="\\d"?K1(n):e==="\\D"?!K1(n):e==="\\w"?Y1(n,t):e==="\\W"?!Y1(n,t):!1}function dA(n){return n.codePoint===9||n.codePoint===10||n.codePoint===11||n.codePoint===12||n.codePoint===13||n.codePoint===32||n.codePoint===160||n.codePoint===5760||n.codePoint>=8192&&n.codePoint<=8202||n.codePoint===8232||n.codePoint===8233||n.codePoint===8239||n.codePoint===8287||n.codePoint===12288||n.codePoint===65279}function K1(n){return n.codePoint>=48&&n.codePoint<=57}function Y1(n,e){return K1(n)||n.codePoint>=65&&n.codePoint<=90||n.codePoint>=97&&n.codePoint<=122||n.value==="_"||e&&(n.codePoint===383||n.codePoint===8490)}function aH(n,e){if(e&&e.type==="ClassRange"){if(X1(n,e))return!0;if(fh(n)&&e.to.codePoint===n.codePoint-1)return e.to=n,!0;if(n.type==="ClassRange"&&n.from.codePoint<=e.to.codePoint+1&&n.to.codePoint>=e.from.codePoint-1)return n.from.codePoint<e.from.codePoint&&(e.from=n.from),n.to.codePoint>e.to.codePoint&&(e.to=n.to),!0}return!1}function uH(n,e){return e&&e.type==="ClassRange"&&fh(n)&&e.from.codePoint===n.codePoint+1?(e.from=n,!0):!1}function X1(n,e){return n.type==="Char"&&isNaN(n.codePoint)?!1:n.type==="ClassRange"?X1(n.from,e)&&X1(n.to,e):n.codePoint>=e.from.codePoint&&n.codePoint<=e.to.codePoint}function lH(n,e,t){if(!fh(n))return 0;for(var r=0;e>0;){var i=t[e],o=t[e-1];if(fh(o)&&o.codePoint===i.codePoint-1)r++,e--;else break}return r>1?(t[e]={type:"ClassRange",from:t[e],to:n},r):0}function fh(n){return n&&n.type==="Char"&&!isNaN(n.codePoint)&&(Y1(n,!1)||n.kind==="unicode"||n.kind==="hex"||n.kind==="oct"||n.kind==="decimal")}});var mA=le((lX,gA)=>{"use strict";L();var cH=oh(),pA=uh(),dH=pA.disjunctionToList,fH=pA.listToDisjunction;gA.exports={Disjunction:function(e){var t=e.node,r={},i=dH(t).filter(function(o){var s=o?cH.getForNode(o).jsonEncode():"null";return r.hasOwnProperty(s)?!1:(r[s]=o,!0)});e.replace(fH(i))}}});var vA=le((dX,bA)=>{"use strict";L();bA.exports={Disjunction:function(e){var t=e.node,r=e.parent;if(yA[r.type]){var i=new Map;if(!(!hh(t,i)||!i.size)){var o={type:"CharacterClass",expressions:Array.from(i.keys()).sort().map(function(s){return i.get(s)})};yA[r.type](e.getParent(),o)}}}};var yA={RegExp:function(e,t){var r=e.node;r.body=t},Group:function(e,t){var r=e.node;r.capturing?r.expression=t:e.replace(t)}};function hh(n,e){if(!n)return!1;var t=n.type;if(t==="Disjunction"){var r=n.left,i=n.right;return hh(r,e)&&hh(i,e)}else if(t==="Char"){if(n.kind==="meta"&&n.symbol===".")return!1;var o=n.value;return e.set(o,n),!0}else if(t==="CharacterClass"&&!n.negative)return n.expressions.every(function(s){return hh(s,e)});return!1}});var wA=le((hX,_A)=>{"use strict";L();_A.exports={Group:function(e){var t=e.node,r=e.parent,i=e.getChild();t.capturing||i||(r.type==="Repetition"?e.getParent().replace(t):r.type!=="RegExp"&&e.remove())}}});var AA=le((gX,SA)=>{"use strict";L();function Q1(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}SA.exports={Group:function(e){var t=e.node,r=e.parent,i=e.getChild();if(!(t.capturing||!i)&&hH(e)&&!(i.node.type==="Disjunction"&&r.type!=="RegExp")&&!(r.type==="Repetition"&&i.node.type!=="Char"&&i.node.type!=="CharacterClass"))if(i.node.type==="Alternative"){var o=e.getParent();o.node.type==="Alternative"&&o.replace({type:"Alternative",expressions:[].concat(Q1(r.expressions.slice(0,e.index)),Q1(i.node.expressions),Q1(r.expressions.slice(e.index+1)))})}else e.replace(i.node)}};function hH(n){var e=n.parent,t=n.index;if(e.type!=="Alternative")return!0;var r=e.expressions[t-1];return r==null?!0:!(r.type==="Backreference"&&r.kind==="number"||r.type==="Char"&&r.kind==="decimal")}});var xA=le((yX,CA)=>{"use strict";L();function ph(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var gh=oh(),pH=uh(),EA=pH.increaseQuantifierByOne;CA.exports={Alternative:function(e){for(var t=e.node,r=1;r<t.expressions.length;){var i=e.getChild(r);if(r=Math.max(1,gH(e,i,r)),r>=t.expressions.length||(i=e.getChild(r),r=Math.max(1,mH(e,i,r)),r>=t.expressions.length))break;i=e.getChild(r),r=Math.max(1,yH(e,i,r)),r++}}};function gH(n,e,t){for(var r=n.node,i=Math.ceil(t/2),o=0;o<i;){var s=t-2*o-1,l=void 0,f=void 0;if(o===0?(l=e,f=n.getChild(s)):(l=gh.getForNode({type:"Alternative",expressions:[].concat(ph(r.expressions.slice(t-o,t)),[e.node])}),f=gh.getForNode({type:"Alternative",expressions:[].concat(ph(r.expressions.slice(s,t-o)))})),l.hasEqualSource(f)){for(var u=0;u<2*o+1;u++)n.getChild(s).remove();return e.replace({type:"Repetition",expression:o===0&&l.node.type!=="Repetition"?l.node:{type:"Group",capturing:!1,expression:l.node},quantifier:{type:"Quantifier",kind:"Range",from:2,to:2,greedy:!0}}),s}o++}return t}function mH(n,e,t){for(var r=n.node,i=0;i<t;){var o=n.getChild(i);if(o.node.type==="Repetition"&&o.node.quantifier.greedy){var s=o.getChild(),l=void 0;if(s.node.type==="Group"&&!s.node.capturing&&(s=s.getChild()),i+1===t?(l=e,l.node.type==="Group"&&!l.node.capturing&&(l=l.getChild())):l=gh.getForNode({type:"Alternative",expressions:[].concat(ph(r.expressions.slice(i+1,t+1)))}),s.hasEqualSource(l)){for(var f=i;f<t;f++)n.getChild(i+1).remove();return EA(o.node.quantifier),i}}i++}return t}function yH(n,e,t){var r=n.node;if(e.node.type==="Repetition"&&e.node.quantifier.greedy){var i=e.getChild(),o=void 0;i.node.type==="Group"&&!i.node.capturing&&(i=i.getChild());var s=void 0;if(i.node.type==="Alternative"?(s=i.node.expressions.length,o=gh.getForNode({type:"Alternative",expressions:[].concat(ph(r.expressions.slice(t-s,t)))})):(s=1,o=n.getChild(t-1),o.node.type==="Group"&&!o.node.capturing&&(o=o.getChild())),o.hasEqualSource(i)){for(var l=t-s;l<t;l++)n.getChild(t-s).remove();return EA(e.node.quantifier),t-s}}return t}});var PA=le((vX,TA)=>{"use strict";L();TA.exports=new Map([["charSurrogatePairToSingleUnicode",RS()],["charCodeToSimpleChar",US()],["charCaseInsensitiveLowerCaseTransform",WS()],["charClassRemoveDuplicates",VS()],["quantifiersMerge",XS()],["quantifierRangeToSymbol",ZS()],["charClassClassrangesToChars",tA()],["charClassToMeta",oA()],["charClassToSingleChar",aA()],["charEscapeUnescape",lA()],["charClassClassrangesMerge",hA()],["disjunctionRemoveDuplicates",mA()],["groupSingleCharsToCharClass",vA()],["removeEmptyGroup",wA()],["ungroup",AA()],["combineRepeatingPatterns",xA()]])});var RA=le((wX,kA)=>{"use strict";L();var OA=MS(),bH=Bl(),MA=sh(),mh=PA();kA.exports={optimize:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.whitelist,i=r===void 0?[]:r,o=t.blacklist,s=o===void 0?[]:o,l=i.length>0?i:Array.from(mh.keys()),f=l.filter(function(_){return!s.includes(_)}),u=e;e instanceof RegExp&&(e=""+e),typeof e=="string"&&(u=bH.parse(e));var m=new MA.TransformResult(u),y=void 0;do y=m.toString(),u=OA(m.getAST()),f.forEach(function(_){if(!mh.has(_))throw new Error("Unknown optimization-transform: "+_+". Available transforms are: "+Array.from(mh.keys()).join(", "));var v=mh.get(_),p=MA.transform(u,v);p.toString()!==m.toString()&&(p.toString().length<=m.toString().length?m=p:u=OA(m.getAST()))});while(m.toString()!==y);return m}}});var Fl=le((AX,IA)=>{"use strict";L();var LA="\u03B5",vH=LA+"*";IA.exports={EPSILON:LA,EPSILON_CLOSURE:vH}});var Z1=le((CX,DA)=>{"use strict";L();var _H=function(){function n(e,t){var r=[],i=!0,o=!1,s=void 0;try{for(var l=e[Symbol.iterator](),f;!(i=(f=l.next()).done)&&(r.push(f.value),!(t&&r.length===t));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),wH=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function SH(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}function AH(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var BA=Fl(),EH=BA.EPSILON,NA=BA.EPSILON_CLOSURE,CH=function(){function n(e,t){AH(this,n),this.in=e,this.out=t}return wH(n,[{key:"matches",value:function(t){return this.in.matches(t)}},{key:"getAlphabet",value:function(){if(!this._alphabet){this._alphabet=new Set;var t=this.getTransitionTable();for(var r in t){var i=t[r];for(var o in i)o!==NA&&this._alphabet.add(o)}}return this._alphabet}},{key:"getAcceptingStates",value:function(){return this._acceptingStates||this.getTransitionTable(),this._acceptingStates}},{key:"getAcceptingStateNumbers",value:function(){if(!this._acceptingStateNumbers){this._acceptingStateNumbers=new Set;var t=!0,r=!1,i=void 0;try{for(var o=this.getAcceptingStates()[Symbol.iterator](),s;!(t=(s=o.next()).done);t=!0){var l=s.value;this._acceptingStateNumbers.add(l.number)}}catch(f){r=!0,i=f}finally{try{!t&&o.return&&o.return()}finally{if(r)throw i}}}return this._acceptingStateNumbers}},{key:"getTransitionTable",value:function(){var t=this;if(!this._transitionTable){this._transitionTable={},this._acceptingStates=new Set;var r=new Set,i=new Set,o=function s(l){if(!r.has(l)){r.add(l),l.number=r.size,t._transitionTable[l.number]={},l.accepting&&t._acceptingStates.add(l);var f=l.getTransitions(),u=!0,m=!1,y=void 0;try{for(var _=f[Symbol.iterator](),v;!(u=(v=_.next()).done);u=!0){var p=v.value,h=_H(p,2),c=h[0],g=h[1],w=[];i.add(c);var S=!0,E=!1,b=void 0;try{for(var C=g[Symbol.iterator](),M;!(S=(M=C.next()).done);S=!0){var P=M.value;s(P),w.push(P.number)}}catch(B){E=!0,b=B}finally{try{!S&&C.return&&C.return()}finally{if(E)throw b}}t._transitionTable[l.number][c]=w}}catch(B){m=!0,y=B}finally{try{!u&&_.return&&_.return()}finally{if(m)throw y}}}};o(this.in),r.forEach(function(s){delete t._transitionTable[s.number][EH],t._transitionTable[s.number][NA]=[].concat(SH(s.getEpsilonClosure())).map(function(l){return l.number})})}return this._transitionTable}}]),n}();DA.exports=CH});var HA=le((TX,FA)=>{"use strict";L();var xH=function(){function n(e,t){var r=[],i=!0,o=!1,s=void 0;try{for(var l=e[Symbol.iterator](),f;!(i=(f=l.next()).done)&&(r.push(f.value),!(t&&r.length===t));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function TH(n){return Array.isArray(n)?n:Array.from(n)}function em(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var wo=null;function PH(n){var e=n.getTransitionTable(),t=Object.keys(e),r=n.getAlphabet(),i=n.getAcceptingStateNumbers();wo={};var o=new Set;t.forEach(function(ce){ce=Number(ce);var z=i.has(ce);z?wo[ce]=i:(o.add(ce),wo[ce]=o)});var s=[[o,i].filter(function(ce){return ce.size>0})],l=void 0,f=void 0;l=s[s.length-1],f=s[s.length-2];for(var u=function(){var z={},H=!0,R=!1,x=void 0;try{for(var T=l[Symbol.iterator](),O;!(H=(O=T.next()).done);H=!0){var N=O.value,U={},V=TH(N),Z=V[0],re=V.slice(1);U[Z]=new Set([Z]);var ne=!0,ae=!1,fe=void 0;try{e:for(var he=re[Symbol.iterator](),Te;!(ne=(Te=he.next()).done);ne=!0){var Ne=Te.value,Se=!0,ye=!1,oe=void 0;try{for(var Ee=Object.keys(U)[Symbol.iterator](),xe;!(Se=(xe=Ee.next()).done);Se=!0){var K=xe.value;if(MH(Ne,K,e,r)){U[K].add(Ne),U[Ne]=U[K];continue e}}}catch(be){ye=!0,oe=be}finally{try{!Se&&Ee.return&&Ee.return()}finally{if(ye)throw oe}}U[Ne]=new Set([Ne])}}catch(be){ae=!0,fe=be}finally{try{!ne&&he.return&&he.return()}finally{if(ae)throw fe}}Object.assign(z,U)}}catch(be){R=!0,x=be}finally{try{!H&&T.return&&T.return()}finally{if(R)throw x}}wo=z;var ie=new Set(Object.keys(z).map(function(be){return z[be]}));s.push([].concat(em(ie))),l=s[s.length-1],f=s[s.length-2]};!OH(l,f);)u();var m=new Map,y=1;l.forEach(function(ce){return m.set(ce,y++)});var _={},v=new Set,p=function(z,H){var R=!0,x=!1,T=void 0;try{for(var O=z[Symbol.iterator](),N;!(R=(N=O.next()).done);R=!0){var U=N.value;i.has(U)&&v.add(H)}}catch(V){x=!0,T=V}finally{try{!R&&O.return&&O.return()}finally{if(x)throw T}}},h=!0,c=!1,g=void 0;try{for(var w=m.entries()[Symbol.iterator](),S;!(h=(S=w.next()).done);h=!0){var E=S.value,b=xH(E,2),C=b[0],M=b[1];_[M]={};var P=!0,B=!1,I=void 0;try{for(var F=r[Symbol.iterator](),D;!(P=(D=F.next()).done);P=!0){var W=D.value;p(C,M);var q=void 0,G=!0,Y=!1,X=void 0;try{for(var Q=C[Symbol.iterator](),se;!(G=(se=Q.next()).done);G=!0){var ve=se.value;if(q=e[ve][W],q)break}}catch(ce){Y=!0,X=ce}finally{try{!G&&Q.return&&Q.return()}finally{if(Y)throw X}}q&&(_[M][W]=m.get(wo[q]))}}catch(ce){B=!0,I=ce}finally{try{!P&&F.return&&F.return()}finally{if(B)throw I}}}}catch(ce){c=!0,g=ce}finally{try{!h&&w.return&&w.return()}finally{if(c)throw g}}return n.setTransitionTable(_),n.setAcceptingStateNumbers(v),n}function OH(n,e){if(!e||n.length!==e.length)return!1;for(var t=0;t<n.length;t++){var r=n[t],i=e[t];if(r.size!==i.size||[].concat(em(r)).sort().join(",")!==[].concat(em(i)).sort().join(","))return!1}return!0}function MH(n,e,t,r){var i=!0,o=!1,s=void 0;try{for(var l=r[Symbol.iterator](),f;!(i=(f=l.next()).done);i=!0){var u=f.value;if(!kH(n,e,t,u))return!1}}catch(m){o=!0,s=m}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}return!0}function kH(n,e,t,r){if(!wo[n]||!wo[e])return!1;var i=t[n][r],o=t[e][r];return!i&&!o?!0:wo[n].has(i)&&wo[e].has(o)}FA.exports={minimize:PH}});var GA=le((OX,qA)=>{"use strict";L();var RH=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function UA(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}function LH(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var IH=HA(),NH=Fl(),jA=NH.EPSILON_CLOSURE,BH=function(){function n(e){LH(this,n),this._nfa=e}return RH(n,[{key:"minimize",value:function(){this.getTransitionTable(),this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._originalTransitionTable=this._transitionTable,IH.minimize(this)}},{key:"getAlphabet",value:function(){return this._nfa.getAlphabet()}},{key:"getAcceptingStateNumbers",value:function(){return this._acceptingStateNumbers||this.getTransitionTable(),this._acceptingStateNumbers}},{key:"getOriginaAcceptingStateNumbers",value:function(){return this._originalAcceptingStateNumbers||this.getTransitionTable(),this._originalAcceptingStateNumbers}},{key:"setTransitionTable",value:function(t){this._transitionTable=t}},{key:"setAcceptingStateNumbers",value:function(t){this._acceptingStateNumbers=t}},{key:"getTransitionTable",value:function(){var t=this;if(this._transitionTable)return this._transitionTable;var r=this._nfa.getTransitionTable(),i=Object.keys(r);this._acceptingStateNumbers=new Set;for(var o=r[i[0]][jA],s=[o],l=this.getAlphabet(),f=this._nfa.getAcceptingStateNumbers(),u={},m=function(ce){var z=!0,H=!1,R=void 0;try{for(var x=f[Symbol.iterator](),T;!(z=(T=x.next()).done);z=!0){var O=T.value;if(ce.indexOf(O)!==-1){t._acceptingStateNumbers.add(ce.join(","));break}}}catch(N){H=!0,R=N}finally{try{!z&&x.return&&x.return()}finally{if(H)throw R}}};s.length>0;){var y=s.shift(),_=y.join(",");u[_]={};var v=!0,p=!1,h=void 0;try{for(var c=l[Symbol.iterator](),g;!(v=(g=c.next()).done);v=!0){var w=g.value,S=[];m(y);var E=!0,b=!1,C=void 0;try{for(var M=y[Symbol.iterator](),P;!(E=(P=M.next()).done);E=!0){var B=P.value,I=r[B][w];if(I){var F=!0,D=!1,W=void 0;try{for(var q=I[Symbol.iterator](),G;!(F=(G=q.next()).done);F=!0){var Y=G.value;r[Y]&&S.push.apply(S,UA(r[Y][jA]))}}catch(ve){D=!0,W=ve}finally{try{!F&&q.return&&q.return()}finally{if(D)throw W}}}}}catch(ve){b=!0,C=ve}finally{try{!E&&M.return&&M.return()}finally{if(b)throw C}}var X=new Set(S),Q=[].concat(UA(X));if(Q.length>0){var se=Q.join(",");u[_][w]=se,u.hasOwnProperty(se)||s.unshift(Q)}}}catch(ve){p=!0,h=ve}finally{try{!v&&c.return&&c.return()}finally{if(p)throw h}}}return this._transitionTable=this._remapStateNumbers(u)}},{key:"_remapStateNumbers",value:function(t){var r={};this._originalTransitionTable=t;var i={};Object.keys(t).forEach(function(h,c){r[h]=c+1});for(var o in t){var s=t[o],l={};for(var f in s)l[f]=r[s[f]];i[r[o]]=l}this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._acceptingStateNumbers=new Set;var u=!0,m=!1,y=void 0;try{for(var _=this._originalAcceptingStateNumbers[Symbol.iterator](),v;!(u=(v=_.next()).done);u=!0){var p=v.value;this._acceptingStateNumbers.add(r[p])}}catch(h){m=!0,y=h}finally{try{!u&&_.return&&_.return()}finally{if(m)throw y}}return i}},{key:"getOriginalTransitionTable",value:function(){return this._originalTransitionTable||this.getTransitionTable(),this._originalTransitionTable}},{key:"matches",value:function(t){for(var r=1,i=0,o=this.getTransitionTable();t[i];)if(r=o[r][t[i++]],!r)return!1;return!!this.getAcceptingStateNumbers().has(r)}}]),n}();qA.exports=BH});var zA=le((kX,WA)=>{"use strict";L();var DH=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function FH(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var HH=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.accepting,r=t===void 0?!1:t;FH(this,n),this._transitions=new Map,this.accepting=r}return DH(n,[{key:"getTransitions",value:function(){return this._transitions}},{key:"addTransition",value:function(t,r){return this.getTransitionsOnSymbol(t).add(r),this}},{key:"getTransitionsOnSymbol",value:function(t){var r=this._transitions.get(t);return r||(r=new Set,this._transitions.set(t,r)),r}}]),n}();WA.exports=HH});var $A=le((LX,VA)=>{"use strict";L();var UH=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function jH(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function qH(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function GH(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var WH=zA(),zH=Fl(),tm=zH.EPSILON,VH=function(n){GH(e,n);function e(){return jH(this,e),qH(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return UH(e,[{key:"matches",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;if(i.has(this))return!1;if(i.add(this),r.length===0){if(this.accepting)return!0;var o=!0,s=!1,l=void 0;try{for(var f=this.getTransitionsOnSymbol(tm)[Symbol.iterator](),u;!(o=(u=f.next()).done);o=!0){var m=u.value;if(m.matches("",i))return!0}}catch(I){s=!0,l=I}finally{try{!o&&f.return&&f.return()}finally{if(s)throw l}}return!1}var y=r[0],_=r.slice(1),v=this.getTransitionsOnSymbol(y),p=!0,h=!1,c=void 0;try{for(var g=v[Symbol.iterator](),w;!(p=(w=g.next()).done);p=!0){var S=w.value;if(S.matches(_))return!0}}catch(I){h=!0,c=I}finally{try{!p&&g.return&&g.return()}finally{if(h)throw c}}var E=!0,b=!1,C=void 0;try{for(var M=this.getTransitionsOnSymbol(tm)[Symbol.iterator](),P;!(E=(P=M.next()).done);E=!0){var B=P.value;if(B.matches(r,i))return!0}}catch(I){b=!0,C=I}finally{try{!E&&M.return&&M.return()}finally{if(b)throw C}}return!1}},{key:"getEpsilonClosure",value:function(){var r=this;return this._epsilonClosure||function(){var i=r.getTransitionsOnSymbol(tm),o=r._epsilonClosure=new Set;o.add(r);var s=!0,l=!1,f=void 0;try{for(var u=i[Symbol.iterator](),m;!(s=(m=u.next()).done);s=!0){var y=m.value;if(!o.has(y)){o.add(y);var _=y.getEpsilonClosure();_.forEach(function(v){return o.add(v)})}}}catch(v){l=!0,f=v}finally{try{!s&&u.return&&u.return()}finally{if(l)throw f}}}(),this._epsilonClosure}}]),e}(WH);VA.exports=VH});var rm=le((NX,KA)=>{"use strict";L();var yh=Z1(),Za=$A(),$H=Fl(),gn=$H.EPSILON;function JA(n){var e=new Za,t=new Za({accepting:!0});return new yh(e.addTransition(n,t),t)}function JH(){return JA(gn)}function KH(n,e){return n.out.accepting=!1,e.out.accepting=!0,n.out.addTransition(gn,e.in),new yh(n.in,e.out)}function YH(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=!0,o=!1,s=void 0;try{for(var l=t[Symbol.iterator](),f;!(i=(f=l.next()).done);i=!0){var u=f.value;n=KH(n,u)}}catch(m){o=!0,s=m}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}return n}function XH(n,e){var t=new Za,r=new Za;return t.addTransition(gn,n.in),t.addTransition(gn,e.in),r.accepting=!0,n.out.accepting=!1,e.out.accepting=!1,n.out.addTransition(gn,r),e.out.addTransition(gn,r),new yh(t,r)}function QH(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=!0,o=!1,s=void 0;try{for(var l=t[Symbol.iterator](),f;!(i=(f=l.next()).done);i=!0){var u=f.value;n=XH(n,u)}}catch(m){o=!0,s=m}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}return n}function ZH(n){var e=new Za,t=new Za({accepting:!0});return e.addTransition(gn,n.in),e.addTransition(gn,t),n.out.accepting=!1,n.out.addTransition(gn,t),t.addTransition(gn,n.in),new yh(e,t)}function eU(n){return n.in.addTransition(gn,n.out),n.out.addTransition(gn,n.in),n}function tU(n){return n.out.addTransition(gn,n.in),n}function rU(n){return n.in.addTransition(gn,n.out),n}KA.exports={alt:YH,char:JA,e:JH,or:QH,rep:eU,repExplicit:ZH,plusRep:tU,questionRep:rU}});var QA=le((DX,XA)=>{"use strict";L();function nU(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var iU=Bl(),eu=rm(),oU=eu.alt,sU=eu.char,aU=eu.or,uU=eu.rep,lU=eu.plusRep,cU=eu.questionRep;function So(n){if(n&&!YA[n.type])throw new Error(n.type+" is not supported in NFA/DFA interpreter.");return n?YA[n.type](n):""}var YA={RegExp:function(e){if(e.flags!=="")throw new Error("NFA/DFA: Flags are not supported yet.");return So(e.body)},Alternative:function(e){var t=(e.expressions||[]).map(So);return oU.apply(void 0,nU(t))},Disjunction:function(e){return aU(So(e.left),So(e.right))},Repetition:function(e){switch(e.quantifier.kind){case"*":return uU(So(e.expression));case"+":return lU(So(e.expression));case"?":return cU(So(e.expression));default:throw new Error("Unknown repeatition: "+e.quantifier.kind+".")}},Char:function(e){if(e.kind!=="simple")throw new Error("NFA/DFA: Only simple chars are supported yet.");return sU(e.value)},Group:function(e){return So(e.expression)}};XA.exports={build:function(e){var t=e;return e instanceof RegExp&&(e=""+e),typeof e=="string"&&(t=iU.parse(e,{captureLocations:!0})),So(t)}}});var tE=le((HX,eE)=>{"use strict";L();var dU=Z1(),ZA=GA(),fU=QA(),hU=rm();eE.exports={NFA:dU,DFA:ZA,builders:hU,toNFA:function(e){return fU.build(e)},toDFA:function(e){return new ZA(this.toNFA(e))},test:function(e,t){return this.toDFA(e).matches(t)}}});var nE=le((jX,rE)=>{"use strict";L();var pU=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function gU(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var mU=function(){function n(e,t){var r=t.flags,i=t.groups,o=t.source;gU(this,n),this._re=e,this._groups=i,this.flags=r,this.source=o||e.source,this.dotAll=r.includes("s"),this.global=e.global,this.ignoreCase=e.ignoreCase,this.multiline=e.multiline,this.sticky=e.sticky,this.unicode=e.unicode}return pU(n,[{key:"test",value:function(t){return this._re.test(t)}},{key:"compile",value:function(t){return this._re.compile(t)}},{key:"toString",value:function(){return this._toStringResult||(this._toStringResult="/"+this.source+"/"+this.flags),this._toStringResult}},{key:"exec",value:function(t){var r=this._re.exec(t);if(!this._groups||!r)return r;r.groups={};for(var i in this._groups){var o=this._groups[i];r.groups[i]=r[o]}return r}}]),n}();rE.exports={RegExpTree:mU}});var aE=le((GX,sE)=>{"use strict";L();var yU=PS(),bU=B1(),vU=RA(),iE=Bl(),oE=sh(),_U=z1(),wU=tE(),SU=nE(),AU=SU.RegExpTree,EU={parser:iE,fa:wU,TransformResult:oE.TransformResult,parse:function(e,t){return iE.parse(""+e,t)},traverse:function(e,t,r){return _U.traverse(e,t,r)},transform:function(e,t){return oE.transform(e,t)},generate:function(e){return bU.generate(e)},toRegExp:function(e){var t=this.compatTranspile(e);return new RegExp(t.getSource(),t.getFlags())},optimize:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.blacklist;return vU.optimize(e,{whitelist:t,blacklist:i})},compatTranspile:function(e,t){return yU.transform(e,t)},exec:function(e,t){if(typeof e=="string"){var r=this.compatTranspile(e),i=r.getExtra();i.namedCapturingGroups?e=new AU(r.toRegExp(),{flags:r.getFlags(),source:r.getSource(),groups:i.namedCapturingGroups}):e=r.toRegExp()}return e.exec(t)}};sE.exports=EU});var lE=le((zX,uE)=>{"use strict";L();uE.exports=aE()});var EE=le(()=>{L()});var CE=le((Hl,lm)=>{L();(function(n,e){if(typeof Hl=="object"&&typeof lm=="object")lm.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else if(typeof Hl=="object")Hl.JsCrypto=e();else{var t=e();for(var r in n.JsCrypto=n.JsCrypto||{},t)n.JsCrypto[r]=t[r]}})(Hl,function(){return function(){"use strict";var n={9691:function(i,o,s){s.d(o,{AES:function(){return B}});var l,f=s(9456),u=s(787),m=s(5693),y=s(9109),_=(l=function(I,F){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,W){D.__proto__=W}||function(D,W){for(var q in W)Object.prototype.hasOwnProperty.call(W,q)&&(D[q]=W[q])})(I,F)},function(I,F){function D(){this.constructor=I}l(I,F),I.prototype=F===null?Object.create(F):(D.prototype=F.prototype,new D)}),v=function(){return(v=Object.assign||function(I){for(var F,D=1,W=arguments.length;D<W;D++)for(var q in F=arguments[D])Object.prototype.hasOwnProperty.call(F,q)&&(I[q]=F[q]);return I}).apply(this,arguments)},p=[],h=[],c=[],g=[],w=[],S=[],E=[],b=[],C=[],M=[];(function(){for(var I=[],F=0;F<256;F++)I[F]=F<128?F<<1:F<<1^283;var D=0,W=0;for(F=0;F<256;F++){var q=W^W<<1^W<<2^W<<3^W<<4;q=q>>>8^255&q^99,p[D]=q,h[q]=D;var G=I[D],Y=I[G],X=I[Y],Q=257*I[q]^16843008*q;c[D]=Q<<24|Q>>>8,g[D]=Q<<16|Q>>>16,w[D]=Q<<8|Q>>>24,S[D]=Q,Q=16843009*X^65537*Y^257*G^16843008*D,E[q]=Q<<24|Q>>>8,b[q]=Q<<16|Q>>>16,C[q]=Q<<8|Q>>>24,M[q]=Q,D?(D=G^I[I[I[X^G]]],W^=I[I[W]]):D=W=1}})();var P=[0,1,2,4,8,16,32,64,128,27,54],B=function(I){function F(D){var W=I.call(this,D)||this;return W.u=0,W.h=[],W.v=[],W.O=D,W.A(),W}return _(F,I),F.prototype.A=function(){var D;if(!this.u||this.k!==this.H){for(var W=this.k=this.H,q=W.words,G=W.nSigBytes/4,Y=4*((this.u=G+6)+1),X=this.h=[],Q=0;Q<Y;Q++)Q<G?X[Q]=q[Q]:(D=X[Q-1],Q%G?G>6&&Q%G==4&&(D=p[D>>>24]<<24|p[D>>>16&255]<<16|p[D>>>8&255]<<8|p[255&D]):(D=p[(D=D<<8|D>>>24)>>>24]<<24|p[D>>>16&255]<<16|p[D>>>8&255]<<8|p[255&D],D^=P[Q/G|0]<<24),X[Q]=X[Q-G]^D);this.v=[];for(var se=0;se<Y;se++)Q=Y-se,D=se%4?X[Q]:X[Q-4],this.v[se]=se<4||Q<=4?D:E[p[D>>>24]]^b[p[D>>>16&255]]^C[p[D>>>8&255]]^M[p[255&D]]}},F.prototype.encryptBlock=function(D,W){this.B(D,W,this.h,c,g,w,S,p)},F.prototype.decryptBlock=function(D,W){var q=D[W+1];D[W+1]=D[W+3],D[W+3]=q,this.B(D,W,this.v,E,b,C,M,h),q=D[W+1],D[W+1]=D[W+3],D[W+3]=q},F.prototype.B=function(D,W,q,G,Y,X,Q,se){for(var ve=this.u,ce=D[W]^q[0],z=D[W+1]^q[1],H=D[W+2]^q[2],R=D[W+3]^q[3],x=4,T=1;T<ve;T++){var O=G[ce>>>24]^Y[z>>>16&255]^X[H>>>8&255]^Q[255&R]^q[x++],N=G[z>>>24]^Y[H>>>16&255]^X[R>>>8&255]^Q[255&ce]^q[x++],U=G[H>>>24]^Y[R>>>16&255]^X[ce>>>8&255]^Q[255&z]^q[x++],V=G[R>>>24]^Y[ce>>>16&255]^X[z>>>8&255]^Q[255&H]^q[x++];ce=O,z=N,H=U,R=V}var Z=(se[ce>>>24]<<24|se[z>>>16&255]<<16|se[H>>>8&255]<<8|se[255&R])^q[x++],re=(se[z>>>24]<<24|se[H>>>16&255]<<16|se[R>>>8&255]<<8|se[255&ce])^q[x++],ne=(se[H>>>24]<<24|se[R>>>16&255]<<16|se[ce>>>8&255]<<8|se[255&z])^q[x++],ae=(se[R>>>24]<<24|se[ce>>>16&255]<<16|se[z>>>8&255]<<8|se[255&H])^q[x++];D[W]=Z,D[W+1]=re,D[W+2]=ne,D[W+3]=ae},F.createEncryptor=function(D,W){return new F(v(v({},W=W===void 0?{}:W),{key:D,transformMode:f.t.ENC_TRANSFORM_MODE}))},F.createDecryptor=function(D,W){return new F(v(v({},W=W===void 0?{}:W),{key:D,transformMode:f.t.DEC_TRANSFORM_MODE}))},F.encrypt=function(D,W,q){if(typeof W=="string")return m.E.encrypt(F,D,W,q);if(W.nSigBytes%4!=0)throw new Error("Key size must be multiple of 32bit/4byte/1word");return y.D.encrypt(F,D,W,q)},F.decrypt=function(D,W,q){if(typeof W=="string")return m.E.decrypt(F,D,W,q);if(W.nSigBytes%4!=0)throw new Error("Key size must be multiple of 32bit/4byte/1word");return y.D.decrypt(F,D,W,q)},F.keySize=8,F}(u.G)},3967:function(i,o,s){s.d(o,{CBCMAC:function(){return y}});var l=s(4768),f=s(3354),u=s(9691),m=s(3664);function y(_,v,p,h,c,g){var w=g&&g.Cipher?g.Cipher:u.AES,S=typeof p=="string"?l.d.parse(p):p,E=h||new f.e([0,0]),b=typeof v=="string"?l.d.parse(v):v,C=typeof _=="string"?l.d.parse(_):_,M=c||16;return m.K.mac(w,S,E,b,C,M)}},9910:function(i,o,s){s.d(o,{DES:function(){return S}});var l,f=s(787),u=s(9456),m=s(5693),y=s(9109),_=(l=function(E,b){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,M){C.__proto__=M}||function(C,M){for(var P in M)Object.prototype.hasOwnProperty.call(M,P)&&(C[P]=M[P])})(E,b)},function(E,b){function C(){this.constructor=E}l(E,b),E.prototype=b===null?Object.create(b):(C.prototype=b.prototype,new C)}),v=function(){return(v=Object.assign||function(E){for(var b,C=1,M=arguments.length;C<M;C++)for(var P in b=arguments[C])Object.prototype.hasOwnProperty.call(b,P)&&(E[P]=b[P]);return E}).apply(this,arguments)},p=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],g=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],w=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],S=function(E){function b(C){var M=E.call(this,C)||this;return M.N=2,M.I=[],M.U=[],M.L=0,M.F=0,M.O=C,M.A(),M}return _(b,E),b.prototype.A=function(){for(var C=this.H.words,M=[],P=0;P<56;P++){var B=p[P]-1;M[P]=C[B>>>5]>>>31-B%32&1}for(var I=this.I=[],F=0;F<16;F++){var D=I[F]=[],W=c[F];for(P=0;P<24;P++)D[P/6|0]|=M[(h[P]-1+W)%28]<<31-P%6,D[4+(P/6|0)]|=M[28+(h[P+24]-1+W)%28]<<31-P%6;for(D[0]=D[0]<<1|D[0]>>>31,P=1;P<7;P++)D[P]=D[P]>>>4*(P-1)+3;D[7]=D[7]<<5|D[7]>>>27}for(this.U=[],P=0;P<16;P++)this.U[P]=I[15-P]},b.prototype.encryptBlock=function(C,M){this.R(C,M,this.I)},b.prototype.decryptBlock=function(C,M){this.R(C,M,this.U)},b.prototype.R=function(C,M,P){this.L=C[M],this.F=C[M+1],this.X(4,252645135),this.X(16,65535),this.Z(2,858993459),this.Z(8,16711935),this.X(1,1431655765);for(var B=0;B<16;B++){for(var I=P[B],F=this.L,D=this.F,W=0,q=0;q<8;q++){var G=(D^I[q])&w[q];W|=g[q][G>>>0]}this.L=D,this.F=F^W}var Y=this.L;this.L=this.F,this.F=Y,this.X(1,1431655765),this.Z(8,16711935),this.Z(2,858993459),this.X(16,65535),this.X(4,252645135),C[M]=this.L,C[M+1]=this.F},b.prototype.X=function(C,M){var P=(this.L>>>C^this.F)&M;this.F^=P,this.L^=P<<C},b.prototype.Z=function(C,M){var P=(this.F>>>C^this.L)&M;this.L^=P,this.F^=P<<C},b.createEncryptor=function(C,M){return new b(v(v({},M=M===void 0?{}:M),{key:C,transformMode:u.t.ENC_TRANSFORM_MODE}))},b.createDecryptor=function(C,M){return new b(v(v({},M=M===void 0?{}:M),{key:C,transformMode:u.t.DEC_TRANSFORM_MODE}))},b.encrypt=function(C,M,P){return typeof M=="string"?m.E.encrypt(b,C,M,P):y.D.encrypt(b,C,M,P)},b.decrypt=function(C,M,P){return typeof M=="string"?m.E.decrypt(b,C,M,P):y.D.decrypt(b,C,M,P)},b.keySize=2,b.ivSize=2,b}(f.G)},6739:function(i,o,s){s.d(o,{DES3:function(){return c}});var l,f=s(9109),u=s(787),m=s(9456),y=s(9910),_=s(3354),v=s(5693),p=(l=function(g,w){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(S[b]=E[b])})(g,w)},function(g,w){function S(){this.constructor=g}l(g,w),g.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}),h=function(){return(h=Object.assign||function(g){for(var w,S=1,E=arguments.length;S<E;S++)for(var b in w=arguments[S])Object.prototype.hasOwnProperty.call(w,b)&&(g[b]=w[b]);return g}).apply(this,arguments)},c=function(g){function w(S){var E=g.call(this,S)||this;E.N=2,E.O=S;var b=E.J();return E.Y=b[0],E.$=b[1],E.nn=b[2],E}return p(w,g),w.prototype.J=function(){var S=this.H.words;if(S.length!==2&&S.length!==4&&S.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=S.slice(0,2),b=S.length<4?S.slice(0,2):S.slice(2,4),C=S.length<6?S.slice(0,2):S.slice(4,6);return[y.DES.createEncryptor(new _.e(E)),y.DES.createEncryptor(new _.e(b)),y.DES.createEncryptor(new _.e(C))]},w.prototype.A=function(){var S=this.J();this.Y=S[0],this.$=S[1],this.nn=S[2]},w.prototype.encryptBlock=function(S,E){this.Y.encryptBlock(S,E),this.$.decryptBlock(S,E),this.nn.encryptBlock(S,E)},w.prototype.decryptBlock=function(S,E){this.nn.decryptBlock(S,E),this.$.encryptBlock(S,E),this.Y.decryptBlock(S,E)},w.createEncryptor=function(S,E){return new w(h(h({},E=E===void 0?{}:E),{key:S,transformMode:m.t.ENC_TRANSFORM_MODE}))},w.createDecryptor=function(S,E){return new w(h(h({},E=E===void 0?{}:E),{key:S,transformMode:m.t.DEC_TRANSFORM_MODE}))},w.encrypt=function(S,E,b){return typeof E=="string"?v.E.encrypt(w,S,E,b):f.D.encrypt(w,S,E,b)},w.decrypt=function(S,E,b){return typeof E=="string"?v.E.decrypt(w,S,E,b):f.D.decrypt(w,S,E,b)},w.keySize=6,w.ivSize=2,w}(u.G)},7753:function(i,o,s){s.d(o,{GMAC:function(){return y}});var l=s(4768),f=s(3354),u=s(9691),m=s(5607);function y(_,v,p,h,c){var g=typeof _=="string"?l.d.parse(_):_,w=p||new f.e([0,0,0,0]),S=c&&c.Cipher?c.Cipher:u.AES,E=typeof v=="string"?l.d.parse(v):v,b=h||16;return m.V.mac(S,E,w,g,void 0,b)}},6367:function(i,o,s){s.d(o,{Hmac:function(){return f}});var l=s(4768),f=function(){function u(m,y){this.tn=m,typeof y=="string"&&(y=l.d.parse(y));var _=m.blockSize,v=4*_;y.nSigBytes>v&&(y=m.finalize(y)),y.clamp();for(var p=this.rn=y.clone(),h=this.en=y.clone(),c=p.words,g=h.words,w=0;w<_;w++)c[w]^=1549556828,g[w]^=909522486;h.nSigBytes=v,p.nSigBytes=v,this.reset()}return u.prototype.reset=function(){this.tn.reset(),this.tn.update(this.en)},u.prototype.update=function(m){return this.tn.update(m),this},u.prototype.finalize=function(m){var y=this.tn.finalize(m);return this.tn.reset(),this.tn.finalize(this.rn.clone().concat(y))},u}()},3027:function(i,o,s){s.d(o,{HmacMD5:function(){return u}});var l=s(6367),f=s(670);function u(m,y){return new l.Hmac(new f.MD5,y).finalize(m)}},149:function(i,o,s){s.d(o,{HmacSHA1:function(){return u}});var l=s(6367),f=s(3173);function u(m,y){return new l.Hmac(new f.SHA1,y).finalize(m)}},4105:function(i,o,s){s.d(o,{HmacSHA224:function(){return u}});var l=s(6367),f=s(766);function u(m,y){return new l.Hmac(new f.SHA224,y).finalize(m)}},980:function(i,o,s){s.d(o,{HmacSHA256:function(){return u}});var l=s(6367),f=s(5561);function u(m,y){return new l.Hmac(new f.SHA256,y).finalize(m)}},5838:function(i,o,s){s.d(o,{HmacSHA384:function(){return u}});var l=s(6367),f=s(6324);function u(m,y){return new l.Hmac(new f.SHA384,y).finalize(m)}},9902:function(i,o,s){s.d(o,{HmacSHA512:function(){return u}});var l=s(6367),f=s(7491);function u(m,y){return new l.Hmac(new f.SHA512,y).finalize(m)}},670:function(i,o,s){s.d(o,{MD5:function(){return c}});var l,f=s(3354),u=s(1868),m=(l=function(g,w){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(S[b]=E[b])})(g,w)},function(g,w){function S(){this.constructor=g}l(g,w),g.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}),y=[];function _(g,w,S,E,b,C,M){var P=g+(w&S|~w&E)+b+M;return(P<<C|P>>>32-C)+w}function v(g,w,S,E,b,C,M){var P=g+(w&E|S&~E)+b+M;return(P<<C|P>>>32-C)+w}function p(g,w,S,E,b,C,M){var P=g+(w^S^E)+b+M;return(P<<C|P>>>32-C)+w}function h(g,w,S,E,b,C,M){var P=g+(S^(w|~E))+b+M;return(P<<C|P>>>32-C)+w}(function(){for(var g=0;g<64;g++)y[g]=4294967296*Math.abs(Math.sin(g+1))|0})();var c=function(g){function w(S){var E=g.call(this,S)||this;return E.on=new f.e([1732584193,4023233417,2562383102,271733878]),S&&S.hash!==void 0&&(E.on=S.hash.clone()),E}return m(w,g),w.prototype.A=function(){this.on=new f.e([1732584193,4023233417,2562383102,271733878])},w.prototype.un=function(S,E){for(var b=0;b<16;b++){var C=E+b,M=S[C];S[C]=16711935&(M<<8|M>>>24)|4278255360&(M<<24|M>>>8)}var P=this.on.words,B=S[E],I=S[E+1],F=S[E+2],D=S[E+3],W=S[E+4],q=S[E+5],G=S[E+6],Y=S[E+7],X=S[E+8],Q=S[E+9],se=S[E+10],ve=S[E+11],ce=S[E+12],z=S[E+13],H=S[E+14],R=S[E+15],x=P[0],T=P[1],O=P[2],N=P[3];x=_(x,T,O,N,B,7,y[0]),N=_(N,x,T,O,I,12,y[1]),O=_(O,N,x,T,F,17,y[2]),T=_(T,O,N,x,D,22,y[3]),x=_(x,T,O,N,W,7,y[4]),N=_(N,x,T,O,q,12,y[5]),O=_(O,N,x,T,G,17,y[6]),T=_(T,O,N,x,Y,22,y[7]),x=_(x,T,O,N,X,7,y[8]),N=_(N,x,T,O,Q,12,y[9]),O=_(O,N,x,T,se,17,y[10]),T=_(T,O,N,x,ve,22,y[11]),x=_(x,T,O,N,ce,7,y[12]),N=_(N,x,T,O,z,12,y[13]),O=_(O,N,x,T,H,17,y[14]),x=v(x,T=_(T,O,N,x,R,22,y[15]),O,N,I,5,y[16]),N=v(N,x,T,O,G,9,y[17]),O=v(O,N,x,T,ve,14,y[18]),T=v(T,O,N,x,B,20,y[19]),x=v(x,T,O,N,q,5,y[20]),N=v(N,x,T,O,se,9,y[21]),O=v(O,N,x,T,R,14,y[22]),T=v(T,O,N,x,W,20,y[23]),x=v(x,T,O,N,Q,5,y[24]),N=v(N,x,T,O,H,9,y[25]),O=v(O,N,x,T,D,14,y[26]),T=v(T,O,N,x,X,20,y[27]),x=v(x,T,O,N,z,5,y[28]),N=v(N,x,T,O,F,9,y[29]),O=v(O,N,x,T,Y,14,y[30]),x=p(x,T=v(T,O,N,x,ce,20,y[31]),O,N,q,4,y[32]),N=p(N,x,T,O,X,11,y[33]),O=p(O,N,x,T,ve,16,y[34]),T=p(T,O,N,x,H,23,y[35]),x=p(x,T,O,N,I,4,y[36]),N=p(N,x,T,O,W,11,y[37]),O=p(O,N,x,T,Y,16,y[38]),T=p(T,O,N,x,se,23,y[39]),x=p(x,T,O,N,z,4,y[40]),N=p(N,x,T,O,B,11,y[41]),O=p(O,N,x,T,D,16,y[42]),T=p(T,O,N,x,G,23,y[43]),x=p(x,T,O,N,Q,4,y[44]),N=p(N,x,T,O,ce,11,y[45]),O=p(O,N,x,T,R,16,y[46]),x=h(x,T=p(T,O,N,x,F,23,y[47]),O,N,B,6,y[48]),N=h(N,x,T,O,Y,10,y[49]),O=h(O,N,x,T,H,15,y[50]),T=h(T,O,N,x,q,21,y[51]),x=h(x,T,O,N,ce,6,y[52]),N=h(N,x,T,O,D,10,y[53]),O=h(O,N,x,T,se,15,y[54]),T=h(T,O,N,x,I,21,y[55]),x=h(x,T,O,N,X,6,y[56]),N=h(N,x,T,O,R,10,y[57]),O=h(O,N,x,T,G,15,y[58]),T=h(T,O,N,x,z,21,y[59]),x=h(x,T,O,N,W,6,y[60]),N=h(N,x,T,O,ve,10,y[61]),O=h(O,N,x,T,F,15,y[62]),T=h(T,O,N,x,Q,21,y[63]),P[0]=P[0]+x|0,P[1]=P[1]+T|0,P[2]=P[2]+O|0,P[3]=P[3]+N|0},w.prototype.fn=function(){var S=this.cn,E=S.words,b=8*this.sn,C=8*S.nSigBytes;E[C>>>5]|=128<<24-C%32;var M=Math.floor(b/4294967296),P=b;E[15+(C+64>>>9<<4)]=16711935&(M<<8|M>>>24)|4278255360&(M<<24|M>>>8),E[14+(C+64>>>9<<4)]=16711935&(P<<8|P>>>24)|4278255360&(P<<24|P>>>8),S.nSigBytes=4*(E.length+1),this.an();for(var B=this.on,I=B.words,F=0;F<4;F++){var D=I[F];I[F]=16711935&(D<<8|D>>>24)|4278255360&(D<<24|D>>>8)}return B},w.prototype.clone=function(){return new w({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},w.hash=function(S){return new w().finalize(S)},w}(u.P)},4615:function(i,o,s){s.d(o,{RC4:function(){return v}});var l,f=s(30),u=s(5693),m=s(9109),y=(l=function(p,h){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,g){c.__proto__=g}||function(c,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(c[w]=g[w])})(p,h)},function(p,h){function c(){this.constructor=p}l(p,h),p.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}),_=function(){return(_=Object.assign||function(p){for(var h,c=1,g=arguments.length;c<g;c++)for(var w in h=arguments[c])Object.prototype.hasOwnProperty.call(h,w)&&(p[w]=h[w]);return p}).apply(this,arguments)},v=function(p){function h(c){var g=p.call(this,c)||this;return g.S=[],g.i=0,g.j=0,g.O=c,g.A(),g}return y(h,p),h.prototype.A=function(){var c=this.H,g=c.words,w=c.nSigBytes;this.S=[];for(var S=0;S<256;S++)this.S[S]=S;S=0;for(var E=0;S<256;S++){var b=S%w,C=g[b>>>2]>>>24-b%4*8&255;E=(E+this.S[S]+C)%256;var M=this.S[S];this.S[S]=this.S[E],this.S[E]=M}this.i=this.j=0},h.prototype.un=function(c,g){c[g]^=this.generateKeyStreamWord()},h.prototype.generateKeyStreamWord=function(){for(var c=this.S,g=this.i,w=this.j,S=0,E=0;E<4;E++){w=(w+c[g=(g+1)%256])%256;var b=c[g];c[g]=c[w],c[w]=b,S|=c[(c[g]+c[w])%256]<<24-8*E}return this.i=g,this.j=w,S},h.createEncryptor=function(c,g){return new h(_(_({},g=g===void 0?{}:g),{key:c}))},h.createDecryptor=function(c,g){return new h(_(_({},g=g===void 0?{}:g),{key:c}))},h.encrypt=function(c,g,w){return typeof g=="string"?u.E.encrypt(h,c,g,w):m.D.encrypt(h,c,g,w)},h.decrypt=function(c,g,w){return typeof g=="string"?u.E.decrypt(h,c,g,w):m.D.decrypt(h,c,g,w)},h.ivSize=0,h.keySize=8,h}(f.q)},9639:function(i,o,s){s.d(o,{RC4Drop:function(){return v}});var l,f=s(5693),u=s(9109),m=s(4615),y=(l=function(p,h){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,g){c.__proto__=g}||function(c,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(c[w]=g[w])})(p,h)},function(p,h){function c(){this.constructor=p}l(p,h),p.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}),_=function(){return(_=Object.assign||function(p){for(var h,c=1,g=arguments.length;c<g;c++)for(var w in h=arguments[c])Object.prototype.hasOwnProperty.call(h,w)&&(p[w]=h[w]);return p}).apply(this,arguments)},v=function(p){function h(c){var g=p.call(this,c)||this;return g.drop=192,g.O=c,c&&typeof c.drop=="number"&&(g.drop=c.drop),g.A(),g}return y(h,p),h.prototype.A=function(){p.prototype.A.call(this);for(var c=this.drop;c>0;c--)this.generateKeyStreamWord()},h.createEncryptor=function(c,g){return new h(_(_({},g=g===void 0?{}:g),{key:c}))},h.createDecryptor=function(c,g){return new h(_(_({},g=g===void 0?{}:g),{key:c}))},h.encrypt=function(c,g,w){return typeof g=="string"?f.E.encrypt(h,c,g,w):u.D.encrypt(h,c,g,w)},h.decrypt=function(c,g,w){return typeof g=="string"?f.E.decrypt(h,c,g,w):u.D.decrypt(h,c,g,w)},h}(m.RC4)},7104:function(i,o,s){s.d(o,{RIPEMD160:function(){return M}});var l,f=s(1868),u=s(3354),m=(l=function(P,B){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var D in F)Object.prototype.hasOwnProperty.call(F,D)&&(I[D]=F[D])})(P,B)},function(P,B){function I(){this.constructor=P}l(P,B),P.prototype=B===null?Object.create(B):(I.prototype=B.prototype,new I)}),y=new u.e([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),_=new u.e([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),v=new u.e([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=new u.e([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=new u.e([0,1518500249,1859775393,2400959708,2840853838]),c=new u.e([1352829926,1548603684,1836072691,2053994217,0]);function g(P,B,I){return P^B^I}function w(P,B,I){return P&B|~P&I}function S(P,B,I){return(P|~B)^I}function E(P,B,I){return P&I|B&~I}function b(P,B,I){return P^(B|~I)}function C(P,B){return P<<B|P>>>32-B}var M=function(P){function B(I){var F=P.call(this,I)||this;return F.on=new u.e([1732584193,4023233417,2562383102,271733878,3285377520]),F.O=I,I&&I.hash!==void 0&&(F.on=I.hash.clone()),F}return m(B,P),B.prototype.A=function(){this.on=new u.e([1732584193,4023233417,2562383102,271733878,3285377520])},B.prototype.un=function(I,F){for(var D=0;D<16;D++){var W=F+D,q=I[W];I[W]=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8)}var G,Y,X,Q,se,ve,ce,z,H,R,x,T=this.on.words,O=h.words,N=c.words,U=y.words,V=_.words,Z=v.words,re=p.words;for(ve=G=T[0],ce=Y=T[1],z=X=T[2],H=Q=T[3],R=se=T[4],D=0;D<80;D+=1)x=G+I[F+U[D]]|0,x+=D<16?g(Y,X,Q)+O[0]:D<32?w(Y,X,Q)+O[1]:D<48?S(Y,X,Q)+O[2]:D<64?E(Y,X,Q)+O[3]:b(Y,X,Q)+O[4],x=(x=C(x|=0,Z[D]))+se|0,G=se,se=Q,Q=C(X,10),X=Y,Y=x,x=ve+I[F+V[D]]|0,x+=D<16?b(ce,z,H)+N[0]:D<32?E(ce,z,H)+N[1]:D<48?S(ce,z,H)+N[2]:D<64?w(ce,z,H)+N[3]:g(ce,z,H)+N[4],x=(x=C(x|=0,re[D]))+R|0,ve=R,R=H,H=C(z,10),z=ce,ce=x;x=T[1]+X+H|0,T[1]=T[2]+Q+R|0,T[2]=T[3]+se+ve|0,T[3]=T[4]+G+ce|0,T[4]=T[0]+Y+z|0,T[0]=x},B.prototype.fn=function(){var I=this.cn,F=I.words,D=8*this.sn,W=8*I.nSigBytes;F[W>>>5]|=128<<24-W%32,F[14+(W+64>>>9<<4)]=16711935&(D<<8|D>>>24)|4278255360&(D<<24|D>>>8),I.nSigBytes=4*(F.length+1),this.an();for(var q=this.on,G=q.words,Y=0;Y<5;Y++){var X=G[Y];G[Y]=16711935&(X<<8|X>>>24)|4278255360&(X<<24|X>>>8)}return q},B.prototype.clone=function(){return new B({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},B.hash=function(I,F){return new B(F).finalize(I)},B}(f.P)},5187:function(i,o,s){s.d(o,{Rabbit:function(){return v}});var l,f=s(30),u=s(5693),m=s(9109),y=(l=function(p,h){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,g){c.__proto__=g}||function(c,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(c[w]=g[w])})(p,h)},function(p,h){function c(){this.constructor=p}l(p,h),p.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}),_=function(){return(_=Object.assign||function(p){for(var h,c=1,g=arguments.length;c<g;c++)for(var w in h=arguments[c])Object.prototype.hasOwnProperty.call(h,w)&&(p[w]=h[w]);return p}).apply(this,arguments)},v=function(p){function h(c){var g=p.call(this,c)||this;return g.N=4,g.S=[],g.C=[],g.G=[],g.hn=[],g.vn=[],g.wn=0,g.O=c,g.A(),g}return y(h,p),h.prototype.A=function(){for(var c=this.H.words,g=this.ln,w=0;w<4;w++)c[w]=16711935&(c[w]<<8|c[w]>>>24)|4278255360&(c[w]<<24|c[w]>>>8);var S=this.hn=[c[0],c[3]<<16|c[2]>>>16,c[1],c[0]<<16|c[3]>>>16,c[2],c[1]<<16|c[0]>>>16,c[3],c[2]<<16|c[1]>>>16],E=this.vn=[c[2]<<16|c[2]>>>16,4294901760&c[0]|65535&c[1],c[3]<<16|c[3]>>>16,4294901760&c[1]|65535&c[2],c[0]<<16|c[0]>>>16,4294901760&c[2]|65535&c[3],c[1]<<16|c[1]>>>16,4294901760&c[3]|65535&c[0]];for(this.wn=0,w=0;w<4;w++)this.nextState();for(w=0;w<8;w++)E[w]^=S[w+4&7];if(g){var b=g.words,C=b[0],M=b[1],P=16711935&(C<<8|C>>>24)|4278255360&(C<<24|C>>>8),B=16711935&(M<<8|M>>>24)|4278255360&(M<<24|M>>>8),I=P>>>16|4294901760&B,F=B<<16|65535&P;for(E[0]^=P,E[1]^=I,E[2]^=B,E[3]^=F,E[4]^=P,E[5]^=I,E[6]^=B,E[7]^=F,w=0;w<4;w++)this.nextState()}},h.prototype.un=function(c,g){var w=this.hn;this.nextState(),this.S[0]=w[0]^w[5]>>>16^w[3]<<16,this.S[1]=w[2]^w[7]>>>16^w[5]<<16,this.S[2]=w[4]^w[1]>>>16^w[7]<<16,this.S[3]=w[6]^w[3]>>>16^w[1]<<16;for(var S=0;S<4;S++)this.S[S]=16711935&(this.S[S]<<8|this.S[S]>>>24)|4278255360&(this.S[S]<<24|this.S[S]>>>8),c[g+S]^=this.S[S]},h.prototype.nextState=function(){for(var c=this.hn,g=this.vn,w=0;w<8;w++)this.C[w]=g[w];for(g[0]=g[0]+1295307597+this.wn|0,g[1]=g[1]+3545052371+(g[0]>>>0<this.C[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<this.C[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<this.C[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<this.C[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<this.C[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<this.C[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<this.C[6]>>>0?1:0)|0,this.wn=g[7]>>>0<this.C[7]>>>0?1:0,w=0;w<8;w++){var S=c[w]+g[w],E=65535&S,b=S>>>16,C=((E*E>>>17)+E*b>>>15)+b*b,M=((4294901760&S)*S|0)+((65535&S)*S|0);this.G[w]=C^M}var P=this.G;c[0]=P[0]+(P[7]<<16|P[7]>>>16)+(P[6]<<16|P[6]>>>16)|0,c[1]=P[1]+(P[0]<<8|P[0]>>>24)+P[7]|0,c[2]=P[2]+(P[1]<<16|P[1]>>>16)+(P[0]<<16|P[0]>>>16)|0,c[3]=P[3]+(P[2]<<8|P[2]>>>24)+P[1]|0,c[4]=P[4]+(P[3]<<16|P[3]>>>16)+(P[2]<<16|P[2]>>>16)|0,c[5]=P[5]+(P[4]<<8|P[4]>>>24)+P[3]|0,c[6]=P[6]+(P[5]<<16|P[5]>>>16)+(P[4]<<16|P[4]>>>16)|0,c[7]=P[7]+(P[6]<<8|P[6]>>>24)+P[5]|0},h.createEncryptor=function(c,g){return new h(_(_({},g=g===void 0?{}:g),{key:c}))},h.createDecryptor=function(c,g){return new h(_(_({},g=g===void 0?{}:g),{key:c}))},h.encrypt=function(c,g,w){return typeof g=="string"?u.E.encrypt(h,c,g,w):m.D.encrypt(h,c,g,w)},h.decrypt=function(c,g,w){return typeof g=="string"?u.E.decrypt(h,c,g,w):m.D.decrypt(h,c,g,w)},h.ivSize=4,h}(f.q)},3173:function(i,o,s){s.d(o,{SHA1:function(){return _}});var l,f=s(1868),u=s(3354),m=(l=function(v,p){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(h[g]=c[g])})(v,p)},function(v,p){function h(){this.constructor=v}l(v,p),v.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}),y=[],_=function(v){function p(h){var c=v.call(this,h)||this;return c.on=new u.e([1732584193,4023233417,2562383102,271733878,3285377520]),c.O=h,h&&h.hash!==void 0&&(c.on=h.hash.clone()),c}return m(p,v),p.prototype.A=function(){this.on=new u.e([1732584193,4023233417,2562383102,271733878,3285377520])},p.prototype.un=function(h,c){for(var g=this.on.words,w=g[0],S=g[1],E=g[2],b=g[3],C=g[4],M=0;M<80;M++){if(M<16)y[M]=0|h[c+M];else{var P=y[M-3]^y[M-8]^y[M-14]^y[M-16];y[M]=P<<1|P>>>31}var B=(w<<5|w>>>27)+C+y[M];B+=M<20?1518500249+(S&E|~S&b):M<40?1859775393+(S^E^b):M<60?(S&E|S&b|E&b)-1894007588:(S^E^b)-899497514,C=b,b=E,E=S<<30|S>>>2,S=w,w=B}g[0]=g[0]+w|0,g[1]=g[1]+S|0,g[2]=g[2]+E|0,g[3]=g[3]+b|0,g[4]=g[4]+C|0},p.prototype.fn=function(){var h=this.cn.words,c=8*this.sn,g=8*this.cn.nSigBytes;return h[g>>>5]|=128<<24-g%32,h[14+(g+64>>>9<<4)]=Math.floor(c/4294967296),h[15+(g+64>>>9<<4)]=c,this.cn.nSigBytes=4*h.length,this.an(),this.on},p.prototype.clone=function(){return new p({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},p.hash=function(h,c){return new p(c).finalize(h)},p}(f.P)},766:function(i,o,s){s.d(o,{SHA224:function(){return y}});var l,f=s(3354),u=s(5561),m=(l=function(_,v){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(p[c]=h[c])})(_,v)},function(_,v){function p(){this.constructor=_}l(_,v),_.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}),y=function(_){function v(p){var h=_.call(this,p)||this;return h.on=new f.e([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),h.O=p,p&&p.hash!==void 0&&(h.on=p.hash.clone()),h}return m(v,_),v.prototype.A=function(){this.on=new f.e([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},v.prototype.fn=function(){var p=_.prototype.fn.call(this);return p.nSigBytes-=4,p},v.prototype.clone=function(){return new v({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},v.hash=function(p,h){return new v(h).finalize(p)},v}(u.SHA256)},5561:function(i,o,s){s.d(o,{SHA256:function(){return c}});var l,f=s(1868),u=s(3354),m=(l=function(g,w){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(S[b]=E[b])})(g,w)},function(g,w){function S(){this.constructor=g}l(g,w),g.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}),y=[],_=[];function v(g){for(var w=Math.sqrt(g),S=2;S<=w;S++)if(!(g%S))return!1;return!0}function p(g){return 4294967296*(g-(0|g))|0}(function(){for(var g=2,w=0;w<64;)v(g)&&(w<8&&(y[w]=p(Math.pow(g,.5))),_[w]=p(Math.pow(g,.3333333333333333)),w++),g++})();var h=[],c=function(g){function w(S){var E=g.call(this,S)||this;return E.on=new u.e(y.slice(0)),E.O=S,S&&S.hash!==void 0&&(E.on=S.hash.clone()),E}return m(w,g),w.prototype.A=function(){this.on=new u.e(y.slice(0))},w.prototype.un=function(S,E){for(var b=this.on.words,C=b[0],M=b[1],P=b[2],B=b[3],I=b[4],F=b[5],D=b[6],W=b[7],q=0;q<64;q++){if(q<16)h[q]=0|S[E+q];else{var G=h[q-15],Y=(G<<25|G>>>7)^(G<<14|G>>>18)^G>>>3,X=h[q-2],Q=(X<<15|X>>>17)^(X<<13|X>>>19)^X>>>10;h[q]=Y+h[q-7]+Q+h[q-16]}var se=C&M^C&P^M&P,ve=(C<<30|C>>>2)^(C<<19|C>>>13)^(C<<10|C>>>22),ce=W+((I<<26|I>>>6)^(I<<21|I>>>11)^(I<<7|I>>>25))+(I&F^~I&D)+_[q]+h[q];W=D,D=F,F=I,I=B+ce|0,B=P,P=M,M=C,C=ce+(ve+se)|0}b[0]=b[0]+C|0,b[1]=b[1]+M|0,b[2]=b[2]+P|0,b[3]=b[3]+B|0,b[4]=b[4]+I|0,b[5]=b[5]+F|0,b[6]=b[6]+D|0,b[7]=b[7]+W|0},w.prototype.fn=function(){var S=this.cn.words,E=8*this.sn,b=8*this.cn.nSigBytes;return S[b>>>5]|=128<<24-b%32,S[14+(b+64>>>9<<4)]=Math.floor(E/4294967296),S[15+(b+64>>>9<<4)]=E,this.cn.nSigBytes=4*S.length,this.an(),this.on},w.prototype.clone=function(){return new w({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},w.hash=function(S,E){return new w(E).finalize(S)},w}(f.P)},3408:function(i,o,s){s.d(o,{SHA3:function(){return c}});var l,f=s(6957),u=s(1868),m=s(3354),y=(l=function(g,w){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(S[b]=E[b])})(g,w)},function(g,w){function S(){this.constructor=g}l(g,w),g.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}),_=[],v=[],p=[];(function(){for(var g=1,w=0,S=0;S<24;S++){_[g+5*w]=(S+1)*(S+2)/2%64;var E=(2*g+3*w)%5;g=w%5,w=E}for(var b=0;b<5;b++)for(var C=0;C<5;C++)v[b+5*C]=C+(2*b+3*C)%5*5;for(var M=1,P=0;P<24;P++){for(var B=0,I=0,F=0;F<7;F++){if(1&M){var D=(1<<F)-1;D<32?I^=1<<D:B^=1<<D-32}128&M?M=M<<1^113:M<<=1}p[P]=new f.r(B,I)}})();var h=[];(function(){for(var g=0;g<25;g++)h[g]=new f.r(0,0)})();var c=function(g){function w(S){var E=g.call(this,S)||this;if(E.N=32,E.bn=[],E.dn=512,E.O=S,S){if(S.outputLength!==void 0){if(![224,256,384,512].includes(S.outputLength))throw new Error("Unsupported output length.");E.dn=S.outputLength}S.state!==void 0&&(E.bn=S.state.map(function(C){return C.clone()}))}if(E.bn.length===0)for(var b=0;b<25;b++)E.bn[b]=new f.r(0,0);return E.N=(1600-2*E.dn)/32,E}return y(w,g),w.prototype.A=function(){this.bn=[];for(var S=0;S<25;S++)this.bn[S]=new f.r(0,0);this.N=(1600-2*this.dn)/32},w.prototype.un=function(S,E){for(var b=this.bn,C=this.N/2,M=0;M<C;M++){var P=S[E+2*M],B=S[E+2*M+1];P=16711935&(P<<8|P>>>24)|4278255360&(P<<24|P>>>8),B=16711935&(B<<8|B>>>24)|4278255360&(B<<24|B>>>8),b[M].high^=B,b[M].low^=P}for(var I=0;I<24;I++){for(var F=0;F<5;F++){for(var D=0,W=0,q=0;q<5;q++)D^=(O=b[F+5*q]).high,W^=O.low;var G=h[F];G.high=D,G.low=W}for(F=0;F<5;F++){var Y=h[(F+4)%5],X=h[(F+1)%5],Q=X.high,se=X.low;for(D=Y.high^(Q<<1|se>>>31),W=Y.low^(se<<1|Q>>>31),q=0;q<5;q++)(O=b[F+5*q]).high^=D,O.low^=W}for(var ve=1;ve<25;ve++){D=void 0,W=void 0;var ce=b[ve].high,z=b[ve].low,H=_[ve];H<32?(D=ce<<H|z>>>32-H,W=z<<H|ce>>>32-H):(D=z<<H-32|ce>>>64-H,W=ce<<H-32|z>>>64-H);var R=h[v[ve]];R.high=D,R.low=W}var x=h[0],T=b[0];for(x.high=T.high,x.low=T.low,F=0;F<5;F++)for(q=0;q<5;q++){var O=b[ve=F+5*q],N=h[ve],U=h[(F+1)%5+5*q],V=h[(F+2)%5+5*q];O.high=N.high^~U.high&V.high,O.low=N.low^~U.low&V.low}var Z=b[0],re=p[I];Z.high^=re.high,Z.low^=re.low}},w.prototype.fn=function(){var S=this.cn,E=S.words,b=8*S.nSigBytes,C=32*this.blockSize;E[b>>>5]|=1<<24-b%32,E[(Math.ceil((b+1)/C)*C>>>5)-1]|=128,S.nSigBytes=4*E.length,this.an();for(var M=this.bn,P=this.dn/8,B=P/8,I=[],F=0;F<B;F++){var D=M[F],W=D.high,q=D.low;W=16711935&(W<<8|W>>>24)|4278255360&(W<<24|W>>>8),q=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8),I.push(q),I.push(W)}return new m.e(I,P)},w.prototype.clone=function(){return new w({outputLength:this.dn,state:this.bn,blockSize:this.N,data:this.cn,nBytes:this.sn})},w.hash=function(S,E){return new w(E).finalize(S)},w}(u.P)},6324:function(i,o,s){s.d(o,{SHA384:function(){return y}});var l,f=s(6957),u=s(7491),m=(l=function(_,v){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(p[c]=h[c])})(_,v)},function(_,v){function p(){this.constructor=_}l(_,v),_.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}),y=function(_){function v(p){var h=_.call(this,p)||this;return h.on=new f.m([new f.r(3418070365,3238371032),new f.r(1654270250,914150663),new f.r(2438529370,812702999),new f.r(355462360,4144912697),new f.r(1731405415,4290775857),new f.r(2394180231,1750603025),new f.r(3675008525,1694076839),new f.r(1203062813,3204075428)]),h.O=p,p&&p.hash!==void 0&&(h.on=p.hash.clone()),h}return m(v,_),v.prototype.A=function(){this.on=new f.m([new f.r(3418070365,3238371032),new f.r(1654270250,914150663),new f.r(2438529370,812702999),new f.r(355462360,4144912697),new f.r(1731405415,4290775857),new f.r(2394180231,1750603025),new f.r(3675008525,1694076839),new f.r(1203062813,3204075428)])},v.prototype.fn=function(){var p=_.prototype.fn.call(this);return p.nSigBytes-=16,p},v.prototype.clone=function(){return new v({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},v.hash=function(p,h){return new v(h).finalize(p)},v}(u.SHA512)},7491:function(i,o,s){s.d(o,{SHA512:function(){return v}});var l,f=s(1868),u=s(6957),m=(l=function(p,h){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,g){c.__proto__=g}||function(c,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(c[w]=g[w])})(p,h)},function(p,h){function c(){this.constructor=p}l(p,h),p.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}),y=[new u.r(1116352408,3609767458),new u.r(1899447441,602891725),new u.r(3049323471,3964484399),new u.r(3921009573,2173295548),new u.r(961987163,4081628472),new u.r(1508970993,3053834265),new u.r(2453635748,2937671579),new u.r(2870763221,3664609560),new u.r(3624381080,2734883394),new u.r(310598401,1164996542),new u.r(607225278,1323610764),new u.r(1426881987,3590304994),new u.r(1925078388,4068182383),new u.r(2162078206,991336113),new u.r(2614888103,633803317),new u.r(3248222580,3479774868),new u.r(3835390401,2666613458),new u.r(4022224774,944711139),new u.r(264347078,2341262773),new u.r(604807628,2007800933),new u.r(770255983,1495990901),new u.r(1249150122,1856431235),new u.r(1555081692,3175218132),new u.r(1996064986,2198950837),new u.r(2554220882,3999719339),new u.r(2821834349,766784016),new u.r(2952996808,2566594879),new u.r(3210313671,3203337956),new u.r(3336571891,1034457026),new u.r(3584528711,2466948901),new u.r(113926993,3758326383),new u.r(338241895,168717936),new u.r(666307205,1188179964),new u.r(773529912,1546045734),new u.r(1294757372,1522805485),new u.r(1396182291,2643833823),new u.r(1695183700,2343527390),new u.r(1986661051,1014477480),new u.r(2177026350,1206759142),new u.r(2456956037,344077627),new u.r(2730485921,1290863460),new u.r(2820302411,3158454273),new u.r(3259730800,3505952657),new u.r(3345764771,106217008),new u.r(3516065817,3606008344),new u.r(3600352804,1432725776),new u.r(4094571909,1467031594),new u.r(275423344,851169720),new u.r(430227734,3100823752),new u.r(506948616,1363258195),new u.r(659060556,3750685593),new u.r(883997877,3785050280),new u.r(958139571,3318307427),new u.r(1322822218,3812723403),new u.r(1537002063,2003034995),new u.r(1747873779,3602036899),new u.r(1955562222,1575990012),new u.r(2024104815,1125592928),new u.r(2227730452,2716904306),new u.r(2361852424,442776044),new u.r(2428436474,593698344),new u.r(2756734187,3733110249),new u.r(3204031479,2999351573),new u.r(3329325298,3815920427),new u.r(3391569614,3928383900),new u.r(3515267271,566280711),new u.r(3940187606,3454069534),new u.r(4118630271,4000239992),new u.r(116418474,1914138554),new u.r(174292421,2731055270),new u.r(289380356,3203993006),new u.r(460393269,320620315),new u.r(685471733,587496836),new u.r(852142971,1086792851),new u.r(1017036298,365543100),new u.r(1126000580,2618297676),new u.r(1288033470,3409855158),new u.r(1501505948,4234509866),new u.r(1607167915,987167468),new u.r(1816402316,1246189591)],_=[];(function(){for(var p=0;p<80;p++)_[p]=new u.r(0,0)})();var v=function(p){function h(c){var g=p.call(this,c)||this;return g.N=32,g.on=new u.m([new u.r(1779033703,4089235720),new u.r(3144134277,2227873595),new u.r(1013904242,4271175723),new u.r(2773480762,1595750129),new u.r(1359893119,2917565137),new u.r(2600822924,725511199),new u.r(528734635,4215389547),new u.r(1541459225,327033209)]),g.O=c,c&&c.hash!==void 0&&(g.on=c.hash.clone()),g}return m(h,p),h.prototype.A=function(){this.on=new u.m([new u.r(1779033703,4089235720),new u.r(3144134277,2227873595),new u.r(1013904242,4271175723),new u.r(2773480762,1595750129),new u.r(1359893119,2917565137),new u.r(2600822924,725511199),new u.r(528734635,4215389547),new u.r(1541459225,327033209)])},h.prototype.un=function(c,g){for(var w=this.on.words,S=w[0],E=w[1],b=w[2],C=w[3],M=w[4],P=w[5],B=w[6],I=w[7],F=S.high,D=S.low,W=E.high,q=E.low,G=b.high,Y=b.low,X=C.high,Q=C.low,se=M.high,ve=M.low,ce=P.high,z=P.low,H=B.high,R=B.low,x=I.high,T=I.low,O=F,N=D,U=W,V=q,Z=G,re=Y,ne=X,ae=Q,fe=se,he=ve,Te=ce,Ne=z,Se=H,ye=R,oe=x,Ee=T,xe=0;xe<80;xe++){var K=void 0,ie=void 0,be=_[xe];if(xe<16)ie=be.high=0|c[g+2*xe],K=be.low=0|c[g+2*xe+1];else{var Ce=_[xe-15],Le=Ce.high,Ke=Ce.low,ze=(Le>>>1|Ke<<31)^(Le>>>8|Ke<<24)^Le>>>7,Ve=(Ke>>>1|Le<<31)^(Ke>>>8|Le<<24)^(Ke>>>7|Le<<25),qe=_[xe-2],pe=qe.high,ee=qe.low,de=(pe>>>19|ee<<13)^(pe<<3|ee>>>29)^pe>>>6,je=(ee>>>19|pe<<13)^(ee<<3|pe>>>29)^(ee>>>6|pe<<26),Be=_[xe-7],ut=Be.high,Ct=Be.low,Ht=_[xe-16],Br=Ht.high,Hn=Ht.low;ie=(ie=(ie=ze+ut+((K=Ve+Ct)>>>0<Ve>>>0?1:0))+de+((K+=je)>>>0<je>>>0?1:0))+Br+((K+=Hn)>>>0<Hn>>>0?1:0),be.high=ie,be.low=K}var hr=fe&Te^~fe&Se,ii=he&Ne^~he&ye,bn=O&U^O&Z^U&Z,xo=N&V^N&re^V&re,Qt=(O>>>28|N<<4)^(O<<30|N>>>2)^(O<<25|N>>>7),Gi=(N>>>28|O<<4)^(N<<30|O>>>2)^(N<<25|O>>>7),vi=(fe>>>14|he<<18)^(fe>>>18|he<<14)^(fe<<23|he>>>9),os=(he>>>14|fe<<18)^(he>>>18|fe<<14)^(he<<23|fe>>>9),_i=y[xe],Wi=_i.high,pr=_i.low,Wr=Ee+os,oi=oe+vi+(Wr>>>0<Ee>>>0?1:0),$l=Gi+xo;oe=Se,Ee=ye,Se=Te,ye=Ne,Te=fe,Ne=he,fe=ne+(oi=(oi=(oi=oi+hr+((Wr+=ii)>>>0<ii>>>0?1:0))+Wi+((Wr+=pr)>>>0<pr>>>0?1:0))+ie+((Wr+=K)>>>0<K>>>0?1:0))+((he=ae+Wr|0)>>>0<ae>>>0?1:0)|0,ne=Z,ae=re,Z=U,re=V,U=O,V=N,O=oi+(Qt+bn+($l>>>0<Gi>>>0?1:0))+((N=Wr+$l|0)>>>0<Wr>>>0?1:0)|0}D=S.low=D+N,S.high=F+O+(D>>>0<N>>>0?1:0),q=E.low=q+V,E.high=W+U+(q>>>0<V>>>0?1:0),Y=b.low=Y+re,b.high=G+Z+(Y>>>0<re>>>0?1:0),Q=C.low=Q+ae,C.high=X+ne+(Q>>>0<ae>>>0?1:0),ve=M.low=ve+he,M.high=se+fe+(ve>>>0<he>>>0?1:0),z=P.low=z+Ne,P.high=ce+Te+(z>>>0<Ne>>>0?1:0),R=B.low=R+ye,B.high=H+Se+(R>>>0<ye>>>0?1:0),T=I.low=T+Ee,I.high=x+oe+(T>>>0<Ee>>>0?1:0)},h.prototype.fn=function(){var c=this.cn,g=c.words,w=8*this.sn,S=8*c.nSigBytes;return g[S>>>5]|=128<<24-S%32,g[30+(S+128>>>10<<5)]=Math.floor(w/4294967296),g[31+(S+128>>>10<<5)]=w,c.nSigBytes=4*g.length,this.an(),this.on.to32()},h.prototype.clone=function(){return new h({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},h.hash=function(c,g){return new h(g).finalize(c)},h}(f.P)},3354:function(i,o,s){s.d(o,{e:function(){return u}});var l=s(5720),f=s(9054),u=function(){function m(y,_){if(Array.isArray(y)||!y)return this.yn=Array.isArray(y)?y:[],void(this.pn=typeof _=="number"?_:4*this.yn.length);if(y instanceof m)return this.yn=y.words.slice(),void(this.pn=y.nSigBytes);var v;try{y instanceof ArrayBuffer?v=new Uint8Array(y):(y instanceof Uint8Array||y instanceof Int8Array||y instanceof Uint8ClampedArray||y instanceof Int16Array||y instanceof Uint16Array||y instanceof Int32Array||y instanceof Uint32Array||y instanceof Float32Array||y instanceof Float64Array)&&(v=new Uint8Array(y.buffer,y.byteOffset,y.byteLength))}catch{throw new Error("Invalid argument")}if(!v)throw new Error("Invalid argument");for(var p=v.byteLength,h=[],c=0;c<p;c++)h[c>>>2]|=v[c]<<24-c%4*8;this.yn=h,this.pn=p}return Object.defineProperty(m.prototype,"nSigBytes",{get:function(){return this.pn},set:function(y){this.pn=y},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"words",{get:function(){return this.yn},enumerable:!1,configurable:!0}),m.prototype.toString=function(y){return y?y.stringify(this):l.p.stringify(this)},m.prototype.toUint8Array=function(){for(var y=this.yn,_=this.pn,v=new Uint8Array(_),p=0;p<_;p++)v[p]=y[p>>>2]>>>24-p%4*8&255;return v},m.prototype.concat=function(y){var _=y.words.slice(),v=y.nSigBytes;if(this.clamp(),this.pn%4)for(var p=0;p<v;p++){var h=_[p>>>2]>>>24-p%4*8&255;this.yn[this.pn+p>>>2]|=h<<24-(this.pn+p)%4*8}else for(p=0;p<v;p+=4)this.yn[this.pn+p>>>2]=_[p>>>2];return this.pn+=v,this},m.prototype.clamp=function(){var y=this.pn;this.yn[y>>>2]&=4294967295<<32-y%4*8,this.yn.length=Math.ceil(y/4)},m.prototype.clone=function(){return new m(this.yn.slice(),this.pn)},m.random=function(y){for(var _=[],v=0;v<y;v+=4)_.push((0,f.M)());return new m(_,y)},m}()},6957:function(i,o,s){s.d(o,{r:function(){return u},m:function(){return m}});var l=s(5720),f=s(3354),u=function(){function y(_,v){this.high=_,this.low=v}return y.prototype.clone=function(){return new y(this.high,this.low)},y}(),m=function(){function y(_,v){this.yn=_||[],this.pn=typeof v=="number"?v:8*this.yn.length}return Object.defineProperty(y.prototype,"nSigBytes",{get:function(){return this.pn},set:function(_){this.pn=_},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"words",{get:function(){return this.yn},enumerable:!1,configurable:!0}),y.prototype.to32=function(){for(var _=[],v=0;v<this.yn.length;v++){var p=this.yn[v];_.push(p.high),_.push(p.low)}return new f.e(_,this.pn)},y.prototype.toString=function(_){return _?_.stringify(this.to32()):l.p.stringify(this.to32())},y.prototype.clone=function(){for(var _=this.yn.slice(),v=0;v<_.length;v++)_[v]=_[v].clone();return new y(_,this.pn)},y}()},7211:function(i,o,s){s.d(o,{C:function(){return u}});var l=s(3354),f=s(4768),u=function(){function m(y){this.On=0,this.N=0,this.O=y,this.cn=y&&y.data!==void 0?y.data.clone():new l.e,this.sn=y&&typeof y.nBytes=="number"?y.nBytes:0}return Object.defineProperty(m.prototype,"blockSize",{get:function(){return this.N},enumerable:!1,configurable:!0}),m.prototype.reset=function(y,_){this.cn=y!==void 0?y.clone():new l.e,this.sn=typeof _=="number"?_:0},m.prototype.jn=function(y){var _=typeof y=="string"?f.d.parse(y):y;this.cn.concat(_),this.sn+=_.nSigBytes},m.prototype.an=function(y){var _,v=this.cn.words,p=this.cn.nSigBytes,h=this.N,c=p/(4*this.N),g=(c=y?Math.ceil(c):Math.max((0|c)-this.On,0))*h,w=Math.min(4*g,p);if(g){for(var S=0;S<g;S+=h)this.un(v,S);_=v.splice(0,g),this.cn.nSigBytes-=w}return new l.e(_,w)},m.prototype.un=function(y,_){throw new Error("Not implemented")},m}()},1868:function(i,o,s){s.d(o,{P:function(){return m}});var l,f=s(7211),u=(l=function(y,_){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(v[h]=p[h])})(y,_)},function(y,_){function v(){this.constructor=y}l(y,_),y.prototype=_===null?Object.create(_):(v.prototype=_.prototype,new v)}),m=function(y){function _(v){var p=y.call(this,v)||this;return p.N=16,p.O=v,v&&typeof v.blockSize=="number"&&(p.N=v.blockSize),p.reset(v?v.data:void 0,v?v.nBytes:void 0),p}return u(_,y),Object.defineProperty(_.prototype,"blockSize",{get:function(){return this.N},enumerable:!1,configurable:!0}),_.prototype.reset=function(v,p){y.prototype.reset.call(this,v,p),this.A()},_.prototype.update=function(v){return this.jn(v),this.an(),this},_.prototype.finalize=function(v){return v&&this.jn(v),this.fn()},_.prototype.A=function(){throw new Error("Not implemented")},_.prototype.fn=function(){throw new Error("Not implemented")},_}(f.C)},787:function(i,o,s){s.d(o,{G:function(){return v}});var l,f=s(9456),u=s(4344),m=s(7919),y=(l=function(p,h){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,g){c.__proto__=g}||function(c,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(c[w]=g[w])})(p,h)},function(p,h){function c(){this.constructor=p}l(p,h),p.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}),_=function(){return(_=Object.assign||function(p){for(var h,c=1,g=arguments.length;c<g;c++)for(var w in h=arguments[c])Object.prototype.hasOwnProperty.call(h,w)&&(p[w]=h[w]);return p}).apply(this,arguments)},v=function(p){function h(c){var g=p.call(this,c)||this;return g.N=4,g._n=u.n,g.mn=m.l,g.O=c,g._n=c.mode!==void 0?c.mode:g._n,g.mn=c.padding!==void 0?c.padding:g.mn,g.reset(c==null?void 0:c.data,c==null?void 0:c.nBytes),g}return y(h,p),Object.defineProperty(h.prototype,"mode",{get:function(){return this.An},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"padding",{get:function(){return this.mn},enumerable:!1,configurable:!0}),h.prototype.reset=function(c,g){var w;p.prototype.reset.call(this,c,g),this.gn===f.t.ENC_TRANSFORM_MODE?w=this._n.createEncryptor:(w=this._n.createDecryptor,this.On=1),this._n&&this.En===w?this.An=new this._n({cipher:this,iv:this.ln}):(this.An=w.call(this._n,{cipher:this,iv:this.ln}),this.En=w)},h.prototype.un=function(c,g){var w;(w=this.An)===null||w===void 0||w.processBlock(c,g)},h.prototype.fn=function(){var c,g=this.mn;return this.gn===f.t.ENC_TRANSFORM_MODE?(g.pad(this.cn,this.blockSize),c=this.an(!0)):(c=this.an(!0),g.unpad(c)),c},h.prototype.encryptBlock=function(c,g){throw new Error("Not implemented")},h.prototype.decryptBlock=function(c,g){throw new Error("Not implemented")},h.createEncryptor=function(c,g){return new h(_(_({},g=g===void 0?{}:g),{key:c,transformMode:f.t.ENC_TRANSFORM_MODE}))},h.createDecryptor=function(c,g){return new h(_(_({},g=g===void 0?{}:g),{key:c,transformMode:f.t.DEC_TRANSFORM_MODE}))},h}(f.t)},9456:function(i,o,s){s.d(o,{t:function(){return y}});var l,f=s(7211),u=(l=function(_,v){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(p[c]=h[c])})(_,v)},function(_,v){function p(){this.constructor=_}l(_,v),_.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}),m=function(){return(m=Object.assign||function(_){for(var v,p=1,h=arguments.length;p<h;p++)for(var c in v=arguments[p])Object.prototype.hasOwnProperty.call(v,c)&&(_[c]=v[c]);return _}).apply(this,arguments)},y=function(_){function v(p){var h=_.call(this,p)||this;return h.gn=1,h.O=p,h.H=p.key,h.ln=p.iv!==void 0?p.iv:h.ln,h.gn=p.transformMode!==void 0?p.transformMode:h.gn,h}return u(v,_),Object.defineProperty(v.prototype,"iv",{get:function(){return this.ln},enumerable:!1,configurable:!0}),v.prototype.reset=function(p,h){_.prototype.reset.call(this,p,h),this.A()},v.prototype.process=function(p){return this.jn(p),this.an()},v.prototype.finalize=function(p){return p&&this.jn(p),this.fn()},v.prototype.A=function(){throw new Error("Not implemented")},v.prototype.un=function(p,h){throw new Error("Not implemented")},v.prototype.fn=function(){throw new Error("Not implemented")},v.createEncryptor=function(p,h){return new v(m(m({},h=h===void 0?{}:h),{key:p,transformMode:v.ENC_TRANSFORM_MODE}))},v.createDecryptor=function(p,h){return new v(m(m({},h=h===void 0?{}:h),{key:p,transformMode:v.DEC_TRANSFORM_MODE}))},v.ENC_TRANSFORM_MODE=1,v.DEC_TRANSFORM_MODE=2,v.keySize=4,v.ivSize=4,v}(f.C)},2505:function(i,o,s){s.d(o,{Q:function(){return f}});var l=s(1232),f=function(){function u(m){this.formatter=l.w,m&&(this.cipherText=m.cipherText,this.key=m.key,this.iv=m.iv,this.salt=m.salt,this.Algorithm=m.Algorithm,this.mode=m.mode,this.padding=m.padding,this.blockSize=m.blockSize,this.formatter=m.formatter||l.w)}return u.prototype.toString=function(m){return(m||this.formatter).stringify(this)},u}()},5693:function(i,o,s){s.d(o,{E:function(){return _}});var l=s(9109),f=s(2214),u=s(2505),m=s(1232),y=function(){return(y=Object.assign||function(v){for(var p,h=1,c=arguments.length;h<c;h++)for(var g in p=arguments[h])Object.prototype.hasOwnProperty.call(p,g)&&(v[g]=p[g]);return v}).apply(this,arguments)},_={encrypt:function(v,p,h,c){var g=c?y({},c):{},w=c&&c.KDF?c.KDF:f.s,S={};c&&c.kdfHasher&&(S.kdfHasher=c.kdfHasher),c&&c.kdfIterations&&(S.kdfIterations=c.kdfIterations),c&&c.kdfModule&&(S.kdfModule=c.kdfModule);var E=w.execute(h,v.keySize,v.ivSize,g.kdfSalt,S);g.iv=E.iv;var b=l.D.encrypt(v,p,E.key,g);return new u.Q(y(y({},b),{key:E.key,iv:E.iv,salt:E.salt}))},decrypt:function(v,p,h,c){var g=c?y({},c):{},w=g.KDF?g.KDF:f.s,S=g.formatter?g.formatter:m.w,E=(0,l.W)(p,S),b={};c&&c.kdfHasher&&(b.kdfHasher=c.kdfHasher),c&&c.kdfIterations&&(b.kdfIterations=c.kdfIterations),c&&c.kdfModule&&(b.kdfModule=c.kdfModule);var C=w.execute(h,v.keySize,v.ivSize,E.salt,b);return g.iv=C.iv,l.D.decrypt(v,E,C.key,g)}}},9109:function(i,o,s){s.d(o,{W:function(){return u},D:function(){return m}});var l=s(1232),f=s(2505);function u(y,_){return typeof y=="string"?_.parse(y):y}var m={encrypt:function(y,_,v,p){var h=y.createEncryptor(v,p),c=h.finalize(_);return new f.Q({cipherText:c,key:v,iv:h.iv,Algorithm:y,mode:h.mode,padding:h.padding,blockSize:h.blockSize,formatter:(p==null?void 0:p.formatter)||l.w})},decrypt:function(y,_,v,p){var h=y.createDecryptor(v,p),c=u(_,(p==null?void 0:p.formatter)||l.w);return h.finalize(c.cipherText||"")}}},30:function(i,o,s){s.d(o,{q:function(){return m}});var l,f=s(9456),u=(l=function(y,_){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(v[h]=p[h])})(y,_)},function(y,_){function v(){this.constructor=y}l(y,_),y.prototype=_===null?Object.create(_):(v.prototype=_.prototype,new v)}),m=function(y){function _(v){var p=y.call(this,v)||this;return p.N=1,p}return u(_,y),_.prototype.fn=function(){return this.an(!0)},_}(f.t)},1232:function(i,o,s){s.d(o,{w:function(){return m}});var l=s(2505),f=s(3354),u=s(1773),m={stringify:function(y){var _=y.cipherText,v=y.salt;return _?v?new f.e([1398893684,1701076831]).concat(v).concat(_).toString(u.D):_.toString(u.D):""},parse:function(y){var _,v=u.D.parse(y),p=v.words;return p[0]===1398893684&&p[1]===1701076831&&(_=new f.e(p.slice(2,4)),p.splice(0,4),v.nSigBytes-=16),new l.Q({cipherText:v,salt:_})}}},2214:function(i,o,s){s.d(o,{s:function(){return y}});var l=s(3354),f=s(2505),u=s(7008),m=function(){return(m=Object.assign||function(_){for(var v,p=1,h=arguments.length;p<h;p++)for(var c in v=arguments[p])Object.prototype.hasOwnProperty.call(v,c)&&(_[c]=v[c]);return _}).apply(this,arguments)},y={execute:function(_,v,p,h,c){h||(h=l.e.random(8));var g=c&&c.kdfModule||u.E,w=c?{Hasher:c.kdfHasher,iterations:c.kdfIterations}:{},S=g.getKey(_,h,m(m({},w),{keySize:v+p})),E=new l.e(S.words.slice(v),4*p);return S.nSigBytes=4*v,new f.Q({key:S,iv:E,salt:h})}}},7008:function(i,o,s){s.d(o,{E:function(){return v}});var l,f=s(5561),u=s(6367),m=s(3354),y=s(9541),_=(l=function(p,h){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,g){c.__proto__=g}||function(c,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(c[w]=g[w])})(p,h)},function(p,h){function c(){this.constructor=p}l(p,h),p.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}),v=function(p){function h(c){var g=p.call(this,c)||this;return g.Sn=4,g.Mn=f.SHA256,g.kn=1e4,c&&(g.Sn=c.keySize!==void 0?c.keySize:g.Sn,g.Mn=c.Hasher!==void 0?c.Hasher:g.Mn,g.kn=c.iterations!==void 0?c.iterations:g.kn),g}return _(h,p),h.prototype.compute=function(c,g){for(var w=new u.Hmac(new this.Mn,c),S=new m.e,E=new m.e([1]),b=S.words,C=E.words,M=this.Sn,P=this.kn;b.length<M;){var B=w.update(g).finalize(E);w.reset();for(var I=B.words,F=I.length,D=B,W=1;W<P;W++){D=w.finalize(D),w.reset();for(var q=D.words,G=0;G<F;G++)I[G]^=q[G]}S.concat(B),C[0]++}return S.nSigBytes=4*M,S},h.getKey=function(c,g,w){return new h(w).compute(c,g)},h}(y._)},9541:function(i,o,s){s.d(o,{_:function(){return l}});var l=function(){function f(u){this.O=u}return f.prototype.compute=function(u,m){throw new Error("Not implemented")},f.getKey=function(u,m,y){throw new Error("Not implemented")},f}()},1863:function(i,o,s){s.d(o,{T:function(){return l}});var l=function(){function f(u){this.O=u,this.Hn=u.cipher,this.ln=u.iv}return f.prototype.processBlock=function(u,m){},f.createEncryptor=function(u){throw new Error("Not implemented yet")},f.createDecryptor=function(u){throw new Error("Not implemented yet")},f}()},4344:function(i,o,s){s.d(o,{n:function(){return m}});var l,f=s(1863),u=(l=function(y,_){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(v[h]=p[h])})(y,_)},function(y,_){function v(){this.constructor=y}l(y,_),y.prototype=_===null?Object.create(_):(v.prototype=_.prototype,new v)}),m=function(y){function _(v){var p=y.call(this,v)||this;return p.Cn=[],p}return u(_,y),_.prototype.xorBlock=function(v,p,h){var c,g=this.ln;g?(c=g.words,this.ln=void 0):c=this.Cn;for(var w=0;w<h;w++)v[p+w]^=c[w]},_.createEncryptor=function(v){return new _.Encryptor(v)},_.createDecryptor=function(v){return new _.Decryptor(v)},_.Encryptor=function(v){function p(){return v!==null&&v.apply(this,arguments)||this}return u(p,v),p.prototype.processBlock=function(h,c){var g=this.Hn,w=g.blockSize;this.xorBlock(h,c,w),g.encryptBlock(h,c),this.Cn=h.slice(c,c+w)},p}(_),_.Decryptor=function(v){function p(){return v!==null&&v.apply(this,arguments)||this}return u(p,v),p.prototype.processBlock=function(h,c){var g=this.Hn,w=g.blockSize,S=h.slice(c,c+w);g.decryptBlock(h,c),this.xorBlock(h,c,w),this.Cn=S},p}(_),_}(f.T)},4055:function(i,o,s){s.d(o,{I4:function(){return f},z6:function(){return u},ur:function(){return m}});var l=s(3354);function f(y){var _=y.nSigBytes%16;if(_!==0){for(var v=16-_,p=[],h=Math.floor(v/4),c=0;c<h;c++)p.push(0);v%4>0&&p.push(0),y.concat(new l.e(p,v))}}function u(y,_){return new l.e(y.words.slice(),_)}function m(y,_){for(var v=y.nSigBytes-_,p=[],h=0;h<_;h++){var c=h>>>2,g=v+h,w=g>>>2,S=y.words[w]>>>24-g%4*8&255;p[c]=0|p[c]|S<<24-h%4*8}var E=new l.e(p,_);return E.clamp(),E}},7919:function(i,o,s){s.d(o,{l:function(){return f}});var l=s(3354),f={pad:function(u,m){for(var y=4*m,_=y-u.nSigBytes%y,v=_<<24|_<<16|_<<8|_,p=[],h=0;h<_;h+=4)p.push(v);var c=new l.e(p,_);u.concat(c)},unpad:function(u){var m=255&u.words[u.nSigBytes-1>>>2];u.nSigBytes-=m}}},1756:function(i,o,s){s.d(o,{w:function(){return m}});var l,f=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",u=(l=parseInt((/msie (\d+)/.exec(f)||[])[1],10),isNaN(l)?(l=parseInt((/trident\/.*; rv:(\d+)/.exec(f)||[])[1],10),!isNaN(l)&&l):l);function m(y,_){return u!==!1&&(!_||(y==="<"?u<_:y==="<="?u<=_:y===">"?u>_:y===">="?u>=_:u===_))}},1773:function(i,o,s){s.d(o,{D:function(){return y}});for(var l=s(3354),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=[],m=0;m<f.length;m++)u[f.charCodeAt(m)]=m;var y={stringify:function(_){var v=_.words,p=_.nSigBytes;_.clamp();for(var h=[],c=0;c<p;c+=3)for(var g=(v[c>>>2]>>>24-c%4*8&255)<<16|(v[c+1>>>2]>>>24-(c+1)%4*8&255)<<8|v[c+2>>>2]>>>24-(c+2)%4*8&255,w=0;w<4&&c+.75*w<p;w++)h.push(f.charAt(g>>>6*(3-w)&63));var S=f.charAt(64);if(S)for(;h.length%4;)h.push(S);return h.join("")},parse:function(_){var v=_.length,p=f.charAt(64);if(p){var h=_.indexOf(p);h!==-1&&(v=h)}for(var c=[],g=0,w=0;w<v;w++)if(w%4){var S=u[_.charCodeAt(w-1)]<<w%4*2|u[_.charCodeAt(w)]>>>6-w%4*2;c[g>>>2]|=S<<24-g%4*8,g++}return new l.e(c,g)}}},5720:function(i,o,s){s.d(o,{p:function(){return f}});var l=s(3354),f={stringify:function(u){for(var m=u.nSigBytes,y=u.words,_=[],v=0;v<m;v++){var p=y[v>>>2]>>>24-v%4*8&255;_.push((p>>>4).toString(16)),_.push((15&p).toString(16))}return _.join("")},parse:function(u){var m=u.length;if(m%2!=0)throw new Error("Hex string count must be even");if(!/^[a-fA-F0-9]+$/.test(u))throw new Error("Invalid Hex string: "+u);for(var y=[],_=0;_<m;_+=2)y[_>>>3]|=parseInt(u.substr(_,2),16)<<24-_%8*4;return new l.e(y,m/2)}}},8702:function(i,o,s){s.d(o,{m:function(){return f}});var l=s(3354),f={stringify:function(u){for(var m=u.nSigBytes,y=u.words,_=[],v=0;v<m;v++){var p=y[v>>>2]>>>24-v%4*8&255;_.push(String.fromCharCode(p))}return _.join("")},parse:function(u){for(var m=u.length,y=[],_=0;_<m;_++)y[_>>>2]|=(255&u.charCodeAt(_))<<24-_%4*8;return new l.e(y,m)}}},4768:function(i,o,s){s.d(o,{d:function(){return f}});var l=s(8702),f={stringify:function(u){try{return decodeURIComponent(escape(l.m.stringify(u)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(u){return l.m.parse(unescape(encodeURIComponent(u)))}}},2688:function(i,o,s){s.d(o,{Base64:function(){return u.D},EvpKDF:function(){return M},Hex:function(){return _.p},Latin1:function(){return y.m},OpenSSLKDF:function(){return w.s},PBKDF2:function(){return S.E},Utf16:function(){return g},Utf16BE:function(){return v},Utf16LE:function(){return c},Utf8:function(){return m.d},Word32Array:function(){return l.e},Word64:function(){return f.r},Word64Array:function(){return f.m}}),s(9054);var l=s(3354),f=s(6957),u=(s(1756),s(1773)),m=s(4768),y=s(8702),_=s(5720),v={stringify:function(P){for(var B=P.words,I=P.nSigBytes,F=[],D=0;D<I;D+=2){var W=B[D>>>2]>>>16-D%4*8&65535;F.push(String.fromCharCode(W))}return F.join("")},parse:function(P){for(var B=P.length,I=[],F=0;F<B;F++)I[F>>>1]|=P.charCodeAt(F)<<16-F%2*16;return new l.e(I,2*B)}};function p(P){return P<<8&4278255360|P>>>8&16711935}var h,c={stringify:function(P){for(var B=P.words,I=P.nSigBytes,F=[],D=0;D<I;D+=2){var W=p(B[D>>>2]>>>16-D%4*8&65535);F.push(String.fromCharCode(W))}return F.join("")},parse:function(P){for(var B=P.length,I=[],F=0;F<B;F++)I[F>>>1]|=p(P.charCodeAt(F)<<16-F%2*16);return new l.e(I,2*B)}},g=v,w=s(2214),S=s(7008),E=s(670),b=s(9541),C=(h=function(P,B){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var D in F)Object.prototype.hasOwnProperty.call(F,D)&&(I[D]=F[D])})(P,B)},function(P,B){function I(){this.constructor=P}h(P,B),P.prototype=B===null?Object.create(B):(I.prototype=B.prototype,new I)}),M=function(P){function B(I){var F=P.call(this,I)||this;return F.Sn=4,F.Mn=E.MD5,F.kn=1,I&&(F.Sn=I.keySize!==void 0?I.keySize:F.Sn,F.Mn=I.Hasher!==void 0?I.Hasher:F.Mn,F.kn=I.iterations!==void 0?I.iterations:F.kn),F}return C(B,P),B.prototype.compute=function(I,F){for(var D,W=new this.Mn,q=new l.e,G=q.words,Y=this.Sn,X=this.kn;G.length<Y;){D&&W.update(D),D=W.update(I).finalize(F),W.reset();for(var Q=1;Q<X;Q++)D=W.finalize(D),W.reset();q.concat(D)}return q.nSigBytes=4*Y,q},B.getKey=function(I,F,D){return new B(D).compute(I,F)},B}(b._)},9054:function(i,o,s){s.d(o,{M:function(){return f}});var l=s(1756),f=function(){if(typeof window<"u"){var u=window.crypto||window.msCrypto;if(!u){if((0,l.w)("<",11))return console.warn("IE <= 10 uses insecure random generator. Please consider to use IE11 or another modern browser"),function(){return Math.floor(512*Math.random())%256};throw new Error("Crypto module not found")}return function(){return u.getRandomValues(new Uint32Array(1))[0]}}return s.g!==void 0&&s.g.crypto?function(){return s.g.crypto.randomBytes(4).readInt32LE()}:function(){return EE().randomBytes(4).readInt32LE()}}()},3664:function(i,o,s){s.d(o,{K:function(){return _}});var l,f=s(1863),u=s(3354),m=s(4055),y=(l=function(v,p){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(h[g]=c[g])})(v,p)},function(v,p){function h(){this.constructor=v}l(v,p),v.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}),_=function(v){function p(h){var c=v.call(this,h)||this;c.Bn=1;var g=h.cipher,w=h.iv;if(g.blockSize!==4)throw new Error("In CCM, cipher block size must be 128bit");if(w&&(w.nSigBytes>13||w.nSigBytes<7))throw new Error("Byte size of iv must be between 7 and 13");return c.Nn=w||new u.e([0,0],8),c.In=15-c.Nn.nSigBytes,c}return y(p,v),p.getB0=function(h,c,g,w){if(g.nSigBytes+w.nSigBytes!==15)throw new Error("LEN(Q)+LEN(N) must be 15");var S=255&(0|(h?1:0)<<6|(c-2)/2<<3|g.nSigBytes-1),E=w.clone().concat(g);return new u.e([S<<24],1).concat(E)},p.formatAssociatedDataAndPayload=function(h,c){var g,w=h.nSigBytes;if(w===0)g=new u.e([0],0);else if(w<Math.pow(2,16)-Math.pow(2,8))g=new u.e([w<<16],2);else{if(!(w<Math.pow(2,32)))throw new Error("LEN(A) larger than 2**32-1 is not supported");g=new u.e([4294836224],2).concat(new u.e([w],4))}for(var S=Math.floor(h.nSigBytes/4),E=0;E<S;E++)g.concat(new u.e([h.words[E]],4));h.nSigBytes%4&&(g.concat(new u.e([h.words[S]],h.nSigBytes%4)),g.concat(new u.e([0],4-h.nSigBytes%4))),g.nSigBytes%16&&g.concat(new u.e([0],16-g.nSigBytes%16));var b=Math.floor(c.nSigBytes/4);for(E=0;E<b;E++)g.concat(new u.e([c.words[E]],4));return c.nSigBytes%4&&(g.concat(new u.e([c.words[b]],c.nSigBytes%4)),g.concat(new u.e([0],4-c.nSigBytes%4))),g.nSigBytes%16&&g.concat(new u.e([0],16-g.nSigBytes%16)),g},p.genCtr=function(h,c,g){if(c.nSigBytes+h!==15)throw new Error("LEN(Q)+LEN(N) must be 15");for(var w=new u.e([(h-1&7)<<24],1),S=new u.e([],0),E=Math.floor(h/4),b=0;b<E-1;b++)S.concat(new u.e([0],4));return h%4?h>4?(S.concat(new u.e([0],h%4)),S.concat(new u.e([g],4))):S.concat(new u.e([g<<32-8*h],h)):S.concat(new u.e([g],4)),w.concat(c).concat(S)},p.mac=function(h,c,g,w,S,E){var b=new h({key:c,iv:g});if(b.blockSize!==4)throw new Error("In CCM, cipher block size must be 128bit");if(g&&(g.nSigBytes>13||g.nSigBytes<7))throw new Error("Byte size of iv must be between 7 and 13");var C=g||new u.e([0,0],8),M=(w==null?void 0:w.clone())||new u.e,P=M.nSigBytes,B=(S==null?void 0:S.clone())||new u.e,I=B.nSigBytes;if(I>>>0>4294967295)throw new Error("Byte length of Payload(plainText) larger than 2^32-1 (4,294,967,295byte) is not supported at this time.");var F=15-C.nSigBytes,D=(0,m.ur)(new u.e([0,I],8),F),W=E||16,q=p.getB0(!!P,W,D,C),G=p.formatAssociatedDataAndPayload(M,B),Y=q.words.slice();b.encryptBlock(Y,0);for(var X=G.nSigBytes/16,Q=G.words,se=Y,ve=0;ve<X;ve++){var ce=[Q[4*ve]^se[0],Q[4*ve+1]^se[1],Q[4*ve+2]^se[2],Q[4*ve+3]^se[3]];b.encryptBlock(ce,0),se=ce}var z=new u.e(se,W),H=p.genCtr(F,C,0);for(b.encryptBlock(H.words,0),ve=0;ve<4;ve++)z.words[ve]^=H.words[ve];return z.clamp(),z},p.combineCipherTextAndAuthTag=function(h,c){return h.clone().concat(c)},p.splitCipherTextAndAuthTag=function(h,c){var g=c||16;return{cipherText:(0,m.z6)(h,h.nSigBytes-g),authTag:(0,m.ur)(h,g)}},p.createEncryptor=function(h){return new p.Encryptor(h)},p.createDecryptor=function(h){return new p.Decryptor(h)},p.Encryptor=function(h){function c(){return h!==null&&h.apply(this,arguments)||this}return y(c,h),c.prototype.processBlock=function(g,w){var S=this.Hn,E=S.blockSize,b=p.genCtr(this.In,this.Nn,this.Bn);S.encryptBlock(b.words,0);for(var C=0;C<E;C++)g[w+C]^=b.words[C];this.Bn++},c}(p),p.Decryptor=function(h){function c(){return h!==null&&h.apply(this,arguments)||this}return y(c,h),c.prototype.processBlock=function(g,w){var S=this.Hn,E=S.blockSize,b=p.genCtr(this.In,this.Nn,this.Bn);S.encryptBlock(b.words,0);for(var C=0;C<E;C++)g[w+C]^=b.words[C];this.Bn++},c}(p),p}(f.T)},5607:function(i,o,s){s.d(o,{V:function(){return _}});var l,f=s(1863),u=s(3354),m=s(4055),y=(l=function(v,p){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(h[g]=c[g])})(v,p)},function(v,p){function h(){this.constructor=v}l(v,p),v.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}),_=function(v){function p(h){var c=v.call(this,h)||this;if(c.zn=[],c.Dn=[],c.Un=[],h.cipher.blockSize!==4)throw new Error("In GCM block cipher mode, cipher block size must be 128bit");var g=h.cipher,w=h.iv,S=[0,0,0,0];return g.encryptBlock(S,0),c.zn=S,c.Dn=p.getJ0(S,w==null?void 0:w.words),c.Un=c.Dn.slice(),c}return y(p,v),p.getJ0=function(h,c){var g;if(c&&c.length!==0)if(c.length===3)g=[c[0],c[1],c[2],1];else{for(var w=c.length%4>0?4-c.length%4:0,S=c.slice(),E=0;E<w+2;E++)S.push(0);S.push(0),S.push(32*c.length),g=p.GHASH(h,S)}else g=[0,0,0,1];return g},p.inc32=function(h){var c=h.slice(),g=c[3]>>>0,w=g+1>>>0<g;if(c[3]=c[3]+1|0,w){var S=c[2]>>>0,E=S+1>>>0<S;c[2]=c[2]+1|0,E&&(c[1]=c[1]+1|0)}return c},p.mul=function(h,c){for(var g=[3774873600,0,0,0],w=[0,0,0,0],S=c.slice(),E=0;E<128;E++){(h[E>>>5]>>>31-E%32&1)>0&&(w[0]=w[0]^S[0],w[1]=w[1]^S[1],w[2]=w[2]^S[2],w[3]=w[3]^S[3]);var b=(1&S[3])>>>0,C=(1&S[0])>>>0,M=(1&S[1])>>>0,P=(1&S[2])>>>0;S[0]=S[0]>>>1,S[1]=S[1]>>>1|(C?2147483648:0),S[2]=S[2]>>>1|(M?2147483648:0),S[3]=S[3]>>>1|(P?2147483648:0),b>0&&(S[0]^=g[0],S[1]^=g[1],S[2]^=g[2],S[3]^=g[3])}return w},p.GHASH=function(h,c){if(h.length%4!=0)throw new Error("Length of 32bit word array 'H' must be multiple of 4(128bit)");if(c.length%4!=0)throw new Error("Length of 32bit word array 'X' must be multiple of 4(128bit)");for(var g=c.length,w=[0,0,0,0],S=0;S<g;S+=4)w[0]=w[0]^c[S],w[1]=w[1]^c[S+1],w[2]=w[2]^c[S+2],w[3]=w[3]^c[S+3],w=p.mul(w,h);return w},p.GCTR=function(h,c,g){if(g.nSigBytes===0)return g.clone();if(c.length!==4)throw new Error("Initial Counter Block size must be 128bit");for(var w=g.words,S=Math.ceil(g.nSigBytes/16),E=[c.slice()],b=1;b<S;b++){var C=p.inc32(E[b-1]);E.push(C)}var M=new u.e;for(b=0;b<S;b++){h.encryptBlock(E[b],0);var P=g.nSigBytes%16;if(b<S-1||P===0){var B=w[4*b]^E[b][0],I=w[4*b+1]^E[b][1],F=w[4*b+2]^E[b][2],D=w[4*b+3]^E[b][3],W=new u.e([B,I,F,D]);M.concat(W)}else{for(var q=[],G=0,Y=Math.floor(P/4),X=0;X<Y;X++){var Q=w[4*b+X]^E[b][X];q.push(Q),G+=4}var se=P%4;if(se>0){var ve=w[4*b+Y]<<32-8*se^E[b][Y];q.push(ve),G+=se}var ce=new u.e(q,G);M.concat(ce)}}return M.nSigBytes=g.nSigBytes,M.clamp(),M},p.mac=function(h,c,g,w,S,E){var b=new h({key:c,iv:g}),C=[0,0,0,0];b.encryptBlock(C,0);var M=p.getJ0(C,g.words),P=(w==null?void 0:w.clone())||new u.e,B=[0,8*P.nSigBytes],I=(S==null?void 0:S.clone())||new u.e,F=[0,8*I.nSigBytes],D=E||16;(0,m.I4)(P),(0,m.I4)(I);var W=P.words.concat(I.words).concat(B).concat(F),q=p.GHASH(C,W),G=p.GCTR(b,M,new u.e(q));return(0,m.z6)(G,D)},p.createEncryptor=function(h){return new p.Encryptor(h)},p.createDecryptor=function(h){return new p.Decryptor(h)},p.Encryptor=function(h){function c(){return h!==null&&h.apply(this,arguments)||this}return y(c,h),c.prototype.processBlock=function(g,w){var S=this.Hn.blockSize;this.Un=p.inc32(this.Un);for(var E=new u.e(g.slice(w,w+S)),b=p.GCTR(this.Hn,this.Un,E),C=0;C<S;C++)g[w+C]=b.words[C]},c}(p),p.Decryptor=function(h){function c(){return h!==null&&h.apply(this,arguments)||this}return y(c,h),c.prototype.processBlock=function(g,w){var S=this.Hn.blockSize;this.Un=p.inc32(this.Un);for(var E=new u.e(g.slice(w,w+S)),b=p.GCTR(this.Hn,this.Un,E),C=0;C<S;C++)g[w+C]=b.words[C]},c}(p),p}(f.T)}},e={};function t(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return n[i](s,s.exports,t),s.exports}t.d=function(i,o){for(var s in o)t.o(o,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),t.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},t.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"Ln",{value:!0})};var r={};return function(){t.r(r),t.d(r,{AES:function(){return B.AES},Base64:function(){return o.Base64},CBCMAC:function(){return g.CBCMAC},CipherParams:function(){return f.Q},DES:function(){return I.DES},DES3:function(){return F.DES3},EvpKDF:function(){return o.EvpKDF},GMAC:function(){return c.GMAC},Hex:function(){return o.Hex},Hmac:function(){return u.Hmac},HmacMD5:function(){return m.HmacMD5},HmacSHA1:function(){return y.HmacSHA1},HmacSHA224:function(){return _.HmacSHA224},HmacSHA256:function(){return v.HmacSHA256},HmacSHA384:function(){return p.HmacSHA384},HmacSHA512:function(){return h.HmacSHA512},Latin1:function(){return o.Latin1},MD5:function(){return w.MD5},OpenSSLKDF:function(){return o.OpenSSLKDF},PBKDF2:function(){return o.PBKDF2},PasswordBasedCipher:function(){return l.E},RC4:function(){return q.RC4},RC4Drop:function(){return G.RC4Drop},RIPEMD160:function(){return D.RIPEMD160},Rabbit:function(){return W.Rabbit},SHA1:function(){return S.SHA1},SHA224:function(){return E.SHA224},SHA256:function(){return b.SHA256},SHA3:function(){return P.SHA3},SHA384:function(){return C.SHA384},SHA512:function(){return M.SHA512},SerializableCipher:function(){return s.D},Utf16:function(){return o.Utf16},Utf16BE:function(){return o.Utf16BE},Utf16LE:function(){return o.Utf16LE},Utf8:function(){return o.Utf8},Word32Array:function(){return o.Word32Array},Word64:function(){return o.Word64},Word64Array:function(){return o.Word64Array},formatter:function(){return Ne},mode:function(){return he},pad:function(){return Te}});var i,o=t(2688),s=t(9109),l=t(5693),f=t(2505),u=t(6367),m=t(3027),y=t(149),_=t(4105),v=t(980),p=t(5838),h=t(9902),c=t(7753),g=t(3967),w=t(670),S=t(3173),E=t(766),b=t(5561),C=t(6324),M=t(7491),P=t(3408),B=t(9691),I=t(9910),F=t(6739),D=t(7104),W=t(5187),q=t(4615),G=t(9639),Y=t(4344),X=t(1863),Q=(i=function(Se,ye){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,Ee){oe.__proto__=Ee}||function(oe,Ee){for(var xe in Ee)Object.prototype.hasOwnProperty.call(Ee,xe)&&(oe[xe]=Ee[xe])})(Se,ye)},function(Se,ye){function oe(){this.constructor=Se}i(Se,ye),Se.prototype=ye===null?Object.create(ye):(oe.prototype=ye.prototype,new oe)}),se=function(Se){function ye(oe){var Ee=Se.call(this,oe)||this;return Ee.Cn=[],Ee}return Q(ye,Se),ye.prototype.generateKeyStreamAndEncrypt=function(oe,Ee,xe,K){var ie,be=this.ln;be?(ie=be.words.slice(0),this.ln=void 0):ie=this.Cn,K.encryptBlock(ie,0);for(var Ce=0;Ce<xe;Ce++)oe[Ee+Ce]^=ie[Ce]},ye.createEncryptor=function(oe){return new ye.Encryptor(oe)},ye.createDecryptor=function(oe){return new ye.Decryptor(oe)},ye.Encryptor=function(oe){function Ee(){return oe!==null&&oe.apply(this,arguments)||this}return Q(Ee,oe),Ee.prototype.processBlock=function(xe,K){this.generateKeyStreamAndEncrypt(xe,K,this.Hn.blockSize,this.Hn),this.Cn=xe.slice(K,K+this.Hn.blockSize)},Ee}(ye),ye.Decryptor=function(oe){function Ee(){return oe!==null&&oe.apply(this,arguments)||this}return Q(Ee,oe),Ee.prototype.processBlock=function(xe,K){var ie=xe.slice(K,K+this.Hn.blockSize);this.generateKeyStreamAndEncrypt(xe,K,this.Hn.blockSize,this.Hn),this.Cn=ie},Ee}(ye),ye}(X.T),ve=function(){var Se=function(ye,oe){return(Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ee,xe){Ee.__proto__=xe}||function(Ee,xe){for(var K in xe)Object.prototype.hasOwnProperty.call(xe,K)&&(Ee[K]=xe[K])})(ye,oe)};return function(ye,oe){function Ee(){this.constructor=ye}Se(ye,oe),ye.prototype=oe===null?Object.create(oe):(Ee.prototype=oe.prototype,new Ee)}}(),ce=function(Se){function ye(oe){var Ee=Se.call(this,oe)||this;return Ee.Fn=[],Ee}return ve(ye,Se),ye.createEncryptor=function(oe){return new ye.Encryptor(oe)},ye.createDecryptor=function(oe){return new ye.Decryptor(oe)},ye.Encryptor=function(oe){function Ee(){return oe!==null&&oe.apply(this,arguments)||this}return ve(Ee,oe),Ee.prototype.processBlock=function(xe,K){var ie=this.Hn,be=ie.blockSize,Ce=this.ln,Le=this.Fn;Ce&&(Le=this.Fn=Ce.words.slice(0),this.ln=void 0);var Ke=Le.slice(0);ie.encryptBlock(Ke,0),Le[be-1]=Le[be-1]+1|0;for(var ze=0;ze<be;ze++)xe[K+ze]^=Ke[ze]},Ee}(ye),ye.Decryptor=ye.Encryptor,ye}(X.T),z=function(){var Se=function(ye,oe){return(Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ee,xe){Ee.__proto__=xe}||function(Ee,xe){for(var K in xe)Object.prototype.hasOwnProperty.call(xe,K)&&(Ee[K]=xe[K])})(ye,oe)};return function(ye,oe){function Ee(){this.constructor=ye}Se(ye,oe),ye.prototype=oe===null?Object.create(oe):(Ee.prototype=oe.prototype,new Ee)}}(),H=function(Se){function ye(oe){return Se.call(this,oe)||this}return z(ye,Se),ye.createEncryptor=function(oe){return new ye.Encryptor(oe)},ye.createDecryptor=function(oe){return new ye.Decryptor(oe)},ye.Encryptor=function(oe){function Ee(){return oe!==null&&oe.apply(this,arguments)||this}return z(Ee,oe),Ee.prototype.processBlock=function(xe,K){this.Hn.encryptBlock(xe,K)},Ee}(ye),ye.Decryptor=function(oe){function Ee(){return oe!==null&&oe.apply(this,arguments)||this}return z(Ee,oe),Ee.prototype.processBlock=function(xe,K){this.Hn.decryptBlock(xe,K)},Ee}(ye),ye}(X.T),R=function(){var Se=function(ye,oe){return(Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ee,xe){Ee.__proto__=xe}||function(Ee,xe){for(var K in xe)Object.prototype.hasOwnProperty.call(xe,K)&&(Ee[K]=xe[K])})(ye,oe)};return function(ye,oe){function Ee(){this.constructor=ye}Se(ye,oe),ye.prototype=oe===null?Object.create(oe):(Ee.prototype=oe.prototype,new Ee)}}(),x=function(Se){function ye(oe){var Ee=Se.call(this,oe)||this;return Ee.xn=[],Ee}return R(ye,Se),ye.createEncryptor=function(oe){return new ye.Encryptor(oe)},ye.createDecryptor=function(oe){return new ye.Decryptor(oe)},ye.Encryptor=function(oe){function Ee(){return oe!==null&&oe.apply(this,arguments)||this}return R(Ee,oe),Ee.prototype.processBlock=function(xe,K){var ie=this.Hn,be=ie.blockSize,Ce=this.ln,Le=this.xn;Ce&&(Le=this.xn=Ce.words.slice(0),this.ln=void 0),ie.encryptBlock(Le,0);for(var Ke=0;Ke<be;Ke++)xe[K+Ke]^=Le[Ke]},Ee}(ye),ye.Decryptor=ye.Encryptor,ye}(X.T),T=t(5607),O=t(3664),N={pad:function(Se,ye){var oe=Se.nSigBytes,Ee=4*ye,xe=Ee-oe%Ee,K=oe+xe-1;Se.clamp(),Se.words[K>>>2]|=xe<<24-K%4*8,Se.nSigBytes+=xe},unpad:function(Se){var ye=255&Se.words[Se.nSigBytes-1>>>2];Se.nSigBytes-=ye}},U=t(3354),V={pad:function(Se,ye){var oe=4*ye,Ee=oe-Se.nSigBytes%oe;Se.concat(U.e.random(Ee-1)).concat(new U.e([Ee<<24],1))},unpad:function(Se){var ye=255&Se.words[Se.nSigBytes-1>>>2];Se.nSigBytes-=ye}},Z={pad:function(Se,ye){var oe=4*ye;Se.clamp(),Se.nSigBytes+=oe-(Se.nSigBytes%oe||oe)},unpad:function(Se){for(var ye=Se.words,oe=Se.nSigBytes-1;oe>=0;oe--)if(ye[oe>>>2]>>>24-oe%4*8&255){Se.nSigBytes=oe+1;break}}},re={pad:function(Se,ye){Se.concat(new U.e([2147483648],1)),Z.pad(Se,ye)},unpad:function(Se){Z.unpad(Se),Se.nSigBytes-=1}},ne=t(7919),ae={pad:function(Se,ye){},unpad:function(Se){}},fe=t(1232),he={CBC:Y.n,CFB:se,CTR:ce,ECB:H,OFB:x,GCM:T.V,CCM:O.K},Te={AnsiX923:N,ISO10126:V,ISO97971:re,Pkcs7:ne.l,NoPadding:ae,Zero:Z},Ne={OpenSSLFormatter:fe.w}}(),r}()})});var HE=le((wZ,cm)=>{"use strict";L();var fj=Object.prototype.hasOwnProperty,en="~";function zl(){}Object.create&&(zl.prototype=Object.create(null),new zl().__proto__||(en=!1));function hj(n,e,t){this.fn=n,this.context=e,this.once=t||!1}function FE(n,e,t,r,i){if(typeof t!="function")throw new TypeError("The listener must be a function");var o=new hj(t,r||n,i),s=en?en+e:e;return n._events[s]?n._events[s].fn?n._events[s]=[n._events[s],o]:n._events[s].push(o):(n._events[s]=o,n._eventsCount++),n}function xh(n,e){--n._eventsCount===0?n._events=new zl:delete n._events[e]}function Gr(){this._events=new zl,this._eventsCount=0}Gr.prototype.eventNames=function(){var e=[],t,r;if(this._eventsCount===0)return e;for(r in t=this._events)fj.call(t,r)&&e.push(en?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};Gr.prototype.listeners=function(e){var t=en?en+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s};Gr.prototype.listenerCount=function(e){var t=en?en+e:e,r=this._events[t];return r?r.fn?1:r.length:0};Gr.prototype.emit=function(e,t,r,i,o,s){var l=en?en+e:e;if(!this._events[l])return!1;var f=this._events[l],u=arguments.length,m,y;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),u){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,r),!0;case 4:return f.fn.call(f.context,t,r,i),!0;case 5:return f.fn.call(f.context,t,r,i,o),!0;case 6:return f.fn.call(f.context,t,r,i,o,s),!0}for(y=1,m=new Array(u-1);y<u;y++)m[y-1]=arguments[y];f.fn.apply(f.context,m)}else{var _=f.length,v;for(y=0;y<_;y++)switch(f[y].once&&this.removeListener(e,f[y].fn,void 0,!0),u){case 1:f[y].fn.call(f[y].context);break;case 2:f[y].fn.call(f[y].context,t);break;case 3:f[y].fn.call(f[y].context,t,r);break;case 4:f[y].fn.call(f[y].context,t,r,i);break;default:if(!m)for(v=1,m=new Array(u-1);v<u;v++)m[v-1]=arguments[v];f[y].fn.apply(f[y].context,m)}}return!0};Gr.prototype.on=function(e,t,r){return FE(this,e,t,r,!1)};Gr.prototype.once=function(e,t,r){return FE(this,e,t,r,!0)};Gr.prototype.removeListener=function(e,t,r,i){var o=en?en+e:e;if(!this._events[o])return this;if(!t)return xh(this,o),this;var s=this._events[o];if(s.fn)s.fn===t&&(!i||s.once)&&(!r||s.context===r)&&xh(this,o);else{for(var l=0,f=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&f.push(s[l]);f.length?this._events[o]=f.length===1?f[0]:f:xh(this,o)}return this};Gr.prototype.removeAllListeners=function(e){var t;return e?(t=en?en+e:e,this._events[t]&&xh(this,t)):(this._events=new zl,this._eventsCount=0),this};Gr.prototype.off=Gr.prototype.removeListener;Gr.prototype.addListener=Gr.prototype.on;Gr.prefixed=en;Gr.EventEmitter=Gr;typeof cm<"u"&&(cm.exports=Gr)});var $E=le(()=>{L()});var JE=le(()=>{L()});var KE=le(()=>{L()});var YE=le(()=>{L()});var XE=le((exports,module)=>{L();(function(e,t){typeof exports=="object"&&typeof module=="object"?module.exports=t():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],t):typeof exports=="object"?exports["pdfjs-dist/build/pdf"]=t():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=t()})(exports,()=>(()=>{"use strict";var __webpack_modules__=[,(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=re,e.arraysToBytes=ne,e.assert=Q,e.bytesToString=V,e.createPromiseCapability=qe,e.createValidAbsoluteUrl=ve,e.escapeString=K,e.getModificationDate=Ve,e.getVerbosityLevel=q,e.info=G,e.isArrayBuffer=Ke,e.isArrayEqual=ze,e.isAscii=ie,e.objectFromMap=he,e.objectSize=fe,e.setVerbosityLevel=W,e.shadow=ce,e.string32=ae,e.stringToBytes=Z,e.stringToPDFString=xe,e.stringToUTF16BEString=be,e.stringToUTF8String=Ce,e.unreachable=X,e.utf8StringToString=Le,e.warn=Y,t(2);let r=[1,0,0,1,0,0];e.IDENTITY_MATRIX=r;let i=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=i;let o={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=o;let s={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=s;let l={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=l;let f={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=f;let u={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=u;let m={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=m;let y={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=y;let _={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=_;let v={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=v;let p={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=p;let h={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=h;let c={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=c;let g={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=g;let w={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=w;let S={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=S;let E={O:"PageOpen",C:"PageClose"};e.PageActionEventType=E;let b={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};e.StreamType=b;let C={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};e.FontType=C;let M={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=M;let P={NONE:0,BINARY:1,STREAM:2};e.CMapCompressionType=P;let B={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=B;let I={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};e.UNSUPPORTED_FEATURES=I;let F={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=F;let D=M.WARNINGS;function W(pe){Number.isInteger(pe)&&(D=pe)}function q(){return D}function G(pe){D>=M.INFOS&&console.log(`Info: ${pe}`)}function Y(pe){D>=M.WARNINGS&&console.log(`Warning: ${pe}`)}function X(pe){throw new Error(pe)}function Q(pe,ee){pe||X(ee)}function se(pe){if(!pe)return!1;switch(pe.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ve(pe,ee=null,de=null){if(!pe)return null;try{if(de&&typeof pe=="string"){if(de.addDefaultProtocol&&pe.startsWith("www.")){let Be=pe.match(/\./g);Be&&Be.length>=2&&(pe=`http://${pe}`)}if(de.tryConvertEncoding)try{pe=Ce(pe)}catch{}}let je=ee?new URL(pe,ee):new URL(pe);if(se(je))return je}catch{}return null}function ce(pe,ee,de){return Object.defineProperty(pe,ee,{value:de,enumerable:!0,configurable:!0,writable:!1}),de}let z=function(){function ee(de,je){this.constructor===ee&&X("Cannot initialize BaseException."),this.message=de,this.name=je}return ee.prototype=new Error,ee.constructor=ee,ee}();e.BaseException=z;class H extends z{constructor(ee,de){super(ee,"PasswordException"),this.code=de}}e.PasswordException=H;class R extends z{constructor(ee,de){super(ee,"UnknownErrorException"),this.details=de}}e.UnknownErrorException=R;class x extends z{constructor(ee){super(ee,"InvalidPDFException")}}e.InvalidPDFException=x;class T extends z{constructor(ee){super(ee,"MissingPDFException")}}e.MissingPDFException=T;class O extends z{constructor(ee,de){super(ee,"UnexpectedResponseException"),this.status=de}}e.UnexpectedResponseException=O;class N extends z{constructor(ee){super(ee,"FormatError")}}e.FormatError=N;class U extends z{constructor(ee){super(ee,"AbortException")}}e.AbortException=U;function V(pe){(typeof pe!="object"||pe===null||pe.length===void 0)&&X("Invalid argument for bytesToString");let ee=pe.length,de=8192;if(ee<de)return String.fromCharCode.apply(null,pe);let je=[];for(let Be=0;Be<ee;Be+=de){let ut=Math.min(Be+de,ee),Ct=pe.subarray(Be,ut);je.push(String.fromCharCode.apply(null,Ct))}return je.join("")}function Z(pe){typeof pe!="string"&&X("Invalid argument for stringToBytes");let ee=pe.length,de=new Uint8Array(ee);for(let je=0;je<ee;++je)de[je]=pe.charCodeAt(je)&255;return de}function re(pe){if(pe.length!==void 0)return pe.length;if(pe.byteLength!==void 0)return pe.byteLength;X("Invalid argument for arrayByteLength")}function ne(pe){let ee=pe.length;if(ee===1&&pe[0]instanceof Uint8Array)return pe[0];let de=0;for(let ut=0;ut<ee;ut++)de+=re(pe[ut]);let je=0,Be=new Uint8Array(de);for(let ut=0;ut<ee;ut++){let Ct=pe[ut];Ct instanceof Uint8Array||(typeof Ct=="string"?Ct=Z(Ct):Ct=new Uint8Array(Ct));let Ht=Ct.byteLength;Be.set(Ct,je),je+=Ht}return Be}function ae(pe){return String.fromCharCode(pe>>24&255,pe>>16&255,pe>>8&255,pe&255)}function fe(pe){return Object.keys(pe).length}function he(pe){let ee=Object.create(null);for(let[de,je]of pe)ee[de]=je;return ee}function Te(){let pe=new Uint8Array(4);return pe[0]=1,new Uint32Array(pe.buffer,0,1)[0]===1}function Ne(){try{return new Function(""),!0}catch{return!1}}class Se{static get isLittleEndian(){return ce(this,"isLittleEndian",Te())}static get isEvalSupported(){return ce(this,"isEvalSupported",Ne())}static get isOffscreenCanvasSupported(){return ce(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}e.FeatureTest=Se;let ye=[...Array(256).keys()].map(pe=>pe.toString(16).padStart(2,"0"));class oe{static makeHexColor(ee,de,je){return`#${ye[ee]}${ye[de]}${ye[je]}`}static scaleMinMax(ee,de){let je;ee[0]?(ee[0]<0&&(je=de[0],de[0]=de[1],de[1]=je),de[0]*=ee[0],de[1]*=ee[0],ee[3]<0&&(je=de[2],de[2]=de[3],de[3]=je),de[2]*=ee[3],de[3]*=ee[3]):(je=de[0],de[0]=de[2],de[2]=je,je=de[1],de[1]=de[3],de[3]=je,ee[1]<0&&(je=de[2],de[2]=de[3],de[3]=je),de[2]*=ee[1],de[3]*=ee[1],ee[2]<0&&(je=de[0],de[0]=de[1],de[1]=je),de[0]*=ee[2],de[1]*=ee[2]),de[0]+=ee[4],de[1]+=ee[4],de[2]+=ee[5],de[3]+=ee[5]}static transform(ee,de){return[ee[0]*de[0]+ee[2]*de[1],ee[1]*de[0]+ee[3]*de[1],ee[0]*de[2]+ee[2]*de[3],ee[1]*de[2]+ee[3]*de[3],ee[0]*de[4]+ee[2]*de[5]+ee[4],ee[1]*de[4]+ee[3]*de[5]+ee[5]]}static applyTransform(ee,de){let je=ee[0]*de[0]+ee[1]*de[2]+de[4],Be=ee[0]*de[1]+ee[1]*de[3]+de[5];return[je,Be]}static applyInverseTransform(ee,de){let je=de[0]*de[3]-de[1]*de[2],Be=(ee[0]*de[3]-ee[1]*de[2]+de[2]*de[5]-de[4]*de[3])/je,ut=(-ee[0]*de[1]+ee[1]*de[0]+de[4]*de[1]-de[5]*de[0])/je;return[Be,ut]}static getAxialAlignedBoundingBox(ee,de){let je=oe.applyTransform(ee,de),Be=oe.applyTransform(ee.slice(2,4),de),ut=oe.applyTransform([ee[0],ee[3]],de),Ct=oe.applyTransform([ee[2],ee[1]],de);return[Math.min(je[0],Be[0],ut[0],Ct[0]),Math.min(je[1],Be[1],ut[1],Ct[1]),Math.max(je[0],Be[0],ut[0],Ct[0]),Math.max(je[1],Be[1],ut[1],Ct[1])]}static inverseTransform(ee){let de=ee[0]*ee[3]-ee[1]*ee[2];return[ee[3]/de,-ee[1]/de,-ee[2]/de,ee[0]/de,(ee[2]*ee[5]-ee[4]*ee[3])/de,(ee[4]*ee[1]-ee[5]*ee[0])/de]}static apply3dTransform(ee,de){return[ee[0]*de[0]+ee[1]*de[1]+ee[2]*de[2],ee[3]*de[0]+ee[4]*de[1]+ee[5]*de[2],ee[6]*de[0]+ee[7]*de[1]+ee[8]*de[2]]}static singularValueDecompose2dScale(ee){let de=[ee[0],ee[2],ee[1],ee[3]],je=ee[0]*de[0]+ee[1]*de[2],Be=ee[0]*de[1]+ee[1]*de[3],ut=ee[2]*de[0]+ee[3]*de[2],Ct=ee[2]*de[1]+ee[3]*de[3],Ht=(je+Ct)/2,Br=Math.sqrt((je+Ct)**2-4*(je*Ct-ut*Be))/2,Hn=Ht+Br||1,hr=Ht-Br||1;return[Math.sqrt(Hn),Math.sqrt(hr)]}static normalizeRect(ee){let de=ee.slice(0);return ee[0]>ee[2]&&(de[0]=ee[2],de[2]=ee[0]),ee[1]>ee[3]&&(de[1]=ee[3],de[3]=ee[1]),de}static intersect(ee,de){let je=Math.max(Math.min(ee[0],ee[2]),Math.min(de[0],de[2])),Be=Math.min(Math.max(ee[0],ee[2]),Math.max(de[0],de[2]));if(je>Be)return null;let ut=Math.max(Math.min(ee[1],ee[3]),Math.min(de[1],de[3])),Ct=Math.min(Math.max(ee[1],ee[3]),Math.max(de[1],de[3]));return ut>Ct?null:[je,ut,Be,Ct]}static bezierBoundingBox(ee,de,je,Be,ut,Ct,Ht,Br){let Hn=[],hr=[[],[]],ii,bn,xo,Qt,Gi,vi,os,_i;for(let oi=0;oi<2;++oi){if(oi===0?(bn=6*ee-12*je+6*ut,ii=-3*ee+9*je-9*ut+3*Ht,xo=3*je-3*ee):(bn=6*de-12*Be+6*Ct,ii=-3*de+9*Be-9*Ct+3*Br,xo=3*Be-3*de),Math.abs(ii)<1e-12){if(Math.abs(bn)<1e-12)continue;Qt=-xo/bn,0<Qt&&Qt<1&&Hn.push(Qt);continue}os=bn*bn-4*xo*ii,_i=Math.sqrt(os),!(os<0)&&(Gi=(-bn+_i)/(2*ii),0<Gi&&Gi<1&&Hn.push(Gi),vi=(-bn-_i)/(2*ii),0<vi&&vi<1&&Hn.push(vi))}let Wi=Hn.length,pr,Wr=Wi;for(;Wi--;)Qt=Hn[Wi],pr=1-Qt,hr[0][Wi]=pr*pr*pr*ee+3*pr*pr*Qt*je+3*pr*Qt*Qt*ut+Qt*Qt*Qt*Ht,hr[1][Wi]=pr*pr*pr*de+3*pr*pr*Qt*Be+3*pr*Qt*Qt*Ct+Qt*Qt*Qt*Br;return hr[0][Wr]=ee,hr[1][Wr]=de,hr[0][Wr+1]=Ht,hr[1][Wr+1]=Br,hr[0].length=hr[1].length=Wr+2,[Math.min(...hr[0]),Math.min(...hr[1]),Math.max(...hr[0]),Math.max(...hr[1])]}}e.Util=oe;let Ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function xe(pe){if(pe[0]>="\xEF"){let de;if(pe[0]==="\xFE"&&pe[1]==="\xFF"?de="utf-16be":pe[0]==="\xFF"&&pe[1]==="\xFE"?de="utf-16le":pe[0]==="\xEF"&&pe[1]==="\xBB"&&pe[2]==="\xBF"&&(de="utf-8"),de)try{let je=new TextDecoder(de,{fatal:!0}),Be=Z(pe);return je.decode(Be)}catch(je){Y(`stringToPDFString: "${je}".`)}}let ee=[];for(let de=0,je=pe.length;de<je;de++){let Be=Ee[pe.charCodeAt(de)];ee.push(Be?String.fromCharCode(Be):pe.charAt(de))}return ee.join("")}function K(pe){return pe.replace(/([()\\\n\r])/g,ee=>ee===`
`?"\\n":ee==="\r"?"\\r":`\\${ee}`)}function ie(pe){return/^[\x00-\x7F]*$/.test(pe)}function be(pe){let ee=["\xFE\xFF"];for(let de=0,je=pe.length;de<je;de++){let Be=pe.charCodeAt(de);ee.push(String.fromCharCode(Be>>8&255),String.fromCharCode(Be&255))}return ee.join("")}function Ce(pe){return decodeURIComponent(escape(pe))}function Le(pe){return unescape(encodeURIComponent(pe))}function Ke(pe){return typeof pe=="object"&&pe!==null&&pe.byteLength!==void 0}function ze(pe,ee){if(pe.length!==ee.length)return!1;for(let de=0,je=pe.length;de<je;de++)if(pe[de]!==ee[de])return!1;return!0}function Ve(pe=new Date){return[pe.getUTCFullYear().toString(),(pe.getUTCMonth()+1).toString().padStart(2,"0"),pe.getUTCDate().toString().padStart(2,"0"),pe.getUTCHours().toString().padStart(2,"0"),pe.getUTCMinutes().toString().padStart(2,"0"),pe.getUTCSeconds().toString().padStart(2,"0")].join("")}function qe(){let pe=Object.create(null),ee=!1;return Object.defineProperty(pe,"settled",{get(){return ee}}),pe.promise=new Promise(function(de,je){pe.resolve=function(Be){ee=!0,de(Be)},pe.reject=function(Be){ee=!0,je(Be)}}),pe}},(n,e,t)=>{var r=t(3)},(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;let t=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=t},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var n,t,r,i,o,s,l,f,u,dm,y;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){let{NodeCanvasFactory:v,NodeCMapReaderFactory:p,NodeStandardFontDataFactory:h}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=v,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=p,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=h}let createPDFNetworkStream;function setPDFNetworkStreamFactory(v){createPDFNetworkStream=v}function getDocument(v){let p=new PDFDocumentLoadingTask,h;if(typeof v=="string"||v instanceof URL)h={url:v};else if((0,_util.isArrayBuffer)(v))h={data:v};else if(v instanceof PDFDataRangeTransport)h={range:v};else{if(typeof v!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!v.url&&!v.data&&!v.range)throw new Error("Invalid parameter object: need either .data, .range or .url");h=v}let c=Object.create(null),g=null,w=null;for(let E in h){let b=h[E];switch(E){case"url":if(typeof window<"u")try{c[E]=new URL(b,window.location).href;continue}catch(C){(0,_util.warn)(`Cannot create valid URL: "${C}".`)}else if(typeof b=="string"||b instanceof URL){c[E]=b.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":g=b;continue;case"worker":w=b;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&b instanceof Buffer)c[E]=new Uint8Array(b);else{if(b instanceof Uint8Array)break;if(typeof b=="string")c[E]=(0,_util.stringToBytes)(b);else if(typeof b=="object"&&b!==null&&!isNaN(b.length))c[E]=new Uint8Array(b);else if((0,_util.isArrayBuffer)(b))c[E]=new Uint8Array(b);else throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.")}continue}c[E]=b}if(c.CMapReaderFactory=c.CMapReaderFactory||DefaultCMapReaderFactory,c.StandardFontDataFactory=c.StandardFontDataFactory||DefaultStandardFontDataFactory,c.ignoreErrors=c.stopAtErrors!==!0,c.fontExtraProperties=c.fontExtraProperties===!0,c.pdfBug=c.pdfBug===!0,c.enableXfa=c.enableXfa===!0,(!Number.isInteger(c.rangeChunkSize)||c.rangeChunkSize<1)&&(c.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof c.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(c.docBaseUrl))&&(c.docBaseUrl=null),(!Number.isInteger(c.maxImageSize)||c.maxImageSize<-1)&&(c.maxImageSize=-1),typeof c.cMapUrl!="string"&&(c.cMapUrl=null),typeof c.standardFontDataUrl!="string"&&(c.standardFontDataUrl=null),typeof c.useWorkerFetch!="boolean"&&(c.useWorkerFetch=c.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&c.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof c.isEvalSupported!="boolean"&&(c.isEvalSupported=!0),typeof c.disableFontFace!="boolean"&&(c.disableFontFace=_is_node.isNodeJS),typeof c.useSystemFonts!="boolean"&&(c.useSystemFonts=!_is_node.isNodeJS&&!c.disableFontFace),(typeof c.ownerDocument!="object"||c.ownerDocument===null)&&(c.ownerDocument=globalThis.document),typeof c.disableRange!="boolean"&&(c.disableRange=!1),typeof c.disableStream!="boolean"&&(c.disableStream=!1),typeof c.disableAutoFetch!="boolean"&&(c.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(c.verbosity),!w){let E={verbosity:c.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};w=E.port?PDFWorker.fromPort(E):new PDFWorker(E),p._worker=w}let S=p.docId;return w.promise.then(function(){if(p.destroyed)throw new Error("Loading aborted");let E=_fetchDocument(w,c,g,S),b=new Promise(function(C){let M;g?M=new _transport_stream.PDFDataTransportStream({length:c.length,initialData:c.initialData,progressiveDone:c.progressiveDone,contentDispositionFilename:c.contentDispositionFilename,disableRange:c.disableRange,disableStream:c.disableStream},g):c.data||(M=createPDFNetworkStream({url:c.url,length:c.length,httpHeaders:c.httpHeaders,withCredentials:c.withCredentials,rangeChunkSize:c.rangeChunkSize,disableRange:c.disableRange,disableStream:c.disableStream})),C(M)});return Promise.all([E,b]).then(function([C,M]){if(p.destroyed)throw new Error("Loading aborted");let P=new _message_handler.MessageHandler(S,C,w.port),B=new WorkerTransport(P,p,M,c);p._transport=B,P.send("Ready",null)})}).catch(p._capability.reject),p}async function _fetchDocument(v,p,h,c){if(v.destroyed)throw new Error("Worker was destroyed");h&&(p.length=h.length,p.initialData=h.initialData,p.progressiveDone=h.progressiveDone,p.contentDispositionFilename=h.contentDispositionFilename);let g=await v.messageHandler.sendWithPromise("GetDocRequest",{docId:c,apiVersion:"2.14.305",source:{data:p.data,url:p.url,password:p.password,disableAutoFetch:p.disableAutoFetch,rangeChunkSize:p.rangeChunkSize,length:p.length},maxImageSize:p.maxImageSize,disableFontFace:p.disableFontFace,docBaseUrl:p.docBaseUrl,ignoreErrors:p.ignoreErrors,isEvalSupported:p.isEvalSupported,fontExtraProperties:p.fontExtraProperties,enableXfa:p.enableXfa,useSystemFonts:p.useSystemFonts,cMapUrl:p.useWorkerFetch?p.cMapUrl:null,standardFontDataUrl:p.useWorkerFetch?p.standardFontDataUrl:null});if(v.destroyed)throw new Error("Worker was destroyed");return g}let e=class e{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${jb(e,n)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var p;this.destroyed=!0,await((p=this._transport)==null?void 0:p.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};n=new WeakMap,Cr(e,n,0);let PDFDocumentLoadingTask=e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(p,h,c=!1,g=null){this.length=p,this.initialData=h,this.progressiveDone=c,this.contentDispositionFilename=g,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(p){this._rangeListeners.push(p)}addProgressListener(p){this._progressListeners.push(p)}addProgressiveReadListener(p){this._progressiveReadListeners.push(p)}addProgressiveDoneListener(p){this._progressiveDoneListeners.push(p)}onDataRange(p,h){for(let c of this._rangeListeners)c(p,h)}onDataProgress(p,h){this._readyCapability.promise.then(()=>{for(let c of this._progressListeners)c(p,h)})}onDataProgressiveRead(p){this._readyCapability.promise.then(()=>{for(let h of this._progressiveReadListeners)h(p)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let p of this._progressiveDoneListeners)p()})}transportReady(){this._readyCapability.resolve()}requestDataRange(p,h){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(p,h){this._pdfInfo=p,this._transport=h,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(p){return this._transport.getPage(p)}getPageIndex(p){return this._transport.getPageIndex(p)}getDestinations(){return this._transport.getDestinations()}getDestination(p){return this._transport.getDestination(p)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(p=!1){return this._transport.startCleanup(p||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(p,h,c,g,w=!1){this._pageIndex=p,this._pageInfo=h,this._ownerDocument=g,this._transport=c,this._stats=w?new _display_utils.StatTimer:null,this._pdfBug=w,this.commonObjs=c.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:p,rotation:h=this.rotate,offsetX:c=0,offsetY:g=0,dontFlip:w=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:p,rotation:h,offsetX:c,offsetY:g,dontFlip:w})}getAnnotations({intent:p="display"}={}){let h=this._transport.getRenderingIntent(p),c=this._annotationPromises.get(h.cacheKey);return c||(c=this._transport.getAnnotations(this._pageIndex,h.renderingIntent),this._annotationPromises.set(h.cacheKey,c),c=c.then(g=>{for(let w of g)w.titleObj!==void 0&&Object.defineProperty(w,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),w.titleObj.str}}),w.contentsObj!==void 0&&Object.defineProperty(w,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),w.contentsObj.str}});return g})),c}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}async getXfa(){var p;return((p=this._transport._htmlForXfa)==null?void 0:p.children[this._pageIndex])||null}render({canvasContext:p,viewport:h,intent:c="display",annotationMode:g=_util.AnnotationMode.ENABLE,transform:w=null,imageLayer:S=null,canvasFactory:E=null,background:b=null,optionalContentConfigPromise:C=null,annotationCanvasMap:M=null,pageColors:P=null}){var Y,X;((Y=arguments[0])==null?void 0:Y.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&g===_util.AnnotationMode.ENABLE&&(g=_util.AnnotationMode.ENABLE_FORMS)),((X=arguments[0])==null?void 0:X.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&g===_util.AnnotationMode.ENABLE&&(g=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");let B=this._transport.getRenderingIntent(c,g);this.pendingCleanup=!1,C||(C=this._transport.getOptionalContentConfig());let I=this._intentStates.get(B.cacheKey);I||(I=Object.create(null),this._intentStates.set(B.cacheKey,I)),I.streamReaderCancelTimeout&&(clearTimeout(I.streamReaderCancelTimeout),I.streamReaderCancelTimeout=null);let F=E||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),D=!!(B.renderingIntent&_util.RenderingIntentFlag.PRINT);I.displayReadyCapability||(I.displayReadyCapability=(0,_util.createPromiseCapability)(),I.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(B));let W=Q=>{I.renderTasks.delete(q),(this.cleanupAfterRender||D)&&(this.pendingCleanup=!0),this._tryCleanup(),Q?(q.capability.reject(Q),this._abortOperatorList({intentState:I,reason:Q instanceof Error?Q:new Error(Q)})):q.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},q=new InternalRenderTask({callback:W,params:{canvasContext:p,viewport:h,transform:w,imageLayer:S,background:b},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:M,operatorList:I.operatorList,pageIndex:this._pageIndex,canvasFactory:F,useRequestAnimationFrame:!D,pdfBug:this._pdfBug,pageColors:P});(I.renderTasks||=new Set).add(q);let G=q.task;return Promise.all([I.displayReadyCapability.promise,C]).then(([Q,se])=>{if(this.pendingCleanup){W();return}this._stats&&this._stats.time("Rendering"),q.initializeGraphics({transparency:Q,optionalContentConfig:se}),q.operatorListChanged()}).catch(W),G}getOperatorList({intent:p="display",annotationMode:h=_util.AnnotationMode.ENABLE}={}){function c(){w.operatorList.lastChunk&&(w.opListReadCapability.resolve(w.operatorList),w.renderTasks.delete(S))}let g=this._transport.getRenderingIntent(p,h,!0),w=this._intentStates.get(g.cacheKey);w||(w=Object.create(null),this._intentStates.set(g.cacheKey,w));let S;return w.opListReadCapability||(S=Object.create(null),S.operatorListChanged=c,w.opListReadCapability=(0,_util.createPromiseCapability)(),(w.renderTasks||=new Set).add(S),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(g)),w.opListReadCapability.promise}streamTextContent({disableCombineTextItems:p=!1,includeMarkedContent:h=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:p!==!0,includeMarkedContent:h===!0},{highWaterMark:100,size(g){return g.items.length}})}getTextContent(p={}){if(this._transport._htmlForXfa)return this.getXfa().then(c=>_xfa_text.XfaText.textContent(c));let h=this.streamTextContent(p);return new Promise(function(c,g){function w(){S.read().then(function({value:b,done:C}){if(C){c(E);return}Object.assign(E.styles,b.styles),E.items.push(...b.items),w()},g)}let S=h.getReader(),E={items:[],styles:Object.create(null)};w()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let p=[];for(let h of this._intentStates.values())if(this._abortOperatorList({intentState:h,reason:new Error("Page was destroyed."),force:!0}),!h.opListReadCapability)for(let c of h.renderTasks)p.push(c.completed),c.cancel();this.objs.clear();for(let h of this._bitmaps)h.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(p)}cleanup(p=!1){return this.pendingCleanup=!0,this._tryCleanup(p)}_tryCleanup(p=!1){if(!this.pendingCleanup)return!1;for(let{renderTasks:h,operatorList:c}of this._intentStates.values())if(h.size>0||!c.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,p&&this._stats&&(this._stats=new _display_utils.StatTimer);for(let h of this._bitmaps)h.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(p,h){let c=this._intentStates.get(h);c&&(this._stats&&this._stats.timeEnd("Page Request"),c.displayReadyCapability&&c.displayReadyCapability.resolve(p))}_renderPageChunk(p,h){for(let c=0,g=p.length;c<g;c++)h.operatorList.fnArray.push(p.fnArray[c]),h.operatorList.argsArray.push(p.argsArray[c]);h.operatorList.lastChunk=p.lastChunk;for(let c of h.renderTasks)c.operatorListChanged();p.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:p,cacheKey:h}){let g=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:p,cacheKey:h,annotationStorage:p&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),w=this._intentStates.get(h);w.streamReader=g;let S=()=>{g.read().then(({value:E,done:b})=>{if(b){w.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(E,w),S())},E=>{if(w.streamReader=null,!this._transport.destroyed){if(w.operatorList){w.operatorList.lastChunk=!0;for(let b of w.renderTasks)b.operatorListChanged();this._tryCleanup()}if(w.displayReadyCapability)w.displayReadyCapability.reject(E);else if(w.opListReadCapability)w.opListReadCapability.reject(E);else throw E}})};S()}_abortOperatorList({intentState:p,reason:h,force:c=!1}){if(p.streamReader){if(!c){if(p.renderTasks.size>0)return;if(h instanceof _display_utils.RenderingCancelledException){p.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:p,reason:h,force:!0}),p.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(p.streamReader.cancel(new _util.AbortException(h.message)).catch(()=>{}),p.streamReader=null,!this._transport.destroyed){for(let[g,w]of this._intentStates)if(w===p){this._intentStates.delete(g);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(p,h){let c={data:structuredClone(p,h)};this._deferred.then(()=>{for(let g of this._listeners)g.call(this,c)})}addEventListener(p,h){this._listeners.push(h)}removeEventListener(p,h){let c=this._listeners.indexOf(h);this._listeners.splice(c,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof Pu=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){let v=(t=document==null?void 0:document.currentScript)==null?void 0:t.src;v&&(PDFWorkerUtil.fallbackWorkerSrc=v.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(v,p){let h;try{if(h=new URL(v),!h.origin||h.origin==="null")return!1}catch{return!1}let c=new URL(p,h);return h.origin===c.origin},PDFWorkerUtil.createCDNWrapper=function(v){let p=`importScripts("${v}");`;return URL.createObjectURL(new Blob([p]))}}let _PDFWorker=class _PDFWorker{constructor({name:v=null,port:p=null,verbosity:h=(0,_util.getVerbosityLevel)()}={}){if(p&&Lt(_PDFWorker,r).has(p))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=v,this.destroyed=!1,this.verbosity=h,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,p){Lt(_PDFWorker,r).set(p,this),this._initializeFromPort(p);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(v){this._port=v,this._messageHandler=new _message_handler.MessageHandler("main","worker",v),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let v=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,v)||(v=PDFWorkerUtil.createCDNWrapper(new URL(v,window.location).href));let p=new Worker(v),h=new _message_handler.MessageHandler("main","worker",p),c=()=>{p.removeEventListener("error",g),h.destroy(),p.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},g=()=>{this._webWorker||c()};p.addEventListener("error",g),h.on("test",S=>{if(p.removeEventListener("error",g),this.destroyed){c();return}S?(this._messageHandler=h,this._port=p,this._webWorker=p,this._readyCapability.resolve(),h.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),h.destroy(),p.terminate())}),h.on("ready",S=>{if(p.removeEventListener("error",g),this.destroyed){c();return}try{w()}catch{this._setupFakeWorker()}});let w=()=>{let S=new Uint8Array;h.send("test",S,[S.buffer])};w();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(v=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let p=new LoopbackPort;this._port=p;let h=`fake${PDFWorkerUtil.fakeWorkerId++}`,c=new _message_handler.MessageHandler(h+"_worker",h,p);v.setup(c,p);let g=new _message_handler.MessageHandler(h,h+"_worker",p);this._messageHandler=g,this._readyCapability.resolve(),g.send("configure",{verbosity:this.verbosity})}).catch(v=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${v.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Lt(_PDFWorker,r).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(v){if(!(v!=null&&v.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Lt(this,r).has(v.port)?Lt(this,r).get(v.port):new _PDFWorker(v)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var v;try{return((v=globalThis.pdfjsWorker)==null?void 0:v.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){let loader=async()=>{let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof Pu=="function"){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};r=new WeakMap,Cr(_PDFWorker,r,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(p,h,c,g){Cr(this,i,null);Cr(this,o,new Map);Cr(this,s,new Map);Cr(this,l,null);this.messageHandler=p,this.loadingTask=h,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:h.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:g.ownerDocument,styleElement:g.styleElement}),this._params=g,g.useWorkerFetch||(this.CMapReaderFactory=new g.CMapReaderFactory({baseUrl:g.cMapUrl,isCompressed:g.cMapPacked}),this.StandardFontDataFactory=new g.StandardFontDataFactory({baseUrl:g.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=c,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Lt(this,i)}getRenderingIntent(p,h=_util.AnnotationMode.ENABLE,c=!1){let g=_util.RenderingIntentFlag.DISPLAY,w="";switch(p){case"any":g=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":g=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${p}`)}switch(h){case _util.AnnotationMode.DISABLE:g+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:g+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:g+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,w=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${h}`)}return c&&(g+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:g,cacheKey:`${g}_${w}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));let p=[];for(let c of Lt(this,o).values())p.push(c._destroy());Lt(this,o).clear(),Lt(this,s).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let h=this.messageHandler.sendWithPromise("Terminate",null);return p.push(h),Promise.all(p).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),eo(this,l,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:p,loadingTask:h}=this;p.on("GetReader",(c,g)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=w=>{this._lastProgress={loaded:w.loaded,total:w.total}},g.onPull=()=>{this._fullReader.read().then(function({value:w,done:S}){if(S){g.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(w),"GetReader - expected an ArrayBuffer."),g.enqueue(new Uint8Array(w),1,[w])}).catch(w=>{g.error(w)})},g.onCancel=w=>{this._fullReader.cancel(w),g.ready.catch(S=>{if(!this.destroyed)throw S})}}),p.on("ReaderHeadersReady",c=>{let g=(0,_util.createPromiseCapability)(),w=this._fullReader;return w.headersReady.then(()=>{var S;(!w.isStreamingSupported||!w.isRangeSupported)&&(this._lastProgress&&((S=h.onProgress)==null||S.call(h,this._lastProgress)),w.onProgress=E=>{var b;(b=h.onProgress)==null||b.call(h,{loaded:E.loaded,total:E.total})}),g.resolve({isStreamingSupported:w.isStreamingSupported,isRangeSupported:w.isRangeSupported,contentLength:w.contentLength})},g.reject),g.promise}),p.on("GetRangeReader",(c,g)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let w=this._networkStream.getRangeReader(c.begin,c.end);if(!w){g.close();return}g.onPull=()=>{w.read().then(function({value:S,done:E}){if(E){g.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(S),"GetRangeReader - expected an ArrayBuffer."),g.enqueue(new Uint8Array(S),1,[S])}).catch(S=>{g.error(S)})},g.onCancel=S=>{w.cancel(S),g.ready.catch(E=>{if(!this.destroyed)throw E})}}),p.on("GetDoc",({pdfInfo:c})=>{this._numPages=c.numPages,this._htmlForXfa=c.htmlForXfa,delete c.htmlForXfa,h._capability.resolve(new PDFDocumentProxy(c,this))}),p.on("DocException",function(c){let g;switch(c.name){case"PasswordException":g=new _util.PasswordException(c.message,c.code);break;case"InvalidPDFException":g=new _util.InvalidPDFException(c.message);break;case"MissingPDFException":g=new _util.MissingPDFException(c.message);break;case"UnexpectedResponseException":g=new _util.UnexpectedResponseException(c.message,c.status);break;case"UnknownErrorException":g=new _util.UnknownErrorException(c.message,c.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}h._capability.reject(g)}),p.on("PasswordRequest",c=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),h.onPassword){let g=w=>{w instanceof Error?this._passwordCapability.reject(w):this._passwordCapability.resolve({password:w})};try{h.onPassword(g,c.code)}catch(w){this._passwordCapability.reject(w)}}else this._passwordCapability.reject(new _util.PasswordException(c.message,c.code));return this._passwordCapability.promise}),p.on("DataLoaded",c=>{var g;(g=h.onProgress)==null||g.call(h,{loaded:c.length,total:c.length}),this.downloadInfoCapability.resolve(c)}),p.on("StartRenderPage",c=>{if(this.destroyed)return;Lt(this,o).get(c.pageIndex)._startRenderPage(c.transparency,c.cacheKey)}),p.on("commonobj",([c,g,w])=>{var S;if(!this.destroyed&&!this.commonObjs.has(c))switch(g){case"Font":let E=this._params;if("error"in w){let M=w.error;(0,_util.warn)(`Error during font loading: ${M}`),this.commonObjs.resolve(c,M);break}let b=null;E.pdfBug&&((S=globalThis.FontInspector)!=null&&S.enabled)&&(b={registerFont(M,P){globalThis.FontInspector.fontAdded(M,P)}});let C=new _font_loader.FontFaceObject(w,{isEvalSupported:E.isEvalSupported,disableFontFace:E.disableFontFace,ignoreErrors:E.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:b});this.fontLoader.bind(C).catch(M=>p.sendWithPromise("FontFallback",{id:c})).finally(()=>{!E.fontExtraProperties&&C.data&&(C.data=null),this.commonObjs.resolve(c,C)});break;case"FontPath":case"Image":this.commonObjs.resolve(c,w);break;default:throw new Error(`Got unknown common object type ${g}`)}}),p.on("obj",([c,g,w,S])=>{var b;if(this.destroyed)return;let E=Lt(this,o).get(g);if(!E.objs.has(c))switch(w){case"Image":E.objs.resolve(c,S);let C=8e6;if(S){let M;if(S.bitmap){let{bitmap:P,width:B,height:I}=S;M=B*I*4,E._bitmaps.add(P)}else M=((b=S.data)==null?void 0:b.length)||0;M>C&&(E.cleanupAfterRender=!0)}break;case"Pattern":E.objs.resolve(c,S);break;default:throw new Error(`Got unknown object type ${w}`)}}),p.on("DocProgress",c=>{var g;this.destroyed||(g=h.onProgress)==null||g.call(h,{loaded:c.loaded,total:c.total})}),p.on("DocStats",c=>{this.destroyed||eo(this,i,Object.freeze({streamTypes:Object.freeze(c.streamTypes),fontTypes:Object.freeze(c.fontTypes)}))}),p.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),p.on("FetchBuiltInCMap",c=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(c):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),p.on("FetchStandardFontData",c=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(c):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:p}){var h,c;this.destroyed||(c=(h=this.loadingTask).onUnsupportedFeature)==null||c.call(h,p)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(p){if(!Number.isInteger(p)||p<=0||p>this._numPages)return Promise.reject(new Error("Invalid page request."));let h=p-1,c=Lt(this,s).get(h);if(c)return c;let g=this.messageHandler.sendWithPromise("GetPage",{pageIndex:h}).then(w=>{if(this.destroyed)throw new Error("Transport destroyed");let S=new PDFPageProxy(h,w,this,this._params.ownerDocument,this._params.pdfBug);return Lt(this,o).set(h,S),S});return Lt(this,s).set(h,g),g}getPageIndex(p){return typeof p!="object"||p===null||!Number.isInteger(p.num)||p.num<0||!Number.isInteger(p.gen)||p.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:p.num,gen:p.gen})}getAnnotations(p,h){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:p,intent:h})}saveDocument(){var p;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((p=this._fullReader)==null?void 0:p.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(p){return typeof p!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:p})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(p){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:p})}getStructTree(p){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:p})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(p=>new _optional_content_config.OptionalContentConfig(p))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Lt(this,l)||eo(this,l,this.messageHandler.sendWithPromise("GetMetadata",null).then(p=>{var h,c;return{info:p[0],metadata:p[1]?new _metadata.Metadata(p[1]):null,contentDispositionFilename:((h=this._fullReader)==null?void 0:h.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(p=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(let h of Lt(this,o).values())if(!h.cleanup())throw new Error(`startCleanup: Page ${h.pageNumber} is currently rendering.`);this.commonObjs.clear(),p||this.fontLoader.clear(),eo(this,l,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){let p=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:p.disableAutoFetch,enableXfa:p.enableXfa})}}i=new WeakMap,o=new WeakMap,s=new WeakMap,l=new WeakMap;class PDFObjects{constructor(){Cr(this,u);Cr(this,f,Object.create(null))}get(p,h=null){if(h){let g=to(this,u,dm).call(this,p);return g.capability.promise.then(()=>h(g.data)),null}let c=Lt(this,f)[p];if(!(c!=null&&c.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${p}.`);return c.data}has(p){let h=Lt(this,f)[p];return(h==null?void 0:h.capability.settled)||!1}resolve(p,h=null){let c=to(this,u,dm).call(this,p);c.data=h,c.capability.resolve()}clear(){eo(this,f,Object.create(null))}}f=new WeakMap,u=new WeakSet,dm=function(p){let h=Lt(this,f)[p];return h||(Lt(this,f)[p]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(p){this._internalRenderTask=p,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;let _=class _{constructor({callback:p,params:h,objs:c,commonObjs:g,annotationCanvasMap:w,operatorList:S,pageIndex:E,canvasFactory:b,useRequestAnimationFrame:C=!1,pdfBug:M=!1,pageColors:P=null}){this.callback=p,this.params=h,this.objs=c,this.commonObjs=g,this.annotationCanvasMap=w,this.operatorListIdx=null,this.operatorList=S,this._pageIndex=E,this.canvasFactory=b,this._pdfBug=M,this.pageColors=P,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=C===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=h.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:p=!1,optionalContentConfig:h}){var b;if(this.cancelled)return;if(this._canvas){if(Lt(_,y).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Lt(_,y).add(this._canvas)}this._pdfBug&&((b=globalThis.StepperManager)!=null&&b.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:c,viewport:g,transform:w,imageLayer:S,background:E}=this.params;this.gfx=new _canvas.CanvasGraphics(c,this.commonObjs,this.objs,this.canvasFactory,S,h,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:w,viewport:g,transparency:p,background:E}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(p=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Lt(_,y).delete(this._canvas),this.callback(p||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&Lt(_,y).delete(this._canvas),this.callback())))}};y=new WeakMap,Cr(_,y,new WeakSet);let InternalRenderTask=_,version="2.14.305";exports.version=version;let build="eaaa8b4ad";exports.build=build},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=b,e.getFilenameFromUrl=c,e.getPdfFilenameFromUrl=g,e.getXfaPageViewport=P,e.isDataScheme=p,e.isPdfFile=h,e.isValidFetchUrl=S,e.loadScript=E;var r=t(6),i=t(1);let o="http://www.w3.org/2000/svg",B=class B{};Dc(B,"CSS",96),Dc(B,"PDF",72),Dc(B,"PDF_TO_CSS_UNITS",B.CSS/B.PDF);let s=B;e.PixelsPerInch=s;class l extends r.BaseCanvasFactory{constructor({ownerDocument:F=globalThis.document}={}){super(),this._document=F}_createCanvas(F,D){let W=this._document.createElement("canvas");return W.width=F,W.height=D,W}}e.DOMCanvasFactory=l;async function f(I,F=!1){if(S(I,document.baseURI)){let D=await fetch(I);if(!D.ok)throw new Error(D.statusText);return F?new Uint8Array(await D.arrayBuffer()):(0,i.stringToBytes)(await D.text())}return new Promise((D,W)=>{let q=new XMLHttpRequest;q.open("GET",I,!0),F&&(q.responseType="arraybuffer"),q.onreadystatechange=()=>{if(q.readyState===XMLHttpRequest.DONE){if(q.status===200||q.status===0){let G;if(F&&q.response?G=new Uint8Array(q.response):!F&&q.responseText&&(G=(0,i.stringToBytes)(q.responseText)),G){D(G);return}}W(new Error(q.statusText))}},q.send(null)})}class u extends r.BaseCMapReaderFactory{_fetchData(F,D){return f(F,this.isCompressed).then(W=>({cMapData:W,compressionType:D}))}}e.DOMCMapReaderFactory=u;class m extends r.BaseStandardFontDataFactory{_fetchData(F){return f(F,!0)}}e.DOMStandardFontDataFactory=m;class y extends r.BaseSVGFactory{_createSVG(F){return document.createElementNS(o,F)}}e.DOMSVGFactory=y;class _{constructor({viewBox:F,scale:D,rotation:W,offsetX:q=0,offsetY:G=0,dontFlip:Y=!1}){this.viewBox=F,this.scale=D,this.rotation=W,this.offsetX=q,this.offsetY=G;let X=(F[2]+F[0])/2,Q=(F[3]+F[1])/2,se,ve,ce,z;switch(W%=360,W<0&&(W+=360),W){case 180:se=-1,ve=0,ce=0,z=1;break;case 90:se=0,ve=1,ce=1,z=0;break;case 270:se=0,ve=-1,ce=-1,z=0;break;case 0:se=1,ve=0,ce=0,z=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Y&&(ce=-ce,z=-z);let H,R,x,T;se===0?(H=Math.abs(Q-F[1])*D+q,R=Math.abs(X-F[0])*D+G,x=Math.abs(F[3]-F[1])*D,T=Math.abs(F[2]-F[0])*D):(H=Math.abs(X-F[0])*D+q,R=Math.abs(Q-F[1])*D+G,x=Math.abs(F[2]-F[0])*D,T=Math.abs(F[3]-F[1])*D),this.transform=[se*D,ve*D,ce*D,z*D,H-se*D*X-ce*D*Q,R-ve*D*X-z*D*Q],this.width=x,this.height=T}clone({scale:F=this.scale,rotation:D=this.rotation,offsetX:W=this.offsetX,offsetY:q=this.offsetY,dontFlip:G=!1}={}){return new _({viewBox:this.viewBox.slice(),scale:F,rotation:D,offsetX:W,offsetY:q,dontFlip:G})}convertToViewportPoint(F,D){return i.Util.applyTransform([F,D],this.transform)}convertToViewportRectangle(F){let D=i.Util.applyTransform([F[0],F[1]],this.transform),W=i.Util.applyTransform([F[2],F[3]],this.transform);return[D[0],D[1],W[0],W[1]]}convertToPdfPoint(F,D){return i.Util.applyInverseTransform([F,D],this.transform)}}e.PageViewport=_;class v extends i.BaseException{constructor(F,D){super(F,"RenderingCancelledException"),this.type=D}}e.RenderingCancelledException=v;function p(I){let F=I.length,D=0;for(;D<F&&I[D].trim()==="";)D++;return I.substring(D,D+5).toLowerCase()==="data:"}function h(I){return typeof I=="string"&&/\.pdf$/i.test(I)}function c(I){let F=I.indexOf("#"),D=I.indexOf("?"),W=Math.min(F>0?F:I.length,D>0?D:I.length);return I.substring(I.lastIndexOf("/",W)+1,W)}function g(I,F="document.pdf"){if(typeof I!="string")return F;if(p(I))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),F;let D=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,W=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,q=D.exec(I),G=W.exec(q[1])||W.exec(q[2])||W.exec(q[3]);if(G&&(G=G[0],G.includes("%")))try{G=W.exec(decodeURIComponent(G))[0]}catch{}return G||F}class w{constructor(){this.started=Object.create(null),this.times=[]}time(F){F in this.started&&(0,i.warn)(`Timer is already running for ${F}`),this.started[F]=Date.now()}timeEnd(F){F in this.started||(0,i.warn)(`Timer has not been started for ${F}`),this.times.push({name:F,start:this.started[F],end:Date.now()}),delete this.started[F]}toString(){let F=[],D=0;for(let W of this.times){let q=W.name;q.length>D&&(D=q.length)}for(let W of this.times){let q=W.end-W.start;F.push(`${W.name.padEnd(D)} ${q}ms
`)}return F.join("")}}e.StatTimer=w;function S(I,F){try{let{protocol:D}=F?new URL(I,F):new URL(I);return D==="http:"||D==="https:"}catch{return!1}}function E(I,F=!1){return new Promise((D,W)=>{let q=document.createElement("script");q.src=I,q.onload=function(G){F&&q.remove(),D(G)},q.onerror=function(){W(new Error(`Cannot load script at: ${q.src}`))},(document.head||document.documentElement).appendChild(q)})}function b(I){console.log("Deprecated API usage: "+I)}let C;class M{static toDateObject(F){if(!F||typeof F!="string")return null;C||(C=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));let D=C.exec(F);if(!D)return null;let W=parseInt(D[1],10),q=parseInt(D[2],10);q=q>=1&&q<=12?q-1:0;let G=parseInt(D[3],10);G=G>=1&&G<=31?G:1;let Y=parseInt(D[4],10);Y=Y>=0&&Y<=23?Y:0;let X=parseInt(D[5],10);X=X>=0&&X<=59?X:0;let Q=parseInt(D[6],10);Q=Q>=0&&Q<=59?Q:0;let se=D[7]||"Z",ve=parseInt(D[8],10);ve=ve>=0&&ve<=23?ve:0;let ce=parseInt(D[9],10)||0;return ce=ce>=0&&ce<=59?ce:0,se==="-"?(Y+=ve,X+=ce):se==="+"&&(Y-=ve,X-=ce),new Date(Date.UTC(W,q,G,Y,X,Q))}}e.PDFDateString=M;function P(I,{scale:F=1,rotation:D=0}){let{width:W,height:q}=I.attributes.style,G=[0,0,parseInt(W),parseInt(q)];return new _({viewBox:G,scale:F,rotation:D})}},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var r=t(1);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(u,m){if(u<=0||m<=0)throw new Error("Invalid canvas size");let y=this._createCanvas(u,m);return{canvas:y,context:y.getContext("2d")}}reset(u,m,y){if(!u.canvas)throw new Error("Canvas is not specified");if(m<=0||y<=0)throw new Error("Invalid canvas size");u.canvas.width=m,u.canvas.height=y}destroy(u){if(!u.canvas)throw new Error("Canvas is not specified");u.canvas.width=0,u.canvas.height=0,u.canvas=null,u.context=null}_createCanvas(u,m){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=i;class o{constructor({baseUrl:u=null,isCompressed:m=!1}){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=u,this.isCompressed=m}async fetch({name:u}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!u)throw new Error("CMap name must be specified.");let m=this.baseUrl+u+(this.isCompressed?".bcmap":""),y=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(m,y).catch(_=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${m}`)})}_fetchData(u,m){(0,r.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=o;class s{constructor({baseUrl:u=null}){this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=u}async fetch({filename:u}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!u)throw new Error("Font filename must be specified.");let m=`${this.baseUrl}${u}`;return this._fetchData(m).catch(y=>{throw new Error(`Unable to load font data at: ${m}`)})}_fetchData(u){(0,r.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=s;class l{constructor(){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(u,m){if(u<=0||m<=0)throw new Error("Invalid SVG dimensions");let y=this._createSVG("svg:svg");return y.setAttribute("version","1.1"),y.setAttribute("width",`${u}px`),y.setAttribute("height",`${m}px`),y.setAttribute("preserveAspectRatio","none"),y.setAttribute("viewBox",`0 0 ${u} ${m}`),y}createElement(u){if(typeof u!="string")throw new Error("Invalid SVG element type");return this._createSVG(u)}_createSVG(u){(0,r.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=l},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var r=t(1);class i{constructor({docId:f,onUnsupportedFeature:u,ownerDocument:m=globalThis.document,styleElement:y=null}){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseFontLoader."),this.docId=f,this._onUnsupportedFeature=u,this._document=m,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(f){this.nativeFontFaces.push(f),this._document.fonts.add(f)}insertRule(f){let u=this.styleElement;u||(u=this.styleElement=this._document.createElement("style"),u.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(u));let m=u.sheet;m.insertRule(f,m.cssRules.length)}clear(){for(let f of this.nativeFontFaces)this._document.fonts.delete(f);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(f){if(f.attached||f.missingFile)return;if(f.attached=!0,this.isFontLoadingAPISupported){let m=f.createNativeFontFace();if(m){this.addNativeFontFace(m);try{await m.loaded}catch(y){throw this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${m.family}': '${y}'.`),f.disableFontFace=!0,y}}return}let u=f.createFontFaceRule();if(u){if(this.insertRule(u),this.isSyncFontLoadingSupported)return;await new Promise(m=>{let y=this._queueLoadingCallback(m);this._prepareFontLoadEvent([u],[f],y)})}}_queueLoadingCallback(f){(0,r.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var u;let f=!!((u=this._document)!=null&&u.fonts);return(0,r.shadow)(this,"isFontLoadingAPISupported",f)}get isSyncFontLoadingSupported(){(0,r.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,r.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(f,u,m){(0,r.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let o;e.FontLoader=o,e.FontLoader=o=class extends i{constructor(f){super(f),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let f=!1;if(typeof navigator>"u")f=!0;else{let u=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(u==null?void 0:u[1])>=14&&(f=!0)}return(0,r.shadow)(this,"isSyncFontLoadingSupported",f)}_queueLoadingCallback(f){function u(){for((0,r.assert)(!y.done,"completeRequest() cannot be called twice."),y.done=!0;m.requests.length>0&&m.requests[0].done;){let _=m.requests.shift();setTimeout(_.callback,0)}}let m=this.loadingContext,y={id:`pdfjs-font-loading-${m.nextRequestId++}`,done:!1,complete:u,callback:f};return m.requests.push(y),y}get _loadTestFont(){let f=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,r.shadow)(this,"_loadTestFont",f())}_prepareFontLoadEvent(f,u,m){function y(W,q){return W.charCodeAt(q)<<24|W.charCodeAt(q+1)<<16|W.charCodeAt(q+2)<<8|W.charCodeAt(q+3)&255}function _(W,q,G,Y){let X=W.substring(0,q),Q=W.substring(q+G);return X+Y+Q}let v,p,h=this._document.createElement("canvas");h.width=1,h.height=1;let c=h.getContext("2d"),g=0;function w(W,q){if(g++,g>30){(0,r.warn)("Load test font never loaded."),q();return}if(c.font="30px "+W,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){q();return}setTimeout(w.bind(null,W,q))}let S=`lt${Date.now()}${this.loadTestFontId++}`,E=this._loadTestFont;E=_(E,976,S.length,S);let C=16,M=1482184792,P=y(E,C);for(v=0,p=S.length-3;v<p;v+=4)P=P-M+y(S,v)|0;v<S.length&&(P=P-M+y(S+"XXX",v)|0),E=_(E,C,4,(0,r.string32)(P));let B=`url(data:font/opentype;base64,${btoa(E)});`,I=`@font-face {font-family:"${S}";src:${B}}`;this.insertRule(I);let F=[];for(let W of u)F.push(W.loadedName);F.push(S);let D=this._document.createElement("div");D.style.visibility="hidden",D.style.width=D.style.height="10px",D.style.position="absolute",D.style.top=D.style.left="0px";for(let W of F){let q=this._document.createElement("span");q.textContent="Hi",q.style.fontFamily=W,D.appendChild(q)}this._document.body.appendChild(D),w(S,()=>{D.remove(),m.complete()})}};class s{constructor(f,{isEvalSupported:u=!0,disableFontFace:m=!1,ignoreErrors:y=!1,onUnsupportedFeature:_,fontRegistry:v=null}){this.compiledGlyphs=Object.create(null);for(let p in f)this[p]=f[p];this.isEvalSupported=u!==!1,this.disableFontFace=m===!0,this.ignoreErrors=y===!0,this._onUnsupportedFeature=_,this.fontRegistry=v}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let f;if(!this.cssFontInfo)f=new FontFace(this.loadedName,this.data,{});else{let u={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(u.style=`oblique ${this.cssFontInfo.italicAngle}deg`),f=new FontFace(this.cssFontInfo.fontFamily,this.data,u)}return this.fontRegistry&&this.fontRegistry.registerFont(this),f}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let f=(0,r.bytesToString)(this.data),u=`url(data:${this.mimetype};base64,${btoa(f)});`,m;if(!this.cssFontInfo)m=`@font-face {font-family:"${this.loadedName}";src:${u}}`;else{let y=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(y+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),m=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${y}src:${u}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,u),m}getPathGenerator(f,u){if(this.compiledGlyphs[u]!==void 0)return this.compiledGlyphs[u];let m;try{m=f.get(this.loadedName+"_path_"+u)}catch(y){if(!this.ignoreErrors)throw y;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${y}".`),this.compiledGlyphs[u]=function(_,v){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){let y=[];for(let _ of m){let v=_.args!==void 0?_.args.join(","):"";y.push("c.",_.cmd,"(",v,`);
`)}return this.compiledGlyphs[u]=new Function("c","size",y.join(""))}return this.compiledGlyphs[u]=function(y,_){for(let v of m)v.cmd==="scale"&&(v.args=[_,-_]),y[v.cmd].apply(y,v.args)}}}e.FontFaceObject=s},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationStorage=void 0;var r=t(9),i=t(1);class o{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(l,f){let u=this._storage.get(l);return u===void 0?f:Object.assign(f,u)}getRawValue(l){return this._storage.get(l)}setValue(l,f){let u=this._storage.get(l),m=!1;if(u!==void 0)for(let[y,_]of Object.entries(f))u[y]!==_&&(m=!0,u[y]=_);else m=!0,this._storage.set(l,f);m&&this._setModified()}getAll(){return this._storage.size>0?(0,i.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){let l=new r.MurmurHash3_64;for(let[f,u]of this._storage)l.update(`${f}:${JSON.stringify(u)}`);return l.hexdigest()}}e.AnnotationStorage=o},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var r=t(1);let i=3285377520,o=4294901760,s=65535;class l{constructor(u){this.h1=u?u&4294967295:i,this.h2=u?u&4294967295:i}update(u){let m,y;if(typeof u=="string"){m=new Uint8Array(u.length*2),y=0;for(let M=0,P=u.length;M<P;M++){let B=u.charCodeAt(M);B<=255?m[y++]=B:(m[y++]=B>>>8,m[y++]=B&255)}}else if((0,r.isArrayBuffer)(u))m=u.slice(),y=m.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let _=y>>2,v=y-_*4,p=new Uint32Array(m.buffer,0,_),h=0,c=0,g=this.h1,w=this.h2,S=3432918353,E=461845907,b=S&s,C=E&s;for(let M=0;M<_;M++)M&1?(h=p[M],h=h*S&o|h*b&s,h=h<<15|h>>>17,h=h*E&o|h*C&s,g^=h,g=g<<13|g>>>19,g=g*5+3864292196):(c=p[M],c=c*S&o|c*b&s,c=c<<15|c>>>17,c=c*E&o|c*C&s,w^=c,w=w<<13|w>>>19,w=w*5+3864292196);switch(h=0,v){case 3:h^=m[_*4+2]<<16;case 2:h^=m[_*4+1]<<8;case 1:h^=m[_*4],h=h*S&o|h*b&s,h=h<<15|h>>>17,h=h*E&o|h*C&s,_&1?g^=h:w^=h}this.h1=g,this.h2=w}hexdigest(){let u=this.h1,m=this.h2;u^=m>>>1,u=u*3981806797&o|u*36045&s,m=m*4283543511&o|((m<<16|u>>>16)*2950163797&o)>>>16,u^=m>>>1,u=u*444984403&o|u*60499&s,m=m*3301882366&o|((m<<16|u>>>16)*3120437893&o)>>>16,u^=m>>>1;let y=(u>>>0).toString(16),_=(m>>>0).toString(16);return y.padStart(8,"0")+_.padStart(8,"0")}}e.MurmurHash3_64=l},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var r=t(1),i=t(11),o=t(12),s=t(3),l=t(5);let f=16,u=100,m=4096,y=15,_=10,v=!0,p=1e3,h=16,c=1.000001;function g(z,H){if(z._removeMirroring)throw new Error("Context is already forwarding operations.");z.__originalSave=z.save,z.__originalRestore=z.restore,z.__originalRotate=z.rotate,z.__originalScale=z.scale,z.__originalTranslate=z.translate,z.__originalTransform=z.transform,z.__originalSetTransform=z.setTransform,z.__originalResetTransform=z.resetTransform,z.__originalClip=z.clip,z.__originalMoveTo=z.moveTo,z.__originalLineTo=z.lineTo,z.__originalBezierCurveTo=z.bezierCurveTo,z.__originalRect=z.rect,z.__originalClosePath=z.closePath,z.__originalBeginPath=z.beginPath,z._removeMirroring=()=>{z.save=z.__originalSave,z.restore=z.__originalRestore,z.rotate=z.__originalRotate,z.scale=z.__originalScale,z.translate=z.__originalTranslate,z.transform=z.__originalTransform,z.setTransform=z.__originalSetTransform,z.resetTransform=z.__originalResetTransform,z.clip=z.__originalClip,z.moveTo=z.__originalMoveTo,z.lineTo=z.__originalLineTo,z.bezierCurveTo=z.__originalBezierCurveTo,z.rect=z.__originalRect,z.closePath=z.__originalClosePath,z.beginPath=z.__originalBeginPath,delete z._removeMirroring},z.save=function(){H.save(),this.__originalSave()},z.restore=function(){H.restore(),this.__originalRestore()},z.translate=function(x,T){H.translate(x,T),this.__originalTranslate(x,T)},z.scale=function(x,T){H.scale(x,T),this.__originalScale(x,T)},z.transform=function(x,T,O,N,U,V){H.transform(x,T,O,N,U,V),this.__originalTransform(x,T,O,N,U,V)},z.setTransform=function(x,T,O,N,U,V){H.setTransform(x,T,O,N,U,V),this.__originalSetTransform(x,T,O,N,U,V)},z.resetTransform=function(){H.resetTransform(),this.__originalResetTransform()},z.rotate=function(x){H.rotate(x),this.__originalRotate(x)},z.clip=function(x){H.clip(x),this.__originalClip(x)},z.moveTo=function(R,x){H.moveTo(R,x),this.__originalMoveTo(R,x)},z.lineTo=function(R,x){H.lineTo(R,x),this.__originalLineTo(R,x)},z.bezierCurveTo=function(R,x,T,O,N,U){H.bezierCurveTo(R,x,T,O,N,U),this.__originalBezierCurveTo(R,x,T,O,N,U)},z.rect=function(R,x,T,O){H.rect(R,x,T,O),this.__originalRect(R,x,T,O)},z.closePath=function(){H.closePath(),this.__originalClosePath()},z.beginPath=function(){H.beginPath(),this.__originalBeginPath()}}function w(z){if(z._transformStack&&(z._transformStack=[]),!z.mozCurrentTransform){z._originalSave=z.save,z._originalRestore=z.restore,z._originalRotate=z.rotate,z._originalScale=z.scale,z._originalTranslate=z.translate,z._originalTransform=z.transform,z._originalSetTransform=z.setTransform,z._originalResetTransform=z.resetTransform,z._transformMatrix=z._transformMatrix||[1,0,0,1,0,0],z._transformStack=[];try{let H=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(z),"lineWidth");z._setLineWidth=H.set,z._getLineWidth=H.get,Object.defineProperty(z,"lineWidth",{set:function(x){this._setLineWidth(x*c)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(z,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(z,"mozCurrentTransformInverse",{get:function(){let[R,x,T,O,N,U]=this._transformMatrix,V=R*O-x*T,Z=x*T-R*O;return[O/V,x/Z,T/Z,R/V,(O*N-T*U)/Z,(x*N-R*U)/V]}}),z.save=function(){let R=this._transformMatrix;this._transformStack.push(R),this._transformMatrix=R.slice(0,6),this._originalSave()},z.restore=function(){this._transformStack.length===0&&(0,r.warn)("Tried to restore a ctx when the stack was already empty.");let R=this._transformStack.pop();R&&(this._transformMatrix=R,this._originalRestore())},z.translate=function(R,x){let T=this._transformMatrix;T[4]=T[0]*R+T[2]*x+T[4],T[5]=T[1]*R+T[3]*x+T[5],this._originalTranslate(R,x)},z.scale=function(R,x){let T=this._transformMatrix;T[0]*=R,T[1]*=R,T[2]*=x,T[3]*=x,this._originalScale(R,x)},z.transform=function(R,x,T,O,N,U){let V=this._transformMatrix;this._transformMatrix=[V[0]*R+V[2]*x,V[1]*R+V[3]*x,V[0]*T+V[2]*O,V[1]*T+V[3]*O,V[0]*N+V[2]*U+V[4],V[1]*N+V[3]*U+V[5]],z._originalTransform(R,x,T,O,N,U)},z.setTransform=function(R,x,T,O,N,U){this._transformMatrix=[R,x,T,O,N,U],z._originalSetTransform(R,x,T,O,N,U)},z.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],z._originalResetTransform()},z.rotate=function(R){let x=Math.cos(R),T=Math.sin(R),O=this._transformMatrix;this._transformMatrix=[O[0]*x+O[2]*T,O[1]*x+O[3]*T,O[0]*-T+O[2]*x,O[1]*-T+O[3]*x,O[4],O[5]],this._originalRotate(R)}}}class S{constructor(H){this.canvasFactory=H,this.cache=Object.create(null)}getCanvas(H,R,x,T){let O;return this.cache[H]!==void 0?(O=this.cache[H],this.canvasFactory.reset(O,R,x),O.context.setTransform(1,0,0,1,0,0)):(O=this.canvasFactory.create(R,x),this.cache[H]=O),T&&w(O.context),O}delete(H){delete this.cache[H]}clear(){for(let H in this.cache){let R=this.cache[H];this.canvasFactory.destroy(R),delete this.cache[H]}}}function E(z,H,R,x,T,O,N,U,V,Z){let[re,ne,ae,fe,he,Te]=z.mozCurrentTransform;if(ne===0&&ae===0){let ye=N*re+he,oe=Math.round(ye),Ee=U*fe+Te,xe=Math.round(Ee),K=(N+V)*re+he,ie=Math.abs(Math.round(K)-oe)||1,be=(U+Z)*fe+Te,Ce=Math.abs(Math.round(be)-xe)||1;return z.setTransform(Math.sign(re),0,0,Math.sign(fe),oe,xe),z.drawImage(H,R,x,T,O,0,0,ie,Ce),z.setTransform(re,ne,ae,fe,he,Te),[ie,Ce]}if(re===0&&fe===0){let ye=U*ae+he,oe=Math.round(ye),Ee=N*ne+Te,xe=Math.round(Ee),K=(U+Z)*ae+he,ie=Math.abs(Math.round(K)-oe)||1,be=(N+V)*ne+Te,Ce=Math.abs(Math.round(be)-xe)||1;return z.setTransform(0,Math.sign(ne),Math.sign(ae),0,oe,xe),z.drawImage(H,R,x,T,O,0,0,Ce,ie),z.setTransform(re,ne,ae,fe,he,Te),[Ce,ie]}z.drawImage(H,R,x,T,O,N,U,V,Z);let Ne=Math.hypot(re,ne),Se=Math.hypot(ae,fe);return[Ne*V,Se*Z]}function b(z){let{width:H,height:R}=z;if(!v||H>p||R>p)return null;let x=1e3,T=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),O=H+1,N=new Uint8Array(O*(R+1)),U,V,Z,re=H+7&-8,ne=new Uint8Array(re*R),ae=0;for(let oe of z.data){let Ee=128;for(;Ee>0;)ne[ae++]=oe&Ee?0:255,Ee>>=1}let fe=0;for(ae=0,ne[ae]!==0&&(N[0]=1,++fe),V=1;V<H;V++)ne[ae]!==ne[ae+1]&&(N[V]=ne[ae]?2:1,++fe),ae++;for(ne[ae]!==0&&(N[V]=2,++fe),U=1;U<R;U++){ae=U*re,Z=U*O,ne[ae-re]!==ne[ae]&&(N[Z]=ne[ae]?1:8,++fe);let oe=(ne[ae]?4:0)+(ne[ae-re]?8:0);for(V=1;V<H;V++)oe=(oe>>2)+(ne[ae+1]?4:0)+(ne[ae-re+1]?8:0),T[oe]&&(N[Z+V]=T[oe],++fe),ae++;if(ne[ae-re]!==ne[ae]&&(N[Z+V]=ne[ae]?2:4,++fe),fe>x)return null}for(ae=re*(R-1),Z=U*O,ne[ae]!==0&&(N[Z]=8,++fe),V=1;V<H;V++)ne[ae]!==ne[ae+1]&&(N[Z+V]=ne[ae]?4:8,++fe),ae++;if(ne[ae]!==0&&(N[Z+V]=4,++fe),fe>x)return null;let he=new Int32Array([0,O,-1,0,-O,0,0,0,1]),Te,Ne,Se;for(s.isNodeJS?Ne=[]:Te=new Path2D,U=0;fe&&U<=R;U++){let oe=U*O,Ee=oe+H;for(;oe<Ee&&!N[oe];)oe++;if(oe===Ee)continue;Te?Te.moveTo(oe%O,U):Se=[oe%O,U];let xe=oe,K=N[oe];do{let ie=he[K];do oe+=ie;while(!N[oe]);let be=N[oe];be!==5&&be!==10?(K=be,N[oe]=0):(K=be&51*K>>4,N[oe]&=K>>2|K<<2),Te?Te.lineTo(oe%O,oe/O|0):Se.push(oe%O,oe/O|0),N[oe]||--fe}while(xe!==oe);Te||Ne.push(Se),--U}return ne=null,N=null,function(oe){if(oe.save(),oe.scale(1/H,-1/R),oe.translate(0,-R),Te)oe.fill(Te);else{oe.beginPath();for(let Ee of Ne){oe.moveTo(Ee[0],Ee[1]);for(let xe=2,K=Ee.length;xe<K;xe+=2)oe.lineTo(Ee[xe],Ee[xe+1])}oe.fill()}oe.beginPath(),oe.restore()}}class C{constructor(H,R){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,H,R])}clone(){let H=Object.create(this);return H.clipBox=this.clipBox.slice(),H}setCurrentPoint(H,R){this.x=H,this.y=R}updatePathMinMax(H,R,x){[R,x]=r.Util.applyTransform([R,x],H),this.minX=Math.min(this.minX,R),this.minY=Math.min(this.minY,x),this.maxX=Math.max(this.maxX,R),this.maxY=Math.max(this.maxY,x)}updateRectMinMax(H,R){let x=r.Util.applyTransform(R,H),T=r.Util.applyTransform(R.slice(2),H);this.minX=Math.min(this.minX,x[0],T[0]),this.minY=Math.min(this.minY,x[1],T[1]),this.maxX=Math.max(this.maxX,x[0],T[0]),this.maxY=Math.max(this.maxY,x[1],T[1])}updateScalingPathMinMax(H,R){r.Util.scaleMinMax(H,R),this.minX=Math.min(this.minX,R[0]),this.maxX=Math.max(this.maxX,R[1]),this.minY=Math.min(this.minY,R[2]),this.maxY=Math.max(this.maxY,R[3])}updateCurvePathMinMax(H,R,x,T,O,N,U,V,Z,re){let ne=r.Util.bezierBoundingBox(R,x,T,O,N,U,V,Z);if(re){re[0]=Math.min(re[0],ne[0],ne[2]),re[1]=Math.max(re[1],ne[0],ne[2]),re[2]=Math.min(re[2],ne[1],ne[3]),re[3]=Math.max(re[3],ne[1],ne[3]);return}this.updateRectMinMax(H,ne)}getPathBoundingBox(H=i.PathType.FILL,R=null){let x=[this.minX,this.minY,this.maxX,this.maxY];if(H===i.PathType.STROKE){R||(0,r.unreachable)("Stroke bounding box must include transform.");let T=r.Util.singularValueDecompose2dScale(R),O=T[0]*this.lineWidth/2,N=T[1]*this.lineWidth/2;x[0]-=O,x[1]-=N,x[2]+=O,x[3]+=N}return x}updateClipFromPath(){let H=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(H||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(H){this.clipBox=H,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(H=i.PathType.FILL,R=null){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(H,R))}}function M(z,H,R=null){if(typeof ImageData<"u"&&H instanceof ImageData){z.putImageData(H,0,0);return}let x=H.height,T=H.width,O=x%h,N=(x-O)/h,U=O===0?N:N+1,V=z.createImageData(T,h),Z=0,re,ne=H.data,ae=V.data,fe,he,Te,Ne,Se,ye,oe,Ee;if(R)switch(R.length){case 1:Se=R[0],ye=R[0],oe=R[0],Ee=R[0];break;case 4:Se=R[0],ye=R[1],oe=R[2],Ee=R[3];break}if(H.kind===r.ImageKind.GRAYSCALE_1BPP){let xe=ne.byteLength,K=new Uint32Array(ae.buffer,0,ae.byteLength>>2),ie=K.length,be=T+7>>3,Ce=4294967295,Le=r.FeatureTest.isLittleEndian?4278190080:255;for(Ee&&Ee[0]===255&&Ee[255]===0&&([Ce,Le]=[Le,Ce]),fe=0;fe<U;fe++){for(Te=fe<N?h:O,re=0,he=0;he<Te;he++){let Ke=xe-Z,ze=0,Ve=Ke>be?T:Ke*8-7,qe=Ve&-8,pe=0,ee=0;for(;ze<qe;ze+=8)ee=ne[Z++],K[re++]=ee&128?Ce:Le,K[re++]=ee&64?Ce:Le,K[re++]=ee&32?Ce:Le,K[re++]=ee&16?Ce:Le,K[re++]=ee&8?Ce:Le,K[re++]=ee&4?Ce:Le,K[re++]=ee&2?Ce:Le,K[re++]=ee&1?Ce:Le;for(;ze<Ve;ze++)pe===0&&(ee=ne[Z++],pe=128),K[re++]=ee&pe?Ce:Le,pe>>=1}for(;re<ie;)K[re++]=0;z.putImageData(V,0,fe*h)}}else if(H.kind===r.ImageKind.RGBA_32BPP){let xe=!!(Se||ye||oe);for(he=0,Ne=T*h*4,fe=0;fe<N;fe++){if(ae.set(ne.subarray(Z,Z+Ne)),Z+=Ne,xe)for(let K=0;K<Ne;K+=4)Se&&(ae[K+0]=Se[ae[K+0]]),ye&&(ae[K+1]=ye[ae[K+1]]),oe&&(ae[K+2]=oe[ae[K+2]]);z.putImageData(V,0,he),he+=h}if(fe<U){if(Ne=T*O*4,ae.set(ne.subarray(Z,Z+Ne)),xe)for(let K=0;K<Ne;K+=4)Se&&(ae[K+0]=Se[ae[K+0]]),ye&&(ae[K+1]=ye[ae[K+1]]),oe&&(ae[K+2]=oe[ae[K+2]]);z.putImageData(V,0,he)}}else if(H.kind===r.ImageKind.RGB_24BPP){let xe=!!(Se||ye||oe);for(Te=h,Ne=T*Te,fe=0;fe<U;fe++){for(fe>=N&&(Te=O,Ne=T*Te),re=0,he=Ne;he--;)ae[re++]=ne[Z++],ae[re++]=ne[Z++],ae[re++]=ne[Z++],ae[re++]=255;if(xe)for(let K=0;K<re;K+=4)Se&&(ae[K+0]=Se[ae[K+0]]),ye&&(ae[K+1]=ye[ae[K+1]]),oe&&(ae[K+2]=oe[ae[K+2]]);z.putImageData(V,0,fe*h)}}else throw new Error(`bad image kind: ${H.kind}`)}function P(z,H){if(H.bitmap){z.drawImage(H.bitmap,0,0);return}let R=H.height,x=H.width,T=R%h,O=(R-T)/h,N=T===0?O:O+1,U=z.createImageData(x,h),V=0,Z=H.data,re=U.data;for(let ne=0;ne<N;ne++){let ae=ne<O?h:T;({srcPos:V}=(0,o.applyMaskImageData)({src:Z,srcPos:V,dest:re,width:x,height:ae})),z.putImageData(U,0,ne*h)}}function B(z,H){let R=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let x=0,T=R.length;x<T;x++){let O=R[x];z[O]!==void 0&&(H[O]=z[O])}z.setLineDash!==void 0&&(H.setLineDash(z.getLineDash()),H.lineDashOffset=z.lineDashOffset)}function I(z,H){z.strokeStyle=z.fillStyle=H||"#000000",z.fillRule="nonzero",z.globalAlpha=1,z.lineWidth=1,z.lineCap="butt",z.lineJoin="miter",z.miterLimit=10,z.globalCompositeOperation="source-over",z.font="10px sans-serif",z.setLineDash!==void 0&&(z.setLineDash([]),z.lineDashOffset=0)}function F(z,H,R,x){let T=z.length;for(let O=3;O<T;O+=4){let N=z[O];if(N===0)z[O-3]=H,z[O-2]=R,z[O-1]=x;else if(N<255){let U=255-N;z[O-3]=z[O-3]*N+H*U>>8,z[O-2]=z[O-2]*N+R*U>>8,z[O-1]=z[O-1]*N+x*U>>8}}}function D(z,H,R){let x=z.length,T=1/255;for(let O=3;O<x;O+=4){let N=R?R[z[O]]:z[O];H[O]=H[O]*N*T|0}}function W(z,H,R){let x=z.length;for(let T=3;T<x;T+=4){let O=z[T-3]*77+z[T-2]*152+z[T-1]*28;H[T]=R?H[T]*R[O>>8]>>8:H[T]*O>>16}}function q(z,H,R,x,T,O,N,U,V,Z,re){let ne=!!O,ae=ne?O[0]:0,fe=ne?O[1]:0,he=ne?O[2]:0,Te;T==="Luminosity"?Te=W:Te=D;let Se=Math.min(x,Math.ceil(1048576/R));for(let ye=0;ye<x;ye+=Se){let oe=Math.min(Se,x-ye),Ee=z.getImageData(U-Z,ye+(V-re),R,oe),xe=H.getImageData(U,ye+V,R,oe);ne&&F(Ee.data,ae,fe,he),Te(Ee.data,xe.data,N),H.putImageData(xe,U,ye+V)}}function G(z,H,R,x){let T=x[0],O=x[1],N=x[2]-T,U=x[3]-O;N===0||U===0||(q(H.context,R,N,U,H.subtype,H.backdrop,H.transferMap,T,O,H.offsetX,H.offsetY),z.save(),z.globalAlpha=1,z.globalCompositeOperation="source-over",z.setTransform(1,0,0,1,0,0),z.drawImage(R.canvas,0,0),z.restore())}function Y(z,H){let R=r.Util.singularValueDecompose2dScale(z);R[0]=Math.fround(R[0]),R[1]=Math.fround(R[1]);let x=Math.fround((globalThis.devicePixelRatio||1)*l.PixelsPerInch.PDF_TO_CSS_UNITS);return H!==void 0?H:R[0]<=x||R[1]<=x}let X=["butt","round","square"],Q=["miter","round","bevel"],se={},ve={};class ce{constructor(H,R,x,T,O,N,U,V){this.ctx=H,this.current=new C(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=R,this.objs=x,this.canvasFactory=T,this.imageLayer=O,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=N,this.cachedCanvases=new S(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=U,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(V==null?void 0:V.background)||null,this.foregroundColor=(V==null?void 0:V.foreground)||null,H&&w(H),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(H,R=null){return typeof H=="string"?H.startsWith("g_")?this.commonObjs.get(H):this.objs.get(H):R}beginDrawing({transform:H,viewport:R,transparency:x=!1,background:T=null}){let O=this.ctx.canvas.width,N=this.ctx.canvas.height,U=T||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;let V=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;let Z=this.backgroundColor=this.ctx.fillStyle,re=!0,ne=U;if(this.ctx.fillStyle=U,ne=this.ctx.fillStyle,re=typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne),V==="#000000"&&Z==="#ffffff"||V===Z||!re)this.foregroundColor=this.backgroundColor=null;else{let ae=parseInt(ne.slice(1),16),fe=(ae&&16711680)>>16,he=(ae&&65280)>>8,Te=ae&&255,Ne=ye=>(ye/=255,ye<=.03928?ye/12.92:((ye+.055)/1.055)**2.4),Se=Math.round(.2126*Ne(fe)+.7152*Ne(he)+.0722*Ne(Te));this.selectColor=(ye,oe,Ee)=>{let xe=.2126*Ne(ye)+.7152*Ne(oe)+.0722*Ne(Ee);return Math.round(xe)===Se?Z:V}}}if(this.ctx.fillStyle=this.backgroundColor||U,this.ctx.fillRect(0,0,O,N),this.ctx.restore(),x){let V=this.cachedCanvases.getCanvas("transparent",O,N,!0);this.compositeCtx=this.ctx,this.transparentCanvas=V.canvas,this.ctx=V.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),I(this.ctx,this.foregroundColor),H&&(this.ctx.transform.apply(this.ctx,H),this.outputScaleX=H[0],this.outputScaleY=H[0]),this.ctx.transform.apply(this.ctx,R.transform),this.viewportScale=R.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(H,R,x,T){let O=H.argsArray,N=H.fnArray,U=R||0,V=O.length;if(V===U)return U;let Z=V-U>_&&typeof x=="function",re=Z?Date.now()+y:0,ne=0,ae=this.commonObjs,fe=this.objs,he;for(;;){if(T!==void 0&&U===T.nextBreakPoint)return T.breakIt(U,x),U;if(he=N[U],he!==r.OPS.dependency)this[he].apply(this,O[U]);else for(let Te of O[U]){let Ne=Te.startsWith("g_")?ae:fe;if(!Ne.has(Te))return Ne.get(Te,x),U}if(U++,U===V)return U;if(Z&&++ne>_){if(Date.now()>re)return x(),U;ne=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let H of this._cachedBitmapsMap.values()){for(let R of H.values())typeof HTMLCanvasElement<"u"&&R instanceof HTMLCanvasElement&&(R.width=R.height=0);H.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(H,R){let x=H.width,T=H.height,O=Math.max(Math.hypot(R[0],R[1]),1),N=Math.max(Math.hypot(R[2],R[3]),1),U=x,V=T,Z="prescale1",re,ne;for(;O>2&&U>1||N>2&&V>1;){let ae=U,fe=V;O>2&&U>1&&(ae=Math.ceil(U/2),O/=U/ae),N>2&&V>1&&(fe=Math.ceil(V/2),N/=V/fe),re=this.cachedCanvases.getCanvas(Z,ae,fe,!1),ne=re.context,ne.clearRect(0,0,ae,fe),ne.drawImage(H,0,0,U,V,0,0,ae,fe),H=re.canvas,U=ae,V=fe,Z=Z==="prescale1"?"prescale2":"prescale1"}return{img:H,paintWidth:U,paintHeight:V}}_createMaskCanvas(H){let R=this.ctx,{width:x,height:T}=H,O=this.current.fillColor,N=this.current.patternFill,U=R.mozCurrentTransform,V,Z,re,ne;if((H.bitmap||H.data)&&H.count>1){let ie=H.bitmap||H.data.buffer,be=U.slice(0,4);Z=JSON.stringify(N?be:[be,O]),V=this._cachedBitmapsMap.get(ie),V||(V=new Map,this._cachedBitmapsMap.set(ie,V));let Ce=V.get(Z);if(Ce&&!N){let Le=Math.round(Math.min(U[0],U[2])+U[4]),Ke=Math.round(Math.min(U[1],U[3])+U[5]);return{canvas:Ce,offsetX:Le,offsetY:Ke}}re=Ce}re||(ne=this.cachedCanvases.getCanvas("maskCanvas",x,T,!1),P(ne.context,H));let ae=r.Util.transform(U,[1/x,0,0,-1/T,0,0]);ae=r.Util.transform(ae,[1,0,0,1,0,-T]);let fe=r.Util.applyTransform([0,0],ae),he=r.Util.applyTransform([x,T],ae),Te=r.Util.normalizeRect([fe[0],fe[1],he[0],he[1]]),Ne=Math.round(Te[2]-Te[0])||1,Se=Math.round(Te[3]-Te[1])||1,ye=this.cachedCanvases.getCanvas("fillCanvas",Ne,Se,!0),oe=ye.context,Ee=Math.min(fe[0],he[0]),xe=Math.min(fe[1],he[1]);oe.translate(-Ee,-xe),oe.transform.apply(oe,ae),re||(re=this._scaleImage(ne.canvas,oe.mozCurrentTransformInverse),re=re.img,V&&N&&V.set(Z,re)),oe.imageSmoothingEnabled=Y(oe.mozCurrentTransform,H.interpolate),E(oe,re,0,0,re.width,re.height,0,0,x,T),oe.globalCompositeOperation="source-in";let K=r.Util.transform(oe.mozCurrentTransformInverse,[1,0,0,1,-Ee,-xe]);return oe.fillStyle=N?O.getPattern(R,this,K,i.PathType.FILL):O,oe.fillRect(0,0,x,T),V&&!N&&(this.cachedCanvases.delete("fillCanvas"),V.set(Z,ye.canvas)),{canvas:ye.canvas,offsetX:Math.round(Ee),offsetY:Math.round(xe)}}setLineWidth(H){H!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=H,this.ctx.lineWidth=H}setLineCap(H){this.ctx.lineCap=X[H]}setLineJoin(H){this.ctx.lineJoin=Q[H]}setMiterLimit(H){this.ctx.miterLimit=H}setDash(H,R){let x=this.ctx;x.setLineDash!==void 0&&(x.setLineDash(H),x.lineDashOffset=R)}setRenderingIntent(H){}setFlatness(H){}setGState(H){for(let R=0,x=H.length;R<x;R++){let T=H[R],O=T[0],N=T[1];switch(O){case"LW":this.setLineWidth(N);break;case"LC":this.setLineCap(N);break;case"LJ":this.setLineJoin(N);break;case"ML":this.setMiterLimit(N);break;case"D":this.setDash(N[0],N[1]);break;case"RI":this.setRenderingIntent(N);break;case"FL":this.setFlatness(N);break;case"Font":this.setFont(N[0],N[1]);break;case"CA":this.current.strokeAlpha=T[1];break;case"ca":this.current.fillAlpha=T[1],this.ctx.globalAlpha=T[1];break;case"BM":this.ctx.globalCompositeOperation=N;break;case"SMask":this.current.activeSMask=N?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=N}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let H=this.inSMaskMode;this.current.activeSMask&&!H?this.beginSMaskMode():!this.current.activeSMask&&H&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let H=this.ctx.canvas.width,R=this.ctx.canvas.height,x="smaskGroupAt"+this.groupLevel,T=this.cachedCanvases.getCanvas(x,H,R,!0);this.suspendedCtx=this.ctx,this.ctx=T.context;let O=this.ctx;O.setTransform.apply(O,this.suspendedCtx.mozCurrentTransform),B(this.suspendedCtx,O),g(O,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),B(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(H){if(!this.current.activeSMask)return;H?(H[0]=Math.floor(H[0]),H[1]=Math.floor(H[1]),H[2]=Math.ceil(H[2]),H[3]=Math.ceil(H[3])):H=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let R=this.current.activeSMask,x=this.suspendedCtx;G(x,R,this.ctx,H),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(B(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let H=this.current;this.stateStack.push(H),this.current=H.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),B(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(H,R,x,T,O,N){this.ctx.transform(H,R,x,T,O,N),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(H,R,x){let T=this.ctx,O=this.current,N=O.x,U=O.y,V,Z,re=T.mozCurrentTransform,ne=re[0]===0&&re[3]===0||re[1]===0&&re[2]===0,ae=ne?x.slice(0):null;for(let fe=0,he=0,Te=H.length;fe<Te;fe++)switch(H[fe]|0){case r.OPS.rectangle:N=R[he++],U=R[he++];let Ne=R[he++],Se=R[he++],ye=N+Ne,oe=U+Se;T.moveTo(N,U),Ne===0||Se===0?T.lineTo(ye,oe):(T.lineTo(ye,U),T.lineTo(ye,oe),T.lineTo(N,oe)),ne||O.updateRectMinMax(re,[N,U,ye,oe]),T.closePath();break;case r.OPS.moveTo:N=R[he++],U=R[he++],T.moveTo(N,U),ne||O.updatePathMinMax(re,N,U);break;case r.OPS.lineTo:N=R[he++],U=R[he++],T.lineTo(N,U),ne||O.updatePathMinMax(re,N,U);break;case r.OPS.curveTo:V=N,Z=U,N=R[he+4],U=R[he+5],T.bezierCurveTo(R[he],R[he+1],R[he+2],R[he+3],N,U),O.updateCurvePathMinMax(re,V,Z,R[he],R[he+1],R[he+2],R[he+3],N,U,ae),he+=6;break;case r.OPS.curveTo2:V=N,Z=U,T.bezierCurveTo(N,U,R[he],R[he+1],R[he+2],R[he+3]),O.updateCurvePathMinMax(re,V,Z,N,U,R[he],R[he+1],R[he+2],R[he+3],ae),N=R[he+2],U=R[he+3],he+=4;break;case r.OPS.curveTo3:V=N,Z=U,N=R[he+2],U=R[he+3],T.bezierCurveTo(R[he],R[he+1],N,U,N,U),O.updateCurvePathMinMax(re,V,Z,R[he],R[he+1],N,U,N,U,ae),he+=4;break;case r.OPS.closePath:T.closePath();break}ne&&O.updateScalingPathMinMax(re,ae),O.setCurrentPoint(N,U)}closePath(){this.ctx.closePath()}stroke(H){H=typeof H<"u"?H:!0;let R=this.ctx,x=this.current.strokeColor;R.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof x=="object"&&(x!=null&&x.getPattern)?(R.save(),R.strokeStyle=x.getPattern(R,this,R.mozCurrentTransformInverse,i.PathType.STROKE),this.rescaleAndStroke(!1),R.restore()):this.rescaleAndStroke(!0)),H&&this.consumePath(this.current.getClippedPathBoundingBox()),R.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(H){H=typeof H<"u"?H:!0;let R=this.ctx,x=this.current.fillColor,T=this.current.patternFill,O=!1;T&&(R.save(),R.fillStyle=x.getPattern(R,this,R.mozCurrentTransformInverse,i.PathType.FILL),O=!0);let N=this.current.getClippedPathBoundingBox();this.contentVisible&&N!==null&&(this.pendingEOFill?(R.fill("evenodd"),this.pendingEOFill=!1):R.fill()),O&&R.restore(),H&&this.consumePath(N)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=se}eoClip(){this.pendingClip=ve}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let H=this.pendingTextPaths,R=this.ctx;if(H===void 0){R.beginPath();return}R.save(),R.beginPath();for(let x=0;x<H.length;x++){let T=H[x];R.setTransform.apply(R,T.transform),R.translate(T.x,T.y),T.addToPath(R,T.fontSize)}R.restore(),R.clip(),R.beginPath(),delete this.pendingTextPaths}setCharSpacing(H){this.current.charSpacing=H}setWordSpacing(H){this.current.wordSpacing=H}setHScale(H){this.current.textHScale=H/100}setLeading(H){this.current.leading=-H}setFont(H,R){let x=this.commonObjs.get(H),T=this.current;if(!x)throw new Error(`Can't find font for ${H}`);if(T.fontMatrix=x.fontMatrix||r.FONT_IDENTITY_MATRIX,(T.fontMatrix[0]===0||T.fontMatrix[3]===0)&&(0,r.warn)("Invalid font matrix for font "+H),R<0?(R=-R,T.fontDirection=-1):T.fontDirection=1,this.current.font=x,this.current.fontSize=R,x.isType3Font)return;let O=x.loadedName||"sans-serif",N="normal";x.black?N="900":x.bold&&(N="bold");let U=x.italic?"italic":"normal",V=`"${O}", ${x.fallbackName}`,Z=R;R<f?Z=f:R>u&&(Z=u),this.current.fontSizeScale=R/Z,this.ctx.font=`${U} ${N} ${Z}px ${V}`}setTextRenderingMode(H){this.current.textRenderingMode=H}setTextRise(H){this.current.textRise=H}moveText(H,R){this.current.x=this.current.lineX+=H,this.current.y=this.current.lineY+=R}setLeadingMoveText(H,R){this.setLeading(-R),this.moveText(H,R)}setTextMatrix(H,R,x,T,O,N){this.current.textMatrix=[H,R,x,T,O,N],this.current.textMatrixScale=Math.hypot(H,R),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(H,R,x,T){let O=this.ctx,N=this.current,U=N.font,V=N.textRenderingMode,Z=N.fontSize/N.fontSizeScale,re=V&r.TextRenderingMode.FILL_STROKE_MASK,ne=!!(V&r.TextRenderingMode.ADD_TO_PATH_FLAG),ae=N.patternFill&&!U.missingFile,fe;(U.disableFontFace||ne||ae)&&(fe=U.getPathGenerator(this.commonObjs,H)),U.disableFontFace||ae?(O.save(),O.translate(R,x),O.beginPath(),fe(O,Z),T&&O.setTransform.apply(O,T),(re===r.TextRenderingMode.FILL||re===r.TextRenderingMode.FILL_STROKE)&&O.fill(),(re===r.TextRenderingMode.STROKE||re===r.TextRenderingMode.FILL_STROKE)&&O.stroke(),O.restore()):((re===r.TextRenderingMode.FILL||re===r.TextRenderingMode.FILL_STROKE)&&O.fillText(H,R,x),(re===r.TextRenderingMode.STROKE||re===r.TextRenderingMode.FILL_STROKE)&&O.strokeText(H,R,x)),ne&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:O.mozCurrentTransform,x:R,y:x,fontSize:Z,addToPath:fe})}get isFontSubpixelAAEnabled(){let{context:H}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);H.scale(1.5,1),H.fillText("I",0,10);let R=H.getImageData(0,0,10,10).data,x=!1;for(let T=3;T<R.length;T+=4)if(R[T]>0&&R[T]<255){x=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",x)}showText(H){let R=this.current,x=R.font;if(x.isType3Font)return this.showType3Text(H);let T=R.fontSize;if(T===0)return;let O=this.ctx,N=R.fontSizeScale,U=R.charSpacing,V=R.wordSpacing,Z=R.fontDirection,re=R.textHScale*Z,ne=H.length,ae=x.vertical,fe=ae?1:-1,he=x.defaultVMetrics,Te=T*R.fontMatrix[0],Ne=R.textRenderingMode===r.TextRenderingMode.FILL&&!x.disableFontFace&&!R.patternFill;O.save(),O.transform.apply(O,R.textMatrix),O.translate(R.x,R.y+R.textRise),Z>0?O.scale(re,-1):O.scale(re,1);let Se;if(R.patternFill){O.save();let K=R.fillColor.getPattern(O,this,O.mozCurrentTransformInverse,i.PathType.FILL);Se=O.mozCurrentTransform,O.restore(),O.fillStyle=K}let ye=R.lineWidth,oe=R.textMatrixScale;if(oe===0||ye===0){let K=R.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(K===r.TextRenderingMode.STROKE||K===r.TextRenderingMode.FILL_STROKE)&&(ye=this.getSinglePixelWidth())}else ye/=oe;N!==1&&(O.scale(N,N),ye/=N),O.lineWidth=ye;let Ee=0,xe;for(xe=0;xe<ne;++xe){let K=H[xe];if(typeof K=="number"){Ee+=fe*K*T/1e3;continue}let ie=!1,be=(K.isSpace?V:0)+U,Ce=K.fontChar,Le=K.accent,Ke,ze,Ve=K.width;if(ae){let pe=K.vmetric||he,ee=-(K.vmetric?pe[1]:Ve*.5)*Te,de=pe[2]*Te;Ve=pe?-pe[0]:Ve,Ke=ee/N,ze=(Ee+de)/N}else Ke=Ee/N,ze=0;if(x.remeasure&&Ve>0){let pe=O.measureText(Ce).width*1e3/T*N;if(Ve<pe&&this.isFontSubpixelAAEnabled){let ee=Ve/pe;ie=!0,O.save(),O.scale(ee,1),Ke/=ee}else Ve!==pe&&(Ke+=(Ve-pe)/2e3*T/N)}if(this.contentVisible&&(K.isInFont||x.missingFile)){if(Ne&&!Le)O.fillText(Ce,Ke,ze);else if(this.paintChar(Ce,Ke,ze,Se),Le){let pe=Ke+T*Le.offset.x/N,ee=ze-T*Le.offset.y/N;this.paintChar(Le.fontChar,pe,ee,Se)}}let qe;ae?qe=Ve*Te-be*Z:qe=Ve*Te+be*Z,Ee+=qe,ie&&O.restore()}ae?R.y-=Ee:R.x+=Ee*re,O.restore(),this.compose()}showType3Text(H){let R=this.ctx,x=this.current,T=x.font,O=x.fontSize,N=x.fontDirection,U=T.vertical?1:-1,V=x.charSpacing,Z=x.wordSpacing,re=x.textHScale*N,ne=x.fontMatrix||r.FONT_IDENTITY_MATRIX,ae=H.length,fe=x.textRenderingMode===r.TextRenderingMode.INVISIBLE,he,Te,Ne,Se;if(!(fe||O===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,R.save(),R.transform.apply(R,x.textMatrix),R.translate(x.x,x.y),R.scale(re,N),he=0;he<ae;++he){if(Te=H[he],typeof Te=="number"){Se=U*Te*O/1e3,this.ctx.translate(Se,0),x.x+=Se*re;continue}let ye=(Te.isSpace?Z:0)+V,oe=T.charProcOperatorList[Te.operatorListId];if(!oe){(0,r.warn)(`Type3 character "${Te.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Te,this.save(),R.scale(O,O),R.transform.apply(R,ne),this.executeOperatorList(oe),this.restore()),Ne=r.Util.applyTransform([Te.width,0],ne)[0]*O+ye,R.translate(Ne,0),x.x+=Ne*re}R.restore(),this.processingType3=null}}setCharWidth(H,R){}setCharWidthAndBounds(H,R,x,T,O,N){this.ctx.rect(x,T,O-x,N-T),this.ctx.clip(),this.endPath()}getColorN_Pattern(H){let R;if(H[0]==="TilingPattern"){let x=H[1],T=this.baseTransform||this.ctx.mozCurrentTransform.slice(),O={createCanvasGraphics:N=>new ce(N,this.commonObjs,this.objs,this.canvasFactory)};R=new i.TilingPattern(H,x,this.ctx,O,T)}else R=this._getPattern(H[1],H[2]);return R}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(H,R,x){var O;let T=((O=this.selectColor)==null?void 0:O.call(this,H,R,x))||r.Util.makeHexColor(H,R,x);this.ctx.strokeStyle=T,this.current.strokeColor=T}setFillRGBColor(H,R,x){var O;let T=((O=this.selectColor)==null?void 0:O.call(this,H,R,x))||r.Util.makeHexColor(H,R,x);this.ctx.fillStyle=T,this.current.fillColor=T,this.current.patternFill=!1}_getPattern(H,R=null){let x;return this.cachedPatterns.has(H)?x=this.cachedPatterns.get(H):(x=(0,i.getShadingPattern)(this.objs.get(H)),this.cachedPatterns.set(H,x)),R&&(x.matrix=R),x}shadingFill(H){if(!this.contentVisible)return;let R=this.ctx;this.save();let x=this._getPattern(H);R.fillStyle=x.getPattern(R,this,R.mozCurrentTransformInverse,i.PathType.SHADING);let T=R.mozCurrentTransformInverse;if(T){let O=R.canvas,N=O.width,U=O.height,V=r.Util.applyTransform([0,0],T),Z=r.Util.applyTransform([0,U],T),re=r.Util.applyTransform([N,0],T),ne=r.Util.applyTransform([N,U],T),ae=Math.min(V[0],Z[0],re[0],ne[0]),fe=Math.min(V[1],Z[1],re[1],ne[1]),he=Math.max(V[0],Z[0],re[0],ne[0]),Te=Math.max(V[1],Z[1],re[1],ne[1]);this.ctx.fillRect(ae,fe,he-ae,Te-fe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(H,R){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(H)&&H.length===6&&this.transform.apply(this,H),this.baseTransform=this.ctx.mozCurrentTransform,R)){let x=R[2]-R[0],T=R[3]-R[1];this.ctx.rect(R[0],R[1],x,T),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,R),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(H){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let R=this.ctx;H.isolated||(0,r.info)("TODO: Support non-isolated groups."),H.knockout&&(0,r.warn)("Knockout groups not supported.");let x=R.mozCurrentTransform;if(H.matrix&&R.transform.apply(R,H.matrix),!H.bbox)throw new Error("Bounding box is required.");let T=r.Util.getAxialAlignedBoundingBox(H.bbox,R.mozCurrentTransform),O=[0,0,R.canvas.width,R.canvas.height];T=r.Util.intersect(T,O)||[0,0,0,0];let N=Math.floor(T[0]),U=Math.floor(T[1]),V=Math.max(Math.ceil(T[2])-N,1),Z=Math.max(Math.ceil(T[3])-U,1),re=1,ne=1;V>m&&(re=V/m,V=m),Z>m&&(ne=Z/m,Z=m),this.current.startNewPathAndClipBox([0,0,V,Z]);let ae="groupAt"+this.groupLevel;H.smask&&(ae+="_smask_"+this.smaskCounter++%2);let fe=this.cachedCanvases.getCanvas(ae,V,Z,!0),he=fe.context;he.scale(1/re,1/ne),he.translate(-N,-U),he.transform.apply(he,x),H.smask?this.smaskStack.push({canvas:fe.canvas,context:he,offsetX:N,offsetY:U,scaleX:re,scaleY:ne,subtype:H.smask.subtype,backdrop:H.smask.backdrop,transferMap:H.smask.transferMap||null,startTransformInverse:null}):(R.setTransform(1,0,0,1,0,0),R.translate(N,U),R.scale(re,ne),R.save()),B(R,he),this.ctx=he,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(R),this.groupLevel++}endGroup(H){if(!this.contentVisible)return;this.groupLevel--;let R=this.ctx,x=this.groupStack.pop();if(this.ctx=x,this.ctx.imageSmoothingEnabled=!1,H.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let T=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,T);let O=r.Util.getAxialAlignedBoundingBox([0,0,R.canvas.width,R.canvas.height],T);this.ctx.drawImage(R.canvas,0,0),this.ctx.restore(),this.compose(O)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(H,R,x,T,O){if(this.save(),Array.isArray(R)&&R.length===4){let N=R[2]-R[0],U=R[3]-R[1];if(O&&this.annotationCanvasMap){x=x.slice(),x[4]-=R[0],x[5]-=R[1],R=R.slice(),R[0]=R[1]=0,R[2]=N,R[3]=U;let[V,Z]=r.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:re}=this,ne=Math.ceil(N*this.outputScaleX*re),ae=Math.ceil(U*this.outputScaleY*re);this.annotationCanvas=this.canvasFactory.create(ne,ae);let{canvas:fe,context:he}=this.annotationCanvas,Te=`var(--zoom-factor) * ${l.PixelsPerInch.PDF_TO_CSS_UNITS}`;fe.style.width=`calc(${N}px * ${Te})`,fe.style.height=`calc(${U}px * ${Te})`,this.annotationCanvasMap.set(H,fe),this.annotationCanvas.savedCtx=this.ctx,this.ctx=he,this.ctx.setTransform(V,0,0,-Z,0,U*Z),w(this.ctx),I(this.ctx,this.foregroundColor)}else I(this.ctx,this.foregroundColor),this.ctx.rect(R[0],R[1],N,U),this.ctx.clip(),this.endPath()}this.current=new C(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,x),this.transform.apply(this,T)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(H){if(!this.contentVisible)return;let R=H.count;H=this.getObject(H.data,H),H.count=R;let x=this.ctx,T=this.processingType3;if(T&&(T.compiled===void 0&&(T.compiled=b(H)),T.compiled)){T.compiled(x);return}let O=this._createMaskCanvas(H),N=O.canvas;x.save(),x.setTransform(1,0,0,1,0,0),x.drawImage(N,O.offsetX,O.offsetY),x.restore(),this.compose()}paintImageMaskXObjectRepeat(H,R,x=0,T=0,O,N){if(!this.contentVisible)return;H=this.getObject(H.data,H);let U=this.ctx;U.save();let V=U.mozCurrentTransform;U.transform(R,x,T,O,0,0);let Z=this._createMaskCanvas(H);U.setTransform(1,0,0,1,0,0);for(let re=0,ne=N.length;re<ne;re+=2){let ae=r.Util.transform(V,[R,x,T,O,N[re],N[re+1]]),[fe,he]=r.Util.applyTransform([0,0],ae);U.drawImage(Z.canvas,fe,he)}U.restore(),this.compose()}paintImageMaskXObjectGroup(H){if(!this.contentVisible)return;let R=this.ctx,x=this.current.fillColor,T=this.current.patternFill;for(let O=0,N=H.length;O<N;O++){let U=H[O],V=U.width,Z=U.height,re=this.cachedCanvases.getCanvas("maskCanvas",V,Z,!1),ne=re.context;ne.save(),P(ne,U),ne.globalCompositeOperation="source-in",ne.fillStyle=T?x.getPattern(ne,this,R.mozCurrentTransformInverse,i.PathType.FILL):x,ne.fillRect(0,0,V,Z),ne.restore(),R.save(),R.transform.apply(R,U.transform),R.scale(1,-1),E(R,re.canvas,0,0,V,Z,0,-1,1,1),R.restore()}this.compose()}paintImageXObject(H){if(!this.contentVisible)return;let R=this.getObject(H);if(!R){(0,r.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(R)}paintImageXObjectRepeat(H,R,x,T){if(!this.contentVisible)return;let O=this.getObject(H);if(!O){(0,r.warn)("Dependent image isn't ready yet");return}let N=O.width,U=O.height,V=[];for(let Z=0,re=T.length;Z<re;Z+=2)V.push({transform:[R,0,0,x,T[Z],T[Z+1]],x:0,y:0,w:N,h:U});this.paintInlineImageXObjectGroup(O,V)}paintInlineImageXObject(H){if(!this.contentVisible)return;let R=H.width,x=H.height,T=this.ctx;this.save(),T.scale(1/R,-1/x);let O;if(typeof HTMLElement=="function"&&H instanceof HTMLElement||!H.data)O=H;else{let Z=this.cachedCanvases.getCanvas("inlineImage",R,x,!1),re=Z.context;M(re,H,this.current.transferMaps),O=Z.canvas}let N=this._scaleImage(O,T.mozCurrentTransformInverse);T.imageSmoothingEnabled=Y(T.mozCurrentTransform,H.interpolate);let[U,V]=E(T,N.img,0,0,N.paintWidth,N.paintHeight,0,-x,R,x);if(this.imageLayer){let Z=this.getCanvasPosition(0,-x);this.imageLayer.appendImage({imgData:H,left:Z[0],top:Z[1],width:U,height:V})}this.compose(),this.restore()}paintInlineImageXObjectGroup(H,R){if(!this.contentVisible)return;let x=this.ctx,T=H.width,O=H.height,N=this.cachedCanvases.getCanvas("inlineImage",T,O,!1),U=N.context;M(U,H,this.current.transferMaps);for(let V=0,Z=R.length;V<Z;V++){let re=R[V];if(x.save(),x.transform.apply(x,re.transform),x.scale(1,-1),E(x,N.canvas,re.x,re.y,re.w,re.h,0,-1,1,1),this.imageLayer){let ne=this.getCanvasPosition(re.x,re.y);this.imageLayer.appendImage({imgData:H,left:ne[0],top:ne[1],width:T,height:O})}x.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(H){}markPointProps(H,R){}beginMarkedContent(H){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(H,R){H==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(R)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(H){let R=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(H);let x=this.ctx;this.pendingClip&&(R||(this.pendingClip===ve?x.clip("evenodd"):x.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),x.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let H=this.ctx.mozCurrentTransform;if(H[1]===0&&H[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(H[0]),Math.abs(H[3]));else{let R=Math.abs(H[0]*H[3]-H[2]*H[1]),x=Math.hypot(H[0],H[2]),T=Math.hypot(H[1],H[3]);this._cachedGetSinglePixelWidth=Math.max(x,T)/R}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){let{lineWidth:H}=this.current,R=this.ctx.mozCurrentTransform,x,T;if(R[1]===0&&R[2]===0){let O=Math.abs(R[0]),N=Math.abs(R[3]);if(H===0)x=1/O,T=1/N;else{let U=O*H,V=N*H;x=U<1?1/U:1,T=V<1?1/V:1}}else{let O=Math.abs(R[0]*R[3]-R[2]*R[1]),N=Math.hypot(R[0],R[1]),U=Math.hypot(R[2],R[3]);if(H===0)x=U/O,T=N/O;else{let V=H*O;x=U>V?U/V:1,T=N>V?N/V:1}}this._cachedScaleForStroking=[x,T]}return this._cachedScaleForStroking}rescaleAndStroke(H){let{ctx:R}=this,{lineWidth:x}=this.current,[T,O]=this.getScaleForStroking();if(R.lineWidth=x||1,T===1&&O===1){R.stroke();return}let N,U,V;H&&(N=R.mozCurrentTransform.slice(),U=R.getLineDash().slice(),V=R.lineDashOffset),R.scale(T,O);let Z=Math.max(T,O);R.setLineDash(R.getLineDash().map(re=>re/Z)),R.lineDashOffset/=Z,R.stroke(),H&&(R.setTransform(...N),R.setLineDash(U),R.lineDashOffset=V)}getCanvasPosition(H,R){let x=this.ctx.mozCurrentTransform;return[x[0]*H+x[2]*R+x[4],x[1]*H+x[3]*R+x[5]]}isContentVisible(){for(let H=this.markedContentStack.length-1;H>=0;H--)if(!this.markedContentStack[H].visible)return!1;return!0}}e.CanvasGraphics=ce;for(let z in r.OPS)ce.prototype[z]!==void 0&&(ce.prototype[r.OPS[z]]=ce.prototype[z])},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=v;var r=t(1),i=t(3);let o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=o;function s(c,g){if(!g||i.isNodeJS)return;let w=g[2]-g[0],S=g[3]-g[1],E=new Path2D;E.rect(g[0],g[1],w,S),c.clip(E)}class l{constructor(){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class f extends l{constructor(g){super(),this._type=g[1],this._bbox=g[2],this._colorStops=g[3],this._p0=g[4],this._p1=g[5],this._r0=g[6],this._r1=g[7],this.matrix=null}_createGradient(g){let w;this._type==="axial"?w=g.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(w=g.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let S of this._colorStops)w.addColorStop(S[0],S[1]);return w}getPattern(g,w,S,E){let b;if(E===o.STROKE||E===o.FILL){let C=w.current.getClippedPathBoundingBox(E,g.mozCurrentTransform)||[0,0,0,0],M=Math.ceil(C[2]-C[0])||1,P=Math.ceil(C[3]-C[1])||1,B=w.cachedCanvases.getCanvas("pattern",M,P,!0),I=B.context;I.clearRect(0,0,I.canvas.width,I.canvas.height),I.beginPath(),I.rect(0,0,I.canvas.width,I.canvas.height),I.translate(-C[0],-C[1]),S=r.Util.transform(S,[1,0,0,1,C[0],C[1]]),I.transform.apply(I,w.baseTransform),this.matrix&&I.transform.apply(I,this.matrix),s(I,this._bbox),I.fillStyle=this._createGradient(I),I.fill(),b=g.createPattern(B.canvas,"no-repeat");let F=new DOMMatrix(S);try{b.setTransform(F)}catch(D){(0,r.warn)(`RadialAxialShadingPattern.getPattern: "${D==null?void 0:D.message}".`)}}else s(g,this._bbox),b=this._createGradient(g);return b}}function u(c,g,w,S,E,b,C,M){let P=g.coords,B=g.colors,I=c.data,F=c.width*4,D;P[w+1]>P[S+1]&&(D=w,w=S,S=D,D=b,b=C,C=D),P[S+1]>P[E+1]&&(D=S,S=E,E=D,D=C,C=M,M=D),P[w+1]>P[S+1]&&(D=w,w=S,S=D,D=b,b=C,C=D);let W=(P[w]+g.offsetX)*g.scaleX,q=(P[w+1]+g.offsetY)*g.scaleY,G=(P[S]+g.offsetX)*g.scaleX,Y=(P[S+1]+g.offsetY)*g.scaleY,X=(P[E]+g.offsetX)*g.scaleX,Q=(P[E+1]+g.offsetY)*g.scaleY;if(q>=Q)return;let se=B[b],ve=B[b+1],ce=B[b+2],z=B[C],H=B[C+1],R=B[C+2],x=B[M],T=B[M+1],O=B[M+2],N=Math.round(q),U=Math.round(Q),V,Z,re,ne,ae,fe,he,Te;for(let Ne=N;Ne<=U;Ne++){if(Ne<Y){let xe;Ne<q?xe=0:xe=(q-Ne)/(q-Y),V=W-(W-G)*xe,Z=se-(se-z)*xe,re=ve-(ve-H)*xe,ne=ce-(ce-R)*xe}else{let xe;Ne>Q?xe=1:Y===Q?xe=0:xe=(Y-Ne)/(Y-Q),V=G-(G-X)*xe,Z=z-(z-x)*xe,re=H-(H-T)*xe,ne=R-(R-O)*xe}let Se;Ne<q?Se=0:Ne>Q?Se=1:Se=(q-Ne)/(q-Q),ae=W-(W-X)*Se,fe=se-(se-x)*Se,he=ve-(ve-T)*Se,Te=ce-(ce-O)*Se;let ye=Math.round(Math.min(V,ae)),oe=Math.round(Math.max(V,ae)),Ee=F*Ne+ye*4;for(let xe=ye;xe<=oe;xe++)Se=(V-xe)/(V-ae),Se<0?Se=0:Se>1&&(Se=1),I[Ee++]=Z-(Z-fe)*Se|0,I[Ee++]=re-(re-he)*Se|0,I[Ee++]=ne-(ne-Te)*Se|0,I[Ee++]=255}}function m(c,g,w){let S=g.coords,E=g.colors,b,C;switch(g.type){case"lattice":let M=g.verticesPerRow,P=Math.floor(S.length/M)-1,B=M-1;for(b=0;b<P;b++){let I=b*M;for(let F=0;F<B;F++,I++)u(c,w,S[I],S[I+1],S[I+M],E[I],E[I+1],E[I+M]),u(c,w,S[I+M+1],S[I+1],S[I+M],E[I+M+1],E[I+1],E[I+M])}break;case"triangles":for(b=0,C=S.length;b<C;b+=3)u(c,w,S[b],S[b+1],S[b+2],E[b],E[b+1],E[b+2]);break;default:throw new Error("illegal figure")}}class y extends l{constructor(g){super(),this._coords=g[2],this._colors=g[3],this._figures=g[4],this._bounds=g[5],this._bbox=g[7],this._background=g[8],this.matrix=null}_createMeshCanvas(g,w,S){let M=Math.floor(this._bounds[0]),P=Math.floor(this._bounds[1]),B=Math.ceil(this._bounds[2])-M,I=Math.ceil(this._bounds[3])-P,F=Math.min(Math.ceil(Math.abs(B*g[0]*1.1)),3e3),D=Math.min(Math.ceil(Math.abs(I*g[1]*1.1)),3e3),W=B/F,q=I/D,G={coords:this._coords,colors:this._colors,offsetX:-M,offsetY:-P,scaleX:1/W,scaleY:1/q},Y=F+2*2,X=D+2*2,Q=S.getCanvas("mesh",Y,X,!1),se=Q.context,ve=se.createImageData(F,D);if(w){let z=ve.data;for(let H=0,R=z.length;H<R;H+=4)z[H]=w[0],z[H+1]=w[1],z[H+2]=w[2],z[H+3]=255}for(let z of this._figures)m(ve,z,G);return se.putImageData(ve,2,2),{canvas:Q.canvas,offsetX:M-2*W,offsetY:P-2*q,scaleX:W,scaleY:q}}getPattern(g,w,S,E){s(g,this._bbox);let b;if(E===o.SHADING)b=r.Util.singularValueDecompose2dScale(g.mozCurrentTransform);else if(b=r.Util.singularValueDecompose2dScale(w.baseTransform),this.matrix){let M=r.Util.singularValueDecompose2dScale(this.matrix);b=[b[0]*M[0],b[1]*M[1]]}let C=this._createMeshCanvas(b,E===o.SHADING?null:this._background,w.cachedCanvases);return E!==o.SHADING&&(g.setTransform.apply(g,w.baseTransform),this.matrix&&g.transform.apply(g,this.matrix)),g.translate(C.offsetX,C.offsetY),g.scale(C.scaleX,C.scaleY),g.createPattern(C.canvas,"no-repeat")}}class _ extends l{getPattern(){return"hotpink"}}function v(c){switch(c[0]){case"RadialAxial":return new f(c);case"Mesh":return new y(c);case"Dummy":return new _}throw new Error(`Unknown IR type: ${c[0]}`)}let p={COLORED:1,UNCOLORED:2};class h{static get MAX_PATTERN_SIZE(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(g,w,S,E,b){this.operatorList=g[2],this.matrix=g[3]||[1,0,0,1,0,0],this.bbox=g[4],this.xstep=g[5],this.ystep=g[6],this.paintType=g[7],this.tilingType=g[8],this.color=w,this.ctx=S,this.canvasGraphicsFactory=E,this.baseTransform=b}createPatternCanvas(g){let w=this.operatorList,S=this.bbox,E=this.xstep,b=this.ystep,C=this.paintType,M=this.tilingType,P=this.color,B=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+M);let I=S[0],F=S[1],D=S[2],W=S[3],q=r.Util.singularValueDecompose2dScale(this.matrix),G=r.Util.singularValueDecompose2dScale(this.baseTransform),Y=[q[0]*G[0],q[1]*G[1]],X=this.getSizeAndScale(E,this.ctx.canvas.width,Y[0]),Q=this.getSizeAndScale(b,this.ctx.canvas.height,Y[1]),se=g.cachedCanvases.getCanvas("pattern",X.size,Q.size,!0),ve=se.context,ce=B.createCanvasGraphics(ve);ce.groupLevel=g.groupLevel,this.setFillAndStrokeStyleToContext(ce,C,P);let z=I,H=F,R=D,x=W;return I<0&&(z=0,R+=Math.abs(I)),F<0&&(H=0,x+=Math.abs(F)),ve.translate(-(X.scale*z),-(Q.scale*H)),ce.transform(X.scale,0,0,Q.scale,0,0),ve.save(),this.clipBbox(ce,z,H,R,x),ce.baseTransform=ce.ctx.mozCurrentTransform.slice(),ce.executeOperatorList(w),ce.endDrawing(),{canvas:se.canvas,scaleX:X.scale,scaleY:Q.scale,offsetX:z,offsetY:H}}getSizeAndScale(g,w,S){g=Math.abs(g);let E=Math.max(h.MAX_PATTERN_SIZE,w),b=Math.ceil(g*S);return b>=E?b=E:S=b/g,{scale:S,size:b}}clipBbox(g,w,S,E,b){let C=E-w,M=b-S;g.ctx.rect(w,S,C,M),g.current.updateRectMinMax(g.ctx.mozCurrentTransform,[w,S,E,b]),g.clip(),g.endPath()}setFillAndStrokeStyleToContext(g,w,S){let E=g.ctx,b=g.current;switch(w){case p.COLORED:let C=this.ctx;E.fillStyle=C.fillStyle,E.strokeStyle=C.strokeStyle,b.fillColor=C.fillStyle,b.strokeColor=C.strokeStyle;break;case p.UNCOLORED:let M=r.Util.makeHexColor(S[0],S[1],S[2]);E.fillStyle=M,E.strokeStyle=M,b.fillColor=M,b.strokeColor=M;break;default:throw new r.FormatError(`Unsupported paint type: ${w}`)}}getPattern(g,w,S,E){let b=S;E!==o.SHADING&&(b=r.Util.transform(b,w.baseTransform),this.matrix&&(b=r.Util.transform(b,this.matrix)));let C=this.createPatternCanvas(w),M=new DOMMatrix(b);M=M.translate(C.offsetX,C.offsetY),M=M.scale(1/C.scaleX,1/C.scaleY);let P=g.createPattern(C.canvas,"repeat");try{P.setTransform(M)}catch(B){(0,r.warn)(`TilingPattern.getPattern: "${B==null?void 0:B.message}".`)}return P}}e.TilingPattern=h},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=i;var r=t(1);function i({src:o,srcPos:s=0,dest:l,destPos:f=0,width:u,height:m,inverseDecode:y=!1}){let _=r.FeatureTest.isLittleEndian?4278190080:255,[v,p]=y?[0,_]:[_,0],h=u>>3,c=u&7,g=o.length;l=new Uint32Array(l.buffer);for(let w=0;w<m;w++){for(let E=s+h;s<E;s++){let b=s<g?o[s]:255;l[f++]=b&128?p:v,l[f++]=b&64?p:v,l[f++]=b&32?p:v,l[f++]=b&16?p:v,l[f++]=b&8?p:v,l[f++]=b&4?p:v,l[f++]=b&2?p:v,l[f++]=b&1?p:v}if(c===0)continue;let S=s<g?o[s++]:255;for(let E=0;E<c;E++)l[f++]=S&1<<7-E?p:v}return{srcPos:s,destPos:f}}},(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;let t=Object.create(null);e.GlobalWorkerOptions=t,t.workerPort=t.workerPort===void 0?null:t.workerPort,t.workerSrc=t.workerSrc===void 0?"":t.workerSrc},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var r=t(1);let i={UNKNOWN:0,DATA:1,ERROR:2},o={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function s(f){switch(f instanceof Error||typeof f=="object"&&f!==null||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),f.name){case"AbortException":return new r.AbortException(f.message);case"MissingPDFException":return new r.MissingPDFException(f.message);case"PasswordException":return new r.PasswordException(f.message,f.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(f.message,f.status);case"UnknownErrorException":return new r.UnknownErrorException(f.message,f.details);default:return new r.UnknownErrorException(f.message,f.toString())}}class l{constructor(u,m,y){this.sourceName=u,this.targetName=m,this.comObj=y,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=_=>{let v=_.data;if(v.targetName!==this.sourceName)return;if(v.stream){this._processStreamMessage(v);return}if(v.callback){let h=v.callbackId,c=this.callbackCapabilities[h];if(!c)throw new Error(`Cannot resolve callback ${h}`);if(delete this.callbackCapabilities[h],v.callback===i.DATA)c.resolve(v.data);else if(v.callback===i.ERROR)c.reject(s(v.reason));else throw new Error("Unexpected callback case");return}let p=this.actionHandler[v.action];if(!p)throw new Error(`Unknown action from worker: ${v.action}`);if(v.callbackId){let h=this.sourceName,c=v.sourceName;new Promise(function(g){g(p(v.data))}).then(function(g){y.postMessage({sourceName:h,targetName:c,callback:i.DATA,callbackId:v.callbackId,data:g})},function(g){y.postMessage({sourceName:h,targetName:c,callback:i.ERROR,callbackId:v.callbackId,reason:s(g)})});return}if(v.streamId){this._createStreamSink(v);return}p(v.data)},y.addEventListener("message",this._onComObjOnMessage)}on(u,m){let y=this.actionHandler;if(y[u])throw new Error(`There is already an actionName called "${u}"`);y[u]=m}send(u,m,y){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,data:m},y)}sendWithPromise(u,m,y){let _=this.callbackId++,v=(0,r.createPromiseCapability)();this.callbackCapabilities[_]=v;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,callbackId:_,data:m},y)}catch(p){v.reject(p)}return v.promise}sendWithStream(u,m,y,_){let v=this.streamId++,p=this.sourceName,h=this.targetName,c=this.comObj;return new ReadableStream({start:g=>{let w=(0,r.createPromiseCapability)();return this.streamControllers[v]={controller:g,startCall:w,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:p,targetName:h,action:u,streamId:v,data:m,desiredSize:g.desiredSize},_),w.promise},pull:g=>{let w=(0,r.createPromiseCapability)();return this.streamControllers[v].pullCall=w,c.postMessage({sourceName:p,targetName:h,stream:o.PULL,streamId:v,desiredSize:g.desiredSize}),w.promise},cancel:g=>{(0,r.assert)(g instanceof Error,"cancel must have a valid reason");let w=(0,r.createPromiseCapability)();return this.streamControllers[v].cancelCall=w,this.streamControllers[v].isClosed=!0,c.postMessage({sourceName:p,targetName:h,stream:o.CANCEL,streamId:v,reason:s(g)}),w.promise}},y)}_createStreamSink(u){let m=u.streamId,y=this.sourceName,_=u.sourceName,v=this.comObj,p=this,h=this.actionHandler[u.action],c={enqueue(g,w=1,S){if(this.isCancelled)return;let E=this.desiredSize;this.desiredSize-=w,E>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),v.postMessage({sourceName:y,targetName:_,stream:o.ENQUEUE,streamId:m,chunk:g},S)},close(){this.isCancelled||(this.isCancelled=!0,v.postMessage({sourceName:y,targetName:_,stream:o.CLOSE,streamId:m}),delete p.streamSinks[m])},error(g){(0,r.assert)(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,v.postMessage({sourceName:y,targetName:_,stream:o.ERROR,streamId:m,reason:s(g)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:u.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[m]=c,new Promise(function(g){g(h(u.data,c))}).then(function(){v.postMessage({sourceName:y,targetName:_,stream:o.START_COMPLETE,streamId:m,success:!0})},function(g){v.postMessage({sourceName:y,targetName:_,stream:o.START_COMPLETE,streamId:m,reason:s(g)})})}_processStreamMessage(u){let m=u.streamId,y=this.sourceName,_=u.sourceName,v=this.comObj,p=this.streamControllers[m],h=this.streamSinks[m];switch(u.stream){case o.START_COMPLETE:u.success?p.startCall.resolve():p.startCall.reject(s(u.reason));break;case o.PULL_COMPLETE:u.success?p.pullCall.resolve():p.pullCall.reject(s(u.reason));break;case o.PULL:if(!h){v.postMessage({sourceName:y,targetName:_,stream:o.PULL_COMPLETE,streamId:m,success:!0});break}h.desiredSize<=0&&u.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=u.desiredSize,new Promise(function(c){c(h.onPull&&h.onPull())}).then(function(){v.postMessage({sourceName:y,targetName:_,stream:o.PULL_COMPLETE,streamId:m,success:!0})},function(c){v.postMessage({sourceName:y,targetName:_,stream:o.PULL_COMPLETE,streamId:m,reason:s(c)})});break;case o.ENQUEUE:if((0,r.assert)(p,"enqueue should have stream controller"),p.isClosed)break;p.controller.enqueue(u.chunk);break;case o.CLOSE:if((0,r.assert)(p,"close should have stream controller"),p.isClosed)break;p.isClosed=!0,p.controller.close(),this._deleteStreamController(p,m);break;case o.ERROR:(0,r.assert)(p,"error should have stream controller"),p.controller.error(s(u.reason)),this._deleteStreamController(p,m);break;case o.CANCEL_COMPLETE:u.success?p.cancelCall.resolve():p.cancelCall.reject(s(u.reason)),this._deleteStreamController(p,m);break;case o.CANCEL:if(!h)break;new Promise(function(c){c(h.onCancel&&h.onCancel(s(u.reason)))}).then(function(){v.postMessage({sourceName:y,targetName:_,stream:o.CANCEL_COMPLETE,streamId:m,success:!0})},function(c){v.postMessage({sourceName:y,targetName:_,stream:o.CANCEL_COMPLETE,streamId:m,reason:s(c)})}),h.sinkCapability.reject(s(u.reason)),h.isCancelled=!0,delete this.streamSinks[m];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(u,m){await Promise.allSettled([u.startCall&&u.startCall.promise,u.pullCall&&u.pullCall.promise,u.cancelCall&&u.cancelCall.promise]),delete this.streamControllers[m]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=l},(n,e,t)=>{var o,s;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=t(1);class i{constructor({parsedData:f,rawData:u}){Cr(this,o,void 0);Cr(this,s,void 0);eo(this,o,f),eo(this,s,u)}getRaw(){return Lt(this,s)}get(f){return Lt(this,o).get(f)??null}getAll(){return(0,r.objectFromMap)(Lt(this,o))}has(f){return Lt(this,o).has(f)}}o=new WeakMap,s=new WeakMap,e.Metadata=i},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var r=t(1);class i{constructor(l,f){this.visible=!0,this.name=l,this.intent=f}}class o{constructor(l){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,l!==null){this.name=l.name,this.creator=l.creator,this._order=l.order;for(let f of l.groups)this._groups.set(f.id,new i(f.name,f.intent));if(l.baseState==="OFF")for(let f of this._groups)f.visible=!1;for(let f of l.on)this._groups.get(f).visible=!0;for(let f of l.off)this._groups.get(f).visible=!1}}_evaluateVisibilityExpression(l){let f=l.length;if(f<2)return!0;let u=l[0];for(let m=1;m<f;m++){let y=l[m],_;if(Array.isArray(y))_=this._evaluateVisibilityExpression(y);else if(this._groups.has(y))_=this._groups.get(y).visible;else return(0,r.warn)(`Optional content group not found: ${y}`),!0;switch(u){case"And":if(!_)return!1;break;case"Or":if(_)return!0;break;case"Not":return!_;default:return!0}}return u==="And"}isVisible(l){if(this._groups.size===0)return!0;if(!l)return(0,r.warn)("Optional content group not defined."),!0;if(l.type==="OCG")return this._groups.has(l.id)?this._groups.get(l.id).visible:((0,r.warn)(`Optional content group not found: ${l.id}`),!0);if(l.type==="OCMD"){if(l.expression)return this._evaluateVisibilityExpression(l.expression);if(!l.policy||l.policy==="AnyOn"){for(let f of l.ids){if(!this._groups.has(f))return(0,r.warn)(`Optional content group not found: ${f}`),!0;if(this._groups.get(f).visible)return!0}return!1}else if(l.policy==="AllOn"){for(let f of l.ids){if(!this._groups.has(f))return(0,r.warn)(`Optional content group not found: ${f}`),!0;if(!this._groups.get(f).visible)return!1}return!0}else if(l.policy==="AnyOff"){for(let f of l.ids){if(!this._groups.has(f))return(0,r.warn)(`Optional content group not found: ${f}`),!0;if(!this._groups.get(f).visible)return!0}return!1}else if(l.policy==="AllOff"){for(let f of l.ids){if(!this._groups.has(f))return(0,r.warn)(`Optional content group not found: ${f}`),!0;if(this._groups.get(f).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${l.policy}.`),!0}return(0,r.warn)(`Unknown group type ${l.type}.`),!0}setVisibility(l,f=!0){if(!this._groups.has(l)){(0,r.warn)(`Optional content group not found: ${l}`);return}this._groups.get(l).visible=!!f}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,r.objectFromMap)(this._groups):null}getGroup(l){return this._groups.get(l)||null}}e.OptionalContentConfig=o},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var r=t(1),i=t(5);class o{constructor(u,m){(0,r.assert)(m,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=u.progressiveDone||!1,this._contentDispositionFilename=u.contentDispositionFilename||null;let y=u.initialData;if((y==null?void 0:y.length)>0){let _=new Uint8Array(y).buffer;this._queuedChunks.push(_)}this._pdfDataRangeTransport=m,this._isStreamingSupported=!u.disableStream,this._isRangeSupported=!u.disableRange,this._contentLength=u.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((_,v)=>{this._onReceiveData({begin:_,chunk:v})}),this._pdfDataRangeTransport.addProgressListener((_,v)=>{this._onProgress({loaded:_,total:v})}),this._pdfDataRangeTransport.addProgressiveReadListener(_=>{this._onReceiveData({chunk:_})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(u){let m=new Uint8Array(u.chunk).buffer;if(u.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(m):this._queuedChunks.push(m);else{let y=this._rangeReaders.some(function(_){return _._begin!==u.begin?!1:(_._enqueue(m),!0)});(0,r.assert)(y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var u;return((u=this._fullRequestReader)==null?void 0:u._loaded)??0}_onProgress(u){if(u.total===void 0){let m=this._rangeReaders[0];m!=null&&m.onProgress&&m.onProgress({loaded:u.loaded})}else{let m=this._fullRequestReader;m!=null&&m.onProgress&&m.onProgress({loaded:u.loaded,total:u.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(u){let m=this._rangeReaders.indexOf(u);m>=0&&this._rangeReaders.splice(m,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let u=this._queuedChunks;return this._queuedChunks=null,new s(this,u,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(u,m){if(m<=this._progressiveDataLength)return null;let y=new l(this,u,m);return this._pdfDataRangeTransport.requestDataRange(u,m),this._rangeReaders.push(y),y}cancelAllRequests(u){this._fullRequestReader&&this._fullRequestReader.cancel(u);for(let m of this._rangeReaders.slice(0))m.cancel(u);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=o;class s{constructor(u,m,y=!1,_=null){this._stream=u,this._done=y||!1,this._filename=(0,i.isPdfFile)(_)?_:null,this._queuedChunks=m||[],this._loaded=0;for(let v of this._queuedChunks)this._loaded+=v.byteLength;this._requests=[],this._headersReady=Promise.resolve(),u._fullRequestReader=this,this.onProgress=null}_enqueue(u){this._done||(this._requests.length>0?this._requests.shift().resolve({value:u,done:!1}):this._queuedChunks.push(u),this._loaded+=u.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let u=(0,r.createPromiseCapability)();return this._requests.push(u),u.promise}cancel(u){this._done=!0;for(let m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class l{constructor(u,m,y){this._stream=u,this._begin=m,this._end=y,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(u){if(!this._done){if(this._requests.length===0)this._queuedChunk=u;else{this._requests.shift().resolve({value:u,done:!1});for(let y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){let m=this._queuedChunk;return this._queuedChunk=null,{value:m,done:!1}}if(this._done)return{value:void 0,done:!0};let u=(0,r.createPromiseCapability)();return this._requests.push(u),u.promise}cancel(u){this._done=!0;for(let m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class t{static textContent(i){let o=[],s={items:o,styles:Object.create(null)};function l(f){var y;if(!f)return;let u=null,m=f.name;if(m==="#text")u=f.value;else if(t.shouldBuildText(m))(y=f==null?void 0:f.attributes)!=null&&y.textContent?u=f.attributes.textContent:f.value&&(u=f.value);else return;if(u!==null&&o.push({str:u}),!!f.children)for(let _ of f.children)l(_)}return l(i),s}static shouldBuildText(i){return!(i==="textarea"||i==="input"||i==="option"||i==="select")}}e.XfaText=t},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var r=t(6);let i=function(f){return new Promise((u,m)=>{bf().readFile(f,(_,v)=>{if(_||!v){m(new Error(_));return}u(new Uint8Array(v))})})};class o extends r.BaseCanvasFactory{_createCanvas(u,m){return $E().createCanvas(u,m)}}e.NodeCanvasFactory=o;class s extends r.BaseCMapReaderFactory{_fetchData(u,m){return i(u).then(y=>({cMapData:y,compressionType:m}))}}e.NodeCMapReaderFactory=s;class l extends r.BaseStandardFontDataFactory{_fetchData(u){return i(u)}}e.NodeStandardFontDataFactory=l},(n,e,t)=>{var z,fm;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var r=t(1),i=t(5),o=t(8),s=t(21),l=t(22);let f=1e3,u=new WeakSet;function m(R){return{width:R[2]-R[0],height:R[3]-R[1]}}class y{static create(x){switch(x.data.annotationType){case r.AnnotationType.LINK:return new v(x);case r.AnnotationType.TEXT:return new p(x);case r.AnnotationType.WIDGET:switch(x.data.fieldType){case"Tx":return new c(x);case"Btn":return x.data.radioButton?new w(x):x.data.checkBox?new g(x):new S(x);case"Ch":return new E(x)}return new h(x);case r.AnnotationType.POPUP:return new b(x);case r.AnnotationType.FREETEXT:return new M(x);case r.AnnotationType.LINE:return new P(x);case r.AnnotationType.SQUARE:return new B(x);case r.AnnotationType.CIRCLE:return new I(x);case r.AnnotationType.POLYLINE:return new F(x);case r.AnnotationType.CARET:return new W(x);case r.AnnotationType.INK:return new q(x);case r.AnnotationType.POLYGON:return new D(x);case r.AnnotationType.HIGHLIGHT:return new G(x);case r.AnnotationType.UNDERLINE:return new Y(x);case r.AnnotationType.SQUIGGLY:return new X(x);case r.AnnotationType.STRIKEOUT:return new Q(x);case r.AnnotationType.STAMP:return new se(x);case r.AnnotationType.FILEATTACHMENT:return new ve(x);default:return new _(x)}}}class _{constructor(x,{isRenderable:T=!1,ignoreBorder:O=!1,createQuadrilaterals:N=!1}={}){this.isRenderable=T,this.data=x.data,this.layer=x.layer,this.page=x.page,this.viewport=x.viewport,this.linkService=x.linkService,this.downloadManager=x.downloadManager,this.imageResourcesPath=x.imageResourcesPath,this.renderForms=x.renderForms,this.svgFactory=x.svgFactory,this.annotationStorage=x.annotationStorage,this.enableScripting=x.enableScripting,this.hasJSActions=x.hasJSActions,this._fieldObjects=x.fieldObjects,this._mouseState=x.mouseState,T&&(this.container=this._createContainer(O)),N&&(this.quadrilaterals=this._createQuadrilaterals(O))}_createContainer(x=!1){let T=this.data,O=this.page,N=this.viewport,U=document.createElement("section"),{width:V,height:Z}=m(T.rect);U.setAttribute("data-annotation-id",T.id);let re=r.Util.normalizeRect([T.rect[0],O.view[3]-T.rect[1]+O.view[1],T.rect[2],O.view[3]-T.rect[3]+O.view[1]]);if(T.hasOwnCanvas){let ne=N.transform.slice(),[ae,fe]=r.Util.singularValueDecompose2dScale(ne);V=Math.ceil(V*ae),Z=Math.ceil(Z*fe),re[0]*=ae,re[1]*=fe;for(let he=0;he<4;he++)ne[he]=Math.sign(ne[he]);U.style.transform=`matrix(${ne.join(",")})`}else U.style.transform=`matrix(${N.transform.join(",")})`;if(U.style.transformOrigin=`${-re[0]}px ${-re[1]}px`,!x&&T.borderStyle.width>0){U.style.borderWidth=`${T.borderStyle.width}px`,T.borderStyle.style!==r.AnnotationBorderStyleType.UNDERLINE&&(V-=2*T.borderStyle.width,Z-=2*T.borderStyle.width);let ne=T.borderStyle.horizontalCornerRadius,ae=T.borderStyle.verticalCornerRadius;if(ne>0||ae>0){let he=`${ne}px / ${ae}px`;U.style.borderRadius=he}switch(T.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:U.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:U.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:U.style.borderBottomStyle="solid";break;default:break}T.borderColor||T.color||null?U.style.borderColor=r.Util.makeHexColor(T.color[0]|0,T.color[1]|0,T.color[2]|0):U.style.borderWidth=0}return U.style.left=`${re[0]}px`,U.style.top=`${re[1]}px`,T.hasOwnCanvas?U.style.width=U.style.height="auto":(U.style.width=`${V}px`,U.style.height=`${Z}px`),U}get _commonActions(){let x=(T,O,N)=>{let U=N.detail[T];N.target.style[O]=s.ColorConverters[`${U[0]}_HTML`](U.slice(1))};return(0,r.shadow)(this,"_commonActions",{display:T=>{let O=T.detail.display%2===1;T.target.style.visibility=O?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:O,print:T.detail.display===0||T.detail.display===3})},print:T=>{this.annotationStorage.setValue(this.data.id,{print:T.detail.print})},hidden:T=>{T.target.style.visibility=T.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:T.detail.hidden})},focus:T=>{setTimeout(()=>T.target.focus({preventScroll:!1}),0)},userName:T=>{T.target.title=T.detail.userName},readonly:T=>{T.detail.readonly?T.target.setAttribute("readonly",""):T.target.removeAttribute("readonly")},required:T=>{T.detail.required?T.target.setAttribute("required",""):T.target.removeAttribute("required")},bgColor:T=>{x("bgColor","backgroundColor",T)},fillColor:T=>{x("fillColor","backgroundColor",T)},fgColor:T=>{x("fgColor","color",T)},textColor:T=>{x("textColor","color",T)},borderColor:T=>{x("borderColor","borderColor",T)},strokeColor:T=>{x("strokeColor","borderColor",T)}})}_dispatchEventFromSandbox(x,T){let O=this._commonActions;for(let N of Object.keys(T.detail)){let U=x[N]||O[N];U&&U(T)}}_setDefaultPropertiesFromJS(x){if(!this.enableScripting)return;let T=this.annotationStorage.getRawValue(this.data.id);if(!T)return;let O=this._commonActions;for(let[N,U]of Object.entries(T)){let V=O[N];V&&(V({detail:U,target:x}),delete T[N])}}_createQuadrilaterals(x=!1){if(!this.data.quadPoints)return null;let T=[],O=this.data.rect;for(let N of this.data.quadPoints)this.data.rect=[N[2].x,N[2].y,N[1].x,N[1].y],T.push(this._createContainer(x));return this.data.rect=O,T}_createPopup(x,T){let O=this.container;this.quadrilaterals&&(x=x||this.quadrilaterals,O=this.quadrilaterals[0]),x||(x=document.createElement("div"),x.style.height=O.style.height,x.style.width=O.style.width,O.appendChild(x));let U=new C({container:O,trigger:x,color:T.color,titleObj:T.titleObj,modificationDate:T.modificationDate,contentsObj:T.contentsObj,richText:T.richText,hideWrapper:!0}).render();U.style.left=O.style.width,O.appendChild(U)}_renderQuadrilaterals(x){for(let T of this.quadrilaterals)T.className=x;return this.quadrilaterals}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(x,T=null){let O=[];if(this._fieldObjects){let N=this._fieldObjects[x];if(N)for(let{page:U,id:V,exportValues:Z}of N){if(U===-1||V===T)continue;let re=typeof Z=="string"?Z:null,ne=document.getElementById(V);if(ne&&!u.has(ne)){(0,r.warn)(`_getElementsByName - element not allowed: ${V}`);continue}O.push({id:V,exportValue:re,domElement:ne})}return O}for(let N of document.getElementsByName(x)){let{id:U,exportValue:V}=N;U!==T&&u.has(N)&&O.push({id:U,exportValue:V,domElement:N})}return O}static get platform(){let x=typeof navigator<"u"?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:x.includes("Win"),isMac:x.includes("Mac")})}}class v extends _{constructor(x,T=null){let O=!!(x.data.url||x.data.dest||x.data.action||x.data.isTooltipOnly||x.data.resetForm||x.data.actions&&(x.data.actions.Action||x.data.actions["Mouse Up"]||x.data.actions["Mouse Down"]));super(x,{isRenderable:O,ignoreBorder:!!(T!=null&&T.ignoreBorder),createQuadrilaterals:!0})}render(){let{data:x,linkService:T}=this,O=document.createElement("a");if(x.url)T.addLinkAttributes(O,x.url,x.newWindow);else if(x.action)this._bindNamedAction(O,x.action);else if(x.dest)this._bindLink(O,x.dest);else{let N=!1;x.actions&&(x.actions.Action||x.actions["Mouse Up"]||x.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(N=!0,this._bindJSAction(O,x)),x.resetForm?this._bindResetFormAction(O,x.resetForm):N||this._bindLink(O,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((N,U)=>{let V=U===0?O:O.cloneNode();return N.appendChild(V),N}):(this.container.className="linkAnnotation",this.container.appendChild(O),this.container)}_bindLink(x,T){x.href=this.linkService.getDestinationHash(T),x.onclick=()=>(T&&this.linkService.goToDestination(T),!1),(T||T==="")&&(x.className="internalLink")}_bindNamedAction(x,T){x.href=this.linkService.getAnchorUrl(""),x.onclick=()=>(this.linkService.executeNamedAction(T),!1),x.className="internalLink"}_bindJSAction(x,T){x.href=this.linkService.getAnchorUrl("");let O=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let N of Object.keys(T.actions)){let U=O.get(N);U&&(x[U]=()=>{var V;return(V=this.linkService.eventBus)==null||V.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T.id,name:N}}),!1})}x.onclick||(x.onclick=()=>!1),x.className="internalLink"}_bindResetFormAction(x,T){let O=x.onclick;if(O||(x.href=this.linkService.getAnchorUrl("")),x.className="internalLink",!this._fieldObjects){(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),O||(x.onclick=()=>!1);return}x.onclick=()=>{var ae;O&&O();let{fields:N,refs:U,include:V}=T,Z=[];if(N.length!==0||U.length!==0){let fe=new Set(U);for(let he of N){let Te=this._fieldObjects[he]||[];for(let{id:Ne}of Te)fe.add(Ne)}for(let he of Object.values(this._fieldObjects))for(let Te of he)fe.has(Te.id)===V&&Z.push(Te)}else for(let fe of Object.values(this._fieldObjects))Z.push(...fe);let re=this.annotationStorage,ne=[];for(let fe of Z){let{id:he}=fe;switch(ne.push(he),fe.type){case"text":{let Ne=fe.defaultValue||"";re.setValue(he,{value:Ne});break}case"checkbox":case"radiobutton":{let Ne=fe.defaultValue===fe.exportValues;re.setValue(he,{value:Ne});break}case"combobox":case"listbox":{let Ne=fe.defaultValue||"";re.setValue(he,{value:Ne});break}default:continue}let Te=document.getElementById(he);!Te||!u.has(Te)||Te.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((ae=this.linkService.eventBus)==null||ae.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ne,name:"ResetForm"}})),!1}}}class p extends _{constructor(x){var O,N,U;let T=!!(x.data.hasPopup||(O=x.data.titleObj)!=null&&O.str||(N=x.data.contentsObj)!=null&&N.str||(U=x.data.richText)!=null&&U.str);super(x,{isRenderable:T})}render(){this.container.className="textAnnotation";let x=document.createElement("img");return x.style.height=this.container.style.height,x.style.width=this.container.style.width,x.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",x.alt="[{{type}} Annotation]",x.dataset.l10nId="text_annotation_type",x.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(x,this.data),this.container.appendChild(x),this.container}}class h extends _{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(x){let{isWin:T,isMac:O}=_.platform;return T&&x.ctrlKey||O&&x.metaKey}_setEventListener(x,T,O,N){T.includes("mouse")?x.addEventListener(T,U=>{var V;(V=this.linkService.eventBus)==null||V.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:O,value:N(U),shift:U.shiftKey,modifier:this._getKeyModifier(U)}})}):x.addEventListener(T,U=>{var V;(V=this.linkService.eventBus)==null||V.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:O,value:N(U)}})})}_setEventListeners(x,T,O){var N;for(let[U,V]of T)(V==="Action"||(N=this.data.actions)!=null&&N[V])&&this._setEventListener(x,U,V,O)}_setBackgroundColor(x){let T=this.data.backgroundColor||null;x.style.backgroundColor=T===null?"transparent":r.Util.makeHexColor(T[0],T[1],T[2])}}class c extends h{constructor(x){let T=x.renderForms||!x.data.hasAppearance&&!!x.data.fieldValue;super(x,{isRenderable:T})}setPropertyOnSiblings(x,T,O,N){let U=this.annotationStorage;for(let V of this._getElementsByName(x.name,x.id))V.domElement&&(V.domElement[T]=O),U.setValue(V.id,{[N]:O})}render(){var N;let x=this.annotationStorage,T=this.data.id;this.container.className="textWidgetAnnotation";let O=null;if(this.renderForms){let U=x.getValue(T,{value:this.data.fieldValue}),V=U.formattedValue||U.value||"",Z={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(O=document.createElement("textarea"),O.textContent=V):(O=document.createElement("input"),O.type="text",O.setAttribute("value",V)),u.add(O),O.disabled=this.data.readOnly,O.name=this.data.fieldName,O.tabIndex=f,Z.userValue=V,O.setAttribute("id",T),O.addEventListener("input",ne=>{x.setValue(T,{value:ne.target.value}),this.setPropertyOnSiblings(O,"value",ne.target.value,"value")}),O.addEventListener("resetform",ne=>{let ae=this.data.defaultFieldValue??"";O.value=Z.userValue=ae,Z.formattedValue=null});let re=ne=>{let{formattedValue:ae}=Z;ae!=null&&(ne.target.value=ae),ne.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){O.addEventListener("focus",ae=>{Z.userValue&&(ae.target.value=Z.userValue),Z.valueOnFocus=ae.target.value}),O.addEventListener("updatefromsandbox",ae=>{let fe={value(he){Z.userValue=he.detail.value??"",x.setValue(T,{value:Z.userValue.toString()}),he.target.value=Z.userValue},formattedValue(he){let{formattedValue:Te}=he.detail;Z.formattedValue=Te,Te!=null&&he.target!==document.activeElement&&(he.target.value=Te),x.setValue(T,{formattedValue:Te})},selRange(he){he.target.setSelectionRange(...he.detail.selRange)}};this._dispatchEventFromSandbox(fe,ae)}),O.addEventListener("keydown",ae=>{var Te;let fe=-1;if(ae.key==="Escape"?fe=0:ae.key==="Enter"?fe=2:ae.key==="Tab"&&(fe=3),fe===-1)return;let{value:he}=ae.target;Z.valueOnFocus!==he&&(Z.userValue=he,(Te=this.linkService.eventBus)==null||Te.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:he,willCommit:!0,commitKey:fe,selStart:ae.target.selectionStart,selEnd:ae.target.selectionEnd}}))});let ne=re;re=null,O.addEventListener("blur",ae=>{var he;let{value:fe}=ae.target;Z.userValue=fe,this._mouseState.isDown&&Z.valueOnFocus!==fe&&((he=this.linkService.eventBus)==null||he.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:fe,willCommit:!0,commitKey:1,selStart:ae.target.selectionStart,selEnd:ae.target.selectionEnd}})),ne(ae)}),(N=this.data.actions)!=null&&N.Keystroke&&O.addEventListener("beforeinput",ae=>{var Ee;let{data:fe,target:he}=ae,{value:Te,selectionStart:Ne,selectionEnd:Se}=he,ye=Ne,oe=Se;switch(ae.inputType){case"deleteWordBackward":{let xe=Te.substring(0,Ne).match(/\w*[^\w]*$/);xe&&(ye-=xe[0].length);break}case"deleteWordForward":{let xe=Te.substring(Ne).match(/^[^\w]*\w*/);xe&&(oe+=xe[0].length);break}case"deleteContentBackward":Ne===Se&&(ye-=1);break;case"deleteContentForward":Ne===Se&&(oe+=1);break}ae.preventDefault(),(Ee=this.linkService.eventBus)==null||Ee.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:Te,change:fe||"",willCommit:!1,selStart:ye,selEnd:oe}})}),this._setEventListeners(O,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ae=>ae.target.value)}if(re&&O.addEventListener("blur",re),this.data.maxLen!==null&&(O.maxLength=this.data.maxLen),this.data.comb){let ae=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;O.classList.add("comb"),O.style.letterSpacing=`calc(${ae}px - 1ch)`}}else O=document.createElement("div"),O.textContent=this.data.fieldValue,O.style.verticalAlign="middle",O.style.display="table-cell";return this._setTextStyle(O),this._setBackgroundColor(O),this._setDefaultPropertiesFromJS(O),this.container.appendChild(O),this.container}_setTextStyle(x){let T=["left","center","right"],{fontSize:O,fontColor:N}=this.data.defaultAppearanceData,U=x.style;O&&(U.fontSize=`${O}px`),U.color=r.Util.makeHexColor(N[0],N[1],N[2]),this.data.textAlignment!==null&&(U.textAlign=T[this.data.textAlignment])}}class g extends h{constructor(x){super(x,{isRenderable:x.renderForms})}render(){let x=this.annotationStorage,T=this.data,O=T.id,N=x.getValue(O,{value:T.exportValue===T.fieldValue}).value;typeof N=="string"&&(N=N!=="Off",x.setValue(O,{value:N})),this.container.className="buttonWidgetAnnotation checkBox";let U=document.createElement("input");return u.add(U),U.disabled=T.readOnly,U.type="checkbox",U.name=T.fieldName,N&&U.setAttribute("checked",!0),U.setAttribute("id",O),U.setAttribute("exportValue",T.exportValue),U.tabIndex=f,U.addEventListener("change",V=>{let{name:Z,checked:re}=V.target;for(let ne of this._getElementsByName(Z,O)){let ae=re&&ne.exportValue===T.exportValue;ne.domElement&&(ne.domElement.checked=ae),x.setValue(ne.id,{value:ae})}x.setValue(O,{value:re})}),U.addEventListener("resetform",V=>{let Z=T.defaultFieldValue||"Off";V.target.checked=Z===T.exportValue}),this.enableScripting&&this.hasJSActions&&(U.addEventListener("updatefromsandbox",V=>{let Z={value(re){re.target.checked=re.detail.value!=="Off",x.setValue(O,{value:re.target.checked})}};this._dispatchEventFromSandbox(Z,V)}),this._setEventListeners(U,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],V=>V.target.checked)),this._setBackgroundColor(U),this._setDefaultPropertiesFromJS(U),this.container.appendChild(U),this.container}}class w extends h{constructor(x){super(x,{isRenderable:x.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";let x=this.annotationStorage,T=this.data,O=T.id,N=x.getValue(O,{value:T.fieldValue===T.buttonValue}).value;typeof N=="string"&&(N=N!==T.buttonValue,x.setValue(O,{value:N}));let U=document.createElement("input");if(u.add(U),U.disabled=T.readOnly,U.type="radio",U.name=T.fieldName,N&&U.setAttribute("checked",!0),U.setAttribute("id",O),U.tabIndex=f,U.addEventListener("change",V=>{let{name:Z,checked:re}=V.target;for(let ne of this._getElementsByName(Z,O))x.setValue(ne.id,{value:!1});x.setValue(O,{value:re})}),U.addEventListener("resetform",V=>{let Z=T.defaultFieldValue;V.target.checked=Z!=null&&Z===T.buttonValue}),this.enableScripting&&this.hasJSActions){let V=T.buttonValue;U.addEventListener("updatefromsandbox",Z=>{let re={value:ne=>{let ae=V===ne.detail.value;for(let fe of this._getElementsByName(ne.target.name)){let he=ae&&fe.id===O;fe.domElement&&(fe.domElement.checked=he),x.setValue(fe.id,{value:he})}}};this._dispatchEventFromSandbox(re,Z)}),this._setEventListeners(U,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Z=>Z.target.checked)}return this._setBackgroundColor(U),this._setDefaultPropertiesFromJS(U),this.container.appendChild(U),this.container}}class S extends v{constructor(x){super(x,{ignoreBorder:x.data.hasAppearance})}render(){let x=super.render();return x.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(x.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(x),x}}class E extends h{constructor(x){super(x,{isRenderable:x.renderForms})}render(){this.container.className="choiceWidgetAnnotation";let x=this.annotationStorage,T=this.data.id,O=x.getValue(T,{value:this.data.fieldValue}),{fontSize:N}=this.data.defaultAppearanceData;N||(N=9);let U=`calc(${N}px * var(--zoom-factor))`,V=document.createElement("select");u.add(V),V.disabled=this.data.readOnly,V.name=this.data.fieldName,V.setAttribute("id",T),V.tabIndex=f,V.style.fontSize=`${N}px`,this.data.combo||(V.size=this.data.options.length,this.data.multiSelect&&(V.multiple=!0)),V.addEventListener("resetform",ne=>{let ae=this.data.defaultFieldValue;for(let fe of V.options)fe.selected=fe.value===ae});for(let ne of this.data.options){let ae=document.createElement("option");ae.textContent=ne.displayValue,ae.value=ne.exportValue,this.data.combo&&(ae.style.fontSize=U),O.value.includes(ne.exportValue)&&ae.setAttribute("selected",!0),V.appendChild(ae)}let Z=(ne,ae)=>{let fe=ae?"value":"textContent",he=ne.target.options;return ne.target.multiple?Array.prototype.filter.call(he,Te=>Te.selected).map(Te=>Te[fe]):he.selectedIndex===-1?null:he[he.selectedIndex][fe]},re=ne=>{let ae=ne.target.options;return Array.prototype.map.call(ae,fe=>({displayValue:fe.textContent,exportValue:fe.value}))};return this.enableScripting&&this.hasJSActions?(V.addEventListener("updatefromsandbox",ne=>{let ae={value(fe){let he=fe.detail.value,Te=new Set(Array.isArray(he)?he:[he]);for(let Ne of V.options)Ne.selected=Te.has(Ne.value);x.setValue(T,{value:Z(fe,!0)})},multipleSelection(fe){V.multiple=!0},remove(fe){let he=V.options,Te=fe.detail.remove;he[Te].selected=!1,V.remove(Te),he.length>0&&Array.prototype.findIndex.call(he,Se=>Se.selected)===-1&&(he[0].selected=!0),x.setValue(T,{value:Z(fe,!0),items:re(fe)})},clear(fe){for(;V.length!==0;)V.remove(0);x.setValue(T,{value:null,items:[]})},insert(fe){let{index:he,displayValue:Te,exportValue:Ne}=fe.detail.insert,Se=document.createElement("option");Se.textContent=Te,Se.value=Ne,V.insertBefore(Se,V.children[he]),x.setValue(T,{value:Z(fe,!0),items:re(fe)})},items(fe){let{items:he}=fe.detail;for(;V.length!==0;)V.remove(0);for(let Te of he){let{displayValue:Ne,exportValue:Se}=Te,ye=document.createElement("option");ye.textContent=Ne,ye.value=Se,V.appendChild(ye)}V.options.length>0&&(V.options[0].selected=!0),x.setValue(T,{value:Z(fe,!0),items:re(fe)})},indices(fe){let he=new Set(fe.detail.indices);for(let Te of fe.target.options)Te.selected=he.has(Te.index);x.setValue(T,{value:Z(fe,!0)})},editable(fe){fe.target.disabled=!fe.detail.editable}};this._dispatchEventFromSandbox(ae,ne)}),V.addEventListener("input",ne=>{var he;let ae=Z(ne,!0),fe=Z(ne,!1);x.setValue(T,{value:ae}),(he=this.linkService.eventBus)==null||he.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:fe,changeEx:ae,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(V,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],ne=>ne.target.checked)):V.addEventListener("input",function(ne){x.setValue(T,{value:Z(ne,!0)})}),this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.appendChild(V),this.container}}class b extends _{constructor(x){var O,N,U;let T=!!((O=x.data.titleObj)!=null&&O.str||(N=x.data.contentsObj)!=null&&N.str||(U=x.data.richText)!=null&&U.str);super(x,{isRenderable:T})}render(){let x=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",x.includes(this.data.parentType))return this.container;let T=`[data-annotation-id="${this.data.parentId}"]`,O=this.layer.querySelectorAll(T);if(O.length===0)return this.container;let N=new C({container:this.container,trigger:Array.from(O),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),U=this.page,V=r.Util.normalizeRect([this.data.parentRect[0],U.view[3]-this.data.parentRect[1]+U.view[1],this.data.parentRect[2],U.view[3]-this.data.parentRect[3]+U.view[1]]),Z=V[0]+this.data.parentRect[2]-this.data.parentRect[0],re=V[1];return this.container.style.transformOrigin=`${-Z}px ${-re}px`,this.container.style.left=`${Z}px`,this.container.style.top=`${re}px`,this.container.appendChild(N.render()),this.container}}class C{constructor(x){this.container=x.container,this.trigger=x.trigger,this.color=x.color,this.titleObj=x.titleObj,this.modificationDate=x.modificationDate,this.contentsObj=x.contentsObj,this.richText=x.richText,this.hideWrapper=x.hideWrapper||!1,this.pinned=!1}render(){var Z,re;let T=document.createElement("div");T.className="popupWrapper",this.hideElement=this.hideWrapper?T:this.container,this.hideElement.hidden=!0;let O=document.createElement("div");O.className="popup";let N=this.color;if(N){let ne=.7*(255-N[0])+N[0],ae=.7*(255-N[1])+N[1],fe=.7*(255-N[2])+N[2];O.style.backgroundColor=r.Util.makeHexColor(ne|0,ae|0,fe|0)}let U=document.createElement("h1");U.dir=this.titleObj.dir,U.textContent=this.titleObj.str,O.appendChild(U);let V=i.PDFDateString.toDateObject(this.modificationDate);if(V){let ne=document.createElement("span");ne.className="popupDate",ne.textContent="{{date}}, {{time}}",ne.dataset.l10nId="annotation_date_string",ne.dataset.l10nArgs=JSON.stringify({date:V.toLocaleDateString(),time:V.toLocaleTimeString()}),O.appendChild(ne)}if((Z=this.richText)!=null&&Z.str&&(!((re=this.contentsObj)!=null&&re.str)||this.contentsObj.str===this.richText.str))l.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:O}),O.lastChild.className="richText popupContent";else{let ne=this._formatContents(this.contentsObj);O.appendChild(ne)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(let ne of this.trigger)ne.addEventListener("click",this._toggle.bind(this)),ne.addEventListener("mouseover",this._show.bind(this,!1)),ne.addEventListener("mouseout",this._hide.bind(this,!1));return O.addEventListener("click",this._hide.bind(this,!0)),T.appendChild(O),T}_formatContents({str:x,dir:T}){let O=document.createElement("p");O.className="popupContent",O.dir=T;let N=x.split(/(?:\r\n?|\n)/);for(let U=0,V=N.length;U<V;++U){let Z=N[U];O.appendChild(document.createTextNode(Z)),U<V-1&&O.appendChild(document.createElement("br"))}return O}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(x=!1){x&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(x=!0){x&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class M extends _{constructor(x){var O,N,U;let T=!!(x.data.hasPopup||(O=x.data.titleObj)!=null&&O.str||(N=x.data.contentsObj)!=null&&N.str||(U=x.data.richText)!=null&&U.str);super(x,{isRenderable:T,ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class P extends _{constructor(x){var O,N,U;let T=!!(x.data.hasPopup||(O=x.data.titleObj)!=null&&O.str||(N=x.data.contentsObj)!=null&&N.str||(U=x.data.richText)!=null&&U.str);super(x,{isRenderable:T,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";let x=this.data,{width:T,height:O}=m(x.rect),N=this.svgFactory.create(T,O),U=this.svgFactory.createElement("svg:line");return U.setAttribute("x1",x.rect[2]-x.lineCoordinates[0]),U.setAttribute("y1",x.rect[3]-x.lineCoordinates[1]),U.setAttribute("x2",x.rect[2]-x.lineCoordinates[2]),U.setAttribute("y2",x.rect[3]-x.lineCoordinates[3]),U.setAttribute("stroke-width",x.borderStyle.width||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),N.appendChild(U),this.container.append(N),this._createPopup(U,x),this.container}}class B extends _{constructor(x){var O,N,U;let T=!!(x.data.hasPopup||(O=x.data.titleObj)!=null&&O.str||(N=x.data.contentsObj)!=null&&N.str||(U=x.data.richText)!=null&&U.str);super(x,{isRenderable:T,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";let x=this.data,{width:T,height:O}=m(x.rect),N=this.svgFactory.create(T,O),U=x.borderStyle.width,V=this.svgFactory.createElement("svg:rect");return V.setAttribute("x",U/2),V.setAttribute("y",U/2),V.setAttribute("width",T-U),V.setAttribute("height",O-U),V.setAttribute("stroke-width",U||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),N.appendChild(V),this.container.append(N),this._createPopup(V,x),this.container}}class I extends _{constructor(x){var O,N,U;let T=!!(x.data.hasPopup||(O=x.data.titleObj)!=null&&O.str||(N=x.data.contentsObj)!=null&&N.str||(U=x.data.richText)!=null&&U.str);super(x,{isRenderable:T,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";let x=this.data,{width:T,height:O}=m(x.rect),N=this.svgFactory.create(T,O),U=x.borderStyle.width,V=this.svgFactory.createElement("svg:ellipse");return V.setAttribute("cx",T/2),V.setAttribute("cy",O/2),V.setAttribute("rx",T/2-U/2),V.setAttribute("ry",O/2-U/2),V.setAttribute("stroke-width",U||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),N.appendChild(V),this.container.append(N),this._createPopup(V,x),this.container}}class F extends _{constructor(x){var O,N,U;let T=!!(x.data.hasPopup||(O=x.data.titleObj)!=null&&O.str||(N=x.data.contentsObj)!=null&&N.str||(U=x.data.richText)!=null&&U.str);super(x,{isRenderable:T,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let x=this.data,{width:T,height:O}=m(x.rect),N=this.svgFactory.create(T,O),U=[];for(let Z of x.vertices){let re=Z.x-x.rect[0],ne=x.rect[3]-Z.y;U.push(re+","+ne)}U=U.join(" ");let V=this.svgFactory.createElement(this.svgElementName);return V.setAttribute("points",U),V.setAttribute("stroke-width",x.borderStyle.width||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),N.appendChild(V),this.container.append(N),this._createPopup(V,x),this.container}}class D extends F{constructor(x){super(x),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class W extends _{constructor(x){var O,N,U;let T=!!(x.data.hasPopup||(O=x.data.titleObj)!=null&&O.str||(N=x.data.contentsObj)!=null&&N.str||(U=x.data.richText)!=null&&U.str);super(x,{isRenderable:T,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class q extends _{constructor(x){var O,N,U;let T=!!(x.data.hasPopup||(O=x.data.titleObj)!=null&&O.str||(N=x.data.contentsObj)!=null&&N.str||(U=x.data.richText)!=null&&U.str);super(x,{isRenderable:T,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let x=this.data,{width:T,height:O}=m(x.rect),N=this.svgFactory.create(T,O);for(let U of x.inkLists){let V=[];for(let re of U){let ne=re.x-x.rect[0],ae=x.rect[3]-re.y;V.push(`${ne},${ae}`)}V=V.join(" ");let Z=this.svgFactory.createElement(this.svgElementName);Z.setAttribute("points",V),Z.setAttribute("stroke-width",x.borderStyle.width||1),Z.setAttribute("stroke","transparent"),Z.setAttribute("fill","transparent"),this._createPopup(Z,x),N.appendChild(Z)}return this.container.append(N),this.container}}class G extends _{constructor(x){var O,N,U;let T=!!(x.data.hasPopup||(O=x.data.titleObj)!=null&&O.str||(N=x.data.contentsObj)!=null&&N.str||(U=x.data.richText)!=null&&U.str);super(x,{isRenderable:T,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Y extends _{constructor(x){var O,N,U;let T=!!(x.data.hasPopup||(O=x.data.titleObj)!=null&&O.str||(N=x.data.contentsObj)!=null&&N.str||(U=x.data.richText)!=null&&U.str);super(x,{isRenderable:T,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class X extends _{constructor(x){var O,N,U;let T=!!(x.data.hasPopup||(O=x.data.titleObj)!=null&&O.str||(N=x.data.contentsObj)!=null&&N.str||(U=x.data.richText)!=null&&U.str);super(x,{isRenderable:T,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Q extends _{constructor(x){var O,N,U;let T=!!(x.data.hasPopup||(O=x.data.titleObj)!=null&&O.str||(N=x.data.contentsObj)!=null&&N.str||(U=x.data.richText)!=null&&U.str);super(x,{isRenderable:T,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class se extends _{constructor(x){var O,N,U;let T=!!(x.data.hasPopup||(O=x.data.titleObj)!=null&&O.str||(N=x.data.contentsObj)!=null&&N.str||(U=x.data.richText)!=null&&U.str);super(x,{isRenderable:T,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ve extends _{constructor(x){var N;super(x,{isRenderable:!0});let{filename:T,content:O}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(T),this.content=O,(N=this.linkService.eventBus)==null||N.dispatch("fileattachmentannotation",{source:this,filename:T,content:O})}render(){var T,O;this.container.className="fileAttachmentAnnotation";let x=document.createElement("div");return x.style.height=this.container.style.height,x.style.width=this.container.style.width,x.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((T=this.data.titleObj)!=null&&T.str||(O=this.data.contentsObj)!=null&&O.str||this.data.richText)&&this._createPopup(x,this.data),this.container.appendChild(x),this.container}_download(){var x;(x=this.downloadManager)==null||x.openOrDownloadData(this.container,this.content,this.filename)}}class ce{static render(x){let T=[],O=[];for(let U of x.annotations){if(!U)continue;let{width:V,height:Z}=m(U.rect);if(!(V<=0||Z<=0)){if(U.annotationType===r.AnnotationType.POPUP){O.push(U);continue}T.push(U)}}O.length&&T.push(...O);let N=x.div;for(let U of T){let V=y.create({data:U,layer:N,page:x.page,viewport:x.viewport,linkService:x.linkService,downloadManager:x.downloadManager,imageResourcesPath:x.imageResourcesPath||"",renderForms:x.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:x.annotationStorage||new o.AnnotationStorage,enableScripting:x.enableScripting,hasJSActions:x.hasJSActions,fieldObjects:x.fieldObjects,mouseState:x.mouseState||{isDown:!1}});if(V.isRenderable){let Z=V.render();if(U.hidden&&(Z.style.visibility="hidden"),Array.isArray(Z))for(let re of Z)N.appendChild(re);else V instanceof b?N.prepend(Z):N.appendChild(Z)}}to(this,z,fm).call(this,N,x.annotationCanvasMap)}static update(x){let{page:T,viewport:O,annotations:N,annotationCanvasMap:U,div:V}=x,Z=O.transform,re=`matrix(${Z.join(",")})`,ne,ae;for(let fe of N){let he=V.querySelectorAll(`[data-annotation-id="${fe.id}"]`);if(he)for(let Te of he)if(fe.hasOwnCanvas){let Ne=r.Util.normalizeRect([fe.rect[0],T.view[3]-fe.rect[1]+T.view[1],fe.rect[2],T.view[3]-fe.rect[3]+T.view[1]]);if(!ae){ne=Math.abs(Z[0]||Z[1]);let oe=Z.slice();for(let Ee=0;Ee<4;Ee++)oe[Ee]=Math.sign(oe[Ee]);ae=`matrix(${oe.join(",")})`}let Se=Ne[0]*ne,ye=Ne[1]*ne;Te.style.left=`${Se}px`,Te.style.top=`${ye}px`,Te.style.transformOrigin=`${-Se}px ${-ye}px`,Te.style.transform=ae}else Te.style.transform=re}to(this,z,fm).call(this,V,U),V.hidden=!1}}z=new WeakSet,fm=function(x,T){if(T){for(let[O,N]of T){let U=x.querySelector(`[data-annotation-id="${O}"]`);if(!U)continue;let{firstChild:V}=U;V.nodeName==="CANVAS"?U.replaceChild(N,V):U.insertBefore(N,V)}T.clear()}},Cr(ce,z),e.AnnotationLayer=ce},(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function t(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}class r{static CMYK_G([o,s,l,f]){return["G",1-Math.min(1,.3*o+.59*l+.11*s+f)]}static G_CMYK([o]){return["CMYK",0,0,0,1-o]}static G_RGB([o]){return["RGB",o,o,o]}static G_HTML([o]){let s=t(o);return`#${s}${s}${s}`}static RGB_G([o,s,l]){return["G",.3*o+.59*s+.11*l]}static RGB_HTML([o,s,l]){let f=t(o),u=t(s),m=t(l);return`#${f}${u}${m}`}static T_HTML(){return"#00000000"}static CMYK_RGB([o,s,l,f]){return["RGB",1-Math.min(1,o+f),1-Math.min(1,l+f),1-Math.min(1,s+f)]}static CMYK_HTML(o){return this.RGB_HTML(this.CMYK_RGB(o))}static RGB_CMYK([o,s,l]){let f=1-o,u=1-s,m=1-l,y=Math.min(f,u,m);return["CMYK",f,u,m,y]}}e.ColorConverters=r},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var r=t(18);class i{static setupStorage(s,l,f,u,m){let y=u.getValue(l,{value:null});switch(f.name){case"textarea":if(y.value!==null&&(s.textContent=y.value),m==="print")break;s.addEventListener("input",_=>{u.setValue(l,{value:_.target.value})});break;case"input":if(f.attributes.type==="radio"||f.attributes.type==="checkbox"){if(y.value===f.attributes.xfaOn?s.setAttribute("checked",!0):y.value===f.attributes.xfaOff&&s.removeAttribute("checked"),m==="print")break;s.addEventListener("change",_=>{u.setValue(l,{value:_.target.checked?_.target.getAttribute("xfaOn"):_.target.getAttribute("xfaOff")})})}else{if(y.value!==null&&s.setAttribute("value",y.value),m==="print")break;s.addEventListener("input",_=>{u.setValue(l,{value:_.target.value})})}break;case"select":if(y.value!==null)for(let _ of f.children)_.attributes.value===y.value&&(_.attributes.selected=!0);s.addEventListener("input",_=>{let v=_.target.options,p=v.selectedIndex===-1?"":v[v.selectedIndex].value;u.setValue(l,{value:p})});break}}static setAttributes({html:s,element:l,storage:f=null,intent:u,linkService:m}){let{attributes:y}=l,_=s instanceof HTMLAnchorElement;y.type==="radio"&&(y.name=`${y.name}-${u}`);for(let[v,p]of Object.entries(y))if(!(p==null||v==="dataId"))if(v!=="style")if(v==="textContent")s.textContent=p;else if(v==="class")p.length&&s.setAttribute(v,p.join(" "));else{if(_&&(v==="href"||v==="newWindow"))continue;s.setAttribute(v,p)}else Object.assign(s.style,p);_&&m.addLinkAttributes(s,y.href,y.newWindow),f&&y.dataId&&this.setupStorage(s,y.dataId,l,f)}static render(s){var h;let l=s.annotationStorage,f=s.linkService,u=s.xfaHtml,m=s.intent||"display",y=document.createElement(u.name);u.attributes&&this.setAttributes({html:y,element:u,intent:m,linkService:f});let _=[[u,-1,y]],v=s.div;if(v.appendChild(y),s.viewport){let c=`matrix(${s.viewport.transform.join(",")})`;v.style.transform=c}m!=="richText"&&v.setAttribute("class","xfaLayer xfaFont");let p=[];for(;_.length>0;){let[c,g,w]=_[_.length-1];if(g+1===c.children.length){_.pop();continue}let S=c.children[++_[_.length-1][1]];if(S===null)continue;let{name:E}=S;if(E==="#text"){let C=document.createTextNode(S.value);p.push(C),w.appendChild(C);continue}let b;if((h=S==null?void 0:S.attributes)!=null&&h.xmlns?b=document.createElementNS(S.attributes.xmlns,E):b=document.createElement(E),w.appendChild(b),S.attributes&&this.setAttributes({html:b,element:S,storage:l,intent:m,linkService:f}),S.children&&S.children.length>0)_.push([S,-1,b]);else if(S.value){let C=document.createTextNode(S.value);r.XfaText.shouldBuildText(E)&&p.push(C),b.appendChild(C)}}for(let c of v.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))c.setAttribute("readOnly",!0);return{textDivs:p}}static update(s){let l=`matrix(${s.viewport.transform.join(",")})`;s.div.style.transform=l,s.div.hidden=!1}}e.XfaLayer=i},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.renderTextLayer=g;var r=t(1);let i=1e5,o=30,s=.8,l=new Map,f=/^\s+$/g;function u(w,S){let E=l.get(w);if(E)return E;S.save(),S.font=`${o}px ${w}`;let b=S.measureText(""),C=b.fontBoundingBoxAscent,M=Math.abs(b.fontBoundingBoxDescent);if(C){S.restore();let B=C/(C+M);return l.set(w,B),B}S.strokeStyle="red",S.clearRect(0,0,o,o),S.strokeText("g",0,0);let P=S.getImageData(0,0,o,o).data;M=0;for(let B=P.length-1-3;B>=0;B-=4)if(P[B]>0){M=Math.ceil(B/4/o);break}S.clearRect(0,0,o,o),S.strokeText("A",0,o),P=S.getImageData(0,0,o,o).data,C=0;for(let B=0,I=P.length;B<I;B+=4)if(P[B]>0){C=o-Math.floor(B/4/o);break}if(S.restore(),C){let B=C/(C+M);return l.set(w,B),B}return l.set(w,s),s}function m(w,S,E,b){let C=document.createElement("span"),M=w._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:S.str!=="",hasEOL:S.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:S.str!=="",hasEOL:S.hasEOL};w._textDivs.push(C);let P=r.Util.transform(w._viewport.transform,S.transform),B=Math.atan2(P[1],P[0]),I=E[S.fontName];I.vertical&&(B+=Math.PI/2);let F=Math.hypot(P[2],P[3]),D=F*u(I.fontFamily,b),W,q;B===0?(W=P[4],q=P[5]-D):(W=P[4]+D*Math.sin(B),q=P[5]-D*Math.cos(B)),C.style.left=`${W}px`,C.style.top=`${q}px`,C.style.fontSize=`${F}px`,C.style.fontFamily=I.fontFamily,C.setAttribute("role","presentation"),C.textContent=S.str,C.dir=S.dir,w._fontInspectorEnabled&&(C.dataset.fontName=S.fontName),B!==0&&(M.angle=B*(180/Math.PI));let G=!1;if(S.str.length>1||w._enhanceTextSelection&&f.test(S.str))G=!0;else if(S.str!==" "&&S.transform[0]!==S.transform[3]){let Y=Math.abs(S.transform[0]),X=Math.abs(S.transform[3]);Y!==X&&Math.max(Y,X)/Math.min(Y,X)>1.5&&(G=!0)}if(G&&(I.vertical?M.canvasWidth=S.height*w._viewport.scale:M.canvasWidth=S.width*w._viewport.scale),w._textDivProperties.set(C,M),w._textContentStream&&w._layoutText(C),w._enhanceTextSelection&&M.hasText){let Y=1,X=0;B!==0&&(Y=Math.cos(B),X=Math.sin(B));let Q=(I.vertical?S.height:S.width)*w._viewport.scale,se=F,ve,ce;B!==0?(ve=[Y,X,-X,Y,W,q],ce=r.Util.getAxialAlignedBoundingBox([0,0,Q,se],ve)):ce=[W,q,W+Q,q+se],w._bounds.push({left:ce[0],top:ce[1],right:ce[2],bottom:ce[3],div:C,size:[Q,se],m:ve})}}function y(w){if(w._canceled)return;let S=w._textDivs,E=w._capability,b=S.length;if(b>i){w._renderingDone=!0,E.resolve();return}if(!w._textContentStream)for(let C=0;C<b;C++)w._layoutText(S[C]);w._renderingDone=!0,E.resolve()}function _(w,S,E){let b=0;for(let C=0;C<E;C++){let M=w[S++];M>0&&(b=b?Math.min(M,b):M)}return b}function v(w){let S=w._bounds,E=w._viewport,b=p(E.width,E.height,S);for(let C=0;C<b.length;C++){let M=S[C].div,P=w._textDivProperties.get(M);if(P.angle===0){P.paddingLeft=S[C].left-b[C].left,P.paddingTop=S[C].top-b[C].top,P.paddingRight=b[C].right-S[C].right,P.paddingBottom=b[C].bottom-S[C].bottom,w._textDivProperties.set(M,P);continue}let B=b[C],I=S[C],F=I.m,D=F[0],W=F[1],q=[[0,0],[0,I.size[1]],[I.size[0],0],I.size],G=new Float64Array(64);for(let X=0,Q=q.length;X<Q;X++){let se=r.Util.applyTransform(q[X],F);G[X+0]=D&&(B.left-se[0])/D,G[X+4]=W&&(B.top-se[1])/W,G[X+8]=D&&(B.right-se[0])/D,G[X+12]=W&&(B.bottom-se[1])/W,G[X+16]=W&&(B.left-se[0])/-W,G[X+20]=D&&(B.top-se[1])/D,G[X+24]=W&&(B.right-se[0])/-W,G[X+28]=D&&(B.bottom-se[1])/D,G[X+32]=D&&(B.left-se[0])/-D,G[X+36]=W&&(B.top-se[1])/-W,G[X+40]=D&&(B.right-se[0])/-D,G[X+44]=W&&(B.bottom-se[1])/-W,G[X+48]=W&&(B.left-se[0])/W,G[X+52]=D&&(B.top-se[1])/-D,G[X+56]=W&&(B.right-se[0])/W,G[X+60]=D&&(B.bottom-se[1])/-D}let Y=1+Math.min(Math.abs(D),Math.abs(W));P.paddingLeft=_(G,32,16)/Y,P.paddingTop=_(G,48,16)/Y,P.paddingRight=_(G,0,16)/Y,P.paddingBottom=_(G,16,16)/Y,w._textDivProperties.set(M,P)}}function p(w,S,E){let b=E.map(function(M,P){return{x1:M.left,y1:M.top,x2:M.right,y2:M.bottom,index:P,x1New:void 0,x2New:void 0}});h(w,b);let C=new Array(E.length);for(let M of b){let P=M.index;C[P]={left:M.x1New,top:0,right:M.x2New,bottom:0}}E.map(function(M,P){let B=C[P],I=b[P];I.x1=M.top,I.y1=w-B.right,I.x2=M.bottom,I.y2=w-B.left,I.index=P,I.x1New=void 0,I.x2New=void 0}),h(S,b);for(let M of b){let P=M.index;C[P].top=M.x1New,C[P].bottom=M.x2New}return C}function h(w,S){S.sort(function(C,M){return C.x1-M.x1||C.index-M.index});let b=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(let C of S){let M=0;for(;M<b.length&&b[M].end<=C.y1;)M++;let P=b.length-1;for(;P>=0&&b[P].start>=C.y2;)P--;let B,I,F,D,W=-1/0;for(F=M;F<=P;F++){B=b[F],I=B.boundary;let Y;I.x2>C.x1?Y=I.index>C.index?I.x1New:C.x1:I.x2New===void 0?Y=(I.x2+C.x1)/2:Y=I.x2New,Y>W&&(W=Y)}for(C.x1New=W,F=M;F<=P;F++)B=b[F],I=B.boundary,I.x2New===void 0?I.x2>C.x1?I.index>C.index&&(I.x2New=I.x2):I.x2New=W:I.x2New>W&&(I.x2New=Math.max(W,I.x2));let q=[],G=null;for(F=M;F<=P;F++){B=b[F],I=B.boundary;let Y=I.x2>C.x2?I:C;G===Y?q[q.length-1].end=B.end:(q.push({start:B.start,end:B.end,boundary:Y}),G=Y)}for(b[M].start<C.y1&&(q[0].start=C.y1,q.unshift({start:b[M].start,end:C.y1,boundary:b[M].boundary})),C.y2<b[P].end&&(q[q.length-1].end=C.y2,q.push({start:C.y2,end:b[P].end,boundary:b[P].boundary})),F=M;F<=P;F++){if(B=b[F],I=B.boundary,I.x2New!==void 0)continue;let Y=!1;for(D=M-1;!Y&&D>=0&&b[D].start>=I.y1;D--)Y=b[D].boundary===I;for(D=P+1;!Y&&D<b.length&&b[D].end<=I.y2;D++)Y=b[D].boundary===I;for(D=0;!Y&&D<q.length;D++)Y=q[D].boundary===I;Y||(I.x2New=W)}Array.prototype.splice.apply(b,[M,P-M+1].concat(q))}for(let C of b){let M=C.boundary;M.x2New===void 0&&(M.x2New=Math.max(w,M.x2))}}class c{constructor({textContent:S,textContentStream:E,container:b,viewport:C,textDivs:M,textContentItemsStr:P,enhanceTextSelection:B}){var I;this._textContent=S,this._textContentStream=E,this._container=b,this._document=b.ownerDocument,this._viewport=C,this._textDivs=M||[],this._textContentItemsStr=P||[],this._enhanceTextSelection=!!B,this._fontInspectorEnabled=!!((I=globalThis.FontInspector)!=null&&I.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(S,E){for(let b=0,C=S.length;b<C;b++){if(S[b].str===void 0){if(S[b].type==="beginMarkedContentProps"||S[b].type==="beginMarkedContent"){let M=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),S[b].id!==null&&this._container.setAttribute("id",`${S[b].id}`),M.appendChild(this._container)}else S[b].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(S[b].str),m(this,S[b],E,this._layoutTextCtx)}}_layoutText(S){let E=this._textDivProperties.get(S),b="";if(E.canvasWidth!==0&&E.hasText){let{fontSize:C,fontFamily:M}=S.style;(C!==this._layoutTextLastFontSize||M!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${C} ${M}`,this._layoutTextLastFontSize=C,this._layoutTextLastFontFamily=M);let{width:P}=this._layoutTextCtx.measureText(S.textContent);if(P>0){let B=E.canvasWidth/P;this._enhanceTextSelection&&(E.scale=B),b=`scaleX(${B})`}}if(E.angle!==0&&(b=`rotate(${E.angle}deg) ${b}`),b.length>0&&(this._enhanceTextSelection&&(E.originalTransform=b),S.style.transform=b),E.hasText&&this._container.appendChild(S),E.hasEOL){let C=document.createElement("br");C.setAttribute("role","presentation"),this._container.appendChild(C)}}_render(S=0){let E=(0,r.createPromiseCapability)(),b=Object.create(null),C=this._document.createElement("canvas");if(C.height=C.width=o,this._layoutTextCtx=C.getContext("2d",{alpha:!1}),this._textContent){let M=this._textContent.items,P=this._textContent.styles;this._processItems(M,P),E.resolve()}else if(this._textContentStream){let M=()=>{this._reader.read().then(({value:P,done:B})=>{if(B){E.resolve();return}Object.assign(b,P.styles),this._processItems(P.items,b),M()},E.reject)};this._reader=this._textContentStream.getReader(),M()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');E.promise.then(()=>{b=null,S?this._renderTimer=setTimeout(()=>{y(this),this._renderTimer=null},S):y(this)},this._capability.reject)}expandTextDivs(S=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(v(this),this._bounds=null);let E=[],b=[];for(let C=0,M=this._textDivs.length;C<M;C++){let P=this._textDivs[C],B=this._textDivProperties.get(P);B.hasText&&(S?(E.length=0,b.length=0,B.originalTransform&&E.push(B.originalTransform),B.paddingTop>0?(b.push(`${B.paddingTop}px`),E.push(`translateY(${-B.paddingTop}px)`)):b.push(0),B.paddingRight>0?b.push(`${B.paddingRight/B.scale}px`):b.push(0),B.paddingBottom>0?b.push(`${B.paddingBottom}px`):b.push(0),B.paddingLeft>0?(b.push(`${B.paddingLeft/B.scale}px`),E.push(`translateX(${-B.paddingLeft/B.scale}px)`)):b.push(0),P.style.padding=b.join(" "),E.length&&(P.style.transform=E.join(" "))):(P.style.padding=null,P.style.transform=B.originalTransform))}}}function g(w){let S=new c({textContent:w.textContent,textContentStream:w.textContentStream,container:w.container,viewport:w.viewport,textDivs:w.textDivs,textContentItemsStr:w.textContentItemsStr,enhanceTextSelection:w.enhanceTextSelection});return S._render(w.timeout),S}},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var r=t(1),i=t(5),o=t(3);let s=class{constructor(){(0,r.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=s;{let h=function(b){let C=[],M=[];for(let P of b){if(P.fn==="save"){C.push({fnId:92,fn:"group",items:[]}),M.push(C),C=C[C.length-1].items;continue}P.fn==="restore"?C=M.pop():C.push(P)}return C},c=function(b){if(Number.isInteger(b))return b.toString();let C=b.toFixed(10),M=C.length-1;if(C[M]!=="0")return C;do M--;while(C[M]==="0");return C.substring(0,C[M]==="."?M:M+1)},g=function(b){if(b[4]===0&&b[5]===0){if(b[1]===0&&b[2]===0)return b[0]===1&&b[3]===1?"":`scale(${c(b[0])} ${c(b[3])})`;if(b[0]===b[3]&&b[1]===-b[2]){let C=Math.acos(b[0])*180/Math.PI;return`rotate(${c(C)})`}}else if(b[0]===1&&b[1]===0&&b[2]===0&&b[3]===1)return`translate(${c(b[4])} ${c(b[5])})`;return`matrix(${c(b[0])} ${c(b[1])} ${c(b[2])} ${c(b[3])} ${c(b[4])} ${c(b[5])})`},l={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},f="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/1999/xlink",m=["butt","round","square"],y=["miter","round","bevel"],_=function(b,C="",M=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!M)return URL.createObjectURL(new Blob([b],{type:C}));let P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",B=`data:${C};base64,`;for(let I=0,F=b.length;I<F;I+=3){let D=b[I]&255,W=b[I+1]&255,q=b[I+2]&255,G=D>>2,Y=(D&3)<<4|W>>4,X=I+1<F?(W&15)<<2|q>>6:64,Q=I+2<F?q&63:64;B+=P[G]+P[Y]+P[X]+P[Q]}return B},v=function(){let b=new Uint8Array([137,80,78,71,13,10,26,10]),C=12,M=new Int32Array(256);for(let q=0;q<256;q++){let G=q;for(let Y=0;Y<8;Y++)G&1?G=3988292384^G>>1&2147483647:G=G>>1&2147483647;M[q]=G}function P(q,G,Y){let X=-1;for(let Q=G;Q<Y;Q++){let se=(X^q[Q])&255,ve=M[se];X=X>>>8^ve}return X^-1}function B(q,G,Y,X){let Q=X,se=G.length;Y[Q]=se>>24&255,Y[Q+1]=se>>16&255,Y[Q+2]=se>>8&255,Y[Q+3]=se&255,Q+=4,Y[Q]=q.charCodeAt(0)&255,Y[Q+1]=q.charCodeAt(1)&255,Y[Q+2]=q.charCodeAt(2)&255,Y[Q+3]=q.charCodeAt(3)&255,Q+=4,Y.set(G,Q),Q+=G.length;let ve=P(Y,X+4,Q);Y[Q]=ve>>24&255,Y[Q+1]=ve>>16&255,Y[Q+2]=ve>>8&255,Y[Q+3]=ve&255}function I(q,G,Y){let X=1,Q=0;for(let se=G;se<Y;++se)X=(X+(q[se]&255))%65521,Q=(Q+X)%65521;return Q<<16|X}function F(q){if(!o.isNodeJS)return D(q);try{let G;parseInt(process.versions.node)>=8?G=q:G=Buffer.from(q);let Y=JE().deflateSync(G,{level:9});return Y instanceof Uint8Array?Y:new Uint8Array(Y)}catch(G){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+G)}return D(q)}function D(q){let G=q.length,Y=65535,X=Math.ceil(G/Y),Q=new Uint8Array(2+G+X*5+4),se=0;Q[se++]=120,Q[se++]=156;let ve=0;for(;G>Y;)Q[se++]=0,Q[se++]=255,Q[se++]=255,Q[se++]=0,Q[se++]=0,Q.set(q.subarray(ve,ve+Y),se),se+=Y,ve+=Y,G-=Y;Q[se++]=1,Q[se++]=G&255,Q[se++]=G>>8&255,Q[se++]=~G&65535&255,Q[se++]=(~G&65535)>>8&255,Q.set(q.subarray(ve),se),se+=q.length-ve;let ce=I(q,0,q.length);return Q[se++]=ce>>24&255,Q[se++]=ce>>16&255,Q[se++]=ce>>8&255,Q[se++]=ce&255,Q}function W(q,G,Y,X){let Q=q.width,se=q.height,ve,ce,z,H=q.data;switch(G){case r.ImageKind.GRAYSCALE_1BPP:ce=0,ve=1,z=Q+7>>3;break;case r.ImageKind.RGB_24BPP:ce=2,ve=8,z=Q*3;break;case r.ImageKind.RGBA_32BPP:ce=6,ve=8,z=Q*4;break;default:throw new Error("invalid format")}let R=new Uint8Array((1+z)*se),x=0,T=0;for(let re=0;re<se;++re)R[x++]=0,R.set(H.subarray(T,T+z),x),T+=z,x+=z;if(G===r.ImageKind.GRAYSCALE_1BPP&&X){x=0;for(let re=0;re<se;re++){x++;for(let ne=0;ne<z;ne++)R[x++]^=255}}let O=new Uint8Array([Q>>24&255,Q>>16&255,Q>>8&255,Q&255,se>>24&255,se>>16&255,se>>8&255,se&255,ve,ce,0,0,0]),N=F(R),U=b.length+C*3+O.length+N.length,V=new Uint8Array(U),Z=0;return V.set(b,Z),Z+=b.length,B("IHDR",O,V,Z),Z+=C+O.length,B("IDATA",N,V,Z),Z+=C+N.length,B("IEND",new Uint8Array(0),V,Z),_(V,"image/png",Y)}return function(G,Y,X){let Q=G.kind===void 0?r.ImageKind.GRAYSCALE_1BPP:G.kind;return W(G,Q,Y,X)}}();class p{constructor(){this.fontSizeScale=1,this.fontWeight=l.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=l.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(C,M){this.x=C,this.y=M}}let w=0,S=0,E=0;e.SVGGraphics=s=class{constructor(b,C,M=!1){this.svgFactory=new i.DOMSVGFactory,this.current=new p,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=b,this.objs=C,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!M,this._operatorIdMapping=[];for(let P in r.OPS)this._operatorIdMapping[r.OPS[P]]=P}save(){this.transformStack.push(this.transformMatrix);let b=this.current;this.extraStack.push(b),this.current=b.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(b){this.save(),this.executeOpTree(b),this.restore()}loadDependencies(b){let C=b.fnArray,M=b.argsArray;for(let P=0,B=C.length;P<B;P++)if(C[P]===r.OPS.dependency)for(let I of M[P]){let F=I.startsWith("g_")?this.commonObjs:this.objs,D=new Promise(W=>{F.get(I,W)});this.current.dependencies.push(D)}return Promise.all(this.current.dependencies)}transform(b,C,M,P,B,I){let F=[b,C,M,P,B,I];this.transformMatrix=r.Util.transform(this.transformMatrix,F),this.tgrp=null}getSVG(b,C){this.viewport=C;let M=this._initialize(C);return this.loadDependencies(b).then(()=>(this.transformMatrix=r.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(b)),M))}convertOpList(b){let C=this._operatorIdMapping,M=b.argsArray,P=b.fnArray,B=[];for(let I=0,F=P.length;I<F;I++){let D=P[I];B.push({fnId:D,fn:C[D],args:M[I]})}return h(B)}executeOpTree(b){for(let C of b){let M=C.fn,P=C.fnId,B=C.args;switch(P|0){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(B);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(B[0],B[1]);break;case r.OPS.setFont:this.setFont(B);break;case r.OPS.showText:this.showText(B[0]);break;case r.OPS.showSpacedText:this.showText(B[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(B[0],B[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(B[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(B[0]);break;case r.OPS.setHScale:this.setHScale(B[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(B[0],B[1],B[2],B[3],B[4],B[5]);break;case r.OPS.setTextRise:this.setTextRise(B[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(B[0]);break;case r.OPS.setLineWidth:this.setLineWidth(B[0]);break;case r.OPS.setLineJoin:this.setLineJoin(B[0]);break;case r.OPS.setLineCap:this.setLineCap(B[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(B[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(B[0],B[1],B[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(B[0],B[1],B[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(B);break;case r.OPS.setFillColorN:this.setFillColorN(B);break;case r.OPS.shadingFill:this.shadingFill(B[0]);break;case r.OPS.setDash:this.setDash(B[0],B[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(B[0]);break;case r.OPS.setFlatness:this.setFlatness(B[0]);break;case r.OPS.setGState:this.setGState(B[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(B[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(B[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(B[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(B[0],B[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(B[0],B[1],B[2],B[3],B[4],B[5]);break;case r.OPS.constructPath:this.constructPath(B[0],B[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(C.items);break;default:(0,r.warn)(`Unimplemented operator ${M}`);break}}}setWordSpacing(b){this.current.wordSpacing=b}setCharSpacing(b){this.current.charSpacing=b}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(b,C,M,P,B,I){let F=this.current;F.textMatrix=F.lineMatrix=[b,C,M,P,B,I],F.textMatrixScale=Math.hypot(b,C),F.x=F.lineX=0,F.y=F.lineY=0,F.xcoords=[],F.ycoords=[],F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${c(F.fontSize)}px`),F.tspan.setAttributeNS(null,"y",c(-F.y)),F.txtElement=this.svgFactory.createElement("svg:text"),F.txtElement.appendChild(F.tspan)}beginText(){let b=this.current;b.x=b.lineX=0,b.y=b.lineY=0,b.textMatrix=r.IDENTITY_MATRIX,b.lineMatrix=r.IDENTITY_MATRIX,b.textMatrixScale=1,b.tspan=this.svgFactory.createElement("svg:tspan"),b.txtElement=this.svgFactory.createElement("svg:text"),b.txtgrp=this.svgFactory.createElement("svg:g"),b.xcoords=[],b.ycoords=[]}moveText(b,C){let M=this.current;M.x=M.lineX+=b,M.y=M.lineY+=C,M.xcoords=[],M.ycoords=[],M.tspan=this.svgFactory.createElement("svg:tspan"),M.tspan.setAttributeNS(null,"font-family",M.fontFamily),M.tspan.setAttributeNS(null,"font-size",`${c(M.fontSize)}px`),M.tspan.setAttributeNS(null,"y",c(-M.y))}showText(b){let C=this.current,M=C.font,P=C.fontSize;if(P===0)return;let B=C.fontSizeScale,I=C.charSpacing,F=C.wordSpacing,D=C.fontDirection,W=C.textHScale*D,q=M.vertical,G=q?1:-1,Y=M.defaultVMetrics,X=P*C.fontMatrix[0],Q=0;for(let ce of b){if(ce===null){Q+=D*F;continue}else if(typeof ce=="number"){Q+=G*ce*P/1e3;continue}let z=(ce.isSpace?F:0)+I,H=ce.fontChar,R,x,T=ce.width;if(q){let N,U=ce.vmetric||Y;N=ce.vmetric?U[1]:T*.5,N=-N*X;let V=U[2]*X;T=U?-U[0]:T,R=N/B,x=(Q+V)/B}else R=Q/B,x=0;(ce.isInFont||M.missingFile)&&(C.xcoords.push(C.x+R),q&&C.ycoords.push(-C.y+x),C.tspan.textContent+=H);let O;q?O=T*X-z*D:O=T*X+z*D,Q+=O}C.tspan.setAttributeNS(null,"x",C.xcoords.map(c).join(" ")),q?C.tspan.setAttributeNS(null,"y",C.ycoords.map(c).join(" ")):C.tspan.setAttributeNS(null,"y",c(-C.y)),q?C.y-=Q:C.x+=Q*W,C.tspan.setAttributeNS(null,"font-family",C.fontFamily),C.tspan.setAttributeNS(null,"font-size",`${c(C.fontSize)}px`),C.fontStyle!==l.fontStyle&&C.tspan.setAttributeNS(null,"font-style",C.fontStyle),C.fontWeight!==l.fontWeight&&C.tspan.setAttributeNS(null,"font-weight",C.fontWeight);let se=C.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;if(se===r.TextRenderingMode.FILL||se===r.TextRenderingMode.FILL_STROKE?(C.fillColor!==l.fillColor&&C.tspan.setAttributeNS(null,"fill",C.fillColor),C.fillAlpha<1&&C.tspan.setAttributeNS(null,"fill-opacity",C.fillAlpha)):C.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?C.tspan.setAttributeNS(null,"fill","transparent"):C.tspan.setAttributeNS(null,"fill","none"),se===r.TextRenderingMode.STROKE||se===r.TextRenderingMode.FILL_STROKE){let ce=1/(C.textMatrixScale||1);this._setStrokeAttributes(C.tspan,ce)}let ve=C.textMatrix;C.textRise!==0&&(ve=ve.slice(),ve[5]+=C.textRise),C.txtElement.setAttributeNS(null,"transform",`${g(ve)} scale(${c(W)}, -1)`),C.txtElement.setAttributeNS(f,"xml:space","preserve"),C.txtElement.appendChild(C.tspan),C.txtgrp.appendChild(C.txtElement),this._ensureTransformGroup().appendChild(C.txtElement)}setLeadingMoveText(b,C){this.setLeading(-C),this.moveText(b,C)}addFontStyle(b){if(!b.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));let C=_(b.data,b.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${b.loadedName}"; src: url(${C}); }
`}setFont(b){let C=this.current,M=this.commonObjs.get(b[0]),P=b[1];C.font=M,this.embedFonts&&!M.missingFile&&!this.embeddedFonts[M.loadedName]&&(this.addFontStyle(M),this.embeddedFonts[M.loadedName]=M),C.fontMatrix=M.fontMatrix||r.FONT_IDENTITY_MATRIX;let B="normal";M.black?B="900":M.bold&&(B="bold");let I=M.italic?"italic":"normal";P<0?(P=-P,C.fontDirection=-1):C.fontDirection=1,C.fontSize=P,C.fontFamily=M.loadedName,C.fontWeight=B,C.fontStyle=I,C.tspan=this.svgFactory.createElement("svg:tspan"),C.tspan.setAttributeNS(null,"y",c(-C.y)),C.xcoords=[],C.ycoords=[]}endText(){var C;let b=this.current;b.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&((C=b.txtElement)!=null&&C.hasChildNodes())&&(b.element=b.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(b){b>0&&(this.current.lineWidth=b)}setLineCap(b){this.current.lineCap=m[b]}setLineJoin(b){this.current.lineJoin=y[b]}setMiterLimit(b){this.current.miterLimit=b}setStrokeAlpha(b){this.current.strokeAlpha=b}setStrokeRGBColor(b,C,M){this.current.strokeColor=r.Util.makeHexColor(b,C,M)}setFillAlpha(b){this.current.fillAlpha=b}setFillRGBColor(b,C,M){this.current.fillColor=r.Util.makeHexColor(b,C,M),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(b){this.current.strokeColor=this._makeColorN_Pattern(b)}setFillColorN(b){this.current.fillColor=this._makeColorN_Pattern(b)}shadingFill(b){let C=this.viewport.width,M=this.viewport.height,P=r.Util.inverseTransform(this.transformMatrix),B=r.Util.applyTransform([0,0],P),I=r.Util.applyTransform([0,M],P),F=r.Util.applyTransform([C,0],P),D=r.Util.applyTransform([C,M],P),W=Math.min(B[0],I[0],F[0],D[0]),q=Math.min(B[1],I[1],F[1],D[1]),G=Math.max(B[0],I[0],F[0],D[0]),Y=Math.max(B[1],I[1],F[1],D[1]),X=this.svgFactory.createElement("svg:rect");X.setAttributeNS(null,"x",W),X.setAttributeNS(null,"y",q),X.setAttributeNS(null,"width",G-W),X.setAttributeNS(null,"height",Y-q),X.setAttributeNS(null,"fill",this._makeShadingPattern(b)),this.current.fillAlpha<1&&X.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(X)}_makeColorN_Pattern(b){return b[0]==="TilingPattern"?this._makeTilingPattern(b):this._makeShadingPattern(b)}_makeTilingPattern(b){let C=b[1],M=b[2],P=b[3]||r.IDENTITY_MATRIX,[B,I,F,D]=b[4],W=b[5],q=b[6],G=b[7],Y=`shading${E++}`,[X,Q,se,ve]=r.Util.normalizeRect([...r.Util.applyTransform([B,I],P),...r.Util.applyTransform([F,D],P)]),[ce,z]=r.Util.singularValueDecompose2dScale(P),H=W*ce,R=q*z,x=this.svgFactory.createElement("svg:pattern");x.setAttributeNS(null,"id",Y),x.setAttributeNS(null,"patternUnits","userSpaceOnUse"),x.setAttributeNS(null,"width",H),x.setAttributeNS(null,"height",R),x.setAttributeNS(null,"x",`${X}`),x.setAttributeNS(null,"y",`${Q}`);let T=this.svg,O=this.transformMatrix,N=this.current.fillColor,U=this.current.strokeColor,V=this.svgFactory.create(se-X,ve-Q);if(this.svg=V,this.transformMatrix=P,G===2){let Z=r.Util.makeHexColor(...C);this.current.fillColor=Z,this.current.strokeColor=Z}return this.executeOpTree(this.convertOpList(M)),this.svg=T,this.transformMatrix=O,this.current.fillColor=N,this.current.strokeColor=U,x.appendChild(V.childNodes[0]),this.defs.appendChild(x),`url(#${Y})`}_makeShadingPattern(b){switch(typeof b=="string"&&(b=this.objs.get(b)),b[0]){case"RadialAxial":let C=`shading${E++}`,M=b[3],P;switch(b[1]){case"axial":let B=b[4],I=b[5];P=this.svgFactory.createElement("svg:linearGradient"),P.setAttributeNS(null,"id",C),P.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),P.setAttributeNS(null,"x1",B[0]),P.setAttributeNS(null,"y1",B[1]),P.setAttributeNS(null,"x2",I[0]),P.setAttributeNS(null,"y2",I[1]);break;case"radial":let F=b[4],D=b[5],W=b[6],q=b[7];P=this.svgFactory.createElement("svg:radialGradient"),P.setAttributeNS(null,"id",C),P.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),P.setAttributeNS(null,"cx",D[0]),P.setAttributeNS(null,"cy",D[1]),P.setAttributeNS(null,"r",q),P.setAttributeNS(null,"fx",F[0]),P.setAttributeNS(null,"fy",F[1]),P.setAttributeNS(null,"fr",W);break;default:throw new Error(`Unknown RadialAxial type: ${b[1]}`)}for(let B of M){let I=this.svgFactory.createElement("svg:stop");I.setAttributeNS(null,"offset",B[0]),I.setAttributeNS(null,"stop-color",B[1]),P.appendChild(I)}return this.defs.appendChild(P),`url(#${C})`;case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${b[0]}`)}}setDash(b,C){this.current.dashArray=b,this.current.dashPhase=C}constructPath(b,C){let M=this.current,P=M.x,B=M.y,I=[],F=0;for(let D of b)switch(D|0){case r.OPS.rectangle:P=C[F++],B=C[F++];let W=C[F++],q=C[F++],G=P+W,Y=B+q;I.push("M",c(P),c(B),"L",c(G),c(B),"L",c(G),c(Y),"L",c(P),c(Y),"Z");break;case r.OPS.moveTo:P=C[F++],B=C[F++],I.push("M",c(P),c(B));break;case r.OPS.lineTo:P=C[F++],B=C[F++],I.push("L",c(P),c(B));break;case r.OPS.curveTo:P=C[F+4],B=C[F+5],I.push("C",c(C[F]),c(C[F+1]),c(C[F+2]),c(C[F+3]),c(P),c(B)),F+=6;break;case r.OPS.curveTo2:I.push("C",c(P),c(B),c(C[F]),c(C[F+1]),c(C[F+2]),c(C[F+3])),P=C[F+2],B=C[F+3],F+=4;break;case r.OPS.curveTo3:P=C[F+2],B=C[F+3],I.push("C",c(C[F]),c(C[F+1]),c(P),c(B),c(P),c(B)),F+=4;break;case r.OPS.closePath:I.push("Z");break}I=I.join(" "),M.path&&b.length>0&&b[0]!==r.OPS.rectangle&&b[0]!==r.OPS.moveTo?I=M.path.getAttributeNS(null,"d")+I:(M.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(M.path)),M.path.setAttributeNS(null,"d",I),M.path.setAttributeNS(null,"fill","none"),M.element=M.path,M.setCurrentPoint(P,B)}endPath(){let b=this.current;if(b.path=null,!this.pendingClip)return;if(!b.element){this.pendingClip=null;return}let C=`clippath${w++}`,M=this.svgFactory.createElement("svg:clipPath");M.setAttributeNS(null,"id",C),M.setAttributeNS(null,"transform",g(this.transformMatrix));let P=b.element.cloneNode(!0);if(this.pendingClip==="evenodd"?P.setAttributeNS(null,"clip-rule","evenodd"):P.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,M.appendChild(P),this.defs.appendChild(M),b.activeClipUrl){b.clipGroup=null;for(let B of this.extraStack)B.clipGroup=null;M.setAttributeNS(null,"clip-path",b.activeClipUrl)}b.activeClipUrl=`url(#${C})`,this.tgrp=null}clip(b){this.pendingClip=b}closePath(){let b=this.current;if(b.path){let C=`${b.path.getAttributeNS(null,"d")}Z`;b.path.setAttributeNS(null,"d",C)}}setLeading(b){this.current.leading=-b}setTextRise(b){this.current.textRise=b}setTextRenderingMode(b){this.current.textRenderingMode=b}setHScale(b){this.current.textHScale=b/100}setRenderingIntent(b){}setFlatness(b){}setGState(b){for(let[C,M]of b)switch(C){case"LW":this.setLineWidth(M);break;case"LC":this.setLineCap(M);break;case"LJ":this.setLineJoin(M);break;case"ML":this.setMiterLimit(M);break;case"D":this.setDash(M[0],M[1]);break;case"RI":this.setRenderingIntent(M);break;case"FL":this.setFlatness(M);break;case"Font":this.setFont(M);break;case"CA":this.setStrokeAlpha(M);break;case"ca":this.setFillAlpha(M);break;default:(0,r.warn)(`Unimplemented graphic state operator ${C}`);break}}fill(){let b=this.current;b.element&&(b.element.setAttributeNS(null,"fill",b.fillColor),b.element.setAttributeNS(null,"fill-opacity",b.fillAlpha),this.endPath())}stroke(){let b=this.current;b.element&&(this._setStrokeAttributes(b.element),b.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(b,C=1){let M=this.current,P=M.dashArray;C!==1&&P.length>0&&(P=P.map(function(B){return C*B})),b.setAttributeNS(null,"stroke",M.strokeColor),b.setAttributeNS(null,"stroke-opacity",M.strokeAlpha),b.setAttributeNS(null,"stroke-miterlimit",c(M.miterLimit)),b.setAttributeNS(null,"stroke-linecap",M.lineCap),b.setAttributeNS(null,"stroke-linejoin",M.lineJoin),b.setAttributeNS(null,"stroke-width",c(C*M.lineWidth)+"px"),b.setAttributeNS(null,"stroke-dasharray",P.map(c).join(" ")),b.setAttributeNS(null,"stroke-dashoffset",c(C*M.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y","0"),b.setAttributeNS(null,"width","1px"),b.setAttributeNS(null,"height","1px"),b.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(b)}paintImageXObject(b){let C=b.startsWith("g_")?this.commonObjs.get(b):this.objs.get(b);if(!C){(0,r.warn)(`Dependent image with object ID ${b} is not ready yet`);return}this.paintInlineImageXObject(C)}paintInlineImageXObject(b,C){let M=b.width,P=b.height,B=v(b,this.forceDataSchema,!!C),I=this.svgFactory.createElement("svg:rect");I.setAttributeNS(null,"x","0"),I.setAttributeNS(null,"y","0"),I.setAttributeNS(null,"width",c(M)),I.setAttributeNS(null,"height",c(P)),this.current.element=I,this.clip("nonzero");let F=this.svgFactory.createElement("svg:image");F.setAttributeNS(u,"xlink:href",B),F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y",c(-P)),F.setAttributeNS(null,"width",c(M)+"px"),F.setAttributeNS(null,"height",c(P)+"px"),F.setAttributeNS(null,"transform",`scale(${c(1/M)} ${c(-1/P)})`),C?C.appendChild(F):this._ensureTransformGroup().appendChild(F)}paintImageMaskXObject(b){let C=this.current,M=b.width,P=b.height,B=C.fillColor;C.maskId=`mask${S++}`;let I=this.svgFactory.createElement("svg:mask");I.setAttributeNS(null,"id",C.maskId);let F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y","0"),F.setAttributeNS(null,"width",c(M)),F.setAttributeNS(null,"height",c(P)),F.setAttributeNS(null,"fill",B),F.setAttributeNS(null,"mask",`url(#${C.maskId})`),this.defs.appendChild(I),this._ensureTransformGroup().appendChild(F),this.paintInlineImageXObject(b,I)}paintFormXObjectBegin(b,C){if(Array.isArray(b)&&b.length===6&&this.transform(b[0],b[1],b[2],b[3],b[4],b[5]),C){let M=C[2]-C[0],P=C[3]-C[1],B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x",C[0]),B.setAttributeNS(null,"y",C[1]),B.setAttributeNS(null,"width",c(M)),B.setAttributeNS(null,"height",c(P)),this.current.element=B,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(b){let C=this.svgFactory.create(b.width,b.height),M=this.svgFactory.createElement("svg:defs");C.appendChild(M),this.defs=M;let P=this.svgFactory.createElement("svg:g");return P.setAttributeNS(null,"transform",g(b.transform)),C.appendChild(P),this.svg=P,C}_ensureClipGroup(){if(!this.current.clipGroup){let b=this.svgFactory.createElement("svg:g");b.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(b),this.current.clipGroup=b}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",g(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var r=t(1),i=t(26);let o=bf(),s=KE(),l=YE(),f=yf(),u=/^file:\/\/\/[a-zA-Z]:\//;function m(S){let E=f.parse(S);return E.protocol==="file:"||E.host?E:/^[a-z]:[/\\]/i.test(S)?f.parse(`file:///${S}`):(E.host||(E.protocol="file:"),E)}class y{constructor(E){this.source=E,this.url=m(E.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&E.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var E;return((E=this._fullRequestReader)==null?void 0:E._loaded)??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new h(this),this._fullRequestReader}getRangeReader(E,b){if(b<=this._progressiveDataLength)return null;let C=this.isFsUrl?new w(this,E,b):new c(this,E,b);return this._rangeRequestReaders.push(C),C}cancelAllRequests(E){this._fullRequestReader&&this._fullRequestReader.cancel(E);for(let b of this._rangeRequestReaders.slice(0))b.cancel(E)}}e.PDFNodeStream=y;class _{constructor(E){this._url=E.url,this._done=!1,this._storedError=null,this.onProgress=null;let b=E.source;this._contentLength=b.length,this._loaded=0,this._filename=null,this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let E=this._readableStream.read();return E===null?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=E.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(E).buffer,done:!1})}cancel(E){if(!this._readableStream){this._error(E);return}this._readableStream.destroy(E)}_error(E){this._storedError=E,this._readCapability.resolve()}_setReadableStream(E){this._readableStream=E,E.on("readable",()=>{this._readCapability.resolve()}),E.on("end",()=>{E.destroy(),this._done=!0,this._readCapability.resolve()}),E.on("error",b=>{this._error(b)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class v{constructor(E){this._url=E.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();let b=E.source;this._isStreamingSupported=!b.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let E=this._readableStream.read();return E===null?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=E.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(E).buffer,done:!1})}cancel(E){if(!this._readableStream){this._error(E);return}this._readableStream.destroy(E)}_error(E){this._storedError=E,this._readCapability.resolve()}_setReadableStream(E){this._readableStream=E,E.on("readable",()=>{this._readCapability.resolve()}),E.on("end",()=>{E.destroy(),this._done=!0,this._readCapability.resolve()}),E.on("error",b=>{this._error(b)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function p(S,E){return{protocol:S.protocol,auth:S.auth,host:S.hostname,port:S.port,path:S.path,method:"GET",headers:E}}class h extends _{constructor(E){super(E);let b=C=>{if(C.statusCode===404){let I=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=I,this._headersCapability.reject(I);return}this._headersCapability.resolve(),this._setReadableStream(C);let M=I=>this._readableStream.headers[I.toLowerCase()],{allowRangeRequests:P,suggestedLength:B}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:M,isHttp:E.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=P,this._contentLength=B||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(M)};this._request=null,this._url.protocol==="http:"?this._request=s.request(p(this._url,E.httpHeaders),b):this._request=l.request(p(this._url,E.httpHeaders),b),this._request.on("error",C=>{this._storedError=C,this._headersCapability.reject(C)}),this._request.end()}}class c extends v{constructor(E,b,C){super(E),this._httpHeaders={};for(let P in E.httpHeaders){let B=E.httpHeaders[P];typeof B>"u"||(this._httpHeaders[P]=B)}this._httpHeaders.Range=`bytes=${b}-${C-1}`;let M=P=>{if(P.statusCode===404){let B=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=B;return}this._setReadableStream(P)};this._request=null,this._url.protocol==="http:"?this._request=s.request(p(this._url,this._httpHeaders),M):this._request=l.request(p(this._url,this._httpHeaders),M),this._request.on("error",P=>{this._storedError=P}),this._request.end()}}class g extends _{constructor(E){super(E);let b=decodeURIComponent(this._url.path);u.test(this._url.href)&&(b=b.replace(/^\//,"")),o.lstat(b,(C,M)=>{if(C){C.code==="ENOENT"&&(C=new r.MissingPDFException(`Missing PDF "${b}".`)),this._storedError=C,this._headersCapability.reject(C);return}this._contentLength=M.size,this._setReadableStream(o.createReadStream(b)),this._headersCapability.resolve()})}}class w extends v{constructor(E,b,C){super(E);let M=decodeURIComponent(this._url.path);u.test(this._url.href)&&(M=M.replace(/^\//,"")),this._setReadableStream(o.createReadStream(M,{start:b,end:C-1}))}}},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=f,e.extractFilenameFromHeader=l,e.validateRangeRequestCapabilities=s,e.validateResponseStatus=u;var r=t(1),i=t(27),o=t(5);function s({getResponseHeader:m,isHttp:y,rangeChunkSize:_,disableRange:v}){let p={allowRangeRequests:!1,suggestedLength:void 0},h=parseInt(m("Content-Length"),10);return!Number.isInteger(h)||(p.suggestedLength=h,h<=2*_)||v||!y||m("Accept-Ranges")!=="bytes"||(m("Content-Encoding")||"identity")!=="identity"||(p.allowRangeRequests=!0),p}function l(m){let y=m("Content-Disposition");if(y){let _=(0,i.getFilenameFromContentDispositionHeader)(y);if(_.includes("%"))try{_=decodeURIComponent(_)}catch{}if((0,o.isPdfFile)(_))return _}return null}function f(m,y){return m===404||m===0&&y.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+y+'".'):new r.UnexpectedResponseException(`Unexpected server response (${m}) while retrieving PDF "${y}".`,m)}function u(m){return m===200||m===206}},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=i;var r=t(1);function i(o){let s=!0,l=f("filename\\*","i").exec(o);if(l){l=l[1];let h=_(l);return h=unescape(h),h=v(h),h=p(h),m(h)}if(l=y(o),l){let h=p(l);return m(h)}if(l=f("filename","i").exec(o),l){l=l[1];let h=_(l);return h=p(h),m(h)}function f(h,c){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',c)}function u(h,c){if(h){if(!/^[\x00-\xFF]+$/.test(c))return c;try{let g=new TextDecoder(h,{fatal:!0}),w=(0,r.stringToBytes)(c);c=g.decode(w),s=!1}catch{}}return c}function m(h){return s&&/[\x80-\xff]/.test(h)&&(h=u("utf-8",h),s&&(h=u("iso-8859-1",h))),h}function y(h){let c=[],g,w=f("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=w.exec(h))!==null;){let[,E,b,C]=g;if(E=parseInt(E,10),E in c){if(E===0)break;continue}c[E]=[b,C]}let S=[];for(let E=0;E<c.length&&E in c;++E){let[b,C]=c[E];C=_(C),b&&(C=unescape(C),E===0&&(C=v(C))),S.push(C)}return S.join("")}function _(h){if(h.startsWith('"')){let c=h.slice(1).split('\\"');for(let g=0;g<c.length;++g){let w=c[g].indexOf('"');w!==-1&&(c[g]=c[g].slice(0,w),c.length=g+1),c[g]=c[g].replace(/\\(.)/g,"$1")}h=c.join('"')}return h}function v(h){let c=h.indexOf("'");if(c===-1)return h;let g=h.slice(0,c),S=h.slice(c+1).replace(/^[^']*'/,"");return u(g,S)}function p(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(c,g,w,S){if(w==="q"||w==="Q")return S=S.replace(/_/g," "),S=S.replace(/=([0-9a-fA-F]{2})/g,function(E,b){return String.fromCharCode(parseInt(b,16))}),u(g,S);try{S=atob(S)}catch{}return u(g,S)})}return""}},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var r=t(1),i=t(26);let o=200,s=206;function l(_){let v=_.response;return typeof v!="string"?v:(0,r.stringToBytes)(v).buffer}class f{constructor(v,p={}){this.url=v,this.isHttp=/^https?:/i.test(v),this.httpHeaders=this.isHttp&&p.httpHeaders||Object.create(null),this.withCredentials=p.withCredentials||!1,this.getXhr=p.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(v,p,h){let c={begin:v,end:p};for(let g in h)c[g]=h[g];return this.request(c)}requestFull(v){return this.request(v)}request(v){let p=this.getXhr(),h=this.currXhrId++,c=this.pendingRequests[h]={xhr:p};p.open("GET",this.url),p.withCredentials=this.withCredentials;for(let g in this.httpHeaders){let w=this.httpHeaders[g];typeof w>"u"||p.setRequestHeader(g,w)}return this.isHttp&&"begin"in v&&"end"in v?(p.setRequestHeader("Range",`bytes=${v.begin}-${v.end-1}`),c.expectedStatus=s):c.expectedStatus=o,p.responseType="arraybuffer",v.onError&&(p.onerror=function(g){v.onError(p.status)}),p.onreadystatechange=this.onStateChange.bind(this,h),p.onprogress=this.onProgress.bind(this,h),c.onHeadersReceived=v.onHeadersReceived,c.onDone=v.onDone,c.onError=v.onError,c.onProgress=v.onProgress,p.send(null),h}onProgress(v,p){var c;let h=this.pendingRequests[v];h&&((c=h.onProgress)==null||c.call(h,p))}onStateChange(v,p){var E,b,C;let h=this.pendingRequests[v];if(!h)return;let c=h.xhr;if(c.readyState>=2&&h.onHeadersReceived&&(h.onHeadersReceived(),delete h.onHeadersReceived),c.readyState!==4||!(v in this.pendingRequests))return;if(delete this.pendingRequests[v],c.status===0&&this.isHttp){(E=h.onError)==null||E.call(h,c.status);return}let g=c.status||o;if(!(g===o&&h.expectedStatus===s)&&g!==h.expectedStatus){(b=h.onError)==null||b.call(h,c.status);return}let S=l(c);if(g===s){let M=c.getResponseHeader("Content-Range"),P=/bytes (\d+)-(\d+)\/(\d+)/.exec(M);h.onDone({begin:parseInt(P[1],10),chunk:S})}else S?h.onDone({begin:0,chunk:S}):(C=h.onError)==null||C.call(h,c.status)}getRequestXhr(v){return this.pendingRequests[v].xhr}isPendingRequest(v){return v in this.pendingRequests}abortRequest(v){let p=this.pendingRequests[v].xhr;delete this.pendingRequests[v],p.abort()}}class u{constructor(v){this._source=v,this._manager=new f(v.url,{httpHeaders:v.httpHeaders,withCredentials:v.withCredentials}),this._rangeChunkSize=v.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(v){let p=this._rangeRequestReaders.indexOf(v);p>=0&&this._rangeRequestReaders.splice(p,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new m(this._manager,this._source),this._fullRequestReader}getRangeReader(v,p){let h=new y(this._manager,v,p);return h.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(h),h}cancelAllRequests(v){var p;(p=this._fullRequestReader)==null||p.cancel(v);for(let h of this._rangeRequestReaders.slice(0))h.cancel(v)}}e.PDFNetworkStream=u;class m{constructor(v,p){this._manager=v;let h={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=p.url,this._fullRequestId=v.requestFull(h),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=p.disableRange||!1,this._contentLength=p.length,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let v=this._fullRequestId,p=this._manager.getRequestXhr(v),h=w=>p.getResponseHeader(w),{allowRangeRequests:c,suggestedLength:g}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});c&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(h),this._isRangeSupported&&this._manager.abortRequest(v),this._headersReceivedCapability.resolve()}_onDone(v){if(v&&(this._requests.length>0?this._requests.shift().resolve({value:v.chunk,done:!1}):this._cachedChunks.push(v.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(v){this._storedError=(0,i.createResponseStatusError)(v,this._url),this._headersReceivedCapability.reject(this._storedError);for(let p of this._requests)p.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(v){var p;(p=this.onProgress)==null||p.call(this,{loaded:v.loaded,total:v.lengthComputable?v.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let v=(0,r.createPromiseCapability)();return this._requests.push(v),v.promise}cancel(v){this._done=!0,this._headersReceivedCapability.reject(v);for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class y{constructor(v,p,h){this._manager=v;let c={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=v.url,this._requestId=v.requestRange(p,h,c),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var v;(v=this.onClosed)==null||v.call(this,this)}_onDone(v){let p=v.chunk;this._requests.length>0?this._requests.shift().resolve({value:p,done:!1}):this._queuedChunk=p,this._done=!0;for(let h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(v){this._storedError=(0,i.createResponseStatusError)(v,this._url);for(let p of this._requests)p.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(v){var p;this.isStreamingSupported||(p=this.onProgress)==null||p.call(this,{loaded:v.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let p=this._queuedChunk;return this._queuedChunk=null,{value:p,done:!1}}if(this._done)return{value:void 0,done:!0};let v=(0,r.createPromiseCapability)();return this._requests.push(v),v.promise}cancel(v){this._done=!0;for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var r=t(1),i=t(26);function o(m,y,_){return{method:"GET",headers:m,signal:_==null?void 0:_.signal,mode:"cors",credentials:y?"include":"same-origin",redirect:"follow"}}function s(m){let y=new Headers;for(let _ in m){let v=m[_];typeof v>"u"||y.append(_,v)}return y}class l{constructor(y){this.source=y,this.isHttp=/^https?:/i.test(y.url),this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var y;return((y=this._fullRequestReader)==null?void 0:y._loaded)??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new f(this),this._fullRequestReader}getRangeReader(y,_){if(_<=this._progressiveDataLength)return null;let v=new u(this,y,_);return this._rangeRequestReaders.push(v),v}cancelAllRequests(y){this._fullRequestReader&&this._fullRequestReader.cancel(y);for(let _ of this._rangeRequestReaders.slice(0))_.cancel(y)}}e.PDFFetchStream=l;class f{constructor(y){this._stream=y,this._reader=null,this._loaded=0,this._filename=null;let _=y.source;this._withCredentials=_.withCredentials||!1,this._contentLength=_.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=_.disableRange||!1,this._rangeChunkSize=_.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!_.disableStream,this._isRangeSupported=!_.disableRange,this._headers=s(this._stream.httpHeaders);let v=_.url;fetch(v,o(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!(0,i.validateResponseStatus)(p.status))throw(0,i.createResponseStatusError)(p.status,v);this._reader=p.body.getReader(),this._headersCapability.resolve();let h=w=>p.headers.get(w),{allowRangeRequests:c,suggestedLength:g}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=g||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(h),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;let{value:y,done:_}=await this._reader.read();return _?{value:y,done:_}:(this._loaded+=y.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(y).buffer,done:!1})}cancel(y){this._reader&&this._reader.cancel(y),this._abortController&&this._abortController.abort()}}class u{constructor(y,_,v){this._stream=y,this._reader=null,this._loaded=0;let p=y.source;this._withCredentials=p.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!p.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=s(this._stream.httpHeaders),this._headers.append("Range",`bytes=${_}-${v-1}`);let h=p.url;fetch(h,o(this._headers,this._withCredentials,this._abortController)).then(c=>{if(!(0,i.validateResponseStatus)(c.status))throw(0,i.createResponseStatusError)(c.status,h);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;let{value:y,done:_}=await this._reader.read();return _?{value:y,done:_}:(this._loaded+=y.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(y).buffer,done:!1})}cancel(y){this._reader&&this._reader.cancel(y),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(n){var e=__webpack_module_cache__[n];if(e!==void 0)return e.exports;var t=__webpack_module_cache__[n]={exports:{}};return __webpack_modules__[n](t,t.exports,__w_pdfjs_require__),t.exports}var __webpack_exports__={};return(()=>{var n=__webpack_exports__;Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AnnotationLayer",{enumerable:!0,get:function(){return i.AnnotationLayer}}),Object.defineProperty(n,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(n,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(n,"GlobalWorkerOptions",{enumerable:!0,get:function(){return o.GlobalWorkerOptions}}),Object.defineProperty(n,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(n,"LoopbackPort",{enumerable:!0,get:function(){return t.LoopbackPort}}),Object.defineProperty(n,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(n,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(n,"PDFDataRangeTransport",{enumerable:!0,get:function(){return t.PDFDataRangeTransport}}),Object.defineProperty(n,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(n,"PDFWorker",{enumerable:!0,get:function(){return t.PDFWorker}}),Object.defineProperty(n,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(n,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(n,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(n,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(n,"SVGGraphics",{enumerable:!0,get:function(){return f.SVGGraphics}}),Object.defineProperty(n,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(n,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(n,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(n,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(n,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(n,"build",{enumerable:!0,get:function(){return t.build}}),Object.defineProperty(n,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(n,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(n,"getDocument",{enumerable:!0,get:function(){return t.getDocument}}),Object.defineProperty(n,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(n,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(n,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(n,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(n,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(n,"renderTextLayer",{enumerable:!0,get:function(){return l.renderTextLayer}}),Object.defineProperty(n,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return t.version}});var e=__w_pdfjs_require__(1),t=__w_pdfjs_require__(4),r=__w_pdfjs_require__(5),i=__w_pdfjs_require__(20),o=__w_pdfjs_require__(13),s=__w_pdfjs_require__(3),l=__w_pdfjs_require__(23),f=__w_pdfjs_require__(24),u=__w_pdfjs_require__(22);let m="2.14.305",y="eaaa8b4ad";if(s.isNodeJS){let{PDFNodeStream:_}=__w_pdfjs_require__(25);(0,t.setPDFNetworkStreamFactory)(v=>new _(v))}else{let{PDFNetworkStream:_}=__w_pdfjs_require__(28),{PDFFetchStream:v}=__w_pdfjs_require__(29);(0,t.setPDFNetworkStreamFactory)(p=>(0,r.isValidFetchUrl)(p.url)?new v(p):new _(p))}})(),__webpack_exports__})())});var yj={};V0(yj,{Link:()=>cu,default:()=>gj,load:()=>mj});L();L();L();var d4=rt(l4()),f4=rt(Tr());L();var c4=rt(Tr());function wa(n,e){return c4.TaJson.deserialize(n,e)}var lo=class extends d4.Publication{static async fromUrl(t,r){let o=await(await fetch(t.href,r)).json(),s=wa(o,lo);return s.manifestUrl=t,s}get readingOrder(){return this.Spine??[]}get resources(){return this.Resources??[]}get tableOfContents(){var t,r;return(t=this.sample)!=null&&t.isSampleRead&&((r=this.positions)==null?void 0:r.length)>0?this.limitedTOC():this.TOC||[]}limitedTOC(){var i;function t(o){for(let s=0;s<o.Children.length;s++){let l=o.Children[s];l.Href=void 0,l.Children&&t(l)}}return((i=this.TOC)==null?void 0:i.map(o=>{var s,l;if(o.Href){let f=this.positionsByHref(this.getRelativeHref(o.Href));if((f==null?void 0:f.length)>0){let u=f[0],m=Math.round((u.locations.totalProgression?u.locations.totalProgression:0)*100);(s=this.sample)!=null&&s.limit&&(m<=((l=this.sample)==null?void 0:l.limit)||(o.Href=void 0,o.Children&&t(o)))}}return o}))||[]}get landmarks(){return this.Landmarks}get pageList(){return this.PageList}get isFixedLayout(){var t;return((t=this.Metadata.Rendition)==null?void 0:t.Layout)==="fixed"}get isReflowable(){return!this.isFixedLayout}get layout(){return this.isFixedLayout?"fixed":"reflowable"}get hasMediaOverlays(){return this.readingOrder?this.readingOrder.filter(t=>{var r;return(r=t.Properties)==null?void 0:r.MediaOverlay}).length>0:!1}getStartLink(){if(this.readingOrder!==void 0&&this.readingOrder.length>0)return this.readingOrder[0]}getPreviousSpineItem(t){let r=this.getSpineIndex(t);if(r!==void 0&&this.readingOrder!==void 0&&r>0)return this.readingOrder[r-1]}getNextSpineItem(t){let r=this.getSpineIndex(t);if(r!==void 0&&this.readingOrder!==void 0&&r<this.readingOrder.length-1)return this.readingOrder[r+1]}getSpineItem(t){let r=this.getSpineIndex(t);if(r!==void 0&&this.readingOrder!==void 0)return this.readingOrder[r]}getSpineIndex(t){var r;return(r=this.readingOrder)==null?void 0:r.findIndex(i=>i.Href&&this.getAbsoluteHref(i.Href)===t)}getAbsoluteHref(t){return new URL(t,this.manifestUrl.href).href}getRelativeHref(t){let r=this.manifestUrl.href.replace("/manifest.json",""),i=t.replace(r,"");return i.indexOf("#")>0&&(i=i.slice(0,i.indexOf("#"))),i.charAt(0)==="/"&&(i=i.substring(1)),i}getTOCItemAbsolute(t){let r=this.getAbsoluteHref(t),i=(s,l)=>{for(let f=0;f<l.length;f++){let u=l[f];if(u.Href){let m=u.Href.indexOf("#")!==-1?u.Href.slice(0,u.Href.indexOf("#")):u.Href;if(this.getAbsoluteHref(m)===s)return u}if(u.Children){let m=i(s,u.Children);if(m!==void 0)return m}}},o=i(r,this.tableOfContents);return o===void 0&&this.readingOrder!==void 0&&(o=i(r,this.readingOrder)),o}getTOCItem(t){let r=(o,s)=>{for(let l=0;l<s.length;l++){let f=s[l];if(f.Href&&this.getAbsoluteHref(f.Href)===o)return f;if(f.Children){let u=r(o,f.Children);if(u!==void 0)return u}}},i=r(t,this.tableOfContents);if(i===void 0&&this.readingOrder!==void 0&&(i=r(t,this.readingOrder)),i===void 0&&t.indexOf("#")!==-1){let o=t.slice(0,t.indexOf("#"));i=r(o,this.tableOfContents),i===void 0&&this.readingOrder!==void 0&&(i=r(o,this.readingOrder))}return i}positionsByHref(t){var i;let r=decodeURI(t)??"";return(i=this.positions)==null?void 0:i.filter(o=>r.includes(o.href))}async autoGeneratePositions(t,r=lL){let i=0,o=0,s=[];if(this.readingOrder!==void 0)for(let f of this.readingOrder)if(this.isFixedLayout){let u={href:f.Href,locations:{progression:0,position:i+1},type:f.TypeLink};s.push(u),i=i+1}else{let u=this.getAbsoluteHref(f.Href),m=await r(u,t);f.contentLength=m,o+=m;let _=Math.max(1,Math.ceil(m/1024));for(let v=0;v<_;v++){let p={href:f.Href,locations:{progression:v/_,position:i+(v+1)},type:f.TypeLink};s.push(p)}i=i+_}var l=0;if(this.isReflowable&&this.readingOrder!==void 0)for(let f of this.readingOrder){if(!f.contentLength){console.error("Link is missing contentLength",f);return}f.contentWeight=100/o*f.contentLength,l=l+f.contentWeight}for(let f of s){let u=s.filter(y=>y.href===decodeURI(f.href)),m=Math.ceil((f.locations.progression?f.locations.progression:0)*(u.length-1));f.locations.position&&(f.locations.totalProgression=(f.locations.position-1)/s.length),f.locations.remainingPositions=Math.abs(m-(u.length-1)),f.locations.position&&(f.locations.totalRemainingPositions=Math.abs(f.locations.position-1-(s.length-1)))}this.positions=s}async fetchPositionsFromService(t,r){let o=await(await fetch(t,r)).json();this.positions=o.positions}async fetchWeightsFromService(t,r){if(this.isFixedLayout){console.warn("Not fetching weights from service for fixed layout publication.");return}let o=await(await fetch(t,r)).json();this.readingOrder!==void 0&&this.readingOrder.forEach(s=>{s.contentWeight=o[s.Href]})}};lo=Bc([(0,f4.JsonObject)()],lo);var lL=async(n,e)=>(await(await fetch(n,e)).blob()).size;L();L();var Cs=class{json(){return JSON.stringify(this)}},Jp=class extends Cs{constructor(t,r,i){super();this.value=t,this.ref=r,this.name=i}toString(){return this.value}},Kp=class extends Cs{constructor(t,r,i){super();this.value=t,this.ref=r,this.name=i}toString(){return this.value}toJson(){return JSON.parse(this.value)}},Yp=class extends Cs{constructor(t,r,i,o){super();this.value=t,this.values=r,this.ref=i,this.name=o}toString(){return this.values[this.value]}},Xp=class extends Cs{constructor(t,r,i,o,s,l,f){super();this.countDecimals=function(t){return t%1!==0?t.toString().split(".")[1].length:1};this.value=t,this.min=r,this.max=i,this.step=o,this.suffix=s,this.ref=l,this.name=f}toString(){return this.value.toString()+this.suffix}increment(){let t=this.countDecimals(this.max);parseFloat(this.value.toFixed(t))<this.max&&(this.value=parseFloat(this.value.toFixed(t))+this.step)}decrement(){let t=this.countDecimals(this.min);parseFloat(this.value.toFixed(t))>this.min&&(this.value=parseFloat(this.value.toFixed(t))-this.step)}},Sa=class extends Cs{constructor(t,r,i,o,s){super();this.value=i,this.onValue=t,this.offValue=r,this.ref=o,this.name=s}toString(){return this.value?this.onValue:this.offValue}switch(){this.value=!this.value}},Ri=class{constructor(){this.properties=[]}addIncremental(e,t,r,i,o,s,l){this.properties.push(new Xp(e,t,r,i,o,s,l))}addStringable(e,t,r){this.properties.push(new Jp(e,t,r))}addJSONable(e,t,r){this.properties.push(new Kp(e,t,r))}addSwitchable(e,t,r,i,o){this.properties.push(new Sa(e,t,r,i,o))}addEnumerable(e,t,r,i){this.properties.push(new Yp(e,t,r,i))}getByRef(e){let t=this.properties.filter(r=>r.ref===e);return t.length>0?t[0]:null}getByKey(e){let t=this.properties.filter(r=>r.key===e);return t.length>0?t[0]:null}};L();var mt=class mt{};mt.FONT_SIZE_REF="fontSize",mt.FONT_FAMILY_REF="fontFamily",mt.FONT_OVERRIDE_REF="fontOverride",mt.APPEARANCE_REF="appearance",mt.SCROLL_REF="scroll",mt.TEXT_ALIGNMENT_REF="textAlign",mt.COLUMN_COUNT_REF="colCount",mt.DIRECTION_REF="direction",mt.WORD_SPACING_REF="wordSpacing",mt.LETTER_SPACING_REF="letterSpacing",mt.PAGE_MARGINS_REF="pageMargins",mt.LINE_HEIGHT_REF="lineHeight",mt.FONT_SIZE_KEY="--USER__"+mt.FONT_SIZE_REF,mt.FONT_FAMILY_KEY="--USER__"+mt.FONT_FAMILY_REF,mt.FONT_OVERRIDE_KEY="--USER__"+mt.FONT_OVERRIDE_REF,mt.APPEARANCE_KEY="--USER__"+mt.APPEARANCE_REF,mt.SCROLL_KEY="--USER__"+mt.SCROLL_REF,mt.TEXT_ALIGNMENT_KEY="--USER__"+mt.TEXT_ALIGNMENT_REF,mt.COLUMN_COUNT_KEY="--USER__"+mt.COLUMN_COUNT_REF,mt.DIRECTION_KEY="--USER__"+mt.DIRECTION_REF,mt.WORD_SPACING_KEY="--USER__"+mt.WORD_SPACING_REF,mt.LETTER_SPACING_KEY="--USER__"+mt.LETTER_SPACING_REF,mt.PAGE_MARGINS_KEY="--USER__"+mt.PAGE_MARGINS_REF,mt.LINE_HEIGHT_KEY="--USER__"+mt.LINE_HEIGHT_REF;var _e=mt;L();function Re(n,e){return n.querySelector(e)}function yt(n,e){let t=Re(n,e);if(t&&t instanceof HTMLElement)return t;throw new Error("required element "+e+" not found")}function cr(n,e){if(n===null)throw new Error("parent element is null");return n.querySelector(e)}function co(n,e){let t=cr(n,e);if(t)return t;throw new Error("required element "+e+" not found in iframe")}function Lr(n,e,t){n.setAttribute(e,t)}L();L();var lw=rt(Jg());var Da=class{constructor(e){this.getScrollingElement=e=>e.scrollingElement?e.scrollingElement:e.body;this.navigator=e}async handleFootnote(e,t){var i,o;let r=e.getAttribute("href");if(r&&r.indexOf("#")>0){let l=function(u){let m=document.location.href;return new URL(u,m).href},s=r.substring(r.indexOf("#")+1),f=l(r);f&&(f=f.substring(0,f.indexOf("#")),t.preventDefault(),t.stopPropagation(),(i=this.navigator.api)!=null&&i.getContent?await((o=this.navigator.api)==null?void 0:o.getContent(r).then(u=>{let _=new DOMParser().parseFromString(u,"text/html").querySelector("#"+s);_&&(t.preventDefault(),t.stopPropagation(),this.showPopup(_,t))})):await fetch(f,this.navigator.requestConfig).then(u=>u.text()).then(async u=>{let _=new DOMParser().parseFromString(u,"text/html").querySelector("#"+s);_&&(t.preventDefault(),t.stopPropagation(),this.showPopup(_,t))}))}}async hidePopover(){var r,i;let e=(r=this.navigator.iframes[0].contentDocument)==null?void 0:r.getElementById("d2-popover");e&&((i=e.parentElement)==null||i.removeChild(e));let t=yt(document,"#iframe-wrapper");t.style.overflow="auto"}async showPopover(e,t){var s,l,f,u,m,y;let r=e.getAttribute("href"),i=e.getAttribute("src");function o(_){let v=document.location.href;return new URL(_,v).href}if(r){let _=o(r);if(_){t.preventDefault(),t.stopPropagation();let v=(s=this.navigator.iframes[0].contentDocument)==null?void 0:s.getElementById("d2-popover");v&&((l=v.parentElement)==null||l.removeChild(v));let p=document.createElement("div");p.id="d2-popover",p.className="d2-popover is-active";let h=yt(document,"#iframe-wrapper");h.style.overflow="hidden",p.style.top=h.scrollTop+"px",p.style.height=h.clientHeight*.9+"px";let c=document.createElement("div");c.className="d2-popover-wrapper",p.appendChild(c);let g=document.createElement("div");g.className="d2-popover-content",c.appendChild(g),(f=this.navigator.api)!=null&&f.getContent?await((u=this.navigator.api)==null?void 0:u.getContent(r).then(E=>{g.innerHTML=E;let b=this.navigator.iframes[0].contentDocument;b&&b.body.appendChild(p)})):await fetch(_,this.navigator.requestConfig).then(E=>E.text()).then(async E=>{g.innerHTML=E;let b=this.navigator.iframes[0].contentDocument;b&&b.body.appendChild(p)});let w=this.navigator.iframes[0].contentWindow;if(!w)return;let S=this;w.addEventListener("click",function(E){t.target!==E.target&&p.parentElement&&(S.hidePopover(),E.stopImmediatePropagation())},{once:!0,capture:!0})}}else if(i&&o(i)){t.preventDefault(),t.stopPropagation();let v=(m=this.navigator.iframes[0].contentDocument)==null?void 0:m.getElementById("d2-popover");v&&((y=v.parentElement)==null||y.removeChild(v));let p=document.createElement("div");p.id="d2-popover",p.className="d2-popover is-active";let h=yt(document,"#iframe-wrapper");h.style.overflow="hidden",p.style.top=h.scrollTop+"px",p.style.height=h.clientHeight*.9+"px";let c=document.createElement("div");c.className="d2-popover-wrapper",p.appendChild(c);let g=document.createElement("img");g.className="d2-popover-content",c.appendChild(g),g.src=i;let w=this.navigator.iframes[0].contentDocument;w&&w.body.appendChild(p);let S=this.navigator.iframes[0].contentWindow;if(!S)return;let E=this;S.addEventListener("click",function(b){t.target!==b.target&&p.parentElement&&(E.hidePopover(),b.stopImmediatePropagation())},{once:!0,capture:!0})}}showPopup(e,t){var c,g,w;let r=(c=this.navigator.iframes[0].contentDocument)==null?void 0:c.getElementById("d2-popup");r&&((g=r.parentElement)==null||g.removeChild(r));let i=document.createElement("aside");i.id="d2-popup",i.className="d2-popup is-active";let o=document.createElement("div");o.className="d2-popup-wrapper",i.appendChild(o);let s=document.createElement("div");s.className="d2-popup-content",o.appendChild(s);let l=document.createElement("p");s.appendChild(l),typeof e=="string"?l.innerHTML=e:l.innerHTML=(0,lw.default)(e.innerHTML,{allowedTags:[],allowedAttributes:{}});let f=(w=this.navigator.view)==null?void 0:w.isPaginated(),u=this.navigator.iframes[0].contentDocument;if(!u)return;let m=this.getScrollingElement(u),y=f?m.scrollLeft:0,_=f?m.scrollTop:0,v=t.x+y,p=t.y+_;i.style.top=p+"px",f&&(i.style.left=v+"px"),u.body.appendChild(i);let h=this.navigator.iframes[0].contentWindow;h&&(h.onclick=function(S){t.target!==S.target&&i.parentElement&&(i.style.display="none",i.parentElement.removeChild(i),h&&(h.onclick=null))})}};var Bf=rt($t());function we(n,e,t){n&&n.addEventListener(e,t,!0)}function Ue(n,e,t){n&&n.removeEventListener(e,t,!0)}var wl=class{constructor(e){this.onInternalLink=()=>{};this.onClickThrough=()=>{};this.checkForLink=e=>{let t=e.target;for(;t&&t.tagName.toLowerCase()!=="body";){if(t.tagName.toLowerCase()==="a"&&t.href)return t;t=t.parentElement}return null};this.linkInPublication=(e,t)=>e.some(r=>{var i;return!((i=r.Rel)!=null&&i.includes("external"))&&this.navigator.publication.getRelativeHref(t).includes(r.Href)});this.isReadingOrderInternal=e=>(Bf.default.log("clickedLink: ",e),this.linkInPublication(this.navigator.publication.readingOrder,e.href));this.isResourceInternal=e=>(Bf.default.log("clickedLink: ",e),this.linkInPublication(this.navigator.publication.resources,e.href));this.handleLinks=async e=>{Bf.default.log("R2 Click Handler");let t=this.checkForLink(e);if(t){let r=window.location.protocol===t.protocol&&window.location.port===t.port&&window.location.hostname===t.hostname,i=this.isReadingOrderInternal(t),o=this.isResourceInternal(t);o||await this.popup.hidePopover();let s=t.href.indexOf("#");if(!i&&!o)window.open(t.href,t.target??"_blank"),e.preventDefault(),e.stopPropagation();else if(e.target.href=t.href,(r||i)&&s!==-1){let l=e.target;l?l.getAttribute("epub:type")==="noteref"?await this.popup.handleFootnote(l,e):o&&!i?await this.popup.showPopover(l,e):this.onInternalLink(e):this.onInternalLink(e)}else(r||i)&&s===-1&&this.onInternalLink(e)}else this.onClickThrough(e)};this.navigator=e,this.popup=new Da(this.navigator)}setupEvents(e){if(e!==null)e.addEventListener("dblclick",async t=>{let r=t.target;t.target&&r.tagName.toLowerCase()==="img"&&await this.popup.showPopover(r,t)},!0),e.addEventListener("click",this.handleLinks.bind(this),!0);else throw"cannot setup events for null"}};L();L();function dw(){return yt(document,"#iframe-wrapper").clientWidth}function pi(){return yt(document,"#iframe-wrapper").clientHeight}var hw=rt(Jo()),Sl=class{constructor(e){this.layout="reflowable";this.USERSETTINGS="userSetting";this.sideMargin=20;this.height=0;this.attributes={margin:0};this.hasFixedScrollWidth=!1;this.store=e,this.scrollMode?(this.name="readium-scroll-on",this.label="Scrolling"):(this.name="readium-scroll-off",this.label="Paginated")}setMode(e){var t;if(this.scrollMode=e,e){this.name="readium-scroll-on",this.label="Scrolling";let r=this.iframe.contentDocument;if(r){let i=cr(r,"head");if(i){let s=Re(i,"meta[name=viewport]");s&&s.remove()}let o=cr(r,"html");o&&o.style.setProperty("--USER__scroll","readium-scroll-on")}this.setSize(),this.setIframeHeight(this.iframe)}else{this.height=pi()-40-this.attributes.margin,this.name="readium-scroll-off",this.label="Paginated",this.checkForFixedScrollWidth();let r=this.iframe.contentDocument;if(r){let i=cr(r,"html");i&&i.style.setProperty("--USER__scroll","readium-scroll-off")}this.setSize()}this.navigator.rights.enableContentProtection&&((t=this.navigator.contentProtectionModule)==null||t.recalculate())}start(){if(this.scrollMode){let e=this.iframe.contentDocument;if(e){let t=cr(e,"head");if(t){let r=Re(t,"meta[name=viewport]");r&&r.remove()}}this.setSize(),this.setIframeHeight(this.iframe)}else{this.iframe.height="0",this.iframe.width="0",this.setSize();let e=document.createElement("meta");e.name="viewport",e.content="width=device-width, initial-scale=1, maximum-scale=1",this.checkForFixedScrollWidth()}}stop(){if(this.iframe.height="0",this.iframe.width="0",this.iframe.contentDocument){let t=cr(this.iframe.contentDocument,"body"),r=Array.prototype.slice.call(t.querySelectorAll("img"));for(let i of r)i.style.maxWidth=""}}getCurrentPosition(){let e=yt(document,"#iframe-wrapper");if(this.scrollMode)return e.scrollTop/this.scrollingElement.scrollHeight;{let t=this.getColumnWidth(),r=this.getLeftColumnsWidth(),i=this.getRightColumnsWidth(),o=r+t+i;return r/o}}goToProgression(e){let t=yt(document,"#iframe-wrapper");if(this.scrollMode)t.scrollTop=this.scrollingElement.scrollHeight*e;else{let r=this.getColumnWidth(),i=this.getLeftColumnsWidth(),o=this.getRightColumnsWidth(),s=i+r+o,l=e*s,f=Math.round(l/r)*r;f>=s&&(f=f-r),this.setLeftColumnsWidth(f)}}goToCssSelector(e,t){let r=this.iframe.contentDocument;if(r){let i=r.querySelector(e);this.goToElement(i,t)}}goToFragment(e,t){let r=this.iframe.contentDocument;if(r){let i=r.getElementById(e);this.goToElement(i,t)}}snap(e,t){var r;if(e&&!this.scrollMode){let i=e.style.height;e.style.height="0";let o=this.getColumnWidth(),s=this.getLeftColumnsWidth()+e.getBoundingClientRect().left,l=Math.floor(s/o)*o;e.style.height=i,this.setLeftColumnsWidth(l),this.navigator.rights.enableContentProtection&&((r=this.navigator.contentProtectionModule)==null||r.recalculate(0))}}goToElement(e,t){var r;if(this.scrollMode)e&&e.scrollIntoView({block:"center"});else if(e){let i=e.style.height;e.style.height="0";let o=e.getBoundingClientRect().left,s=this.getColumnWidth(),l=this.scrollingElement.scrollLeft-s,f=Math.ceil(o/s)*s+l;if(t){let u=this.getLeftColumnsWidth();f=Math.ceil(o/s)*s+u}e.style.height=i,this.setLeftColumnsWidth(f),this.navigator.rights.enableContentProtection&&((r=this.navigator.contentProtectionModule)==null||r.recalculate(200))}}atStart(){return this.scrollMode?yt(document,"#iframe-wrapper").scrollTop===0:this.getLeftColumnsWidth()<=0}atEnd(){if(this.scrollMode){let e=yt(document,"#iframe-wrapper");return Math.ceil(this.scrollingElement.scrollHeight-e.scrollTop)-1<=pi()}else return Math.floor(this.getRightColumnsWidth())<=0||Math.ceil(this.getCurrentPage())===this.getPageCount()}goToPreviousPage(){var t;let e=yt(document,"#iframe-wrapper");if(this.scrollMode){let r=e.scrollTop,i=this.getScreenHeight()-40,o=r-i;o>=0?e.scrollTop=o:e.scrollTop=0}else{let r=this.getLeftColumnsWidth(),i=this.getColumnWidth(),o=r-i;o>=0?this.setLeftColumnsWidth(o):this.setLeftColumnsWidth(0),this.navigator.checkResourcePosition()}this.navigator.rights.enableContentProtection&&((t=this.navigator.contentProtectionModule)==null||t.recalculate())}goToNextPage(){var t;let e=yt(document,"#iframe-wrapper");if(this.scrollMode){let r=e.scrollTop,i=this.getScreenHeight()-40,o=this.scrollingElement.scrollHeight,s=r+i;s<o?e.scrollTop=s:e.scrollTop=o}else{let r=this.getLeftColumnsWidth(),i=this.getColumnWidth(),o=this.scrollWidth,s=r+i;s<o?this.setLeftColumnsWidth(s):this.setLeftColumnsWidth(o),this.navigator.checkResourcePosition()}this.navigator.rights.enableContentProtection&&((t=this.navigator.contentProtectionModule)==null||t.recalculate())}getCurrentPage(){return this.scrollMode?0:this.getCurrentPosition()*this.getPageCount()+1}getPageCount(){if(this.scrollMode)return 0;{let e=this.getColumnWidth();return this.scrollWidth/e}}isPaginated(){if(this.iframe){let e=this.iframe.contentDocument;if(e){let t=cr(e,"html");if(t)return!(t.style.getPropertyValue("--USER__scroll")==="readium-scroll-on")}}return!this.scrollMode}isScrollMode(){if(this.iframe){let e=this.iframe.contentDocument;if(e){let t=cr(e,"html");if(t)return t.style.getPropertyValue("--USER__scroll")==="readium-scroll-on"}}return this.scrollMode}async getProperty(e){let t=await this.store.get(this.USERSETTINGS);if(t){let r=JSON.parse(t);return r=r.filter(i=>i.name===e),r.length===0?null:r[0]}return null}getScreenHeight(){return yt(document,"#iframe-wrapper").clientHeight}setIframeHeight(e){(0,hw.debounce)(r=>{if(r){let i=r.contentWindow.document.body,o=r.contentWindow.document.documentElement,s=Math.max(i==null?void 0:i.scrollHeight,i==null?void 0:i.offsetHeight,o==null?void 0:o.clientHeight,o==null?void 0:o.scrollHeight,o==null?void 0:o.offsetHeight);if(s){let l=pi()-this.attributes.margin;r.height=Math.max(l,s)+"px"}}},200)(e)}checkForFixedScrollWidth(){let e=this.iframe.contentDocument;if(e){let t=cr(e,"body"),r=t==null?void 0:t.scrollWidth;this.hasFixedScrollWidth=(t==null?void 0:t.scrollWidth)===r}}setSize(){var e,t;if(this.iframe.width=dw()+"px",this.scrollMode){let r=(t=(e=this.iframe.contentWindow)==null?void 0:e.document)==null?void 0:t.documentElement;this.iframe.height=(r==null?void 0:r.offsetHeight)+"px"}else{let r=this.iframe.contentDocument;r&&r.documentElement&&(r.documentElement.style.height=this.height+"px"),this.iframe.height=this.height+"px"}}getLeftColumnsWidth(){return Math.ceil(this.scrollingElement.scrollLeft)}getRightColumnsWidth(){let e=this.getColumnWidth(),t=this.scrollWidth-e;if(this.hasFixedScrollWidth){let r=this.getLeftColumnsWidth();t=Math.max(0,t-r)}return t}getColumnWidth(){return this.scrollingElement.clientWidth}setLeftColumnsWidth(e){this.scrollingElement.scrollLeft=e}get scrollingElement(){var e,t,r,i;return(e=this.iframe.contentDocument)!=null&&e.scrollingElement?(t=this.iframe.contentDocument)==null?void 0:t.scrollingElement:(r=this.iframe.contentDocument)!=null&&r.body?(i=this.iframe.contentDocument)==null?void 0:i.body:document.createElement("body")}get scrollWidth(){var i;let e=(i=this.scrollingElement)==null?void 0:i.scrollWidth,t=this.getColumnWidth();return Math.ceil(e/t)*t}};L();var Al=class{constructor(){this.layout="fixed";this.sideMargin=20;this.height=0;this.attributes={margin:0}}start(){}stop(){}getCurrentPosition(){return 0}getScreenHeight(){return yt(document,"#iframe-wrapper").clientHeight}goToProgression(e){}goToCssSelector(e,t){}goToFragment(e,t){}snap(e,t){}getCurrentPage(){return 0}getPageCount(){return 1}setSize(){}isPaginated(){return!0}isScrollMode(){return!1}atEnd(){return!0}atStart(){return!0}};var Hr=rt($t());L();var Ko=class Ko{};Ko.FIXED_LAYOUT_MARGIN_REF="fixedLayoutMargin",Ko.FIXED_LAYOUT_SHADOW_REF="fixedLayoutShadow",Ko.FIXED_LAYOUT_MARGIN_KEY="--USER__"+Ko.FIXED_LAYOUT_MARGIN_REF,Ko.FIXED_LAYOUT_SHADOW_KEY="--USER__"+Ko.FIXED_LAYOUT_SHADOW_REF;var In=Ko;var dt=class dt{constructor(e,t,r,i,o){this.USERSETTINGS="userSetting";this.fontSize=100;this.fontOverride=!1;this.fontFamily=0;this.appearance=0;this.verticalScroll=!0;this.textAlignment=0;this.columnCount=0;this.direction=0;this.wordSpacing=0;this.letterSpacing=0;this.pageMargins=2;this.lineHeight=1;this.fixedLayoutMargin=100;this.fixedLayoutShadow=!0;this.settingsChangeCallback=()=>{};this.settingsColumnsChangeCallback=()=>{};this.viewChangeCallback=()=>{};var s;this.store=e,this.view=o==="fixed"?new Al:new Sl(this.store),this.headerMenu=t,this.api=r,this.injectables=i,(s=this.injectables)==null||s.forEach(l=>{l.type==="style"&&(l.fontFamily&&this.addFont(l.fontFamily),l.appearance&&this.addAppearance(l.appearance))})}async isPaginated(){return!await this.getPropertyAndFallback("verticalScroll",_e.SCROLL_KEY)}async isScrollMode(){return!await this.isPaginated()}static async create(e){let t=new this(e.store,e.headerMenu,e.api,e.injectables,e.layout);if(await t.initialise(),e.initialUserSettings){t.userProperties||(t.userProperties=t.getUserSettings());let r=e.initialUserSettings;if(r.verticalScroll!==void 0){t.verticalScroll=this.parseScrollSetting(r.verticalScroll);let i=t.userProperties.getByRef(_e.SCROLL_REF);i&&(i.value=t.verticalScroll,await t.saveProperty(i)),Hr.default.log(t.verticalScroll)}if(r.appearance){t.appearance=dt.parseAppearanceSetting(r.appearance);let i=t.userProperties.getByRef(_e.APPEARANCE_REF);i&&(i.value=t.appearance,await t.saveProperty(i)),Hr.default.log(t.appearance)}if(r.fontSize){t.fontSize=r.fontSize;let i=t.userProperties.getByRef(_e.FONT_SIZE_REF);i&&(i.value=t.fontSize,await t.saveProperty(i)),Hr.default.log(t.fontSize)}if(r.fontFamily){t.fontFamily=dt.fontFamilyValues.findIndex(o=>o===r.fontFamily);let i=t.userProperties.getByRef(_e.FONT_FAMILY_REF);i&&(i.value=t.fontFamily,await t.saveProperty(i)),Hr.default.log(t.fontFamily),t.fontFamily!==0&&(t.fontOverride=!0)}if(r.textAlignment){t.textAlignment=dt.textAlignmentValues.findIndex(o=>o===r.textAlignment);let i=t.userProperties.getByRef(_e.TEXT_ALIGNMENT_REF);i&&(i.value=t.textAlignment,await t.saveProperty(i)),Hr.default.log(t.textAlignment)}if(r.columnCount){t.columnCount=dt.columnCountValues.findIndex(o=>o===r.columnCount);let i=t.userProperties.getByRef(_e.COLUMN_COUNT_REF);i&&(i.value=t.columnCount,await t.saveProperty(i)),Hr.default.log(t.columnCount)}if(r.direction){t.direction=dt.directionValues.findIndex(o=>o===r.direction);let i=t.userProperties.getByRef(_e.DIRECTION_REF);i&&(i.value=t.direction,await t.saveProperty(i)),Hr.default.log(t.direction)}if(r.wordSpacing){t.wordSpacing=r.wordSpacing;let i=t.userProperties.getByRef(_e.WORD_SPACING_REF);i&&(i.value=t.wordSpacing,await t.saveProperty(i)),Hr.default.log(t.wordSpacing)}if(r.letterSpacing){t.letterSpacing=r.letterSpacing;let i=t.userProperties.getByRef(_e.LETTER_SPACING_REF);i&&(i.value=t.letterSpacing,await t.saveProperty(i)),Hr.default.log(t.letterSpacing)}if(r.pageMargins){t.pageMargins=r.pageMargins;let i=t.userProperties.getByRef(_e.PAGE_MARGINS_REF);i&&(i.value=t.pageMargins,await t.saveProperty(i)),Hr.default.log(t.pageMargins)}if(r.lineHeight){t.lineHeight=r.lineHeight;let i=t.userProperties.getByRef(_e.LINE_HEIGHT_REF);i&&(i.value=t.lineHeight,await t.saveProperty(i)),Hr.default.log(t.lineHeight)}if(r.fixedLayoutMargin>=0){t.fixedLayoutMargin=r.fixedLayoutMargin;let i=t.userProperties.getByRef(In.FIXED_LAYOUT_MARGIN_REF);i&&(i.value=t.fixedLayoutMargin,await t.saveProperty(i)),Hr.default.log(t.fixedLayoutMargin)}if("fixedLayoutShadow"in r){t.fixedLayoutShadow=r.fixedLayoutShadow;let i=t.userProperties.getByRef(In.FIXED_LAYOUT_SHADOW_REF);i&&(i.value=t.fixedLayoutShadow,await t.saveProperty(i)),Hr.default.log(t.fixedLayoutShadow)}t.userProperties=t.getUserSettings(),await t.initialise()}return await t.initializeSelections(),new Promise(r=>r(t))}stop(){Hr.default.log("book settings stop")}async initialise(){this.appearance=await this.getPropertyAndFallback("appearance",_e.APPEARANCE_KEY),this.verticalScroll=await this.getPropertyAndFallback("verticalScroll",_e.SCROLL_KEY),this.fontFamily=await this.getPropertyAndFallback("fontFamily",_e.FONT_FAMILY_KEY),this.fontFamily!==0&&(this.fontOverride=!0),this.textAlignment=await this.getPropertyAndFallback("textAlignment",_e.TEXT_ALIGNMENT_KEY),this.columnCount=await this.getPropertyAndFallback("columnCount",_e.COLUMN_COUNT_KEY),this.direction=await this.getPropertyAndFallback("columnCount",_e.DIRECTION_KEY),this.fontSize=await this.getPropertyAndFallback("fontSize",_e.FONT_SIZE_KEY),this.wordSpacing=await this.getPropertyAndFallback("wordSpacing",_e.WORD_SPACING_KEY),this.letterSpacing=await this.getPropertyAndFallback("letterSpacing",_e.LETTER_SPACING_KEY),this.pageMargins=await this.getPropertyAndFallback("pageMargins",_e.PAGE_MARGINS_KEY),this.lineHeight=await this.getPropertyAndFallback("lineHeight",_e.LINE_HEIGHT_KEY),this.fixedLayoutMargin=await this.getPropertyAndFallback("fixedLayoutMargin",In.FIXED_LAYOUT_MARGIN_KEY),this.fixedLayoutShadow=await this.getPropertyAndFallback("fixedLayoutShadow",In.FIXED_LAYOUT_SHADOW_KEY),this.userProperties=this.getUserSettings()}async reset(){this.appearance=0,this.verticalScroll=!0,this.fontSize=100,this.fontOverride=!1,this.fontFamily=0,this.textAlignment=0,this.columnCount=0,this.direction=0,this.wordSpacing=0,this.letterSpacing=0,this.pageMargins=2,this.lineHeight=1,this.fixedLayoutMargin=100,this.fixedLayoutShadow=!0,this.userProperties=this.getUserSettings();let e=this.iframe.contentDocument;if(e){let t=cr(e,"html");if(t){let r=Re(document,"#root")||document.documentElement,i=Re(t,"body");t.style.removeProperty(_e.FONT_SIZE_KEY),t.style.removeProperty(_e.WORD_SPACING_KEY),t.style.removeProperty(_e.LETTER_SPACING_KEY),t.style.removeProperty(_e.COLUMN_COUNT_KEY),t.style.removeProperty(_e.DIRECTION_KEY),t.style.removeProperty(_e.TEXT_ALIGNMENT_KEY),t.style.removeProperty(_e.LINE_HEIGHT_KEY),t.style.removeProperty(_e.PAGE_MARGINS_KEY),t.style.removeProperty(_e.APPEARANCE_KEY),r&&Lr(r,"data-viewer-theme","day"),i&&Lr(i,"data-viewer-theme","day"),t.style.removeProperty(_e.FONT_FAMILY_KEY),Lr(t,"data-viewer-font","publisher"),t.style.setProperty(_e.FONT_OVERRIDE_KEY,"readium-font-off")}}}async initializeSelections(){this.headerMenu&&(this.settingsView=Re(this.headerMenu,"#container-view-settings"))}async applyProperties(){var t,r,i,o,s,l,f,u,m,y,_,v,p,h,c,g,w,S,E,b,C,M,P,B;this.userProperties=this.getUserSettings();let e=this.iframe.contentDocument;if(e){let I=cr(e,"html");if(I){let F=Re(document,"#root")||document.documentElement,D=Re(I,"body");if((t=this.view)!=null&&t.navigator.publication.isReflowable&&(await this.getProperty(_e.FONT_SIZE_KEY)&&I.style.setProperty(_e.FONT_SIZE_KEY,((r=this.userProperties.getByRef(_e.FONT_SIZE_REF))==null?void 0:r.toString())??null),await this.getProperty(_e.WORD_SPACING_KEY)&&I.style.setProperty(_e.WORD_SPACING_KEY,((i=this.userProperties.getByRef(_e.WORD_SPACING_REF))==null?void 0:i.toString())??null),await this.getProperty(_e.LETTER_SPACING_KEY)&&I.style.setProperty(_e.LETTER_SPACING_KEY,((o=this.userProperties.getByRef(_e.LETTER_SPACING_REF))==null?void 0:o.toString())??null)),await this.getProperty(_e.COLUMN_COUNT_KEY)&&I.style.setProperty(_e.COLUMN_COUNT_KEY,((s=this.userProperties.getByRef(_e.COLUMN_COUNT_REF))==null?void 0:s.toString())??null),(l=this.view)!=null&&l.navigator.publication.isReflowable&&(await this.getProperty(_e.TEXT_ALIGNMENT_KEY)&&(((f=this.userProperties.getByRef(_e.TEXT_ALIGNMENT_REF))==null?void 0:f.toString())==="auto"?I.style.removeProperty(_e.TEXT_ALIGNMENT_KEY):I.style.setProperty(_e.TEXT_ALIGNMENT_KEY,((u=this.userProperties.getByRef(_e.TEXT_ALIGNMENT_REF))==null?void 0:u.toString())??null)),await this.getProperty(_e.LINE_HEIGHT_KEY)&&I.style.setProperty(_e.LINE_HEIGHT_KEY,((m=this.userProperties.getByRef(_e.LINE_HEIGHT_REF))==null?void 0:m.toString())??null),await this.getProperty(_e.PAGE_MARGINS_KEY)&&I.style.setProperty(_e.PAGE_MARGINS_KEY,((y=this.userProperties.getByRef(_e.PAGE_MARGINS_REF))==null?void 0:y.toString())??null)),await this.getProperty(_e.APPEARANCE_KEY)?(I.style.setProperty(_e.APPEARANCE_KEY,((_=this.userProperties.getByRef(_e.APPEARANCE_REF))==null?void 0:_.toString())??null),((v=this.userProperties.getByRef(_e.APPEARANCE_REF))==null?void 0:v.value)===0?(F&&Lr(F,"data-viewer-theme","day"),D&&Lr(D,"data-viewer-theme","day")):((p=this.userProperties.getByRef(_e.APPEARANCE_REF))==null?void 0:p.value)===1?(F&&Lr(F,"data-viewer-theme","sepia"),D&&Lr(D,"data-viewer-theme","sepia")):((h=this.userProperties.getByRef(_e.APPEARANCE_REF))==null?void 0:h.value)===2&&(F&&Lr(F,"data-viewer-theme","night"),D&&Lr(D,"data-viewer-theme","night"))):(I.style.setProperty(_e.APPEARANCE_KEY,((c=this.userProperties.getByRef(_e.APPEARANCE_REF))==null?void 0:c.toString())??null),F&&Lr(F,"data-viewer-theme","day"),D&&Lr(D,"data-viewer-theme","day")),(g=this.view)!=null&&g.navigator.publication.isFixedLayout&&await this.getProperty(_e.DIRECTION_KEY)){let W=((w=this.userProperties.getByRef(_e.DIRECTION_REF))==null?void 0:w.toString())??null;I.style.setProperty(_e.DIRECTION_KEY,W),this.view.navigator.setDirection(W)}if((S=this.view)!=null&&S.navigator.publication.isReflowable){if(await this.getProperty(_e.FONT_FAMILY_KEY))if(I.style.setProperty(_e.FONT_FAMILY_KEY,((E=this.userProperties.getByRef(_e.FONT_FAMILY_REF))==null?void 0:E.toString())??null),((b=this.userProperties.getByRef(_e.FONT_FAMILY_REF))==null?void 0:b.value)===0)Lr(I,"data-viewer-font","publisher"),I.style.setProperty(_e.FONT_OVERRIDE_KEY,"readium-font-off");else if(((C=this.userProperties.getByRef(_e.FONT_FAMILY_REF))==null?void 0:C.value)===1)Lr(I,"data-viewer-font","serif"),I.style.setProperty(_e.FONT_OVERRIDE_KEY,"readium-font-on");else if(((M=this.userProperties.getByRef(_e.FONT_FAMILY_REF))==null?void 0:M.value)===2)Lr(I,"data-viewer-font","sans"),I.style.setProperty(_e.FONT_OVERRIDE_KEY,"readium-font-on");else{let W=this.userProperties.getByRef(_e.FONT_FAMILY_REF);W&&Lr(I,"data-viewer-font",W.toString()),I.style.setProperty(_e.FONT_OVERRIDE_KEY,"readium-font-on")}else I.style.setProperty(_e.FONT_FAMILY_KEY,((P=this.userProperties.getByRef(_e.FONT_FAMILY_REF))==null?void 0:P.toString())??null),Lr(I,"data-viewer-font","publisher"),I.style.setProperty(_e.FONT_OVERRIDE_KEY,"readium-font-off");await this.getProperty(_e.SCROLL_KEY)?((B=this.userProperties.getByRef(_e.SCROLL_REF))==null?void 0:B.value)===!0?I.style.setProperty("--USER__scroll","readium-scroll-on"):I.style.setProperty("--USER__scroll","readium-scroll-off"):I.style.setProperty("--USER__scroll","readium-scroll-on"),I.style.setProperty("--USER__advancedSettings","readium-advanced-on"),this.isScrollMode().then(W=>{var q,G;(G=(q=this.view)==null?void 0:q.setMode)==null||G.call(q,W)})}}}}setIframe(e){this.iframe=e,this.view&&(this.view.iframe=e),this.settingsView&&dt.renderControls(this.settingsView)}static renderControls(e){we(Re(e,"ul"),"click",t=>{t.stopPropagation()})}onSettingsChange(e){this.settingsChangeCallback=e}onColumnSettingsChange(e){this.settingsColumnsChangeCallback=e}onViewChange(e){this.viewChangeCallback=e}async storeProperty(e){await this.updateUserSettings(),await this.saveProperty(e)}addAppearance(e){dt.appearanceValues.includes(e)||dt.appearanceValues.push(e)}initAddedAppearance(){this.applyProperties()}addFont(e){dt.fontFamilyValues.includes(e)||dt.fontFamilyValues.push(e)}initAddedFont(){this.applyProperties()}async updateUserSettings(){var t,r,i,o,s,l,f,u,m,y,_,v,p,h,c,g,w,S,E,b;let e={fontFamily:dt.fontFamilyValues[await((r=(t=this.userProperties)==null?void 0:t.getByRef(_e.FONT_FAMILY_REF))==null?void 0:r.value)],fontSize:(o=(i=this.userProperties)==null?void 0:i.getByRef(_e.FONT_SIZE_REF))==null?void 0:o.value,appearance:dt.appearanceValues[await((l=(s=this.userProperties)==null?void 0:s.getByRef(_e.APPEARANCE_REF))==null?void 0:l.value)],textAlignment:dt.textAlignmentValues[await((u=(f=this.userProperties)==null?void 0:f.getByRef(_e.TEXT_ALIGNMENT_REF))==null?void 0:u.value)],columnCount:dt.columnCountValues[await((y=(m=this.userProperties)==null?void 0:m.getByRef(_e.COLUMN_COUNT_REF))==null?void 0:y.value)],direction:dt.directionValues[await((v=(_=this.userProperties)==null?void 0:_.getByRef(_e.DIRECTION_REF))==null?void 0:v.value)],wordSpacing:(h=(p=this.userProperties)==null?void 0:p.getByRef(_e.WORD_SPACING_REF))==null?void 0:h.value,letterSpacing:(g=(c=this.userProperties)==null?void 0:c.getByRef(_e.LETTER_SPACING_REF))==null?void 0:g.value,verticalScroll:(S=(w=this.userProperties)==null?void 0:w.getByRef(_e.SCROLL_REF))==null?void 0:S.value};(E=this.api)!=null&&E.updateSettings&&((b=this.api)==null||b.updateSettings(e).then(C=>{Hr.default.log("api updated user settings",JSON.stringify(e))}))}getUserSettings(){let e=new Ri;return e.addSwitchable("readium-font-on","readium-font-off",this.fontOverride,_e.FONT_OVERRIDE_REF,_e.FONT_OVERRIDE_KEY),e.addEnumerable(this.columnCount,dt.columnCountValues,_e.COLUMN_COUNT_REF,_e.COLUMN_COUNT_KEY),e.addEnumerable(this.direction,dt.directionValues,_e.DIRECTION_REF,_e.DIRECTION_KEY),e.addEnumerable(this.appearance,dt.appearanceValues,_e.APPEARANCE_REF,_e.APPEARANCE_KEY),e.addIncremental(this.pageMargins,.5,4,.25,"",_e.PAGE_MARGINS_REF,_e.PAGE_MARGINS_KEY),e.addEnumerable(this.textAlignment,dt.textAlignmentValues,_e.TEXT_ALIGNMENT_REF,_e.TEXT_ALIGNMENT_KEY),e.addEnumerable(this.fontFamily,dt.fontFamilyValues,_e.FONT_FAMILY_REF,_e.FONT_FAMILY_KEY),e.addIncremental(this.fontSize,100,300,25,"%",_e.FONT_SIZE_REF,_e.FONT_SIZE_KEY),e.addIncremental(this.lineHeight,1,2,.25,"em",_e.LINE_HEIGHT_REF,_e.LINE_HEIGHT_KEY),e.addIncremental(this.wordSpacing,0,1,.25,"rem",_e.WORD_SPACING_REF,_e.WORD_SPACING_KEY),e.addIncremental(this.letterSpacing,0,.5,.0625,"em",_e.LETTER_SPACING_REF,_e.LETTER_SPACING_KEY),e.addSwitchable("readium-scroll-on","readium-scroll-off",this.verticalScroll,_e.SCROLL_REF,_e.SCROLL_KEY),e.addIncremental(this.fixedLayoutMargin,0,500,10,"",In.FIXED_LAYOUT_MARGIN_REF,In.FIXED_LAYOUT_MARGIN_KEY),e.addSwitchable("true","false",this.fixedLayoutShadow,In.FIXED_LAYOUT_SHADOW_REF,In.FIXED_LAYOUT_SHADOW_KEY),e}async saveProperty(e){let t=await this.store.get(this.USERSETTINGS);if(t){let r=JSON.parse(t);r=r.filter(i=>i.name!==e.name),e.value!==void 0&&r.push(e),await this.store.set(this.USERSETTINGS,JSON.stringify(r))}else{let r=[];r.push(e),await this.store.set(this.USERSETTINGS,JSON.stringify(r))}return new Promise(r=>r(e))}async getProperty(e){let t=await this.store.get(this.USERSETTINGS);if(t){let r=JSON.parse(t);return r=r.filter(i=>i.name===e),r.length===0?null:r[0]}return null}async getPropertyAndFallback(e,t){var r;return((r=await this.getProperty(t))==null?void 0:r.value)??this[e]}async resetUserSettings(){await this.store.remove(this.USERSETTINGS),await this.reset(),this.settingsChangeCallback()}get currentSettings(){var e,t,r,i,o,s,l,f,u,m;return{appearance:dt.appearanceValues[(t=(e=this.userProperties)==null?void 0:e.getByRef(_e.APPEARANCE_REF))==null?void 0:t.value],fontFamily:dt.fontFamilyValues[(i=(r=this.userProperties)==null?void 0:r.getByRef(_e.FONT_FAMILY_REF))==null?void 0:i.value],textAlignment:dt.textAlignmentValues[(s=(o=this.userProperties)==null?void 0:o.getByRef(_e.TEXT_ALIGNMENT_REF))==null?void 0:s.value],columnCount:dt.columnCountValues[(f=(l=this.userProperties)==null?void 0:l.getByRef(_e.COLUMN_COUNT_REF))==null?void 0:f.value],direction:dt.directionValues[(m=(u=this.userProperties)==null?void 0:u.getByRef(_e.DIRECTION_REF))==null?void 0:m.value],verticalScroll:this.verticalScroll,fontSize:this.fontSize,wordSpacing:this.wordSpacing,letterSpacing:this.letterSpacing,pageMargins:this.pageMargins,lineHeight:this.lineHeight,fixedLayoutMargin:this.fixedLayoutMargin,fixedLayoutShadow:this.fixedLayoutShadow}}async applyUserSettings(e){var t,r,i,o,s,l,f,u,m,y,_,v,p,h,c,g,w;if(e.appearance){this.appearance=dt.parseAppearanceSetting(e.appearance);let S=(t=this.userProperties)==null?void 0:t.getByRef(_e.APPEARANCE_REF);S&&(S.value=this.appearance,await this.storeProperty(S))}if(e.fontSize){this.fontSize=e.fontSize;let S=(r=this.userProperties)==null?void 0:r.getByRef(_e.FONT_SIZE_REF);S&&(S.value=this.fontSize,await this.storeProperty(S))}if(e.fontFamily){this.fontFamily=dt.fontFamilyValues.findIndex(E=>E===e.fontFamily);let S=(i=this.userProperties)==null?void 0:i.getByRef(_e.FONT_FAMILY_REF);S&&(S.value=this.fontFamily,await this.storeProperty(S))}if(e.letterSpacing){this.letterSpacing=e.letterSpacing;let S=(o=this.userProperties)==null?void 0:o.getByRef(_e.LETTER_SPACING_REF);S&&(S.value=this.letterSpacing,await this.storeProperty(S))}if(e.wordSpacing){this.wordSpacing=e.wordSpacing;let S=(s=this.userProperties)==null?void 0:s.getByRef(_e.WORD_SPACING_REF);S&&(S.value=this.wordSpacing,await this.storeProperty(S))}if(e.columnCount){this.columnCount=dt.columnCountValues.findIndex(E=>E===e.columnCount);let S=(l=this.userProperties)==null?void 0:l.getByRef(_e.COLUMN_COUNT_REF);S&&(S.value=this.columnCount,await this.storeProperty(S)),this.settingsColumnsChangeCallback()}if(e.direction){this.direction=dt.directionValues.findIndex(E=>E===e.direction);let S=(f=this.userProperties)==null?void 0:f.getByRef(_e.DIRECTION_REF);S&&(S.value=this.direction,await this.storeProperty(S))}if(e.textAlignment){this.textAlignment=dt.textAlignmentValues.findIndex(E=>E===e.textAlignment);let S=(u=this.userProperties)==null?void 0:u.getByRef(_e.TEXT_ALIGNMENT_REF);S&&(S.value=this.textAlignment,await this.storeProperty(S))}if(e.lineHeight){this.lineHeight=e.lineHeight;let S=(m=this.userProperties)==null?void 0:m.getByRef(_e.LINE_HEIGHT_REF);S&&(S.value=this.lineHeight,await this.storeProperty(S))}if("fixedLayoutMargin"in e){this.fixedLayoutMargin=e.fixedLayoutMargin;let S=(y=this.userProperties)==null?void 0:y.getByRef(In.FIXED_LAYOUT_MARGIN_REF);S&&(S.value=this.fixedLayoutMargin,await this.storeProperty(S))}if("fixedLayoutShadow"in e){this.fixedLayoutShadow=e.fixedLayoutShadow;let S=(_=this.userProperties)==null?void 0:_.getByRef(In.FIXED_LAYOUT_SHADOW_REF);S&&(S.value=this.lineHeight,await this.storeProperty(S))}if(e.pageMargins){this.pageMargins=e.pageMargins;let S=(v=this.userProperties)==null?void 0:v.getByRef(_e.PAGE_MARGINS_REF);S&&(S.value=this.pageMargins,await this.storeProperty(S))}if(e.verticalScroll!==void 0){let S=(p=this.view)==null?void 0:p.getCurrentPosition();this.verticalScroll=dt.parseScrollSetting(e.verticalScroll);let E=(h=this.userProperties)==null?void 0:h.getByRef(_e.SCROLL_REF);E&&(E.value=this.verticalScroll,await this.saveProperty(E)),(g=(c=this.view)==null?void 0:c.setMode)==null||g.call(c,this.verticalScroll),S&&((w=this.view)==null||w.goToProgression(S)),this.viewChangeCallback()}await this.applyProperties(),this.settingsChangeCallback()}static parseScrollSetting(e){switch(e){case!0:case"scroll":case"readium-scroll-on":return!0;case!1:case"paginated":case"readium-scroll-off":return!1;default:return!1}}static parseAppearanceSetting(e){let t;return e==="day"||e==="readium-default-on"?t=dt.appearanceValues[0]:e==="sepia"||e==="readium-sepia-on"?t=dt.appearanceValues[1]:e==="night"||e==="readium-night-on"?t=dt.appearanceValues[2]:t=e,dt.appearanceValues.findIndex(r=>r===t)}async scroll(e){var i,o,s,l,f;let t=(i=this.view)==null?void 0:i.getCurrentPosition();this.verticalScroll=e;let r=(o=this.userProperties)==null?void 0:o.getByRef(_e.SCROLL_REF);r&&(r.value=this.verticalScroll,await this.saveProperty(r)),await this.applyProperties(),(l=(s=this.view)==null?void 0:s.setMode)==null||l.call(s,this.verticalScroll),t&&((f=this.view)==null||f.goToProgression(t)),this.viewChangeCallback()}async increase(e){var t,r,i,o,s,l,f,u,m,y,_,v,p,h,c,g;if(e==="fontSize"){((t=this.userProperties)==null?void 0:t.getByRef(_e.FONT_SIZE_REF)).increment(),this.fontSize=(i=(r=this.userProperties)==null?void 0:r.getByRef(_e.FONT_SIZE_REF))==null?void 0:i.value;let w=(o=this.userProperties)==null?void 0:o.getByRef(_e.FONT_SIZE_REF);w&&await this.storeProperty(w)}else if(e==="letterSpacing"){((s=this.userProperties)==null?void 0:s.getByRef(_e.LETTER_SPACING_REF)).increment(),this.letterSpacing=(f=(l=this.userProperties)==null?void 0:l.getByRef(_e.LETTER_SPACING_REF))==null?void 0:f.value;let w=(u=this.userProperties)==null?void 0:u.getByRef(_e.LETTER_SPACING_REF);w&&await this.storeProperty(w)}else if(e==="wordSpacing"){((m=this.userProperties)==null?void 0:m.getByRef(_e.WORD_SPACING_REF)).increment(),this.wordSpacing=(_=(y=this.userProperties)==null?void 0:y.getByRef(_e.WORD_SPACING_REF))==null?void 0:_.value;let w=(v=this.userProperties)==null?void 0:v.getByRef(_e.WORD_SPACING_REF);w&&await this.storeProperty(w)}else if(e==="lineHeight"){((p=this.userProperties)==null?void 0:p.getByRef(_e.LINE_HEIGHT_REF)).increment(),this.lineHeight=(c=(h=this.userProperties)==null?void 0:h.getByRef(_e.LINE_HEIGHT_REF))==null?void 0:c.value;let w=(g=this.userProperties)==null?void 0:g.getByRef(_e.LINE_HEIGHT_REF);w&&await this.storeProperty(w)}await this.applyProperties(),this.settingsChangeCallback()}async decrease(e){var t,r,i,o,s,l,f,u,m,y,_,v,p,h,c,g;if(e==="fontSize"){((t=this.userProperties)==null?void 0:t.getByRef(_e.FONT_SIZE_REF)).decrement(),this.fontSize=(i=(r=this.userProperties)==null?void 0:r.getByRef(_e.FONT_SIZE_REF))==null?void 0:i.value;let w=(o=this.userProperties)==null?void 0:o.getByRef(_e.FONT_SIZE_REF);w&&await this.storeProperty(w)}else if(e==="letterSpacing"){((s=this.userProperties)==null?void 0:s.getByRef(_e.LETTER_SPACING_REF)).decrement(),this.letterSpacing=(f=(l=this.userProperties)==null?void 0:l.getByRef(_e.LETTER_SPACING_REF))==null?void 0:f.value;let w=(u=this.userProperties)==null?void 0:u.getByRef(_e.LETTER_SPACING_REF);w&&await this.storeProperty(w)}else if(e==="wordSpacing"){((m=this.userProperties)==null?void 0:m.getByRef(_e.WORD_SPACING_REF)).decrement(),this.wordSpacing=(_=(y=this.userProperties)==null?void 0:y.getByRef(_e.WORD_SPACING_REF))==null?void 0:_.value;let w=(v=this.userProperties)==null?void 0:v.getByRef(_e.WORD_SPACING_REF);w&&await this.storeProperty(w)}else if(e==="lineHeight"){((p=this.userProperties)==null?void 0:p.getByRef(_e.LINE_HEIGHT_REF)).decrement(),this.wordSpacing=(c=(h=this.userProperties)==null?void 0:h.getByRef(_e.LINE_HEIGHT_REF))==null?void 0:c.value;let w=(g=this.userProperties)==null?void 0:g.getByRef(_e.LINE_HEIGHT_REF);w&&await this.storeProperty(w)}await this.applyProperties(),this.settingsChangeCallback()}};dt.appearanceValues=["readium-default-on","readium-sepia-on","readium-night-on"],dt.fontFamilyValues=["Original","serif","sans-serif"],dt.textAlignmentValues=["auto","justify","start"],dt.columnCountValues=["auto","1","2"],dt.directionValues=["auto","ltr","rtl"];var El=dt;L();L();L();L();L();L();L();L();var pw={stringify(n){let e=n.nSigBytes,t=n.words,r=[];for(let i=0;i<e;i++){let o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((o&15).toString(16))}return r.join("")},parse(n){let e=n.length;if(e%2!==0)throw new Error("Hex string count must be even");if(!/^[a-fA-F0-9]+$/.test(n))throw new Error(`Invalid Hex string: ${n}`);let t=[];for(let r=0;r<e;r+=2)t[r>>>3]|=parseInt(n.substr(r,2),16)<<24-r%8*4;return new Nn(t,e/2)}};L();L();var gw=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",Rs=(()=>{let n=parseInt((/msie (\d+)/.exec(gw)||[])[1],10);return isNaN(n)?(n=parseInt((/trident\/.*; rv:(\d+)/.exec(gw)||[])[1],10),isNaN(n)?!1:n):n})();function mw(n,e){return Rs===!1?!1:e?n==="<"?Rs<e:n==="<="?Rs<=e:n===">"?Rs>e:n===">="?Rs>=e:Rs===e:!0}function JB(){if(typeof window<"u"){let n=window.crypto||window.msCrypto;if(!n){if(mw("<",11))return console.warn("IE <= 10 uses insecure random generator. Please consider to use IE11 or another modern browser"),function(){return Math.floor(Math.random()*512)%256};throw new Error("Crypto module not found")}return function(){return n.getRandomValues(new Uint32Array(1))[0]}}else{if(typeof globalThis<"u"&&globalThis.crypto)return function(){return globalThis.crypto.randomBytes(4).readInt32LE()};if(typeof Pu=="function")return function(){return __non_webpack_require__("crypto").randomBytes(4).readInt32LE()}}throw new Error("Unable to find crypto module")}var yw=JB();var Nn=class n{constructor(e,t){if(Array.isArray(e)||!e){this._words=Array.isArray(e)?e:[],this._nSignificantBytes=typeof t=="number"?t:this._words.length*4;return}else if(e instanceof n){this._words=e.words.slice(),this._nSignificantBytes=e.nSigBytes;return}let r;try{e instanceof ArrayBuffer?r=new Uint8Array(e):(e instanceof Uint8Array||e instanceof Int8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}catch{throw new Error("Invalid argument")}if(!r)throw new Error("Invalid argument");let i=r.byteLength,o=[];for(let s=0;s<i;s++)o[s>>>2]|=r[s]<<24-s%4*8;this._words=o,this._nSignificantBytes=i}get nSigBytes(){return this._nSignificantBytes}set nSigBytes(e){this._nSignificantBytes=e}get words(){return this._words}toString(e){return e?e.stringify(this):pw.stringify(this)}toUint8Array(){let e=this._words,t=this._nSignificantBytes,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e[i>>>2]>>>24-i%4*8&255;return r}concat(e){let t=e.words.slice(),r=e.nSigBytes;if(this.clamp(),this._nSignificantBytes%4)for(let i=0;i<r;i++){let o=t[i>>>2]>>>24-i%4*8&255;this._words[this._nSignificantBytes+i>>>2]|=o<<24-(this._nSignificantBytes+i)%4*8}else for(let i=0;i<r;i+=4)this._words[this._nSignificantBytes+i>>>2]=t[i>>>2];return this._nSignificantBytes+=r,this}clamp(){let e=this._nSignificantBytes;this._words[e>>>2]&=4294967295<<32-e%4*8,this._words.length=Math.ceil(e/4)}clone(){return new n(this._words.slice(),this._nSignificantBytes)}static random(e){let t=[];for(let r=0;r<e;r+=4)t.push(yw());return new n(t,e)}};L();L();var Xg={stringify(n){let e=n.nSigBytes,t=n.words,r=[];for(let i=0;i<e;i++){let o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse(n){let e=n.length,t=[];for(let r=0;r<e;r++)t[r>>>2]|=(n.charCodeAt(r)&255)<<24-r%4*8;return new Nn(t,e)}};var bw={stringify(n){try{return decodeURIComponent(escape(Xg.stringify(n)))}catch{throw new Error("Malformed UTF-8 data")}},parse(n){return Xg.parse(unescape(encodeURIComponent(n)))}};var Df=class{constructor(e){this._minBufferSize=0,this._blockSize=0,this._props=e,this._data=e&&typeof e.data<"u"?e.data.clone():new Nn,this._nBytes=e&&typeof e.nBytes=="number"?e.nBytes:0}get blockSize(){return this._blockSize}reset(e,t){this._data=typeof e<"u"?e.clone():new Nn,this._nBytes=typeof t=="number"?t:0}_append(e){let t=typeof e=="string"?bw.parse(e):e;this._data.concat(t),this._nBytes+=t.nSigBytes}_process(e){let t,r=this._data.words,i=this._data.nSigBytes,o=this._blockSize,s=this._blockSize*4,l=i/s;e?l=Math.ceil(l):l=Math.max((l|0)-this._minBufferSize,0);let f=l*o,u=Math.min(f*4,i);if(f){for(let m=0;m<f;m+=o)this._doProcessBlock(r,m);t=r.splice(0,f),this._data.nSigBytes-=u}return new Nn(t,u)}_doProcessBlock(e,t){throw new Error("Not implemented")}};var Ff=class extends Df{constructor(e){super(e),this._blockSize=512/32,this._props=e,e&&typeof e.blockSize=="number"&&(this._blockSize=e.blockSize),this.reset(e?e.data:void 0,e?e.nBytes:void 0)}get blockSize(){return this._blockSize}reset(e,t){super.reset.call(this,e,t),this._doReset()}update(e){return this._append(e),this._process(),this}finalize(e){return e&&this._append(e),this._doFinalize()}_doReset(){throw new Error("Not implemented")}_doFinalize(){throw new Error("Not implemented")}};var Qg=[],_w=[];function KB(n){let e=Math.sqrt(n);for(let t=2;t<=e;t++)if(!(n%t))return!1;return!0}function vw(n){return(n-(n|0))*4294967296|0}(function(){let e=2,t=0;for(;t<64;)KB(e)&&(t<8&&(Qg[t]=vw(Math.pow(e,1/2))),_w[t]=vw(Math.pow(e,1/3)),t++),e++})();var Ls=[],Hi=class n extends Ff{constructor(e){super(e),this._hash=new Nn(Qg.slice(0)),this._props=e,e&&typeof e.hash<"u"&&(this._hash=e.hash.clone())}_doReset(){this._hash=new Nn(Qg.slice(0))}_doProcessBlock(e,t){let r=this._hash.words,i=r[0],o=r[1],s=r[2],l=r[3],f=r[4],u=r[5],m=r[6],y=r[7];for(let _=0;_<64;_++){if(_<16)Ls[_]=e[t+_]|0;else{let S=Ls[_-15],E=(S<<25|S>>>7)^(S<<14|S>>>18)^S>>>3,b=Ls[_-2],C=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;Ls[_]=E+Ls[_-7]+C+Ls[_-16]}let v=f&u^~f&m,p=i&o^i&s^o&s,h=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),c=(f<<26|f>>>6)^(f<<21|f>>>11)^(f<<7|f>>>25),g=y+c+v+_w[_]+Ls[_],w=h+p;y=m,m=u,u=f,f=l+g|0,l=s,s=o,o=i,i=g+w|0}r[0]=r[0]+i|0,r[1]=r[1]+o|0,r[2]=r[2]+s|0,r[3]=r[3]+l|0,r[4]=r[4]+f|0,r[5]=r[5]+u|0,r[6]=r[6]+m|0,r[7]=r[7]+y|0}_doFinalize(){let e=this._data.words,t=this._nBytes*8,r=this._data.nSigBytes*8;return e[r>>>5]|=128<<24-r%32,e[(r+64>>>9<<4)+14]=Math.floor(t/4294967296),e[(r+64>>>9<<4)+15]=t,this._data.nSigBytes=e.length*4,this._process(),this._hash}clone(){let e={hash:this._hash,blockSize:this._blockSize,data:this._data,nBytes:this._nBytes};return new n(e)}static hash(e,t){return new n(t).finalize(e)}};var Tl=rt(Jo());L();L();var Ur=rt($t());function Uf(n,e){let t=n.getClientRects();return Zg(t,e)}function Zg(n,e){let r=[];for(let f of n)r.push({bottom:f.bottom,height:f.height,left:f.left,right:f.right,top:f.top,width:f.width});let i=Sw(r,1,e),o=tD(i,1),s=Aw(o),l=2*2;for(let f=s.length-1;f>=0;f--){let u=s[f];if(!(u.width*u.height>l))if(s.length>1)Ur.default.log("CLIENT RECT: remove small"),s.splice(f,1);else{Ur.default.log("CLIENT RECT: remove small, but keep otherwise empty!");break}}return Ew(s),Ur.default.log(`CLIENT RECT: reduced ${r.length} --> ${s.length}`),s}function ei(n,e,t){return Math.abs(n-e)<=t}function YB(n,e){let t=Math.max(n.left,e.left),r=Math.min(n.right,e.right),i=Math.max(n.top,e.top),o=Math.min(n.bottom,e.bottom);return{bottom:o,height:Math.max(0,o-i),left:t,right:r,top:i,width:Math.max(0,r-t)}}function ww(n,e){let t=YB(e,n);if(t.height===0||t.width===0)return[n];let r=[];{let i={bottom:n.bottom,height:0,left:n.left,right:t.left,top:n.top,width:0};i.width=i.right-i.left,i.height=i.bottom-i.top,i.height!==0&&i.width!==0&&r.push(i)}{let i={bottom:t.top,height:0,left:t.left,right:t.right,top:n.top,width:0};i.width=i.right-i.left,i.height=i.bottom-i.top,i.height!==0&&i.width!==0&&r.push(i)}{let i={bottom:n.bottom,height:0,left:t.left,right:t.right,top:t.bottom,width:0};i.width=i.right-i.left,i.height=i.bottom-i.top,i.height!==0&&i.width!==0&&r.push(i)}{let i={bottom:n.bottom,height:0,left:t.right,right:n.right,top:n.top,width:0};i.width=i.right-i.left,i.height=i.bottom-i.top,i.height!==0&&i.width!==0&&r.push(i)}return r}function Hf(n,e,t,r){return(n.left<e||ei(n.left,e,r))&&(n.right>e||ei(n.right,e,r))&&(n.top<t||ei(n.top,t,r))&&(n.bottom>t||ei(n.bottom,t,r))}function XB(n,e,t){return Hf(n,e.left,e.top,t)&&Hf(n,e.right,e.top,t)&&Hf(n,e.left,e.bottom,t)&&Hf(n,e.right,e.bottom,t)}function QB(n,e){let t=Math.min(n.left,e.left),r=Math.max(n.right,e.right),i=Math.min(n.top,e.top),o=Math.max(n.bottom,e.bottom);return{bottom:o,height:o-i,left:t,right:r,top:i,width:r-t}}function e1(n,e,t){return(n.left<e.right||t>=0&&ei(n.left,e.right,t))&&(e.left<n.right||t>=0&&ei(e.left,n.right,t))&&(n.top<e.bottom||t>=0&&ei(n.top,e.bottom,t))&&(e.top<n.bottom||t>=0&&ei(e.top,n.bottom,t))}function Sw(n,e,t){for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){let o=n[r],s=n[i];if(o===s){Ur.default.log("mergeTouchingRects rect1 === rect2 ??!");continue}let l=ei(o.top,s.top,e)&&ei(o.bottom,s.bottom,e),f=ei(o.left,s.left,e)&&ei(o.right,s.right,e);if((f&&!t||l&&!f)&&e1(o,s,e)){Ur.default.log(`CLIENT RECT: merging two into one, VERTICAL: ${l} HORIZONTAL: ${f} (${t})`);let _=n.filter(p=>p!==o&&p!==s),v=QB(o,s);return _.push(v),Sw(_,e,t)}}return n}function Aw(n){for(let e=0;e<n.length;e++)for(let t=e+1;t<n.length;t++){let r=n[e],i=n[t];if(r===i){Ur.default.log("replaceOverlappingRects rect1 === rect2 ??!");continue}if(e1(r,i,-1)){let o=[],s,l,f=ww(r,i);if(f.length===1)o=f,s=r,l=i;else{let y=ww(i,r);f.length<y.length?(o=f,s=r,l=i):(o=y,s=i,l=r)}let u=[];u.push(l),Array.prototype.push.apply(u,o),Ew(u),Ur.default.log(`CLIENT RECT: overlap, cut one rect into ${o.length}`);let m=n.filter(y=>y!==s);return Array.prototype.push.apply(m,o),Aw(m)}}return n}function ZB(n,e){return Math.max(0,Math.min(n.right,e.right)-Math.max(n.left,e.left))}function eD(n,e){return Math.max(0,Math.min(n.bottom,e.bottom)-Math.max(n.top,e.top))}function tD(n,e){let t=new Set(n);for(let r of n){if(!(r.width>1&&r.height>1)){Ur.default.log("CLIENT RECT: remove tiny"),t.delete(r);continue}for(let o of n)if(r!==o&&t.has(o)&&XB(o,r,e)){Ur.default.log("CLIENT RECT: remove contained"),t.delete(r);break}}return Array.from(t)}function Ew(n){let e=[];for(let t of n)for(let r of n){if(t===r)continue;let i=e.indexOf(t)>=0,o=e.indexOf(r)>=0;if((!i||!o)&&e1(t,r,-1)){i||e.push(t),o||e.push(r),Ur.default.log("CLIENT RECT: overlap ---"),Ur.default.log(`#1 TOP:${t.top} BOTTOM:${t.bottom} LEFT:${t.left} RIGHT:${t.right} WIDTH:${t.width} HEIGHT:${t.height}`),Ur.default.log(`#2 TOP:${r.top} BOTTOM:${r.bottom} LEFT:${r.left} RIGHT:${r.right} WIDTH:${r.width} HEIGHT:${r.height}`);let s=ZB(t,r);Ur.default.log(`xOverlap: ${s}`);let l=eD(t,r);Ur.default.log(`yOverlap: ${l}`)}}e.length&&Ur.default.log(`CLIENT RECT: overlaps ${e.length}`)}L();var Ft=rt($t());function Ui(n,e){let t=n?n.getSelection():null;if(!t)return;if(t.isCollapsed){Ft.default.log("^^^ SELECTION COLLAPSED.");return}let r=t.toString(),i=r.trim().replace(/\n/g," ").replace(/\s\s+/g," ");if(i.length===0){Ft.default.log("^^^ SELECTION TEXT EMPTY.");return}if(!t.anchorNode||!t.focusNode)return;let o=t.rangeCount===1?t.getRangeAt(0):Tw(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset);if(!o||o.collapsed){Ft.default.log("$$$$$$$$$$$$$$$$$ CANNOT GET NON-COLLAPSED SELECTION RANGE?!");return}let s=nD(o);s.startContainer!==o.startContainer&&(Ft.default.log(">>>>>>>>>>>>>>>>>>>>>>> SELECTION RANGE NORMALIZE diff: startContainer"),Ft.default.log(s.startContainer),Ft.default.log(o.startContainer)),s.startOffset!==o.startOffset&&(Ft.default.log(">>>>>>>>>>>>>>>>>>>>>>> SELECTION RANGE NORMALIZE diff: startOffset"),Ft.default.log(`${s.startOffset} !== ${o.startOffset}`)),s.endContainer!==o.endContainer&&(Ft.default.log(">>>>>>>>>>>>>>>>>>>>>>> SELECTION RANGE NORMALIZE diff: endContainer"),Ft.default.log(s.endContainer),Ft.default.log(o.endContainer)),s.endOffset!==o.endOffset&&(Ft.default.log(">>>>>>>>>>>>>>>>>>>>>>> SELECTION RANGE NORMALIZE diff: endOffset"),Ft.default.log(`${s.endOffset} !== ${o.endOffset}`));let l=mo(s,e);if(!l){Ft.default.log("^^^ SELECTION RANGE INFO FAIL?!");return}return{rangeInfo:l,cleanText:i,rawText:r,range:s}}function Tw(n,e,t,r){try{let i=new Range;if(i.setStart(n,e),i.setEnd(t,r),!i.collapsed)return Ft.default.log(">>> createOrderedRange RANGE OK"),i;Ft.default.log(">>> createOrderedRange COLLAPSED ... RANGE REVERSE?");let o=new Range;if(o.setStart(t,r),o.setEnd(n,e),!o.collapsed)return Ft.default.log(">>> createOrderedRange RANGE REVERSE OK."),i;Ft.default.log(">>> createOrderedRange RANGE REVERSE ALSO COLLAPSED?!");return}catch(i){console.warn(i.message);return}}function mo(n,e){let t=n.startContainer.nodeType===Node.ELEMENT_NODE,r=t?n.startContainer:n.startContainer.parentNode&&n.startContainer.parentNode.nodeType===Node.ELEMENT_NODE?n.startContainer.parentNode:void 0;if(!r)return;let i=t?-1:Array.from(r.childNodes).indexOf(n.startContainer);if(i<-1)return;let o=e(r),s=n.endContainer.nodeType===Node.ELEMENT_NODE,l=s?n.endContainer:n.endContainer.parentNode&&n.endContainer.parentNode.nodeType===Node.ELEMENT_NODE?n.endContainer.parentNode:void 0;if(!l)return;let f=s?-1:Array.from(l.childNodes).indexOf(n.endContainer);if(f<-1)return;let u=e(l),m=rD(n.startContainer,n.endContainer);if(!m){Ft.default.log("^^^ NO RANGE COMMON ANCESTOR?!");return}if(n.commonAncestorContainer){let y=n.commonAncestorContainer.nodeType===Node.ELEMENT_NODE?n.commonAncestorContainer:n.commonAncestorContainer.parentNode;y&&y.nodeType===Node.ELEMENT_NODE&&m!==y&&(Ft.default.log(">>>>>> COMMON ANCESTOR CONTAINER DIFF??!"),Ft.default.log(e(m)),Ft.default.log(e(y)))}if(u&&o)return{endContainerChildTextNodeIndex:f,endContainerElementCssSelector:u,endOffset:n.endOffset,startContainerChildTextNodeIndex:i,startContainerElementCssSelector:o,startOffset:n.startOffset}}function jf(n,e){let t=n.querySelector(e.startContainerElementCssSelector);if(!t){Ft.default.log("^^^ convertRangeInfo NO START ELEMENT CSS SELECTOR?!");return}let r=t;if(e.startContainerChildTextNodeIndex>=0){if(e.startContainerChildTextNodeIndex>=t.childNodes.length){Ft.default.log("^^^ convertRangeInfo rangeInfo.startContainerChildTextNodeIndex >= startElement.childNodes.length?!");return}if(r=t.childNodes[e.startContainerChildTextNodeIndex],r.nodeType!==Node.TEXT_NODE){Ft.default.log("^^^ convertRangeInfo startContainer.nodeType !== Node.TEXT_NODE?!");return}}let i=n.querySelector(e.endContainerElementCssSelector);if(!i){Ft.default.log("^^^ convertRangeInfo NO END ELEMENT CSS SELECTOR?!");return}let o=i;if(e.endContainerChildTextNodeIndex>=0){if(e.endContainerChildTextNodeIndex>=i.childNodes.length){Ft.default.log("^^^ convertRangeInfo rangeInfo.endContainerChildTextNodeIndex >= endElement.childNodes.length?!");return}if(o=i.childNodes[e.endContainerChildTextNodeIndex],o.nodeType!==Node.TEXT_NODE){Ft.default.log("^^^ convertRangeInfo endContainer.nodeType !== Node.TEXT_NODE?!");return}}return Tw(r,e.startOffset,o,e.endOffset)}function rD(n,e){if(n.nodeType===Node.ELEMENT_NODE&&n===e||n.nodeType===Node.ELEMENT_NODE&&n.contains(e))return n;if(e.nodeType===Node.ELEMENT_NODE&&e.contains(n))return e;let t=[],r=n.parentNode;for(;r&&r.nodeType===Node.ELEMENT_NODE;)t.push(r),r=r.parentNode;let i=[];for(r=e.parentNode;r&&r.nodeType===Node.ELEMENT_NODE;)i.push(r),r=r.parentNode;let o=t.find(s=>i.indexOf(s)>=0);return o||(o=i.find(s=>t.indexOf(s)>=0)),o}function nD(n){let e=n.cloneRange(),t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset;t.childNodes.length&&r>0&&(t=xw(t.childNodes[r-1]),r=t.length||0),o<i.childNodes.length&&(i=Cw(i.childNodes[o]),o=0);let s=Cw(t),l=xw(i);function f(u){if(u.childNodes.length)return!1;let m=u.length||0;return u===t&&r===m?!1:!(u===i&&o===0)}for(;s&&!f(s)&&s!==l;)s=iD(s);for(s===t?e.setStart(t,r):s!==null&&(s.nodeType===3?e.setStart(s,0):e.setStartBefore(s));l&&!f(l)&&l!==s;)l=oD(l);return l===i?e.setEnd(i,o):l!==null&&(l.nodeType===3?e.setEnd(l,l.length):e.setEndAfter(l)),e}function iD(n){if(n.firstChild)return n.firstChild;let e=n;for(;!e.nextSibling;)if(e=e.parentNode,!e)return null;return e.nextSibling}function oD(n){if(n.lastChild)return n.lastChild;let e=n;for(;!e.previousSibling;)if(e=e.parentNode,!e)return null;return e.previousSibling}function Cw(n){for(;n.firstChild;)n=n.firstChild;return n}function xw(n){for(;n.lastChild;)n=n.lastChild;return n}L();var s1=rt(Ow());var yo,a1;function Ar(n,e,t){if(n.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if(n.tagName.toLowerCase()==="html")return n.tagName.toLowerCase();let r={className:o=>!0,idName:o=>!0,optimizedMinLength:2,root:e.body,seedMinLength:1,tagName:o=>!0,threshold:1e3};yo={...r,...t},a1=fD(yo.root,r);let i=r1(n,0,()=>r1(n,1,()=>r1(n,2)));if(i){let o=Iw(Nw(i,n));return o.length>0&&(i=o[0]),qf(i)}else throw new Error("Selector was not found.")}function fD(n,e){return n.nodeType===Node.DOCUMENT_NODE?n:n===e.root?n.ownerDocument:n}function r1(n,e,t){let r=null,i=[],o=n,s=0;for(;o&&o!==yo.root.parentElement;){let l=o1(hD(o))||o1(...pD(o))||o1(gD(o))||[mD()],f=yD(o);if(e===0)f&&(l=l.concat(l.filter(i1).map(u=>n1(u,f))));else if(e===1)l=l.slice(0,1),f&&(l=l.concat(l.filter(i1).map(u=>n1(u,f))));else if(e===2){let[u]=l=l.slice(0,1);f&&i1(u)&&(l=[n1(u,f)])}for(let u of l)u.level=s;if(i.push(l),i.length>=yo.seedMinLength&&(r=Mw(i,t),r))break;o=o.parentElement,s++}return r||(r=Mw(i,t)),r}function Mw(n,e){let t=Iw(Lw(n));if(t.length>yo.threshold)return e?e():null;for(let r of t)if(Rw(r))return r;return null}function qf(n){let e=n[0],t=e.name;for(let r=1;r<n.length;r++){let i=n[r].level||0;e.level===i-1?t=`${n[r].name} > ${t}`:t=`${n[r].name} ${t}`,e=n[r]}return t}function kw(n){return n.map(e=>e.penalty).reduce((e,t)=>e+t,0)}function Rw(n){switch(a1.querySelectorAll(qf(n)).length){case 0:throw new Error(`Can't select any node with this selector: ${qf(n)}`);case 1:return!0;default:return!1}}function hD(n){let e=n.getAttribute("id");return e&&yo.idName(e)?{name:"#"+(0,s1.default)(e,{isIdentifier:!0}),penalty:0}:null}function pD(n){return Array.from(n.classList).filter(yo.className).map(t=>({name:"."+(0,s1.default)(t,{isIdentifier:!0}),penalty:1}))}function gD(n){let e=n.tagName.toLowerCase();return yo.tagName(e)?{name:e,penalty:2}:null}function mD(){return{name:"*",penalty:3}}function yD(n){let e=n.parentNode;if(!e)return null;let t=e.firstChild;if(!t)return null;let r=0;for(;t&&(t.nodeType===Node.ELEMENT_NODE&&r++,t!==n);)t=t.nextSibling;return r}function n1(n,e){return{name:n.name+`:nth-child(${e})`,penalty:n.penalty+1}}function i1(n){return n.name!=="html"&&!n.name.startsWith("#")}function o1(...n){let e=n.filter(bD);return e.length>0?e:null}function bD(n){return n!=null}function*Lw(n,e=[]){if(n.length>0)for(let t of n[0])yield*Lw(n.slice(1,n.length),e.concat(t));else yield e}function Iw(n){return Array.from(n).sort((e,t)=>kw(e)-kw(t))}function*Nw(n,e){if(n.length>2&&n.length>yo.optimizedMinLength)for(let t=1;t<n.length-1;t++){let r=[...n];r.splice(t,1),Rw(r)&&vD(r,e)&&(yield r,yield*Nw(r,e))}}function vD(n,e){return a1.querySelector(qf(n))===e}L();L();var Bw="0 0 24 24",fn=(n,e,t,r="icon")=>`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="${Bw}" preserveAspectRatio="xMidYMid meet" role="img" class="${r}" aria-labelledBy="${n}">
  <title id="${n}">${e}</title>
  ${t}
</svg>`,_D=(n,e,t,r,i="icon")=>`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="${r}" preserveAspectRatio="xMidYMid meet" role="img" class="${i}" aria-labelledBy="${n}">
  <title id="${n}">${e}</title>
  ${t}
</svg>`,Fa=(n,e,t,r="icon",i,o)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${i}" height="${i}" viewBox="${Bw}" style="fill:${o}" preserveAspectRatio="xMidYMid meet" role="img" class="${r}" aria-labelledBy="${n}">
  <title id="${n}">${e}</title>
  ${t}
</svg>`,gi={error:fn("error-icon","Warning",'<path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>'),home:'<path d="M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z"/>',expand:fn("expand-icon","Enter fullscreen",'<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>',"icon active-icon"),loading:_D("loading-icon","Loading",'<path fill="#BBBBBB" d="M145,241.6c-53.3,0-96.6-43.2-96.6-96.6c0-53.3,43.2-96.6,96.6-96.6c53.3,0,96.6,43.2,96.6,96.6 c0,26.7-10.8,50.9-28.3,68.3l7.6,7.6c19.4-19.4,31.5-46.3,31.5-75.9c0-59.3-48-107.3-107.3-107.3S37.7,85.7,37.7,145 c0,59.3,48,107.3,107.3,107.3V241.6z"/>',"0 0 290 290"),next:fn("next-icon","Next Chapter",'<path d="M6.49 20.13l1.77 1.77 9.9-9.9-9.9-9.9-1.77 1.77L14.62 12l-8.13 8.13z"/>'),previous:fn("previous-icon","Previous Chapter",'<path d="M17.51 3.87L15.73 2.1 5.84 12l9.9 9.9 1.77-1.77L9.38 12l8.13-8.13z"/>'),settings:fn("settings-icon","Settings",'<path d="M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/>',"icon open"),toc:fn("toc-icon","Table of Contents",'<path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"/>',"icon open"),bookmarks:fn("toc-icon","Bookmarks",'<path d="M4,6H2v16h16v-2H4V6z"/><path d="M22,2H6v16h16V2z M20,12l-2.5-1.5L15,12V4h5V12z"/>',"icon open"),bookmark:fn("toc-icon","Bookmark",'<path d="M19,3H5v18l7-3l7,3V3z"/>',"icon open"),delete:fn("delete-icon","Delete",'<path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>',"icon open"),close:fn("close-icon","Close",'<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>',"icon open"),text:fn("text-icon","Text",'<path d="M5 4v3h5.5v12h3V7H19V4z"/>',"icon open"),speak:fn("speak-icon","Speak",'<circle cx="9" cy="9" r="4"/><path d="M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"/><path d="M0 0h24v24H0z" fill="none"/>',"icon open"),note:fn("note-icon","Note",'<polygon points="17.71 24.66 22.3 20.07 17.71 20.07 17.71 24.66" fill="none"/><path d="M22.42.07H5.58A3.28,3.28,0,0,0,2.29,3.35V24.79a3.28,3.28,0,0,0,3.29,3.28H16.71a1,1,0,0,0,.71-.29l8-8a1,1,0,0,0,.29-.71V3.35A3.28,3.28,0,0,0,22.42.07Zm-8.17,15h-7v-2h7Zm-7-6v-2h13v2ZM16.5,25.86v-6a1,1,0,0,1,1-1h6Z" />',"icon open"),highlight:fn("highlight-icon","Highlight",'<path d="M27.71,7.78,21.12,1.19a1,1,0,0,0-1.38,0L4.32,15A1,1,0,0,0,4,15.7a1,1,0,0,0,.3.73c1.22,1.22,1.2,2.37,0,3.62a1,1,0,0,0,0,1.41l3.2,3.2a1,1,0,0,0,1.41,0c1.28-1.28,2.36-1.29,3.62,0a1,1,0,0,0,1.45,0L27.74,9.16A1,1,0,0,0,27.71,7.78Z" /><path d="M3.09,22.59l-2.8,2.8a1,1,0,0,0-.21,1.09A1,1,0,0,0,1,27.1H4.6a1,1,0,0,0,.71-.29l1-1Z" />',"icon open")};var c1=rt(Gf());var Xr=rt($t()),Is=(f=>(f.R2_ID_HIGHLIGHTS_CONTAINER="R2_ID_HIGHLIGHTS_CONTAINER",f.R2_ID_BOOKMAKRS_CONTAINER="R2_ID_BOOKMAKRS_CONTAINER",f.R2_ID_READALOUD_CONTAINER="R2_ID_READALOUD_CONTAINER",f.R2_ID_PAGEBREAK_CONTAINER="R2_ID_PAGEBREAK_CONTAINER",f.R2_ID_SEARCH_CONTAINER="R2_ID_SEARCH_CONTAINER",f.R2_ID_DEFINITIONS_CONTAINER="R2_ID_DEFINITIONS_CONTAINER",f.R2_ID_LINEFOCUS_CONTAINER="R2_ID_LINEFOCUS_CONTAINER",f.R2_ID_GUTTER_RIGHT_CONTAINER="R2_ID_GUTTER_RIGHT_CONTAINER",f))(Is||{}),Fw="R2_CLASS_HIGHLIGHT_CONTAINER",Pl="R2_CLASS_HIGHLIGHT_BOUNDING_AREA",jr="R2_CLASS_HIGHLIGHT_AREA",xl="R2_CLASS_HIGHLIGHT_ICON",ji=.5,Dw=.75,Ns={blue:100,green:50,red:230},er=[],SD="data-highlighted",AD="data-timestamp",Ua={ELEMENT_NODE:1,TEXT_NODE:3};var Bn=["R2_ID_HIGHLIGHTS_CONTAINER","R2_ID_PAGEBREAK_CONTAINER","R2_ID_SEARCH_CONTAINER","R2_ID_READALOUD_CONTAINER","R2_ID_BOOKMAKRS_CONTAINER","R2_ID_DEFINITIONS_CONTAINER","R2_ID_LINEFOCUS_CONTAINER","R2_ID_GUTTER_RIGHT_CONTAINER",Fw,jr,Pl],u1=-1,l1=-1,Jt=class n{constructor(e,t,r,i,o){this.lastSelectedHighlight=void 0;this.activeAnnotationMarkerId=void 0;this.showTool=(0,Tl.debounce)(e=>{this.isAndroid()||this.snapSelectionToWord(e),this.toolboxShow()},navigator.userAgent.toLowerCase().indexOf("firefox")>-1?200:100);this.isSelectionMenuOpen=!1;this.selectionMenuOpened=(0,Tl.debounce)(()=>{var e,t;this.isSelectionMenuOpen||(this.isSelectionMenuOpen=!0,(e=this.api)!=null&&e.selectionMenuOpen&&((t=this.api)==null||t.selectionMenuOpen()),this.navigator.emit("toolbox.opened","opened"))},100);this.selectionMenuClosed=(0,Tl.debounce)(()=>{var e,t;this.isSelectionMenuOpen&&(this.isSelectionMenuOpen=!1,(e=this.api)!=null&&e.selectionMenuClose&&((t=this.api)==null||t.selectionMenuClose()),this.navigator.emit("toolbox.closed","closed"))},100);this.selection=(0,Tl.debounce)((e,t)=>{var r,i;(r=this.api)!=null&&r.selection&&((i=this.api)==null||i.selection(e,t))},100);this.getScrollingElement=e=>e!=null&&e.scrollingElement?e==null?void 0:e.scrollingElement:e!=null&&e.body?e==null?void 0:e.body:document.createElement("body");this.layerSettings=e,this.properties=t,this.properties.menuPosition===void 0&&(this.properties.menuPosition="inline"),this.api=o,this.hasEventListener=r,this.options=this.defaults(i,{color:"#fce300",highlightedClass:"highlighted",contextClass:"highlighter-context",onBeforeHighlight:function(){return!0},onAfterHighlight:function(){}})}static async create(e){let t=new this(e.layerSettings,e,!1,{},e.api);return new Promise(r=>r(t))}async initialize(e){var o;let t=e.contentDocument;t&&this.dom(t.body).addClass(this.options.contextClass),this.bindEvents((o=e.contentDocument)==null?void 0:o.body,this,this.hasEventListener),this.initializeToolbox(),u1=-1,l1=-1;let r=this;async function i(){r.lastSelectedHighlight===void 0||(r.lastSelectedHighlight=void 0)}setTimeout(async()=>{var l;let s=e.contentDocument;s&&await((l=s.body)==null?void 0:l.addEventListener("click",i))},100)}haveSameColor(e,t){return this.dom(e).color()===this.dom(t).color()}defaults(e,t){e=e||{};for(let r in t)t.hasOwnProperty(r)&&e[r]===void 0&&(e[r]=t[r]);return e}unique(e){return e.filter(function(t,r,i){return i.indexOf(t)===r})}refineRangeBoundaries(e){let t=e.startContainer,r=e.endContainer,i=e.commonAncestorContainer,o=!0;if(e.endOffset===0){for(;!r.previousSibling&&r.parentNode!==i;)r=r.parentNode;r=r.previousSibling}else r.nodeType===Ua.TEXT_NODE?e.endOffset<r.nodeValue.length&&r.splitText(e.endOffset):e.endOffset>0&&(r=r.childNodes.item(e.endOffset-1));return t.nodeType===Ua.TEXT_NODE?e.startOffset===t.nodeValue.length?o=!1:e.startOffset>0&&(t=t.splitText(e.startOffset),r===t.previousSibling&&(r=t)):e.startOffset<t.childNodes.length?t=t.childNodes.item(e.startOffset):t=t.nextSibling,{startContainer:t,endContainer:r,goDeeper:o}}sortByDepth(e,t){let r=this;e.sort(function(i,o){return r.dom(t?o:i).parents().length-r.dom(t?i:o).parents().length})}groupHighlights(e){let t=[],r={},i=[];return e.forEach(function(o){let s=o.getAttribute(AD);typeof r[s]>"u"&&(r[s]=[],t.push(s)),r[s].push(o)}),t.forEach(function(o){let s=r[o];i.push({chunks:s,timestamp:o,toString:function(){return s.map(function(l){return l.textContent}).join("")}})}),i}dom(e){let t=this;return{addClass:function(r){e.classList?e.classList.add(r):e.className+=" "+r},removeClass:function(r){e.classList?e.classList.remove(r):e.className=e.className.replace(new RegExp("(^|\\b)"+r+"(\\b|$)","gi")," ")},prepend:function(r){let i=Array.prototype.slice.call(r),o=i.length;for(;o--;)e.insertBefore(i[o],e.firstChild)},append:function(r){let i=Array.prototype.slice.call(r);for(let o=0,s=i.length;o<s;++o)e.appendChild(i[o])},insertAfter:function(r){var i;return(i=r.parentNode)==null?void 0:i.insertBefore(e,r.nextSibling)},insertBefore:function(r){var i;return(i=r.parentNode)==null?void 0:i.insertBefore(e,r)},remove:function(){e.parentNode.removeChild(e),e=null},contains:function(r){return e!==r&&e.contains(r)},wrap:function(r){return e.parentNode&&e.parentNode.insertBefore(r,e),r.appendChild(e),r},unwrap:function(){let r=Array.prototype.slice.call(e.childNodes),i;return r.forEach(function(o){i=o.parentNode,t.dom(o).insertBefore(o.parentNode),t.dom(i).remove()}),r},parents:function(){let r,i=[];for(;r=e.parentNode;)i.push(r),e=r;return i},normalizeTextNodes:function(){if(e){if(e.nodeType===Ua.TEXT_NODE)for(;e.nextSibling&&e.nextSibling.nodeType===Ua.TEXT_NODE;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);else t.dom(e.firstChild).normalizeTextNodes();t.dom(e.nextSibling).normalizeTextNodes()}},color:function(){return e.style.backgroundColor},fromHTML:function(r){let i=document.createElement("div");return i.innerHTML=r,i.childNodes},getRange:function(){var o;let r=(o=t.dom(e))==null?void 0:o.getSelection(),i;return(r==null?void 0:r.rangeCount)>0&&(i=r==null?void 0:r.getRangeAt(0)),i},removeAllRanges:function(){var i;let r=(i=t.dom(e))==null?void 0:i.getSelection();r==null||r.removeAllRanges(),t.toolboxHide()},getSelection:function(){var r;return(r=t.dom(e).getWindow())==null?void 0:r.getSelection()},getWindow:function(){var r;return(r=t.dom(e).getDocument())==null?void 0:r.defaultView},getDocument:function(){return(e==null?void 0:e.ownerDocument)||e}}}disableContext(e){return e.preventDefault(),e.stopPropagation(),!1}bindEvents(e,t,r){let i=e.ownerDocument;e.addEventListener("mouseup",this.toolboxShowDelayed.bind(this)),e.addEventListener("touchend",this.toolboxShowDelayed.bind(this)),i.addEventListener("mouseup",this.toolboxShowDelayed.bind(this)),i.addEventListener("touchend",this.toolboxShowDelayed.bind(this)),r||window.addEventListener("resize",this.toolboxPlacement.bind(this)),i.addEventListener("selectionchange",this.toolboxPlacement.bind(this)),i.addEventListener("selectionchange",this.toolboxShowDelayed.bind(this)),e.addEventListener("mousedown",this.toolboxHide.bind(this)),e.addEventListener("touchstart",this.toolboxHide.bind(this)),this.isAndroid()&&e.addEventListener("contextmenu",this.disableContext),e.addEventListener("mousedown",this.mousedown.bind(this)),e.addEventListener("mouseup",this.mouseup.bind(this)),e.addEventListener("touchstart",this.mousedown.bind(this)),e.addEventListener("touchend",this.mouseup.bind(this)),this.hasEventListener=!0}async mousedown(e){var t;if(u1=e.clientX,l1=e.clientY,(t=this.properties)!=null&&t.preventScrollOnSelection){let r=yt(document,"#iframe-wrapper");r.style.overflow="hidden"}}async mouseup(e){Math.abs(u1-e.clientX)<3&&Math.abs(l1-e.clientY)<3&&await this.processMouseEvent(e)}async mousemove(e){await this.processMouseEvent(e)}unbindEvents(e,t){let r=e.ownerDocument;e.removeEventListener("mouseup",this.toolboxShowDelayed.bind(this)),e.removeEventListener("touchend",this.toolboxShowDelayed.bind(this)),r.removeEventListener("mouseup",this.toolboxShowDelayed.bind(this)),r.removeEventListener("touchend",this.toolboxShowDelayed.bind(this)),window.removeEventListener("resize",this.toolboxPlacement.bind(this)),r.removeEventListener("selectionchange",this.toolboxPlacement.bind(this)),e.removeEventListener("mousedown",this.toolboxHide.bind(this)),e.removeEventListener("touchstart",this.toolboxHide.bind(this)),this.isAndroid()&&e.removeEventListener("contextmenu",this.disableContext),e.removeEventListener("mousedown",this.mousedown.bind(this)),e.removeEventListener("mouseup",this.mouseup.bind(this)),e.removeEventListener("mousemove",this.mousemove.bind(this)),e.removeEventListener("touchstart",this.mousedown.bind(this)),e.removeEventListener("touchend",this.mouseup.bind(this)),e.removeEventListener("touchmove",this.mousemove.bind(this)),this.hasEventListener=!1}destroy(){this.toolboxHide();let e=this.navigator.iframes[0].contentDocument;e&&(this.unbindEvents(e.body,this),this.dom(e.body).removeClass(this.options.contextClass))}initializeToolbox(){let e=document.getElementById("highlight-toolbox-mode-colors"),t=document.getElementById("highlight-toolbox-mode-add"),r=["#fce300","#48e200","#00bae5","#157cf9","#6a39b7","#ea426a","#ff8500"],i=document.getElementById("colorIcon"),o=document.getElementById("actionIcon"),s=document.getElementById("dismissIcon"),l=document.getElementById("collapseIcon"),f=document.getElementById("highlightIcon"),u=this;if(s&&(s.innerHTML=gi.close,s.addEventListener("click",function(){u.toolboxMode("add")})),l&&(l.innerHTML=gi.close,l.addEventListener("click",function(){u.toolboxMode("add")})),i){i.style.position="relative",i.style.zIndex="20",r.forEach(_=>{let v=document.getElementById(_),p=document.getElementById(`c${_}`);v&&(e!=null&&e.contains(v))&&e.removeChild(v),t&&p&&t.contains(p)&&t.removeChild(p)});let m=[],y=[];if(i.addEventListener("click",function(){u.toolboxMode("colors")}),this.navigator.rights.enableAnnotations){let _=10;r.forEach(v=>{_--;let p=i==null?void 0:i.cloneNode(!0),h=p.lastChild,c=n.hexToRgbChannels(v);h.style.backgroundColor="rgba("+[c.red,c.green,c.blue].join(",")+",.5)",p.id=`c${v}`,p.style.display="unset",p.style.position="relative",p.style.zIndex=`${_}`,p.style.marginLeft="-30px",y.push(p),t==null||t.insertBefore(p,f)})}r.forEach(_=>{let v=i==null?void 0:i.cloneNode(!0),p=v.lastChild;p.style.backgroundColor=_,v.id=_,v.style.position="relative",v.style.display="unset",m.push(v),i&&v.addEventListener("click",function(){var S,E,b;u.setColor(_);let h=i==null?void 0:i.lastChild;h&&(h.style.backgroundColor=_);let c=document.getElementById("highlightIcon"),g=document.getElementById("underlineIcon"),w=document.getElementById("noteIcon");(((S=c==null?void 0:c.getElementsByTagName)==null?void 0:S.call(c,"span").length)??0)>0&&((c==null?void 0:c.getElementsByTagName("span")[0]).style.background=u.getColor()),(((E=g==null?void 0:g.getElementsByTagName)==null?void 0:E.call(g,"span").length)??0)>0&&((g==null?void 0:g.getElementsByTagName("span")[0]).style.borderBottomColor=u.getColor()),(((b=w==null?void 0:w.getElementsByTagName)==null?void 0:b.call(w,"span").length)??0)>0&&((w==null?void 0:w.getElementsByTagName("span")[0]).style.borderBottomColor=u.getColor()),u.toolboxMode("add")}),e==null||e.insertBefore(v,s)})}o&&o.addEventListener("click",function(){u.toolboxMode("action")}),u.toolboxMode("add")}toolboxMode(e){let t=document.getElementById("highlight-toolbox-mode-colors"),r=document.getElementById("highlight-toolbox-mode-add"),i=document.getElementById("highlight-toolbox-mode-edit"),o=document.getElementById("highlight-toolbox-mode-action");switch(e){case"colors":t&&(t.style.display="unset"),r&&(r.style.display="none"),i&&(i.style.display="none"),o&&(o.style.display="none");break;case"edit":t&&(t.style.display="none"),r&&(r.style.display="none"),i&&(i.style.display="unset"),o&&(o.style.display="none");break;case"action":t&&(t.style.display="none"),r&&(r.style.display="none"),i&&(i.style.display="none"),o&&(o.style.display="unset");break;default:t&&(t.style.display="none"),r&&(r.style.display="unset"),i&&(i.style.display="none"),o&&(o.style.display="none");break}}toolboxHide(){var t;let e=document.getElementById("highlight-toolbox");if(e&&(e.style.display="none"),this.selectionMenuClosed(),(t=this.properties)!=null&&t.preventScrollOnSelection){let r=yt(document,"#iframe-wrapper");r.style.overflow="auto"}}toolboxShowDelayed(e){this.showTool(e.detail===1)}snapSelectionToWord(e=!1){var o;let t=this,r=this.navigator.iframes[0].contentDocument;if(r){let s=(o=t.dom(r.body))==null?void 0:o.getSelection();if(t.dom(r.body)&&s&&!(s!=null&&s.isCollapsed)){let m=function(g){let w=g.match(new RegExp("[^a-zA-Z0-9]+$"));return!w||!w.index?g:g.slice(0,w.index)},l=s.toString(),f=l.length-l.trimStart().length,u=l.length-l.trimEnd().length,y=l.length;var i=/[-!$%^&*()_+|~=`{}[\]:/;<>?,.@#]/;l=l.replace(i,""),f=y-l.trimStart().length,l=m(l),u=y-l.trimEnd().length;let _=document.createRange();e?(_.setStart(s.anchorNode,s.anchorOffset+f),_.setEnd(s.focusNode,s.focusOffset-u)):(_.setStart(s.anchorNode,s.anchorOffset),_.setEnd(s.focusNode,s.focusOffset));let v=_.collapsed;_.detach();let p=s.focusNode,h;e?(h=s.focusOffset-u,s.collapse(s.anchorNode,s.anchorOffset+f)):(h=s.focusOffset,s.collapse(s.anchorNode,s.anchorOffset));let c=["forward","backward"];v&&(c=["backward","forward"]),e?(s.modify("move",c[0],"character"),s.modify("move",c[1],"word"),s.extend(p,h),s.modify("extend",c[1],"character"),s.modify("extend",c[0],"word")):s.extend(p,h),this.selection(s.toString(),s)}return s}}toolboxShow(){var e;if(this.activeAnnotationMarkerId===void 0){let t=this,r=document.getElementById("highlight-toolbox-mode-add"),i=this.dom((e=this.navigator.iframes[0].contentDocument)==null?void 0:e.body).getRange();if((!i||i.collapsed)&&r){getComputedStyle(r).display!=="none"&&t.toolboxHide();return}this.isIOS()&&setTimeout(function(){let o=t.navigator.iframes[0].contentDocument;if(o){let s=t.dom(o.body).getSelection();s.removeAllRanges(),setTimeout(function(){var m,y;s.addRange(i);function l(_){let v={className:h=>Bn.indexOf(h)<0,idName:h=>Bn.indexOf(h)<0},p=t.navigator.iframes[0].contentDocument;if(p)return Ar(_,p,v)}let f=t.navigator.iframes[0].contentWindow,u=Ui(f,l);(y=(m=t.navigator.annotationModule)==null?void 0:m.annotator)==null||y.saveTemporarySelectionInfo(u)},5)}},100),this.toolboxPlacement(),this.toolboxHandler()}}toolboxPlacement(){var i,o,s,l,f;let e=this.dom((i=this.navigator.iframes[0].contentDocument)==null?void 0:i.body).getRange();if(!e||e.collapsed)return;let t=e.getBoundingClientRect(),r=document.getElementById("highlight-toolbox");r&&(((o=this.properties)==null?void 0:o.menuPosition)==="top"?(r.style.left="0px",r.style.transform="revert",r.style.width="100%",r.style.textAlign="center",r.style.position="absolute",r.style.setProperty("--content","revert")):((s=this.properties)==null?void 0:s.menuPosition)==="bottom"?(r.style.bottom="0px",r.style.left="0px",r.style.transform="revert",r.style.width="100%",r.style.textAlign="center",r.style.position="absolute",r.style.setProperty("--content","revert")):(((l=this.navigator.view)==null?void 0:l.isPaginated())?r.style.top=t.top+(((f=this.navigator.attributes)==null?void 0:f.navHeight)??0)+"px":r.style.top=t.top+"px",r.style.left=(t.right-t.left)/2+t.left+"px"))}toolboxHandler(){var t,r,i,o,s,l,f;let e=document.getElementById("highlight-toolbox");if(e&&getComputedStyle(e).display==="none"){e.style.display="block",((t=this.navigator.view)==null?void 0:t.isPaginated())?e.style.position="absolute":e.style.position="relative",this.selectionMenuOpened();let m=this;m.toolboxMode("add");let y=document.getElementById("highlightIcon"),_=document.getElementById("collapseIcon"),v=document.getElementById("underlineIcon"),p=document.getElementById("noteIcon"),h=document.getElementById("colorIcon"),c=document.getElementById("speakIcon");if(this.navigator.rights.enableAnnotations){if(y&&(y.style.display="unset",h&&y.getElementsByTagName("span").length>0&&(y.getElementsByTagName("span")[0].style.background=this.getColor())),v&&(v.style.display="unset",h&&v.getElementsByTagName("span").length>0&&(v.getElementsByTagName("span")[0].style.borderBottomColor=this.getColor())),p&&(p.style.display="unset",h&&p.getElementsByTagName("span").length>0&&(p.getElementsByTagName("span")[0].style.borderBottomColor=this.getColor())),h){h.style.display="unset";let g=h.lastChild;g.style.backgroundColor=this.getColor()}if(y){let g=function(){m.doHighlight(!1,0),m.toolboxHide(),y==null||y.removeEventListener("click",g)},w=y.cloneNode(!0);(r=y==null?void 0:y.parentNode)==null||r.replaceChild(w,y),y=document.getElementById("highlightIcon"),y==null||y.addEventListener("click",g)}if(v){let g=function(){m.doHighlight(!1,1),m.toolboxHide(),v==null||v.removeEventListener("click",g)},w=v.cloneNode(!0);(i=v==null?void 0:v.parentNode)==null||i.replaceChild(w,v),v=document.getElementById("underlineIcon"),v==null||v.addEventListener("click",g)}if(p){let g=function(){m.doHighlight(!1,4),m.toolboxHide(),p==null||p.removeEventListener("click",g)},w=p.cloneNode(!0);(o=p==null?void 0:p.parentNode)==null||o.replaceChild(w,p),p=document.getElementById("noteIcon"),p==null||p.addEventListener("click",g)}}else y&&y.style.setProperty("display","none"),v&&v.style.setProperty("display","none"),p&&p.style.setProperty("display","none"),h&&h.style.setProperty("display","none"),_&&_.style.setProperty("display","none");if(this.navigator.rights.enableTTS){if(c){let g=function(){c==null||c.removeEventListener("click",g),m.speak()},w=c.cloneNode(!0);(s=c==null?void 0:c.parentNode)==null||s.replaceChild(w,c),c=document.getElementById("speakIcon"),c==null||c.addEventListener("click",g)}}else c&&c.style.setProperty("display","none");(((l=this.properties)==null?void 0:l.selectionMenuItems)??[])&&(((f=this.properties)==null?void 0:f.selectionMenuItems)??[]).forEach(g=>{var b;g.icon&&(g.icon.id=g.id);let w=document.getElementById(g.id),S=this;function E(){var P,B,I,F,D,W,q;w==null||w.removeEventListener("click",E);function C(G){let Y={className:Q=>Bn.indexOf(Q)<0,idName:Q=>Bn.indexOf(Q)<0},X=S.navigator.iframes[0].contentDocument;if(X)return Ar(G,X,Y)}let M=S.navigator.iframes[0].contentWindow;if(M){let G=Ui(M,C);if(G===void 0){let Y=S.navigator.iframes[0].contentDocument;G=(B=(P=S.navigator.annotationModule)==null?void 0:P.annotator)==null?void 0:B.getTemporarySelectionInfo(Y)}if(G!==void 0)if(g.callback)g.callback(G.cleanText,(I=G.range)==null?void 0:I.startContainer.parentElement);else{let Y=(F=g.highlight)==null?void 0:F.style,X=g.marker?g.marker:3;if(X===3&&S.navigator.rights.enableAnnotations||X===2&&S.navigator.rights.enableBookmarks){let Q=S.navigator.iframes[0].contentDocument;if(Q){let se=S.createHighlight(S.dom(Q.body).getWindow(),G,(D=g.highlight)==null?void 0:D.color,!0,X,g.icon,g.popup,Y);S.options.onAfterHighlight(se,X),S.navigator.rights.enableAnnotations?(W=S.navigator.annotationModule)==null||W.saveAnnotation(se[0]).then(ve=>{var ce,z;g!=null&&g.note&&ve.highlight&&((z=(ce=S.navigator.annotationModule)==null?void 0:ce.api)==null||z.addCommentToAnnotation(ve).then(H=>{var R;(R=S.navigator.annotationModule)==null||R.updateAnnotation(H).then(async()=>{Xr.default.log("update highlight "+H.id)})}))}):S.navigator.rights.enableBookmarks&&((q=S.navigator.bookmarkModule)==null||q.saveAnnotation(se[0]))}}}}S.callbackComplete()}if(w){let C=w.cloneNode(!0);(b=w==null?void 0:w.parentNode)==null||b.replaceChild(C,w),w=document.getElementById(g.id),w==null||w.addEventListener("click",E)}})}}doHighlight(e,t){var s,l,f,u,m,y;let r=this;function i(_){let v={className:h=>Bn.indexOf(h)<0,idName:h=>Bn.indexOf(h)<0},p=r.navigator.iframes[0].contentDocument;if(p)return Ar(_,p,v)}let o=r.navigator.iframes[0].contentWindow;if(o){let _=Ui(o,i);if(_===void 0){let v=r.navigator.iframes[0].contentDocument;_=(l=(s=this.navigator.annotationModule)==null?void 0:s.annotator)==null?void 0:l.getTemporarySelectionInfo(v)}if(_){if(this.options.onBeforeHighlight(_)===!0){let v;v=this.getColor(),n.isHexColor(v)&&(v=n.hexToRgbChannels(v));let p=r.navigator.iframes[0].contentDocument;if(p){let h=this.createHighlight(r.dom(p.body).getWindow(),_,v,!0,t??0);this.options.onAfterHighlight(h,t),this.navigator.rights.enableAnnotations&&t!==2?(f=this.navigator.annotationModule)==null||f.saveAnnotation(h[0]):this.navigator.rights.enableBookmarks&&t===2&&((u=this.navigator.bookmarkModule)==null||u.saveAnnotation(h[0]))}}e||this.dom((m=this.navigator.iframes[0].contentDocument)==null?void 0:m.body).removeAllRanges()}else e||this.dom((y=this.navigator.iframes[0].contentDocument)==null?void 0:y.body).removeAllRanges()}}speak(){var e,t;if(this.navigator.rights.enableTTS){let i=function(f){let u={className:y=>Bn.indexOf(y)<0,idName:y=>Bn.indexOf(y)<0},m=r.navigator.iframes[0].contentDocument;if(m)return Ar(f,m,u)},r=this,o=r.navigator.iframes[0].contentWindow;if(o){let f=Ui(o,i);if(f===void 0){let u=r.navigator.iframes[0].contentDocument;f=(t=(e=r.navigator.annotationModule)==null?void 0:e.annotator)==null?void 0:t.getTemporarySelectionInfo(u)}f!==void 0&&this.navigator.ttsModule.speak(f,!0,()=>{})}let s=r.navigator.iframes[0].contentDocument;s&&r.dom(s.body).getSelection().removeAllRanges();let l=document.getElementById("highlight-toolbox");l&&(l.style.display="none"),this.selectionMenuClosed()}}stopReadAloud(){this.navigator.rights.enableTTS&&this.doneSpeaking()}callbackComplete(){this.toolboxHide();let e=this.navigator.iframes[0].contentDocument;e&&this.dom(e.body).removeAllRanges()}isOutsideViewport(e){let t=yt(document,"#iframe-wrapper"),r=t.scrollLeft,i=r+t.clientWidth,o=e.left+e.width,s=e.top+e.height,l=t.scrollTop,f=l+t.clientHeight,u=s<l,m=e.top>f,y=o<r,_=e.left>i;return u||m||y||_}isInsideViewport(e){let t=yt(document,"#iframe-wrapper"),r=t.scrollTop,i=r+t.clientHeight,o=e.top+20>=r,s=e.top<=i,l=t.scrollLeft,f=l+t.clientWidth,u=e.left+e.width,m=e.left>l,y=u<f;return o&&s&&m&&y}get visibleTextRects(){let e=this.navigator.iframes[0].contentDocument;if(e){let r=function(l,f=[]){var m;let u=l.firstChild;for(;u;)u.nodeType===1&&r(u,f),u.nodeType===3&&(m=u.textContent)!=null&&m.trim()&&f.push(u),u=u.nextSibling;return f},i=function(l){return r(l).map(u=>{let{top:m,height:y,left:_,width:v}=o(u);return{top:m,height:y,width:v,left:_,node:u,textContent:u.textContent??""}})},o=function(l){try{let f=document.createRange();f.selectNode(l);let u=f.getBoundingClientRect();return f.detach(),u}catch(f){Xr.default.log("measureTextNode "+f),Xr.default.log("measureTextNode "+l),Xr.default.log(`${l.textContent}`)}},t=co(e,"body");return i(t).filter(l=>this.isInsideViewport(l))}return[]}doneSpeaking(e=!1){if(this.navigator.rights.enableTTS){this.toolboxHide();let t=this.navigator.iframes[0].contentDocument;t&&this.dom(t.body).removeAllRanges(),this.navigator.ttsModule.cancel(),e&&this.navigator.reload()}}normalizeHighlights(e){var t;return t=e.filter(function(r){return r.parentElement?r:null}),t=this.unique(t),t.sort(function(r,i){return r.offsetTop-i.offsetTop||r.offsetLeft-i.offsetLeft}),t}flattenNestedHighlights(e){let t,r=this;r.sortByDepth(e,!0);function i(){let o=!1;return e.forEach(function(s,l){let f=s.parentElement,u=f.previousSibling,m=f.nextSibling;r.isHighlight(f)&&(r.haveSameColor(f,s)?(f.replaceChild(s.firstChild,s),e[l]=f,o=!0):(s.nextSibling||(r.dom(s).insertBefore(m||f),o=!0),s.previousSibling||(r.dom(s).insertAfter(u||f),o=!0),f.hasChildNodes()||r.dom(f).remove()))}),o}do t=i();while(t)}mergeSiblingHighlights(e){let t=this;function r(i,o){return o&&o.nodeType===Ua.ELEMENT_NODE&&t.haveSameColor(i,o)&&t.isHighlight(o)}e.forEach(function(i){let o=i.previousSibling,s=i.nextSibling;r(i,o)&&(t.dom(i).prepend(o.childNodes),t.dom(o).remove()),r(i,s)&&(t.dom(i).append(s.childNodes),t.dom(s).remove()),t.dom(i).normalizeTextNodes()})}setColor(e){this.options.color=e}getColor(){return this.options.color}isHighlight(e){return e&&e.nodeType===Ua.ELEMENT_NODE&&e.hasAttribute(SD)}createWrapper(){let e=document.createElement("mark");return e.style.background="linear-gradient("+n.hexToRgbA(this.options.color)+", "+n.hexToRgbA(this.options.color)+")",e.className=this.options.highlightedClass,e}static isHexColor(e){return/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)}static hexToRgbString(e){let t;return t=e.substring(1).split(""),t.length===3&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),t}static hexToRgbChannels(e){let t;if(this.isHexColor(e))return t=this.hexToRgbString(e),{red:t>>16&255,green:t>>8&255,blue:t&255};throw new Error("Bad Hex")}static hexToRgbA(e){let t;if(this.isHexColor(e))return t=this.hexToRgbChannels(e),"rgba("+[t.red,t.green,t.blue].join(",")+",.5)";if(typeof e=="object"){let r=e;return"rgba("+[r.red,r.green,r.blue].join(",")+",.5)"}throw new Error("Bad Hex")}static hexToRgbAWithOpacity(e,t){let r;if(this.isHexColor(e))return r=this.hexToRgbChannels(e),"rgba("+[r.red,r.green,r.blue].join(",")+","+t+")";if(typeof e=="object"){let i=e;return"rgba("+[i.red,i.green,i.blue].join(",")+","+t+")"}throw new Error("Bad Hex")}resetHighlightBoundingStyle(e){e.style.outline="none",e.style.setProperty("background-color","transparent","important")}resetHighlightAreaStyle(e,t){var o,s,l,f,u,m,y,_,v,p,h,c,g,w,S;let r=(o=this.navigator.iframes[0].contentWindow)==null?void 0:o.document,i=e.parentNode&&e.parentNode.nodeType===Node.ELEMENT_NODE&&e.parentNode.getAttribute?e.parentNode.getAttribute("id"):void 0;if(i){let E=er.find(b=>b.id===i);if(E){if(E.marker===3||E.marker===2)if((s=E.style)!=null&&s.hover){if((l=E.style)!=null&&l.hover)for(let M=0;M<((u=(f=E.style)==null?void 0:f.hover)==null?void 0:u.length);M++){let P=(m=E.style)==null?void 0:m.hover[M];e.style.removeProperty(P.property)}let C="";if((y=E.style)!=null&&y.default)for(let M=0;M<((v=(_=E.style)==null?void 0:_.default)==null?void 0:v.length);M++){let P=(p=E.style)==null?void 0:p.default[M];e.style.removeProperty(P.property),C+=`${P.property}: ${P.value} !${P.priority};`}e.setAttribute("style",`${e.getAttribute("style")}; ${C}`)}else if((h=E.style)!=null&&h.hoverClass){(c=E.style)!=null&&c.hoverClass&&e.classList.remove((g=E.style)==null?void 0:g.hoverClass);let C="";(w=E.style)!=null&&w.defaultClass&&e.classList.add((S=E.style)==null?void 0:S.defaultClass),e.setAttribute("style",`${e.getAttribute("style")}; ${C}`)}else if(n.isHexColor(E.color)){let C=n.hexToRgbChannels(E.color);e.style.setProperty("background-color",`rgba(${C.red}, ${C.green}, ${C.blue}, 0)`,"important")}else e.classList.remove("hover");else if(E.marker===1||E.marker===4)if(typeof E.color=="object"){let C=E.color;e.style.setProperty("background-color",`rgba(${C.red}, ${C.green}, ${C.blue}, 0)`,"important"),e.style.setProperty("border-bottom",`2px solid rgba(${C.red}, ${C.green}, ${C.blue}, 1)`,"important")}else if(n.isHexColor(E.color)){let C=n.hexToRgbChannels(E.color);e.style.setProperty("background-color",`rgba(${C.red}, ${C.green}, ${C.blue}, 0)`,"important"),e.style.setProperty("border-bottom",`2px solid rgba(${C.red}, ${C.green}, ${C.blue}, 1)`,"important")}else e.classList.remove("hover");else if(typeof E.color=="object"){let C=E.color;e.style.setProperty("background-color",`rgba(${C.red}, ${C.green}, ${C.blue}, ${ji})`,"important")}else if(n.isHexColor(E.color)){let C=n.hexToRgbChannels(E.color);e.style.setProperty("background-color",`rgba(${C.red}, ${C.green}, ${C.blue}, ${ji})`,"important")}else e.classList.remove("hover");let b;if(r){let C=r.getElementById(t);C&&(b=C.querySelector(`#${E.id}`))}if(b){let C=b.getElementsByClassName(xl);if(C.length>0){let M=C.item(0).getElementsByClassName("icon-tooltip");M.length>0&&M.item(0).style.removeProperty("display")}}}}}setHighlightAreaStyle(e,t,r){var i,o,s,l,f,u,m,y,_,v,p,h;for(let c of t){if(r.marker===3||r.marker===2)if((i=r.style)!=null&&i.hover){if((o=r.style)!=null&&o.default)for(let w=0;w<((l=(s=r.style)==null?void 0:s.default)==null?void 0:l.length);w++){let S=(f=r.style)==null?void 0:f.default[w];c.style.removeProperty(S.property)}let g="";for(let w=0;w<((m=(u=r.style)==null?void 0:u.hover)==null?void 0:m.length);w++){let S=(y=r.style)==null?void 0:y.hover[w];c.style.removeProperty(S.property),g+=`${S.property}: ${S.value} !${S.priority};`}c.setAttribute("style",`${c.getAttribute("style")}; ${g}`)}else if((_=r.style)!=null&&_.hoverClass){(v=r.style)!=null&&v.defaultClass&&c.classList.remove((p=r.style)==null?void 0:p.defaultClass);let g="";c.classList.add((h=r.style)==null?void 0:h.hoverClass),c.setAttribute("style",`${c.getAttribute("style")}; ${g}`)}else if(n.isHexColor(r.color)){let g=n.hexToRgbChannels(r.color);c.style.setProperty("background-color",`rgba(${g.red}, ${g.green}, ${g.blue}, ${.1})`,"important")}else c.classList.add("hover");else if(r.marker===1||r.marker===4)if(typeof r.color=="object"){let g=r.color;c.style.setProperty("background-color",`rgba(${g.red}, ${g.green}, ${g.blue}, ${.1})`,"important"),c.style.setProperty("border-bottom",`2px solid rgba(${g.red}, ${g.green}, ${g.blue}, 1)`,"important")}else if(n.isHexColor(r.color)){let g=n.hexToRgbChannels(r.color);c.style.setProperty("background-color",`rgba(${g.red}, ${g.green}, ${g.blue}, ${.1})`,"important"),c.style.setProperty("border-bottom",`2px solid rgba(${g.red}, ${g.green}, ${g.blue}, 1)`,"important")}else c.classList.add("hover");else if(typeof r.color=="object"){let g=r.color;c.style.setProperty("background-color",`rgba(${g.red}, ${g.green}, ${g.blue}, ${Dw})`,"important")}else if(n.isHexColor(r.color)){let g=n.hexToRgbChannels(r.color);c.style.setProperty("background-color",`rgba(${g.red}, ${g.green}, ${g.blue}, ${Dw})`,"important")}else c.classList.add("hover");if(r.type!==4){let w=e.getElementById("R2_ID_HIGHLIGHTS_CONTAINER").querySelector(`#${r.id}`).getElementsByClassName(xl);if(w.length>0){let S=w.item(0).getElementsByClassName("icon-tooltip");S.length>0&&S.item(0).style.setProperty("display","block")}}}}setAndResetSearchHighlight(e,t){var o;let r=(o=this.navigator.iframes[0].contentWindow)==null?void 0:o.document,i=Array.from(r.getElementById("R2_ID_SEARCH_CONTAINER").querySelectorAll(`.${jr}`));for(let s of i){let l=s,f=l.parentNode&&l.parentNode.nodeType===Node.ELEMENT_NODE&&l.parentNode.getAttribute?l.parentNode.getAttribute("id"):void 0;if(t.forEach(u=>{if(f===u.id&&u){if(typeof u.color=="object"){let _=u.color;l.style.setProperty("background-color",`rgba(${_.red}, ${_.green}, ${_.blue}, ${ji})`,"important")}else if(n.isHexColor(u.color)){let _=n.hexToRgbChannels(u.color);l.style.setProperty("background-color",`rgba(${_.red}, ${_.green}, ${_.blue}, ${ji})`,"important")}else l.classList.remove("hover");let y=r.getElementById("R2_ID_SEARCH_CONTAINER").querySelector(`#${u.id}`).getElementsByClassName(xl);if(y.length>0){let _=y.item(0).getElementsByClassName("icon-tooltip");_.length>0&&_.item(0).style.removeProperty("display")}}}),f===e.id&&e){if(typeof e.color=="object"){let y=e.color;l.style.setProperty("background-color",`rgba(${y.red}, ${y.green}, ${y.blue}, ${ji})`,"important")}else if(n.isHexColor(e.color)){let y=n.hexToRgbChannels(e.color);l.style.setProperty("background-color",`rgba(${y.red}, ${y.green}, ${y.blue}, ${ji})`,"important")}else l.classList.remove("hover");let m=r.getElementById("R2_ID_SEARCH_CONTAINER").querySelector(`#${e.id}`).getElementsByClassName(xl);if(m.length>0){let y=m.item(0).getElementsByClassName("icon-tooltip");y.length>0&&y.item(0).style.removeProperty("display")}}}}isIOS(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)!=null||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1}isAndroid(){return navigator.userAgent.match(/Android/i)!=null}async processMouseEvent(e){var o,s,l,f,u,m,y,_,v,p,h,c,g;let t=(o=this.navigator.iframes[0].contentWindow)==null?void 0:o.document;if(!t||!(e.type==="mouseup"||e.type==="click"||e.type==="touchup")||!t.getElementById("R2_ID_HIGHLIGHTS_CONTAINER")&&!t.getElementById("R2_ID_SEARCH_CONTAINER")&&!t.getElementById("R2_ID_PAGEBREAK_CONTAINER")&&!t.getElementById("R2_ID_READALOUD_CONTAINER")&&!t.getElementById("R2_ID_DEFINITIONS_CONTAINER"))return;let r=e.target,i=er.find(w=>{var S;return w.id===((S=e.target.parentElement)==null?void 0:S.id)});if(!i||!r){for(let w in Is){let S=t.getElementById(w);if(S){let E=S.querySelectorAll(`.${Pl}`);for(let C of E)this.resetHighlightBoundingStyle(C);let b=Array.from(S.querySelectorAll(`.${jr}`));for(let C of b)this.resetHighlightAreaStyle(C,w)}}return}if(r.getAttribute("data-click")&&(e.type==="mouseup"||e.type==="click"||e.type==="touchup")&&((s=r.parentElement)==null?void 0:s.style.display)!=="none"){let w={highlight:i};Xr.default.log(JSON.stringify(w));let S=this,E;if(S.navigator.rights.enableAnnotations?E=await((l=this.navigator.annotationModule)==null?void 0:l.getAnnotation(w.highlight)):S.navigator.rights.enableBookmarks&&(E=await((f=this.navigator.bookmarkModule)==null?void 0:f.getAnnotation(w.highlight))),w.highlight.type===0&&((m=(u=this.navigator.annotationModule)==null?void 0:u.api)==null||m.selectedAnnotation(E).then(async()=>{})),E!=null&&E.id){Xr.default.log("selected highlight "+E.id),S.lastSelectedHighlight=E.id;let b=document.getElementById("highlight-toolbox");if(b)if(b.style.top=e.clientY+(((y=this.navigator.attributes)==null?void 0:y.navHeight)??0)+"px",b.style.left=e.clientX+"px",getComputedStyle(b).display==="none"){let P=function(){var q,G;(G=(q=S.navigator.annotationModule)==null?void 0:q.api)==null||G.addCommentToAnnotation(E).then(Y=>{var X;(X=S.navigator.annotationModule)==null||X.updateAnnotation(Y).then(async()=>{Xr.default.log("update highlight "+Y.id),b&&(b.style.display="none"),S.selectionMenuClosed()}),b&&(b.style.display="none"),S.selectionMenuClosed(),B==null||B.removeEventListener("click",P,!1)})},F=function(){var q,G;S.navigator.rights.enableAnnotations?(q=S.navigator.annotationModule)==null||q.deleteSelectedHighlight(E).then(async()=>{Xr.default.log("delete highlight "+E.id),b&&(b.style.display="none"),S.selectionMenuClosed()}):S.navigator.rights.enableBookmarks&&((G=S.navigator.bookmarkModule)==null||G.deleteSelectedHighlight(E).then(async()=>{Xr.default.log("delete highlight "+E.id),b&&(b.style.display="none"),S.selectionMenuClosed()}))};b.style.display="block",this.toolboxMode("edit");let C=document.getElementById("colorIcon"),M=document.getElementById("highlightIcon");C&&(C.style.display="none"),M&&(M.style.display="none");let B=document.getElementById("commentIcon"),I=document.getElementById("cloneCommentIcon");if(I){let q=I.parentElement;q&&q.removeChild(I)}if(B){B.style.display="none";let q=B.cloneNode(!0),G=B.parentElement;q.style.display="unset",q.id="cloneCommentIcon",q.addEventListener("click",P,!1),G&&G.append(q)}let D=document.getElementById("deleteIcon"),W=document.getElementById("cloneDeleteIcon");if(W){let q=W.parentElement;q&&q.removeChild(W)}if(D){D.style.display="none";let q=D.cloneNode(!0),G=D.parentElement;q.style.display="unset",q.id="cloneDeleteIcon",q.addEventListener("click",F,!1),G&&G.append(q)}}else b.style.display="none",this.selectionMenuClosed(),b.offsetWidth,b.style.display="block"}else{r.dataset.definition&&new Da(this.navigator).showPopup(r.dataset.definition,e);let b=(p=(v=(_=this.navigator.definitionsModule)==null?void 0:_.properties)==null?void 0:v.definitions)==null?void 0:p.filter(C=>C.order===Number(r==null?void 0:r.dataset.order))[0];Xr.default.log(b),(c=(h=this.navigator.definitionsModule)==null?void 0:h.api)!=null&&c.click&&((g=this.navigator.definitionsModule.api)==null||g.click(c1.omit(b,"callbacks"),c1.omit(i,"definition")),this.navigator.emit("definition.click",b,i))}}}async prepareContainers(e){for(let t in Is)await this.ensureHighlightsContainer(e,t)}async ensureHighlightsContainer(e,t){var i,o;let r=e.document;if(!r.getElementById(t)){let s=r.createElement("div");s.setAttribute("id",t),t!=="R2_ID_GUTTER_RIGHT_CONTAINER"&&s.style.setProperty("pointer-events","none"),((i=this.navigator.view)==null?void 0:i.layout)==="fixed"&&(s.style.setProperty("position","absolute"),s.style.setProperty("top","0"),s.style.setProperty("left","0")),r.body&&r.body.append(s),((o=await this.layerSettings.getProperty(t))==null?void 0:o.value)===!1&&(s.style.display="none")}return r.getElementById(t)}hideAllhighlights(e){this.removeAllChildNodes(e.getElementById("R2_ID_HIGHLIGHTS_CONTAINER")),this.removeAllChildNodes(e.getElementById("R2_ID_SEARCH_CONTAINER")),this.removeAllChildNodes(e.getElementById("R2_ID_READALOUD_CONTAINER")),this.removeAllChildNodes(e.getElementById("R2_ID_PAGEBREAK_CONTAINER")),this.removeAllChildNodes(e.getElementById("R2_ID_DEFINITIONS_CONTAINER"))}destroyAllhighlights(e){this.hideAllhighlights(e),er.splice(0,er.length)}removeAllChildNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}destroyHighlights(e){var r;let t=(r=this.navigator.iframes[0].contentWindow)==null?void 0:r.document;if(t){let i;switch(e){case 2:i=t.getElementById("R2_ID_READALOUD_CONTAINER"),i&&this.removeAllChildNodes(i);break;case 1:i=t.getElementById("R2_ID_SEARCH_CONTAINER"),i&&this.removeAllChildNodes(i);break;case 3:i=t.getElementById("R2_ID_PAGEBREAK_CONTAINER"),i&&this.removeAllChildNodes(i);break;case 4:i=t.getElementById("R2_ID_DEFINITIONS_CONTAINER"),i&&this.removeAllChildNodes(i);break;case 5:i=t.getElementById("R2_ID_LINEFOCUS_CONTAINER"),i&&this.removeAllChildNodes(i);break;case 6:i=t.getElementById("R2_ID_GUTTER_RIGHT_CONTAINER"),i&&this.removeAllChildNodes(i);break;default:i=t.getElementById("R2_ID_HIGHLIGHTS_CONTAINER"),i&&this.removeAllChildNodes(i),er.splice(0,er.length);break}}}destroyHighlight(e,t){if(!e)return;let r=-1;er.find((s,l)=>(r=l,s.id===t))&&r>=0&&r<er.length&&er.splice(r,1);let o=e.getElementById(t);o&&this.removeAllChildNodes(o)}createHighlight(e,t,r,i,o,s,l,f,u,m){try{let y=`${t.rangeInfo.startContainerElementCssSelector}${t.rangeInfo.startContainerChildTextNodeIndex}${t.rangeInfo.startOffset}${t.rangeInfo.endContainerElementCssSelector}${t.rangeInfo.endContainerChildTextNodeIndex}${t.rangeInfo.endOffset}`,_=Hi.hash(y),v=(m||"R2_HIGHLIGHT_")+_;this.destroyHighlight(e.document,v);let p=`rgb(${Ns.red}, ${Ns.green}, ${Ns.blue})`,h={color:r||p,id:v,pointerInteraction:i,selectionInfo:t,marker:o,icon:s,popup:l,style:f,type:u||0};(u===0||u===4||u===void 0)&&er.push(h);let c=this.createHighlightDom(e,h);return h.position=parseInt((c!=null&&c.hasChildNodes()?c.childNodes[0]:c).style.top.replace("px","")),[h,c]}catch(y){throw"Can't create highlight: "+y}}createHighlightDom(e,t){var D,W,q,G,Y,X,Q,se,ve,ce,z,H,R,x,T,O,N,U,V,Z,re,ne,ae,fe,he,Te,Ne,Se,ye,oe,Ee,xe;let r=e.document,i=jf(r,t.selectionInfo.rangeInfo);if(!i)return;for(let K in Is)this.ensureHighlightsContainer(e,K);let o=r.createElement("div");o.setAttribute("id",t.id),o.setAttribute("class",Fw),o.style.setProperty("pointer-events","none"),t.pointerInteraction&&(o.setAttribute("data-click","1"),o.addEventListener("mouseover",K=>{var ie;if(K.target.classList.contains("R2_CLASS_HIGHLIGHT_AREA")){let be=K.currentTarget,Ce=er.find(Le=>Le.id===K.currentTarget.id);if(K.type==="mouseover"&&((ie=be.parentElement)==null?void 0:ie.style.display)!=="none"&&Ce){let Le=Array.from(be.querySelectorAll(`.${jr}`));this.setHighlightAreaStyle(r,Le,Ce)}}}),o.addEventListener("mouseleave",K=>{let ie=K.currentTarget,be=Array.from(ie.querySelectorAll(`.${jr}`));for(let Ke of be)this.resetHighlightAreaStyle(Ke,ie.id);let Ce=ie.querySelector(`.${Pl}`),Le=ie.querySelectorAll(`.${Pl}`);for(let Ke of Le)(!Ce||Ke!==Ce)&&this.resetHighlightBoundingStyle(Ke)}));let s=(D=this.navigator.view)==null?void 0:D.isPaginated();s?r.body.style.position="revert":r.body.style.position="relative";let l=r.body.getBoundingClientRect(),f=this.getScrollingElement(r),u=s?-f.scrollLeft:l.left,m=s?-f.scrollTop:l.top,y=1,_=!1,v=!1,h=_||v||!1;Xr.default.debug(h),h=!0;let c=Uf(i,h),g=3,w=2,S=3,E=0,b=24,C,M;for(let K of c){let ie=r.createElement("div");ie.setAttribute("class",jr),ie.dataset.marker=""+t.marker;let be="";if(_&&t.marker!==3&&t.marker!==2&&t.marker!==4){let Be=t.color;n.isHexColor(Be)&&(Be=n.hexToRgbChannels(Be)),be+=`border-bottom: ${w*y}px solid rgba(${Be.red}, ${Be.green}, ${Be.blue}, ${ji}) !important`}if(t.marker===3||t.marker===2)if((W=t.style)!=null&&W.default){for(let Be=0;Be<((G=(q=t.style)==null?void 0:q.default)==null?void 0:G.length);Be++){let ut=(Y=t.style)==null?void 0:Y.default[Be];be+=`${ut.property}: ${ut.value} !${ut.priority};`}ie.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${g}px !important; ${be}`)}else(X=t.style)!=null&&X.defaultClass&&(ie.classList.add((Q=t.style)==null?void 0:Q.defaultClass),ie.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${g}px !important; ${be}`));else if(t.marker===1||t.marker===4)if(typeof t.color=="object"){let Be=t.color;ie.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${g}px !important; background-color: rgba(${Be.red}, ${Be.green}, ${Be.blue}, 0) !important; ${be}`),ie.style.setProperty("border-bottom",`2px solid rgba(${Be.red}, ${Be.green}, ${Be.blue}, 1)`,"important")}else if(n.isHexColor(t.color)){let Be=n.hexToRgbChannels(t.color);ie.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${g}px !important; background-color: rgba(${Be.red}, ${Be.green}, ${Be.blue}, 0) !important; ${be}`),ie.style.setProperty("border-bottom",`2px solid rgba(${Be.red}, ${Be.green}, ${Be.blue}, 1)`,"important")}else ie.setAttribute("style",`border-radius: ${g}px !important; ${be}`);else if(typeof t.color=="object"){let Be=t.color;ie.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${g}px !important; background-color: rgba(${Be.red}, ${Be.green}, ${Be.blue}, ${ji}) !important; ${be}`)}else if(n.isHexColor(t.color)){let Be=n.hexToRgbChannels(t.color);ie.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${g}px !important; background-color: rgba(${Be.red}, ${Be.green}, ${Be.blue}, ${ji}) !important; ${be}`)}else ie.setAttribute("style",`border-radius: ${g}px !important; ${be}`);t.type===1||t.type===2||t.type===5||t.type===3?ie.style.setProperty("pointer-events","none"):(ie.style.setProperty("pointer-events","all"),ie.style.setProperty("cursor","hand")),ie.style.position="absolute",ie.scale=y,ie.rect={height:K.height,left:K.left-u,top:K.top-m,width:K.width},t.pointerInteraction&&(ie.setAttribute("data-click","1"),ie.tabIndex=0),ie.style.width=`${ie.rect.width*y}px`,ie.style.height=`${ie.rect.height*y}px`,ie.style.left=`${ie.rect.left*y}px`,ie.style.top=`${ie.rect.top*y}px`,o.append(ie);let Ce=parseInt(ie.style.top.replace("px",""));if((Ce<E||E===0)&&(E=Ce),b=parseInt(ie.style.height.replace("px","")),v){let Be=r.createElement("div");Be.setAttribute("class",jr);let ut=t.color;n.isHexColor(ut)&&(ut=n.hexToRgbChannels(ut)),Be.setAttribute("style",`background-color: rgba(${ut.red}, ${ut.green}, ${ut.blue}, ${ji}) !important;`),t.type===1||t.type===2||t.type===5||t.type===3?Be.style.setProperty("pointer-events","none"):(Be.style.setProperty("pointer-events","all"),Be.style.setProperty("cursor","hand")),Be.style.position="absolute",Be.scale=y,Be.rect={height:K.height,left:K.left-u,top:K.top-m,width:K.width},Be.style.width=`${Be.rect.width*y}px`,Be.style.height=`${S*y}px`,Be.style.left=`${Be.rect.left*y}px`,Be.style.top=`${(Be.rect.top+Be.rect.height/2-S/2)*y}px`,o.append(Be)}let Le=(se=this.navigator.iframes[0].contentWindow)==null?void 0:se.innerWidth,Ke=parseInt(getComputedStyle(r.documentElement).getPropertyValue("column-count")),ze=parseInt(getComputedStyle(r.documentElement).getPropertyValue("column-width")),Ve=parseInt(getComputedStyle(r.body).getPropertyValue("padding-left")),qe=Le/(Ke||1);qe<ze&&(qe=Le),s||(qe=parseInt(getComputedStyle(r.body).width.replace("px","")));let pe=this.navigator.settings.fontSize/100,ee=20*pe;pe<=1&&(ee=-60);let de=0*pe;pe<=1&&(de=-60),C=Math.floor(K.left/qe)*qe+qe-(b<40?40:b)+de,M=Math.floor(K.left/qe)*qe+(b<40?40:b)-ee;let je=parseInt(this.navigator.iframes[0].contentDocument.documentElement.style.getPropertyValue("--USER__pageMargins"));je>=2&&(M=M+Ve/Ke,C=C-Ve/Ke),s||(C=parseInt(getComputedStyle((ve=this.navigator.iframes[0].contentDocument)==null?void 0:ve.body).width.replace("px","")),M=parseInt(getComputedStyle((ce=this.navigator.iframes[0].contentDocument)==null?void 0:ce.body).width.replace("px",""))-qe,je>=2&&(M=M+Ve/2,C=C-Ve/2))}let P=i.getBoundingClientRect(),B=r.createElement("div");B.setAttribute("class",Pl),B.style.setProperty("pointer-events","none"),B.style.position="absolute",B.scale=y,B.rect={height:P.height,left:P.left-u,top:P.top-m,width:P.width},B.style.width=`${B.rect.width*y}px`,B.style.height=`${B.rect.height*y}px`,B.style.left=`${B.rect.left*y}px`,B.style.top=`${B.rect.top*y}px`,o.append(B);let I=r.createElement("div");if(I.setAttribute("class",xl),((z=t.icon)==null?void 0:z.position)==="left")I.setAttribute("style",`position: absolute;top:${E}px;left:${M+((R=(H=this.navigator.iframes[0].contentDocument)==null?void 0:H.scrollingElement)==null?void 0:R.scrollLeft)}px;height:${b}px; width:${b}px;`);else if(((x=t.icon)==null?void 0:x.position)==="inline")I.setAttribute("style",`position: absolute;top:${E-b/2}px;left:${parseInt(B.style.left.replace("px",""))+parseInt(B.style.width.replace("px",""))-b/2}px;height:${b}px; width:${b}px;`);else if(((T=t.icon)==null?void 0:T.position)==="center"){let ie=b/3*2;I.setAttribute("style",`position: absolute;top:${E}px;left:${parseInt(B.style.left.replace("px",""))+parseInt(B.style.width.replace("px",""))-ie}px;height:${b}px; width:${b}px;`)}else t.note&&t.marker!==3&&t.marker!==2&&t.marker!==4&&t.marker!==0&&t.marker!==1?I.setAttribute("style",`position: absolute;top:${E-b/2}px;left:${parseInt(B.style.left.replace("px",""))+parseInt(B.style.width.replace("px",""))-b/2}px;height:${b}px; width:${b}px;`):t.note&&t.marker===4||t.marker===0||t.marker===1?I.setAttribute("style",`position: absolute;top:${E}px;left:${C+((N=(O=this.navigator.iframes[0].contentDocument)==null?void 0:O.scrollingElement)==null?void 0:N.scrollLeft)}px;height:${b}px; width:${b}px;`):I.setAttribute("style",`position: absolute;top:${E}px;left:${C+((V=(U=this.navigator.iframes[0].contentDocument)==null?void 0:U.scrollingElement)==null?void 0:V.scrollLeft)}px;height:${b}px; width:${b}px;`);if(t.marker===3||t.marker===2)(Z=t.icon)!=null&&Z.class?(I.classList.add((re=t.icon)==null?void 0:re.class),I.id=(ne=t.icon)==null?void 0:ne.id):(ae=t.icon)!=null&&ae.svgPath?I.innerHTML=Fa(`${(fe=t.icon)==null?void 0:fe.id}`,`${(he=t.icon)==null?void 0:he.title}`,`${(Te=t.icon)==null?void 0:Te.svgPath}`,"icon open",b,`${(Ne=t.icon)==null?void 0:Ne.color} !important`):(Se=t.icon)!=null&&Se.title&&(I.innerHTML=(ye=t.icon)==null?void 0:ye.title);else if(t.note){let K=t.color;n.isHexColor(K)&&(K=n.hexToRgbChannels(K)),t.marker===4||t.marker===0||t.marker===1?I.innerHTML=Fa("","",'<path d="M24 24H0V0h24v24z" fill="none"/><circle cx="12" cy="12" r="14"/>',"icon open",b/2,`rgba(${K.red}, ${K.green}, ${K.blue}, 1) !important`):I.innerHTML=Fa("note-icon","Note",'<rect fill="none" height="24" width="24"/><path d="M19,5v9l-5,0l0,5H5V5H19 M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h10l6-6V5C21,3.9,20.1,3,19,3z M12,14H7v-2h5V14z M17,10H7V8h10V10z"/>',"icon open",b,`rgba(${K.red}, ${K.green}, ${K.blue}, 1) !important`)}t.type===1||t.type===2||t.type===5||t.type===3?I.style.setProperty("pointer-events","none"):(I.style.setProperty("pointer-events","all"),I.style.setProperty("cursor","hand"));let F=this;if(t.type!==3&&t.type!==4&&I.addEventListener("click",async function(K){var Le,Ke,ze,Ve,qe;let ie;F.navigator.rights.enableAnnotations?(ie=await((Le=F.navigator.annotationModule)==null?void 0:Le.getAnnotationByID(t.id)),(ze=(Ke=F.navigator.annotationModule)==null?void 0:Ke.api)==null||ze.selectedAnnotation(ie).then(async()=>{})):F.navigator.rights.enableBookmarks&&(ie=await((Ve=F.navigator.bookmarkModule)==null?void 0:Ve.getAnnotationByID(t.id))),Xr.default.log("selected highlight "+ie.id),F.lastSelectedHighlight=ie.id;let be=document.getElementById("highlight-toolbox");if(be)if(be.style.top=K.clientY+(((qe=F.navigator.attributes)==null?void 0:qe.navHeight)??0)+"px",be.style.left=K.clientX+"px",getComputedStyle(be).display==="none"){let Be=function(){var Ht,Br;F.navigator.rights.enableAnnotations?(Ht=F.navigator.annotationModule)==null||Ht.deleteSelectedHighlight(ie).then(async()=>{Xr.default.log("delete highlight "+ie.id),be.style.display="none",F.selectionMenuClosed()}):F.navigator.rights.enableBookmarks&&((Br=F.navigator.bookmarkModule)==null||Br.deleteSelectedHighlight(ie).then(async()=>{Xr.default.log("delete highlight "+ie.id),be.style.display="none",F.selectionMenuClosed()}))};be.style.display="block",F.toolboxMode("edit");let pe=document.getElementById("colorIcon"),ee=document.getElementById("highlightIcon");pe&&(pe.style.display="none"),ee&&(ee.style.display="none");let de=document.getElementById("commentIcon"),je=document.getElementById("cloneCommentIcon");if(je){let Ht=je.parentElement;Ht&&Ht.removeChild(je)}de&&(de.style.display="none");let ut=document.getElementById("deleteIcon"),Ct=document.getElementById("cloneDeleteIcon");if(Ct){let Ht=Ct.parentElement;Ht&&Ht.removeChild(Ct)}if(ut){ut.style.display="none";let Ht=ut.cloneNode(!0),Br=ut.parentElement;Ht.style.display="unset",Ht.id="cloneDeleteIcon",Ht.addEventListener("click",Be,!1),Br&&Br.append(Ht)}}else be.style.display="none",F.selectionMenuClosed(),be.offsetWidth,be.style.display="block";let Ce=Array.from(o.querySelectorAll(`.${jr}`));F.setHighlightAreaStyle(r,Ce,t)}),t.note){let K=document.createElement("span");K.innerHTML=t.note,K.className="icon-tooltip",t.marker===3||t.marker===2?((oe=t.popup)!=null&&oe.background&&K.style.setProperty("background",t.popup.background),(Ee=t.popup)!=null&&Ee.textColor&&K.style.setProperty("color",t.popup.textColor),(xe=t.popup)!=null&&xe.class&&K.classList.add(t.popup.class)):(K.style.setProperty("background","lightyellow"),K.style.setProperty("color","black"))}switch((t.note||t.marker===3||t.marker===2)&&o.append(I),t.type){case 1:r.getElementById("R2_ID_SEARCH_CONTAINER").append(o);break;case 2:r.getElementById("R2_ID_READALOUD_CONTAINER").append(o);break;case 3:r.getElementById("R2_ID_PAGEBREAK_CONTAINER").append(o);break;case 4:r.getElementById("R2_ID_DEFINITIONS_CONTAINER").append(o);break;default:r.getElementById("R2_ID_HIGHLIGHTS_CONTAINER").append(o);break}return o}addSelectionMenuItem(e){var t,r;(((t=this.properties)==null?void 0:t.selectionMenuItems)??[])&&(((r=this.properties)==null?void 0:r.selectionMenuItems)??[]).push(e)}};var Xw=rt(_1());L();var RD=rt($t());var Xo={className:n=>!0,idName:n=>!0,tagName:n=>!0};var Qw=rt(Gf()),ti=rt($t());L();var Kw=rt($t());var qa=class{constructor(e,t,r){this.currSeconds=0;this.publication=e,this.properties=t,this.api=r}static async create(e){let t=new this(e.publication,e,e.api);return await t.start(),t}async start(){this.startResearchSession()}async stop(){Kw.default.log("Consumption module stop"),this.endResearchSession()}initialize(e){let t=e.contentWindow;if(t){let r=this;t.onload=function(){r.resetTimer()},t.onmousemove=function(){r.resetTimer()},t.onmousedown=function(){r.resetTimer()},t.ontouchstart=function(){r.resetTimer()},t.onclick=function(){r.resetTimer()},t.onkeypress=function(){r.resetTimer()}}}trackAction(e,t){var r;(r=this.api)==null||r.actionTracked(e,t)}startReadingSession(e){if(this.firstReadingLocator&&this.lastReadingLocator){let t=this.lastReadingLocator.locations.totalProgression-this.firstReadingLocator.locations.totalProgression,r=(new Date().getTime()-this.startReadingTimer.getTime())/1e3;this.readingSessions.push({lastLocator:this.lastReadingLocator,firstLocator:this.firstReadingLocator,time:r,progress:Math.round(t*100)})}this.firstReadingLocator=e,this.startReadingTimer=new Date}continueReadingSession(e){this.properties.enableTrackingSession&&(this.startResearchTimer===void 0&&this.startResearchSession(),(this.lastReadingLocator===void 0||this.lastReadingLocator.locations.totalProgression<e.locations.totalProgression)&&(this.lastReadingLocator=e),this.firstReadingLocator===void 0&&(this.firstReadingLocator=e),this.startReadingTimer===void 0&&(this.startReadingTimer=new Date))}startResearchSession(){var e;if(this.properties.enableTrackingSession){this.startResearchTimer=new Date,this.readingSessions=[],clearInterval(this.readingSessionsInterval);let t=(new Date().getTime()-this.startResearchTimer.getTime())/1e3;this.researchSessionId=(e=this.api)==null?void 0:e.startResearchSession(this.readingSessions,Math.round(t));let r=this;this.readingSessionsInterval=setInterval(function(){r.updateResearchSession()},this.properties.updateSessionInterval*1e3)}}updateResearchSession(){var e;if(this.properties.enableTrackingSession){let t=(new Date().getTime()-this.startResearchTimer.getTime())/1e3;(e=this.api)==null||e.updateResearchSession(this.researchSessionId,this.readingSessions,Math.round(t))}}endResearchSession(){var e,t;if(this.properties.enableTrackingSession){if(this.firstReadingLocator&&this.lastReadingLocator){let i=this.lastReadingLocator.locations.totalProgression-this.firstReadingLocator.locations.totalProgression,o=(new Date().getTime()-this.startReadingTimer.getTime())/1e3;this.readingSessions.push({lastLocator:this.lastReadingLocator,firstLocator:this.firstReadingLocator,time:o,progress:Math.round(i*100)})}let r=(new Date().getTime()-this.startResearchTimer.getTime())/1e3;(e=this.api)==null||e.updateResearchSession(this.researchSessionId,this.readingSessions,Math.round(r)),(t=this.api)==null||t.endResearchSession(this.researchSessionId,this.readingSessions,Math.round(r)),this.researchSessionId=void 0,this.readingSessions=[],this.startResearchTimer=void 0,clearInterval(this.readingSessionsInterval),clearInterval(this.timer)}}startIdleTimer(){var e;this.currSeconds++,this.currSeconds===this.properties.idleTimeout&&((e=this.api)==null||e.idleSince(this.currSeconds),this.startResearchTimer!==void 0?this.updateResearchSession():this.startResearchSession()),this.currSeconds===this.properties.idleTimeout+this.properties.responseTimeout&&this.endResearchSession()}resetTimer(){clearInterval(this.timer),this.currSeconds=0;let e=this;this.timer=setInterval(function(){e.startIdleTimer()},1e3)}};var Ga=class n{constructor(e,t,r,i,o,s,l,f){this.hide=Re(document,"#menu-button-hide");this.show=Re(document,"#menu-button-show");this.annotator=e,this.rights=t,this.publication=r,this.headerMenu=f,this.initialAnnotations=i,this.highlighter=s,this.properties=o,this.api=l}static async create(e){let t=new this(e.annotator,e.rights||{enableAnnotations:!1,enableTTS:!1},e.publication,e.initialAnnotations||null,e,e.highlighter,e.api,e.headerMenu);return await t.start(),t}async stop(){ti.default.log("Annotation module stop")}async start(){var t;if(this.headerMenu&&(this.highlightsView=Re(this.headerMenu,"#container-view-highlights")),this.initialAnnotations){var e=this.initialAnnotations.highlights||null;e&&((t=this.annotator)==null||t.initAnnotations(e))}setTimeout(()=>{var r;(r=this.properties)!=null&&r.hideLayer?this.navigator.hideLayer("highlights"):this.navigator.showLayer("highlights")},10)}hideAnnotationLayer(){let e=this.navigator.iframes[0].contentDocument;if(e){let t=Re(e,"#R2_ID_HIGHLIGHTS_CONTAINER");t&&(t.style.display="none")}this.show&&this.hide&&(this.show.style.display="block",this.hide.style.display="none")}showAnnotationLayer(){let e=this.navigator.iframes[0].contentDocument;if(e){let t=Re(e,"#R2_ID_HIGHLIGHTS_CONTAINER");t&&(t.style.display="block")}this.show&&this.hide&&(this.show.style.display="none",this.hide.style.display="block")}async handleResize(){setTimeout(async()=>{await this.drawHighlights(),await this.showHighlights()},200)}initialize(e){return new Promise(async t=>{await document.fonts.ready,this.rights.enableAnnotations&&setTimeout(()=>{var r;this.drawHighlights(),this.showHighlights(),we((r=e.contentDocument)==null?void 0:r.body,"click",this.click.bind(this))},300),t(null)})}click(e){var t,r,i,o,s,l,f;if(this.activeAnnotationMarkerId){let u=(i=(r=(t=this.highlighter)==null?void 0:t.properties)==null?void 0:r.selectionMenuItems)==null?void 0:i.filter(m=>m.id===this.activeAnnotationMarkerId);if(u&&(u==null?void 0:u.length)>0){let m=Qw.cloneDeep(u[0]);m.marker=3,this.activeAnnotationMarkerPosition&&(m.icon.position=this.activeAnnotationMarkerPosition),m.highlight.style.default=null,m.highlight.style.hover=null;let y=this.navigator.iframes[0].contentDocument;if(y){let c=function(w){try{let S=h.navigator.iframes[0].contentDocument;return S?Ar(w,S,Xo):""}catch(S){return ti.default.log("uniqueCssSelector:"),ti.default.error(S),""}},_=(o=this.highlighter)==null?void 0:o.dom(y.body).getSelection(),v=_.getRangeAt(0),p=_.anchorNode;v.setStart(p,v.startOffset),v.setEnd(p,v.endOffset+1),_.removeAllRanges(),_.addRange(v);let h=this,g=mo(v,c);if(_.removeAllRanges(),g){let w={rangeInfo:g},S=(l=this.navigator.highlighter)==null?void 0:l.createHighlight((s=this.navigator.highlighter)==null?void 0:s.dom(y.body).getWindow(),w,m.highlight.color,!0,2,m.icon,m.popup,m.highlight.style);S&&this.saveAnnotation(S[0]).then(E=>{ti.default.log("saved bookmark "+E.id)})}(f=y.getSelection())==null||f.removeAllRanges()}}}}async scrollToHighlight(e){var r;ti.default.log("still need to scroll to "+e);var t=await((r=this.annotator)==null?void 0:r.getAnnotationElement(e,this.navigator.iframes[0].contentWindow));t.scrollIntoView({block:"center",behavior:"smooth"})}async updateLocalHighlight(e){if(this.annotator){let t=await this.annotator.deleteAnnotation(e.id),r=await this.addAnnotation(e);return ti.default.log("Highlight deleted "+JSON.stringify(t)),ti.default.log("Highlight added "+JSON.stringify(r)),await this.showHighlights(),await this.drawHighlights(),r}else return new Promise(t=>t(null))}async deleteLocalHighlight(e){if(this.annotator){var t=await this.annotator.deleteAnnotation(e);return ti.default.log("Highlight deleted "+JSON.stringify(t)),await this.showHighlights(),await this.drawHighlights(),t}else return new Promise(r=>r(null))}async deleteAnnotation(e){await this.deleteLocalHighlight(e.id)}async addAnnotation(e){var t;await((t=this.annotator)==null?void 0:t.saveAnnotation(e)),await this.showHighlights(),await this.drawHighlights()}async deleteHighlight(e){var t,r;(t=this.api)!=null&&t.deleteAnnotation?(r=this.api)==null||r.deleteAnnotation(e).then(async()=>{this.deleteLocalHighlight(e.id)}):this.deleteLocalHighlight(e.id)}async deleteSelectedHighlight(e){var t;(t=this.api)!=null&&t.deleteAnnotation?this.api.deleteAnnotation(e).then(async()=>{this.deleteLocalHighlight(e.id)}):this.deleteLocalHighlight(e.id)}async updateAnnotation(e){var t;(t=this.api)!=null&&t.updateAnnotation?this.api.updateAnnotation(e).then(async()=>{this.updateLocalHighlight(e)}):this.updateLocalHighlight(e)}async saveAnnotation(e){var r,i,o;if(this.annotator){var t=this.publication.getTOCItem(this.navigator.currentChapterLink.href);this.navigator.currentTocUrl&&(t=this.publication.getTOCItem(this.navigator.currentTocUrl)),t===void 0&&(t=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href));let s=(r=this.navigator.view)==null?void 0:r.getCurrentPosition(),l=this.navigator.iframes[0].contentDocument;if(l){let f=co(l,"body"),u=e.position?e.position/f.scrollHeight:s,m=(0,Xw.v4)(),y;if(t){let _=t.Href;if(_.indexOf("#")>0&&(_=_.slice(0,_.indexOf("#"))),this.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions){let v=this.publication.positionsByHref(this.publication.getRelativeHref(this.navigator.currentChapterLink.href)),p=Math.ceil((u??0)*(v.length-1));y={...v[p],id:m,href:_,created:new Date,title:this.navigator.currentChapterLink.title,highlight:e,text:{highlight:e.selectionInfo.cleanText}}}else y={id:m,href:_,locations:{progression:u},created:new Date,type:this.navigator.currentChapterLink.type,title:this.navigator.currentChapterLink.title,highlight:e,text:{highlight:e.selectionInfo.cleanText}}}if(y)if((i=this.navigator.consumptionModule)==null||i.trackAction(y,"HighlightCreated"),(o=this.api)!=null&&o.addAnnotation)try{let _=await this.api.addAnnotation(y),v=await this.annotator.saveAnnotation(_);return await this.showHighlights(),await this.drawHighlights(),new Promise(p=>p(v))}catch{await this.showHighlights(),await this.drawHighlights()}else{let _=await this.annotator.saveAnnotation(y);return await this.showHighlights(),await this.drawHighlights(),new Promise(v=>v(_))}}}return new Promise(s=>s(null))}getAnnotations(){let e=[];return this.annotator&&(e=this.annotator.getAnnotations()),e}showHighlights(){let e=[];this.annotator&&(e=this.annotator.getAnnotations(),e&&(e=e.filter(t=>t.highlight.marker!==2),e.forEach(t=>{er.push(t.highlight)}))),this.highlightsView&&this.createTree(1,e,this.highlightsView)}async drawHighlights(){var t,r,i,o;if(this.rights.enableAnnotations&&this.highlighter){if(this.api){let s=[];if(this.annotator&&(s=this.annotator.getAnnotationsByChapter(this.navigator.currentLocator().href)),this.highlighter&&s&&((t=this.navigator.iframes[0].contentDocument)==null?void 0:t.readyState)==="complete"){await this.highlighter.destroyHighlights(0);for(let l of s){er.push(l.highlight);let f=l,u=this.navigator.currentChapterLink.href;var e=this.publication.getTOCItem(u);if(this.navigator.currentTocUrl!==void 0&&(e=this.publication.getTOCItem(this.navigator.currentTocUrl)),e===null&&(e=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href)),e){let m=e.Href;m.indexOf("#")>0&&(m=m.slice(0,m.indexOf("#"))),f.href===m&&(await this.highlighter.createHighlightDom(this.navigator.iframes[0].contentWindow,l.highlight),setTimeout(async()=>{var y,_;if(((y=f.highlight)==null?void 0:y.marker)===1){let p='<div class="comment" style="top: '+await((_=this.annotator)==null?void 0:_.getAnnotationPosition(l.id,this.navigator.iframes[0].contentWindow))+'px;width:20px"></div>',h=document.createElement("div");h.innerHTML=p;let c=h.childNodes[0],g=document.createElement("i");g.innerHTML="sticky_note_2",g.className="material-icons",g.style.color=f.highlight.color,c.appendChild(g),we(h,"click",w=>{w.preventDefault(),w.stopPropagation(),this.scrollToHighlight(f.id)})}},100))}}}}else{let s=[];if(this.annotator&&(s=this.annotator.getAnnotationsByChapter(this.navigator.currentLocator().href)),this.highlighter&&s&&((r=this.navigator.iframes[0].contentDocument)==null?void 0:r.readyState)==="complete"){await this.highlighter.destroyHighlights(0);for(let l of s){er.push(l.highlight);let f=l,u=this.navigator.currentChapterLink.href,m=this.publication.getTOCItem(u);if(this.navigator.currentTocUrl&&(m=this.publication.getTOCItem(this.navigator.currentTocUrl)),m===null&&(m=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href)),m){let y=m.Href;y.indexOf("#")>0&&(y=y.slice(0,y.indexOf("#"))),f.href===y&&(await this.highlighter.createHighlightDom(this.navigator.iframes[0].contentWindow,l.highlight),setTimeout(async()=>{var _,v,p;if(((_=f.highlight)==null?void 0:_.marker)===1){let c='<div class="comment" style="top: '+await((v=this.annotator)==null?void 0:v.getAnnotationPosition(l.id,this.navigator.iframes[0].contentWindow))+"px;background: "+((p=f.highlight)==null?void 0:p.color)+';width:20px"></div>',g=document.createElement("div");g.innerHTML=c,g.childNodes[0].innerHTML=gi.note,we(g,"click",w=>{w.preventDefault(),w.stopPropagation(),this.scrollToHighlight(f.id)})}},100))}}}}(i=this.properties)!=null&&i.initialAnnotationColor&&this.highlighter.setColor((o=this.properties)==null?void 0:o.initialAnnotationColor),this.repositionGutters()}}repositionGutters(){var t,r,i,o,s,l;let e=this.navigator.iframes[0].contentDocument;if(e&&(this.commentGutter=e.getElementById("R2_ID_GUTTER_RIGHT_CONTAINER"),(t=this.navigator.view)!=null&&t.isScrollMode()&&((r=this.properties)!=null&&r.enableComments)?(i=this.commentGutter)==null||i.style.removeProperty("display"):(o=this.commentGutter)==null||o.style.setProperty("display","none"),this.commentGutter&&((s=this.navigator.view)!=null&&s.isScrollMode())&&((l=this.properties)!=null&&l.enableComments))){this.commentGutter.innerHTML="";let f=[];this.annotator&&(f=this.annotator.getAnnotationsByChapter(this.navigator.currentLocator().href),f&&(f=f.filter(u=>{var m,y;return((y=(m=u.highlight)==null?void 0:m.note)==null?void 0:y.length)>0}),f=this.syncPosition(f),f=this.reposition(f),f.forEach(u=>{var b,C;let m=document.createElement("i");m.innerHTML="sticky_note_2",m.className="material-icons",m.style.color=u.highlight.color;let y=e.getElementById("R2_ID_HIGHLIGHTS_CONTAINER"),_,v;y&&(_=y.querySelector(`#${u.highlight.id}`)),v=_.getElementsByClassName(jr)[0];let h=parseInt(v.style.height.replace("px","")),c=u.highlight.position,g=e.createElement("div");g.setAttribute("style",`position: absolute;top:${c}px;display: flex;max-width: 250px !important;height:${h}px;width: 200px;align-items: center;`);let w=e.createElement("div");g.appendChild(w);let S=u.highlight.color;Jt.isHexColor(S)&&(S=Jt.hexToRgbChannels(S)),g.innerHTML=Fa("","",'<path d="M24 24H0V0h24v24z" fill="none"/><circle cx="12" cy="12" r="8"/>',"icon open",10,`rgba(${S.red}, ${S.green}, ${S.blue}, 1) !important`);let E=e.createElement("div");E.innerHTML=(b=u.highlight)==null?void 0:b.note,E.setAttribute("style",`height:${h}px;overflow: hidden;padding-left: 5px;`),g.appendChild(E),we(g,"click",M=>{M.preventDefault(),M.stopPropagation(),this.scrollToHighlight(u.highlight.id)}),(C=this.commentGutter)==null||C.appendChild(g)})))}}createTree(e,t,r){if(t){let i=this,o=this.publication.readingOrder;if(o.length){let s=(l,f)=>{let u=document.createElement("ul");u.className="sidenav-annotations";for(let m of f){let y=document.createElement("li"),_=document.createElement("a"),v=document.createElement("span");if(_.tabIndex=-1,_.className="chapter-link",m.Href){let h=this.publication.getAbsoluteHref(m.Href),c=this.publication.getTOCItemAbsolute(h);_.href=h,_.innerHTML=(c==null?void 0:c.Title)||"",y.appendChild(_)}else v.innerHTML=m.Title||"",v.className="chapter-title",y.appendChild(v);we(_,"click",h=>{h.preventDefault(),h.stopPropagation();let c={href:_.href,locations:{progression:0},type:m.TypeLink,title:_.title};this.navigator.stopReadAloud(),this.navigator.navigate(c)});let p=document.createElement("ol");t.forEach(function(h){var g,w,S,E,b,C,M;let c=m.Href.indexOf("#")!==-1?m.Href.slice(0,m.Href.indexOf("#")):m.Href;if(m.Href&&h.href.endsWith(c)){let P=document.createElement("li");P.className="annotation-item";let B=document.createElement("a");if(B.setAttribute("href",h.href),e===1){B.className="highlight-link";let F=document.createElement("span"),D=document.createElement("span");if(F.className="title",D.innerHTML=h.highlight.selectionInfo.cleanText,((g=h.highlight)==null?void 0:g.marker)===1)if(typeof((w=h.highlight)==null?void 0:w.color)=="object"){let G=(S=h.highlight)==null?void 0:S.color;G&&D.style.setProperty("border-bottom",`2px solid ${Jt.hexToRgbA(G)}`,"important")}else D.style.setProperty("border-bottom",`2px solid ${(E=h.highlight)==null?void 0:E.color}`,"important");else if(typeof((b=h.highlight)==null?void 0:b.color)=="object"){let G=(C=h.highlight)==null?void 0:C.color;G&&(D.style.backgroundColor=Jt.hexToRgbA(G))}else{let G=(M=h.highlight)==null?void 0:M.color;G&&(D.style.backgroundColor=G)}F.appendChild(D),B.appendChild(F);let W=document.createElement("span"),q=Math.round((h.locations.progression??0)*100)+"% through resource";W.className="subtitle",W.innerHTML=q,B.appendChild(W)}let I=document.createElement("span");if(I.className="timestamp",I.innerHTML=n.readableTimestamp(h.created),B.appendChild(I),we(B,"click",F=>{F.preventDefault(),F.stopPropagation(),i.handleAnnotationLinkClick(F,h)}),P.appendChild(B),i.navigator.sideNavExpanded){let F=document.createElement("button");F.className="delete",F.innerHTML=gi.delete,we(F,"click",D=>{D.preventDefault(),D.stopPropagation(),i.handleAnnotationLinkDeleteClick(e,D,h)}),P.appendChild(F)}p.appendChild(P)}}),p.children.length>0&&(u.appendChild(y),u.appendChild(p)),u.children.length>0&&l.appendChild(u),m.Children&&m.Children.length>0&&s(l,m.Children)}};r.innerHTML="",s(r,o)}}}handleAnnotationLinkClick(e,t){t?(t.href=this.publication.getAbsoluteHref(t.href),this.navigator.stopReadAloud(),this.navigator.navigate(t)):ti.default.log("annotation data missing: ",e)}handleAnnotationLinkDeleteClick(e,t,r){ti.default.log("annotation data locator: ",r),r?e===1&&this.deleteHighlight(r):ti.default.log("annotation data missing: ",t)}static readableTimestamp(e){let t=new Date(e);return t.toDateString()+" "+t.toLocaleTimeString()}async getAnnotation(e){var t;return(t=this.annotator)==null?void 0:t.getAnnotation(e)}async getAnnotationByID(e){var t;return(t=this.annotator)==null?void 0:t.getAnnotationByID(e)}syncPosition(e){let t=this.navigator.iframes[0].contentDocument,r=(i,o)=>{let s=t.getElementById("R2_ID_HIGHLIGHTS_CONTAINER"),l,f;s&&(l=s.querySelector(`#${o.highlight.id}`)),f=l.getElementsByClassName(jr)[0];let m=parseInt(f.style.top.replace("px","")),y={...o,highlight:{...o.highlight,position:m}};return[...i,y]};return e.reduce(r,[])}reposition(e){let t=this.navigator.iframes[0].contentDocument,r=(i,o,s)=>{let l=e[0],f=t.getElementById("R2_ID_HIGHLIGHTS_CONTAINER"),u,m;f&&(u=f.querySelector(`#${l.highlight.id}`)),m=u.getElementsByClassName(jr)[0];let _=parseInt(m.style.height.replace("px","")),v=o.highlight.position,p=i[s-1]&&i[s-1].highlight.position,c=s===0?0:p+_+0,g=c>v?c:v,w={...o,highlight:{...o.highlight,position:g}};return[...i,w]};return e.sort(function(i,o){return i.highlight.position-o.highlight.position}).reduce(r,[])}};L();var w1=rt(_1());var ri=rt($t());var Wa=class n{static async create(e){let t=new this(e.annotator,e.rights||{enableBookmarks:!1},e.publication,e,e.initialAnnotations,e.api,e.headerMenu);return await t.start(),new Promise(r=>r(t))}constructor(e,t,r,i,o,s,l){this.annotator=e,this.rights=t,this.publication=r,this.headerMenu=l,this.initialAnnotations=o,this.properties=i,this.api=s}stop(){ri.default.log("Bookmark module stop")}async start(){var e,t;if(this.headerMenu&&(this.bookmarksView=Re(this.headerMenu,"#container-view-bookmarks")),this.headerMenu&&(this.sideNavSectionBookmarks=Re(this.headerMenu,"#sidenav-section-bookmarks")),this.headerMenu){let r=Re(this.headerMenu,"#menu-button-bookmark");r&&((e=r.parentElement)==null||e.style.removeProperty("display")),r&&we(r,"click",this.saveBookmark.bind(this))}if(this.initialAnnotations){let r=this.initialAnnotations.bookmarks||null;r&&((t=this.annotator)==null||t.initBookmarks(r))}}async handleResize(){setTimeout(async()=>{await this.drawBookmarks(),await this.showBookmarks(),setTimeout(()=>{this.properties.hideLayer?this.navigator.hideLayer("highlights"):this.navigator.showLayer("highlights")},10)},100)}initialize(){return new Promise(async e=>{await document.fonts.ready,this.rights.enableBookmarks&&setTimeout(()=>{this.drawBookmarks(),this.showBookmarks()},300),e(null)})}async deleteBookmark(e){var t,r;if(this.annotator)if((t=this.api)!=null&&t.deleteBookmark){await((r=this.api)==null?void 0:r.deleteBookmark(e));let i=await this.annotator.deleteBookmark(e);return ri.default.log("Bookmark deleted "+JSON.stringify(i)),await this.showBookmarks(),await this.drawBookmarks(),i}else{let i=await this.annotator.deleteBookmark(e);return ri.default.log("Bookmark deleted "+JSON.stringify(i)),await this.showBookmarks(),await this.drawBookmarks(),i}else return new Promise(i=>i(null))}async saveBookmarkPlus(){await this.addBookmarkPlus()}async saveBookmark(){var t,r,i;if(this.annotator){var e=this.publication.getTOCItem(this.navigator.currentChapterLink.href);if(this.navigator.currentTocUrl&&(e=this.publication.getTOCItem(this.navigator.currentTocUrl)),e===void 0&&(e=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href)),e){let o=e.Href;o.indexOf("#")>0&&(o=o.slice(0,o.indexOf("#")));let s=(t=this.navigator.view)==null?void 0:t.getCurrentPosition(),l=(0,w1.v4)(),f;if(this.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions){let u=this.publication.positionsByHref(this.publication.getRelativeHref(this.navigator.currentChapterLink.href)),m=Math.ceil((s??0)*(u.length-1));f={...u[m],id:l,href:o,created:new Date,title:this.navigator.currentChapterLink.title}}else f={id:l,href:o,locations:{progression:s},created:new Date,type:this.navigator.currentChapterLink.type,title:this.navigator.currentChapterLink.title};if(!this.annotator.locatorExists(f,0))if((r=this.navigator.consumptionModule)==null||r.trackAction(f,"BookmarkCreated"),(i=this.api)!=null&&i.addBookmark){let u=await this.api.addBookmark(f);u&&(f=u),ri.default.log(f);let m=this.annotator.saveBookmark(f);return ri.default.log("Bookmark added "+JSON.stringify(m)),this.showBookmarks(),await this.drawBookmarks(),m}else{let u=this.annotator.saveBookmark(f);return ri.default.log("Bookmark added "+JSON.stringify(u)),this.showBookmarks(),await this.drawBookmarks(),u}}}}async addBookmarkPlus(){var l,f,u,m,y,_,v,p,h,c,g,w,S;let e=this,t=(l=this.navigator.highlighter)==null?void 0:l.visibleTextRects[0],r=this.navigator.iframes[0].contentDocument;if(r){let E=(f=this.navigator.highlighter)==null?void 0:f.dom(r.body).getWindow().document.createRange(),b=(m=this.navigator.highlighter)==null?void 0:m.dom((u=this.navigator.iframes[0].contentDocument)==null?void 0:u.body).getSelection();b.removeAllRanges(),t&&E.selectNodeContents(t.node),b.addRange(E);let C=Uf(E,!1),M=0;for(let P of C){if(!((y=this.navigator.highlighter)!=null&&y.isOutsideViewport(P))){let B=b.focusNode,I=b.focusOffset;b.collapse(b.anchorNode,b.anchorOffset);for(let q=0;q<M;q++)b.modify("move","forward","line");b.extend(B,I);let F=b.focusNode,D=b.focusNode.length;b.collapse(b.anchorNode,b.anchorOffset);let W=D;b.anchorOffset>D?W=D:W=b.anchorOffset+1,b.modify("move","forward","character"),b.modify("move","backward","word"),b.extend(F,W),b.modify("extend","backward","character"),b.modify("extend","forward","word");break}M++}}function i(E){var M;let b={},C=e.navigator.iframes[0].contentDocument;if(C)return Ar(E,(M=e.navigator.highlighter)==null?void 0:M.dom(C.body).getDocument(),b)}let o=this.navigator.iframes[0].contentWindow,s={id:"bookmarkIcon",marker:2,icon:{id:"bookmarkIcon",title:"Bookmark",svgPath:'<path d="M0 0h24v24H0V0z" fill="none"/><path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"/>',color:"#000000",position:"left"},popup:{background:"#000000",textColor:"#ffffff"},highlight:{color:"#000000",style:{default:[{property:"border-bottom",value:"0px dashed #000000",priority:"important"}]}}};if(o!==null){let E=Ui(o,i);if(E===void 0){let C=e.navigator.iframes[0].contentDocument;E=(v=(_=this.navigator.annotationModule)==null?void 0:_.annotator)==null?void 0:v.getTemporarySelectionInfo(C)}let b=e.navigator.iframes[0].contentDocument;if(E&&b){let C=(g=this.navigator.highlighter)==null?void 0:g.createHighlight((p=this.navigator.highlighter)==null?void 0:p.dom(b.body).getWindow(),E,(h=s.highlight)==null?void 0:h.color,!0,2,s.icon,s.popup,(c=s.highlight)==null?void 0:c.style);if((S=(w=this.navigator.iframes[0].contentDocument)==null?void 0:w.getSelection())==null||S.removeAllRanges(),C)return this.saveAnnotation(C[0]).then(M=>{ri.default.log("saved bookmark "+(M==null?void 0:M.id))})}}}async saveAnnotation(e){var r,i,o;if(this.annotator){var t=this.publication.getTOCItem(this.navigator.currentChapterLink.href);this.navigator.currentTocUrl&&(t=this.publication.getTOCItem(this.navigator.currentTocUrl)),t===null&&(t=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href));let s=(r=this.navigator.view)==null?void 0:r.getCurrentPosition(),l=this.navigator.iframes[0].contentDocument;if(l){let f=co(l,"body"),u=e.position?e.position/f.scrollHeight:s,m=(0,w1.v4)(),y;if(t){let _=t.Href;if(_.indexOf("#")>0&&(_=_.slice(0,_.indexOf("#"))),this.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions){let v=this.publication.positionsByHref(this.publication.getRelativeHref(this.navigator.currentChapterLink.href)),p=Math.ceil((u??0)*(v.length-1));y={...v[p],id:m,href:_,created:new Date,title:this.navigator.currentChapterLink.title,highlight:e,text:{highlight:e.selectionInfo.cleanText}}}else y={id:m,href:_,locations:{progression:u},created:new Date,type:this.navigator.currentChapterLink.type,title:this.navigator.currentChapterLink.title,highlight:e,text:{highlight:e.selectionInfo.cleanText}}}if(y)if((i=this.navigator.consumptionModule)==null||i.trackAction(y,"BookmarkCreated"),(o=this.api)!=null&&o.addBookmark){let _=await this.api.addBookmark(y),v=await this.annotator.saveAnnotation(_);return await this.showBookmarks(),await this.drawBookmarks(),new Promise(p=>p(v))}else{let _=await this.annotator.saveAnnotation(y);return await this.showBookmarks(),await this.drawBookmarks(),new Promise(v=>v(_))}}}return new Promise(s=>s(void 0))}getBookmarks(){let e=[];return this.annotator&&(e=this.annotator.getBookmarks()),e}showBookmarks(){let e=[];this.annotator&&(e=this.annotator.getBookmarks());let t=[];this.annotator&&(t=this.annotator.getAnnotations(),t&&(t=t.filter(r=>r.highlight.marker===2),e?e.push.apply(e,t):e=t)),this.bookmarksView&&this.createTree(0,e,this.bookmarksView)}async drawBookmarks(){var t,r;if(this.rights.enableBookmarks&&this.navigator.highlighter)if(this.api){let i=[];if(this.annotator&&(i=await this.annotator.getAnnotations()),this.navigator.highlighter&&i&&((t=this.navigator.iframes[0].contentDocument)==null?void 0:t.readyState)==="complete"){await this.navigator.highlighter.destroyHighlights(0);for(let o of i){er.push(o.highlight);let s=o,l=this.navigator.currentChapterLink.href;var e=this.publication.getTOCItem(l);if(this.navigator.currentTocUrl&&(e=this.publication.getTOCItem(this.navigator.currentTocUrl)),e===void 0&&(e=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href)),e){let f=e.Href;f.indexOf("#")>0&&(f=f.slice(0,f.indexOf("#"))),s.href===f&&await this.navigator.highlighter.createHighlightDom(this.navigator.iframes[0].contentWindow,o.highlight)}}}}else{let i=[];if(this.annotator&&(i=await this.annotator.getAnnotations()),this.navigator.highlighter&&i&&((r=this.navigator.iframes[0].contentDocument)==null?void 0:r.readyState)==="complete"){await this.navigator.highlighter.destroyHighlights(0);for(let o of i){er.push(o.highlight);let s=o,l=this.navigator.currentChapterLink.href,f=this.publication.getTOCItem(l);if(this.navigator.currentTocUrl&&(f=this.publication.getTOCItem(this.navigator.currentTocUrl)),f===void 0&&(f=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href)),f){let u=f.Href;u.indexOf("#")>0&&(u=u.slice(0,u.indexOf("#"))),s.href===u&&await this.navigator.highlighter.createHighlightDom(this.navigator.iframes[0].contentWindow,o.highlight)}}}}}async deleteSelectedHighlight(e){var t;(t=this.api)!=null&&t.deleteBookmark?this.api.deleteBookmark(e).then(async()=>{this.deleteLocalHighlight(e.id)}):this.deleteLocalHighlight(e.id)}async deleteLocalHighlight(e){if(this.annotator){var t=await this.annotator.deleteAnnotation(e);return ri.default.log("Highlight deleted "+JSON.stringify(t)),await this.showBookmarks(),await this.drawBookmarks(),t}else return new Promise(r=>r(null))}createTree(e,t,r){if(t){let i=this,o=this.publication.readingOrder;if(o.length){let s=(l,f)=>{let u=document.createElement("ul");u.className="sidenav-annotations";for(let m of f){let y=document.createElement("li"),_=document.createElement("a"),v=document.createElement("span");if(_.tabIndex=-1,_.className="chapter-link",m.Href){let h=this.publication.getAbsoluteHref(m.Href),c=this.publication.getTOCItemAbsolute(h);_.href=h,_.innerHTML=(c==null?void 0:c.Title)||"",y.appendChild(_)}else v.innerHTML=m.Title||"",v.className="chapter-title",y.appendChild(v);we(_,"click",h=>{h.preventDefault(),h.stopPropagation();let c={href:_.href,locations:{progression:0},type:m.TypeLink,title:_.title};this.navigator.stopReadAloud(),this.navigator.navigate(c)});let p=document.createElement("ol");t.forEach(function(h){let c=m.Href.indexOf("#")!==-1?m.Href.slice(0,m.Href.indexOf("#")):m.Href;if(m.Href&&h.href.endsWith(c)){let g=document.createElement("li");g.className="annotation-item";let w=document.createElement("a");if(w.setAttribute("href",h.href),e===0){w.className="bookmark-link";let E=document.createElement("span"),b=Math.round((h.locations.progression??0)*100)+"% through resource";E.className="title",E.innerHTML=b,w.appendChild(E)}let S=document.createElement("span");if(S.className="timestamp",S.innerHTML=n.readableTimestamp(h.created),w.appendChild(S),we(w,"click",E=>{E.preventDefault(),E.stopPropagation(),i.handleAnnotationLinkClick(E,h)}),g.appendChild(w),i.navigator.sideNavExpanded){let E=document.createElement("button");E.className="delete",E.innerHTML=gi.delete,we(E,"click",b=>{b.preventDefault(),b.stopPropagation(),i.handleAnnotationLinkDeleteClick(e,b,h)}),g.appendChild(E)}p.appendChild(g)}}),p.children.length>0&&(u.appendChild(y),u.appendChild(p)),u.children.length>0&&l.appendChild(u),m.Children&&m.Children.length>0&&s(l,m.Children)}};r.innerHTML="",s(r,o)}}}handleAnnotationLinkClick(e,t){t?(t.href=this.publication.getAbsoluteHref(t.href),this.navigator.stopReadAloud(),this.navigator.navigate(t)):ri.default.log("bookmark data missing: ",e)}handleAnnotationLinkDeleteClick(e,t,r){ri.default.log("bookmark data locator: ",r),r?e===0&&this.deleteBookmark(r):ri.default.log("bookmark data missing: ",t)}static readableTimestamp(e){let t=new Date(e);return t.toDateString()+" "+t.toLocaleTimeString()}async getAnnotation(e){var t;return(t=this.annotator)==null?void 0:t.getAnnotation(e)}async getAnnotationByID(e){var t;return(t=this.annotator)==null?void 0:t.getAnnotationByID(e)}};L();var e8=rt(Zw());L();var hn=rt($t()),A1="r2-mo-active",Ir=class Ir{};Ir.COLOR_REF="color",Ir.AUTO_SCROLL_REF="autoscroll",Ir.AUTO_TURN_REF="autoturn",Ir.VOLUME_REF="volume",Ir.RATE_REF="rate",Ir.COLOR_KEY="mediaoverlay-"+Ir.COLOR_REF,Ir.AUTO_SCROLL_KEY="mediaoverlay-"+Ir.AUTO_SCROLL_REF,Ir.AUTO_TURN_KEY="mediaoverlay-"+Ir.AUTO_TURN_REF,Ir.VOLUME_KEY="mediaoverlay-"+Ir.VOLUME_REF,Ir.RATE_KEY="mediaoverlay-"+Ir.RATE_REF;var ot=Ir,Wf=class{constructor(e,t,r){this.MEDIAOVERLAYSETTINGS="mediaOverlaySetting";this.color="r2-mo-active";this.autoScroll=!0;this.autoTurn=!0;this.volume=1;this.rate=1;this.playing=!1;this.resourceReady=!1;this.wait=1;this.settingsChangeCallback=()=>{};this.store=e,this.api=t,this.headerMenu=r,this.initialise(),hn.default.log(this.api)}static create(e){let t=new this(e.store,e.api,e.headerMenu);if(e.initialMediaOverlaySettings){let r=e.initialMediaOverlaySettings;r!=null&&r.color&&(t.color=r.color,hn.default.log(t.color)),r!=null&&r.autoScroll&&(t.autoScroll=r.autoScroll,hn.default.log(t.autoScroll)),r!=null&&r.autoTurn&&(t.autoTurn=r.autoTurn,hn.default.log(t.autoScroll)),r!=null&&r.volume&&(t.volume=r.volume,hn.default.log(t.volume)),r!=null&&r.rate&&(t.rate=r.rate,hn.default.log(t.rate)),r!=null&&r.wait&&(t.wait=r.wait,hn.default.log(t.wait))}return t.initializeSelections(),t}stop(){hn.default.log("MediaOverlay settings stop")}initialise(){this.autoScroll=this.getProperty(ot.AUTO_SCROLL_KEY)!=null?this.getProperty(ot.AUTO_SCROLL_KEY).value:this.autoScroll,this.autoTurn=this.getProperty(ot.AUTO_TURN_KEY)!=null?this.getProperty(ot.AUTO_TURN_KEY).value:this.autoTurn,this.color=this.getProperty(ot.COLOR_KEY)!=null?this.getProperty(ot.COLOR_KEY).value:this.color,this.volume=this.getProperty(ot.VOLUME_KEY)!=null?this.getProperty(ot.VOLUME_KEY).value:this.volume,this.rate=this.getProperty(ot.RATE_KEY)!=null?this.getProperty(ot.RATE_KEY).value:this.rate,this.userProperties=this.getMediaOverlaySettings()}reset(){this.color="redtext",this.autoScroll=!0,this.autoTurn=!0,this.volume=1,this.rate=1,this.wait=1,this.userProperties=this.getMediaOverlaySettings()}initializeSelections(){this.headerMenu&&(this.settingsView=Re(this.headerMenu,"#container-view-mediaoverlay-settings"))}setControls(){this.settingsView&&this.renderControls(this.settingsView)}renderControls(e){this.headerMenu&&(this.speechAutoTurn=Re(this.headerMenu,"#mediaOverlayAutoTurn")),this.headerMenu&&(this.speechAutoScroll=Re(this.headerMenu,"#mediaOverlayAutoScroll")),this.headerMenu&&(this.speechVolume=Re(this.headerMenu,"#mediaOverlayVolume")),this.headerMenu&&(this.speechRate=Re(this.headerMenu,"#mediaOverlayRate")),this.speechAutoScroll&&(this.speechAutoScroll.checked=this.autoScroll),this.speechAutoTurn&&(this.speechAutoTurn.checked=this.autoTurn),this.speechVolume&&(this.speechVolume.value=this.volume.toString()),this.speechRate&&(this.speechRate.value=this.volume.toString()),we(Re(e,"ul"),"click",t=>{t.stopPropagation()})}onSettingsChange(e){this.settingsChangeCallback=e}storeProperty(e){this.updateUserSettings(),this.saveProperty(e)}updateUserSettings(){var t,r,i,o,s,l,f;let e={color:(t=this.userProperties.getByRef(ot.COLOR_REF))==null?void 0:t.value,autoScroll:(r=this.userProperties.getByRef(ot.AUTO_SCROLL_REF))==null?void 0:r.value,autoTurn:(i=this.userProperties.getByRef(ot.AUTO_TURN_REF))==null?void 0:i.value,volume:(o=this.userProperties.getByRef(ot.VOLUME_REF))==null?void 0:o.value,rate:(s=this.userProperties.getByRef(ot.RATE_REF))==null?void 0:s.value};this.applyMediaOverlaySettings(e),(l=this.api)!=null&&l.updateSettings&&((f=this.api)==null||f.updateSettings(e).then(async u=>{hn.default.log("api updated sync settings",u)}))}getMediaOverlaySettings(){let e=new Ri;return e.addSwitchable("mediaoverlay-auto-scroll-off","mediaoverlay-auto-scroll-on",this.autoScroll,ot.AUTO_SCROLL_REF,ot.AUTO_SCROLL_KEY),e.addSwitchable("mediaoverlay-auto-turn-off","mediaoverlay-auto-turn-on",this.autoTurn,ot.AUTO_TURN_REF,ot.AUTO_TURN_KEY),e.addStringable(this.color,ot.COLOR_REF,ot.COLOR_KEY),e.addIncremental(this.volume,.1,1,.1,"",ot.VOLUME_REF,ot.VOLUME_KEY),e.addIncremental(this.rate,.1,3,.1,"",ot.RATE_REF,ot.RATE_KEY),e}saveProperty(e){let t=this.store.get(this.MEDIAOVERLAYSETTINGS);if(t){let r=JSON.parse(t);r=r.filter(i=>i.name!==e.name),r.push(e),this.store.set(this.MEDIAOVERLAYSETTINGS,JSON.stringify(r))}else{let r=[];r.push(e),this.store.set(this.MEDIAOVERLAYSETTINGS,JSON.stringify(r))}return e}getProperty(e){let t=this.store.get(this.MEDIAOVERLAYSETTINGS);if(t){let r=JSON.parse(t);return r=r.filter(i=>i.name===e),r.length===0?null:r[0]}return null}resetMediaOverlaySettings(){this.store.remove(this.MEDIAOVERLAYSETTINGS),this.reset(),this.settingsChangeCallback()}applyMediaOverlaySettings(e){if(e.color){this.color=e.color;let t=this.userProperties.getByRef(ot.COLOR_REF);t&&(t.value=this.color,this.saveProperty(t)),this.settingsChangeCallback()}if(e.autoScroll!==void 0){hn.default.log("autoScroll "+this.autoScroll),this.autoScroll=e.autoScroll;let t=this.userProperties.getByRef(ot.AUTO_SCROLL_REF);t&&(t.value=this.autoScroll,this.saveProperty(t)),this.settingsChangeCallback()}if(e.autoTurn!==void 0){hn.default.log("autoTurn "+this.autoTurn),this.autoTurn=e.autoTurn;let t=this.userProperties.getByRef(ot.AUTO_TURN_REF);t&&(t.value=this.autoTurn,this.saveProperty(t)),this.settingsChangeCallback()}if(e.volume){hn.default.log("volume "+this.volume),this.volume=e.volume;let t=this.userProperties.getByRef(ot.VOLUME_REF);t&&(t.value=this.volume,this.saveProperty(t)),this.settingsChangeCallback()}if(e.rate){hn.default.log("rate "+this.rate),this.rate=e.rate;let t=this.userProperties.getByRef(ot.RATE_REF);t&&(t.value=this.rate,this.saveProperty(t)),this.settingsChangeCallback()}}applyMediaOverlaySetting(e,t){if(e===ot.COLOR_REF){this.color=t;let r=this.userProperties.getByRef(ot.COLOR_REF);r&&(r.value=this.color,this.saveProperty(r)),this.settingsChangeCallback()}else if(e===ot.AUTO_SCROLL_REF){this.autoScroll=t;let r=this.userProperties.getByRef(ot.AUTO_SCROLL_REF);r&&(r.value=this.autoScroll,this.saveProperty(r)),this.settingsChangeCallback()}else if(e===ot.AUTO_TURN_REF){this.autoTurn=t;let r=this.userProperties.getByRef(ot.AUTO_TURN_REF);r&&(r.value=this.autoTurn,this.saveProperty(r)),this.settingsChangeCallback()}}increase(e){var t,r;if(e==="mo_volume"){this.userProperties.getByRef(ot.VOLUME_REF).increment(),this.volume=(t=this.userProperties.getByRef(ot.VOLUME_REF))==null?void 0:t.value;let i=this.userProperties.getByRef(ot.VOLUME_REF);i&&this.storeProperty(i),this.settingsChangeCallback()}else if(e==="mo_rate"){this.userProperties.getByRef(ot.RATE_REF).increment(),this.rate=(r=this.userProperties.getByRef(ot.RATE_REF))==null?void 0:r.value;let i=this.userProperties.getByRef(ot.RATE_REF);i&&this.storeProperty(i),this.settingsChangeCallback()}}decrease(e){var t,r;if(e==="mo_volume"){this.userProperties.getByRef(ot.VOLUME_REF).decrement(),this.volume=(t=this.userProperties.getByRef(ot.VOLUME_REF))==null?void 0:t.value;let i=this.userProperties.getByRef(ot.VOLUME_REF);i&&this.storeProperty(i),this.settingsChangeCallback()}else if(e==="mo_rate"){this.userProperties.getByRef(ot.RATE_REF).decrement(),this.rate=(r=this.userProperties.getByRef(ot.RATE_REF))==null?void 0:r.value;let i=this.userProperties.getByRef(ot.RATE_REF);i&&this.storeProperty(i),this.settingsChangeCallback()}}};var Ze=rt($t()),Va=class{constructor(e,t,r){this.play=Re(document,"#menu-button-play");this.pause=Re(document,"#menu-button-pause");this.currentLinkIndex=0;this.pid=void 0;this.__ontimeupdate=!1;this.ontimeupdate=async e=>{Ze.default.log("ontimeupdate"),this.trackCurrentTime()};this.ensureOnTimeUpdate=(e,t)=>{e?this.__ontimeupdate&&(this.__ontimeupdate=!1,this.audioElement&&this.audioElement.removeEventListener("timeupdate",this.ontimeupdate),cancelAnimationFrame(this.myReq)):(!this.__ontimeupdate||t)&&(this.__ontimeupdate=!0,t&&(this.audioElement&&this.audioElement.removeEventListener("timeupdate",this.ontimeupdate),this.audioElement.addEventListener("timeupdate",this.ontimeupdate)))};this.publication=e,this.settings=t,this.properties=r}static create(e){let t=new this(e.publication,e.settings,e);return t.start(),t}stop(){Ze.default.log("MediaOverlay module stop")}start(){Ze.default.log("MediaOverlay module start")}async initialize(){return new Promise(async e=>{await document.fonts.ready,this.settings.setControls(),this.settings.onSettingsChange(()=>{this.audioElement.volume=this.settings.volume,this.audioElement.playbackRate=this.settings.rate}),e()})}async initializeResource(e){this.currentLinks=e,this.currentLinkIndex=0,await this.playLink()}async playLink(){var t,r;let e=this.currentLinks[this.currentLinkIndex];if((t=e==null?void 0:e.Properties)!=null&&t.MediaOverlay){this.ensureOnTimeUpdate(!1,!1);let i=(r=e.Properties)==null?void 0:r.MediaOverlay,s=new URL(i,this.publication.manifestUrl).toString(),l;try{l=await fetch(s,this.navigator.requestConfig)}catch(y){console.error(y,s);return}l.ok||Ze.default.log("BAD RESPONSE?!");let f;try{f=await l.json()}catch(y){console.error(y)}if(!f){Ze.default.log("## moJson"+f);return}e.MediaOverlays=wa(f,e8.MediaOverlayNode),e.MediaOverlays.initialized=!0;let u=e.HrefDecoded||e.Href,m=new URL("https://dita.digital/"+u);await this.playMediaOverlays(m.pathname.substr(1),e.MediaOverlays,void 0)}else this.audioElement&&await this.audioElement.pause(),this.currentLinks.length>1&&this.currentLinkIndex===0?(this.currentLinkIndex++,await this.playLink()):this.settings.autoTurn&&this.settings.playing?(this.audioElement&&await this.audioElement.pause(),this.navigator.nextResource()):await this.stopReadAloud()}async startReadAloud(){var e;if(this.navigator.rights.enableMediaOverlays){if(this.settings.playing=!0,this.audioElement&&((e=this.currentLinks[this.currentLinkIndex])!=null&&e.Properties.MediaOverlay)){let t=this.currentAudioBegin?this.currentAudioBegin:0;this.audioElement.currentTime=t,await this.audioElement.play(),this.ensureOnTimeUpdate(!1,!0),this.audioElement.volume=this.settings.volume,this.audioElement.playbackRate=this.settings.rate}else this.currentLinks.length>1&&this.currentLinkIndex===0?(this.currentLinkIndex++,await this.playLink()):this.settings.autoTurn&&this.settings.playing?this.navigator.nextResource():await this.stopReadAloud();this.play&&(this.play.style.display="none"),this.pause&&this.pause.style.removeProperty("display")}}async stopReadAloud(){this.navigator.rights.enableMediaOverlays&&(this.settings.playing=!1,this.audioElement&&this.audioElement.pause(),this.play&&this.play.style.removeProperty("display"),this.pause&&(this.pause.style.display="none"))}pauseReadAloud(){this.navigator.rights.enableMediaOverlays&&(this.settings.playing=!1,this.audioElement.pause(),this.play&&this.play.style.removeProperty("display"),this.pause&&(this.pause.style.display="none"))}async resumeReadAloud(){this.navigator.rights.enableMediaOverlays&&(this.settings.playing=!0,await this.audioElement.play(),this.play&&(this.play.style.display="none"),this.pause&&this.pause.style.removeProperty("display"))}findDepthFirstTextAudioPair(e,t,r){Ze.default.log("findDepthFirstTextAudioPair()");let i,o;if(t.Text){let f=new URL("https://dita.digital/"+t.Text);if(f.pathname.substr(1)===e){if(i=!0,f.hash&&r){o=!1;let u=f.hash.substr(1);for(let m of r)if(m===u){o=!0;break}}}else i=!1}if(Ze.default.log("isFragmentIDMatch: "+o),Ze.default.log("isTextUrlMatch: "+i),!t.Children||!t.Children.length){if(Ze.default.log("findDepthFirstTextAudioPair() - leaf text/audio pair"),!i){Ze.default.log("findDepthFirstTextAudioPair() - leaf - !isTextUrlMatch");return}return o||i&&!r?(Ze.default.log("findDepthFirstTextAudioPair() - leaf - isFragmentIDMatch || (isTextUrlMatch && !textFragmentIDChain"),t):void 0}let s=r,l=r;for(let f of t.Children){Ze.default.log("findDepthFirstTextAudioPair() - child"),Ze.default.log(JSON.stringify(f));let u=this.findDepthFirstTextAudioPair(e,f,l);if(u===null&&(Ze.default.log("findDepthFirstTextAudioPair() - child - match null (skip)"),l=void 0),u)return Ze.default.log("findDepthFirstTextAudioPair() - child - match"),Ze.default.log(JSON.stringify(u)),u}if(o){Ze.default.log("findDepthFirstTextAudioPair() - post isFragmentIDMatch");let f=this.findDepthFirstTextAudioPair(e,t,void 0);return f&&(Ze.default.log("findDepthFirstTextAudioPair() - post isFragmentIDMatch - match"),Ze.default.log(JSON.stringify(f)),f)}if(s&&!l)return null}trackCurrentTime(){if(cancelAnimationFrame(this.myReq),this.mediaOverlayTextAudioPair)try{this.currentAudioEnd&&this.audioElement.currentTime>=this.currentAudioEnd-.05&&(Ze.default.log("ontimeupdate - mediaOverlaysNext()"),this.mediaOverlaysNext());let e=this.mediaOverlayTextAudioPair.Text.lastIndexOf("#"),t=this.mediaOverlayTextAudioPair.Text.substr(e+1);this.mediaOverlayHighlight(t),this.myReq=requestAnimationFrame(this.trackCurrentTime.bind(this))}catch{}}mediaOverlaysNext(e){if(Ze.default.log("mediaOverlaysNext()"),this.mediaOverlayRoot&&this.mediaOverlayTextAudioPair){let t=this.findNextTextAudioPair(this.mediaOverlayRoot,this.mediaOverlayTextAudioPair,{prev:void 0},!!e);if(!t)Ze.default.log("mediaOverlaysNext() - navLeftOrRight()"),this.mediaOverlaysStop(),this.currentLinks.length>1&&this.currentLinkIndex===0?(this.currentLinkIndex++,this.playLink()):(this.audioElement.pause(),this.settings.autoTurn&&this.settings.playing?(this.audioElement.pause(),this.navigator.nextResource()):this.stopReadAloud());else{let r=!1;if(this.mediaOverlayTextAudioPair.Text&&t.Text){let i=new URL("https://dita.digital/"+this.mediaOverlayTextAudioPair.Text),o=new URL("https://dita.digital/"+t.Text);i.pathname!==o.pathname&&(Ze.default.log("mediaOverlaysNext() SWITCH! "+i.pathname+" != "+o.pathname),r=!0)}r?this.mediaOverlaysStop():(Ze.default.log("mediaOverlaysNext() - playMediaOverlaysAudio()"),setTimeout(async()=>{await this.playMediaOverlaysAudio(t,void 0,void 0)},0))}}else Ze.default.log("mediaOverlaysNext() - navLeftOrRight() 2"),this.mediaOverlaysStop(),this.currentLinks.length>1&&this.currentLinkIndex===0?(this.currentLinkIndex++,this.playLink()):(this.audioElement.pause(),this.settings.autoTurn&&this.settings.playing?(this.audioElement.pause(),this.navigator.nextResource()):this.stopReadAloud())}mediaOverlaysStop(){Ze.default.log("mediaOverlaysStop()"),this.mediaOverlaysPause(),this.mediaOverlayRoot=void 0,this.mediaOverlayTextAudioPair=void 0}mediaOverlaysPause(){Ze.default.log("mediaOverlaysPause()"),this.mediaOverlayHighlight(void 0),this.audioElement&&this.audioElement.pause()}findNextTextAudioPair(e,t,r,i){if(!e.Children||!e.Children.length){if((r==null?void 0:r.prev)===t)return Ze.default.log("findNextTextAudioPair() - prevMo === moToMatch"),e;Ze.default.log("findNextTextAudioPair() - set previous"),Ze.default.log(JSON.stringify(e)),r.prev=e;return}for(let o of e.Children){Ze.default.log("findNextTextAudioPair() - child"),Ze.default.log(JSON.stringify(o));let s=this.findNextTextAudioPair(o,t,r,i);if(s)return Ze.default.log("findNextTextAudioPair() - match"),Ze.default.log(JSON.stringify(s)),s}}async playMediaOverlaysAudio(e,t,r){if(Ze.default.log("playMediaOverlaysAudio()"),this.mediaOverlayTextAudioPair=e,!e.Audio)return;let i=new URL(e.Audio,this.publication.manifestUrl),o=i.toString(),s=new URL(o);s.hash="",s.search="";let l=s.toString(),f=typeof t<"u",u=typeof r<"u";if(this.previousAudioEnd=this.currentAudioEnd,this.currentAudioBegin=void 0,this.currentAudioEnd=void 0,!f&&!u){if(i.hash){let y=i.hash.match(/t=([0-9.]+)(,([0-9.]+))?/);if(y&&y.length>=1){let _=y[1];try{this.currentAudioBegin=parseFloat(_)}catch(v){Ze.default.error(v)}if(y.length>=3){let v=y[3];try{this.currentAudioEnd=parseFloat(v)}catch(p){Ze.default.error(p)}}}}}else this.currentAudioBegin=t,this.currentAudioEnd=r;Ze.default.log(`${o} => [${this.currentAudioBegin}-${this.currentAudioEnd}]`);let m=async y=>{if(!this.audioElement)return;let _=this.currentAudioBegin?this.currentAudioBegin:0;if(y||this.audioElement.paused)if(y&&!_||this.audioElement.currentTime===_){if(Ze.default.log("playMediaOverlaysAudio() - playClip() - _currentAudioElement.play()"),this.ensureOnTimeUpdate(!1,!1),this.audioElement.playbackRate=this.settings.rate,this.audioElement.volume=this.settings.volume,this.settings.playing){let p=function(){v.settings.resourceReady?setTimeout(async()=>{await v.audioElement.play(),v.ensureOnTimeUpdate(!1,!0)},v.settings.wait*1e3):setTimeout(p,200)},v=this;p()}}else{Ze.default.log("playMediaOverlaysAudio() - playClip() - ontimeupdateSeeked");let v=async p=>{if(this.audioElement.removeEventListener("timeupdate",v),Ze.default.log("playMediaOverlaysAudio() - playClip() - ontimeupdateSeeked - .play()"),this.ensureOnTimeUpdate(!1,!1),this.audioElement&&(this.audioElement.playbackRate=this.settings.rate,this.audioElement.volume=this.settings.volume,this.settings.playing)){let c=function(){h.settings.resourceReady?setTimeout(async()=>{await h.audioElement.play(),h.ensureOnTimeUpdate(!1,!0)},h.settings.wait*1e3):setTimeout(c,200)},h=this;c()}};this.audioElement.addEventListener("timeupdate",v),this.audioElement.currentTime=_}else{let v=this.previousAudioUrl===this.currentAudioUrl&&typeof this.previousAudioEnd<"u"&&this.previousAudioEnd>_-.02&&this.previousAudioEnd<=_&&this.audioElement.currentTime>=_-.1;this.ensureOnTimeUpdate(!1,!1),v?Ze.default.log("playMediaOverlaysAudio() - playClip() - ensureOnTimeUpdate"):(Ze.default.log("playMediaOverlaysAudio() - playClip() - currentTime = timeToSeekTo"),this.audioElement.currentTime=_)}};if(this.previousAudioUrl=this.currentAudioUrl,!this.currentAudioUrl||l!==this.currentAudioUrl){this.currentAudioUrl=l,Ze.default.log("playMediaOverlaysAudio() - RESET: "+this.previousAudioUrl+" => "+this.currentAudioUrl),this.audioElement=document.getElementById("AUDIO_MO_ID"),this.audioElement&&(this.audioElement.pause(),this.audioElement.setAttribute("src",""),this.audioElement.parentNode&&this.audioElement.parentNode.removeChild(this.audioElement)),this.audioElement=document.createElement("audio"),this.audioElement.setAttribute("style","display: none"),this.audioElement.setAttribute("id","AUDIO_MO_ID"),this.audioElement.setAttribute("role","media-overlays"),this.audioElement.volume=this.settings.volume,this.audioElement.playbackRate=this.settings.rate,document.body.appendChild(this.audioElement),this.audioElement.addEventListener("error",v=>{Ze.default.log("-1) error: "+(this.currentAudioUrl!==v.currentTarget.src?this.currentAudioUrl+" -- ":"")+v.currentTarget.src.substr(v.currentTarget.src.lastIndexOf("/"))),this.audioElement&&this.audioElement.error&&(Ze.default.log(this.audioElement.error.code),Ze.default.log(this.audioElement.error.message))});let y=async v=>{v.currentTarget.removeEventListener("canplaythrough",y),Ze.default.log("oncanplaythrough"),await m(!0)};this.audioElement.addEventListener("canplaythrough",y);let _=async v=>{Ze.default.log("onended"),this.currentLinks.length>1&&this.currentLinkIndex===0?(this.currentLinkIndex++,await this.playLink()):this.settings.autoTurn&&this.settings.playing?(this.audioElement.pause(),this.navigator.nextResource()):this.stopReadAloud()};this.audioElement.addEventListener("ended",_),this.audioElement.playbackRate=this.settings.rate,this.audioElement.setAttribute("src",this.currentAudioUrl)}else Ze.default.log("playMediaOverlaysAudio() - playClip()"),await m(!1)}async playMediaOverlays(e,t,r){Ze.default.log("playMediaOverlays()");let i=r?r.filter(s=>s):void 0;i&&i.length===0&&(i=void 0);let o=this.findDepthFirstTextAudioPair(e,t,i);!o&&i&&(Ze.default.log("playMediaOverlays() - findDepthFirstTextAudioPair() SECOND CHANCE "),Ze.default.log(JSON.stringify(i,null,4)),Ze.default.log(JSON.stringify(t,null,4)),o=this.findDepthFirstTextAudioPair(e,t,void 0)),o?o.Audio&&(Ze.default.log("playMediaOverlays() - playMediaOverlaysAudio()"),this.mediaOverlayRoot=t,await this.playMediaOverlaysAudio(o,void 0,void 0)):Ze.default.log("playMediaOverlays() - !moTextAudioPair "+e)}mediaOverlayHighlight(e){var l,f,u,m,y,_,v,p,h;Ze.default.log("moHighlight:  ## "+e);let t=(f=(l=this.publication.Metadata)==null?void 0:l.MediaOverlay)==null?void 0:f.ActiveClass;t||(t=this.settings.color);let r=(u=this.navigator.iframes[0].contentDocument)==null?void 0:u.documentElement.getAttribute("style"),i=r?r.indexOf("readium-night-on")>0:!1,o=r?r.indexOf("readium-sepia-on")>0:!1;if((((m=this.publication.Metadata.Rendition)==null?void 0:m.Layout)??"unknown")!=="fixed"&&(t=i||o?A1:t||A1),this.pid){let c;this.currentLinkIndex===0?c=(y=this.navigator.iframes[0].contentDocument)==null?void 0:y.getElementById(this.pid):c=(_=this.navigator.iframes[1].contentDocument)==null?void 0:_.getElementById(this.pid),c&&c.classList.remove(t)}let s;e&&(this.currentLinkIndex===0?s=(v=this.navigator.iframes[0].contentDocument)==null?void 0:v.getElementById(e):s=(p=this.navigator.iframes[1].contentDocument)==null?void 0:p.getElementById(e),s&&s.classList.add(t),this.pid=e),s&&(((h=this.publication.Metadata.Rendition)==null?void 0:h.Layout)??"unknown")!=="fixed"&&s.scrollIntoView({block:"center",behavior:"smooth"})}};L();var E1=rt($t()),$a=class{static async create(e){let t=new this(e.publication);return await t.start(),t}constructor(e){this.publication=e}async stop(){E1.default.log("Timeline module stop")}async start(){this.timelineContainer=Re(document,"#container-view-timeline"),this.positionSlider=Re(document,"#positionSlider"),this.publication.positions?this.positionSlider&&(this.positionSlider.style.display="block"):this.positionSlider&&(this.positionSlider.style.display="none")}async initialize(){return new Promise(async e=>{var r;await document.fonts.ready;let t=this.navigator.currentLocator();(this.navigator.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions)&&(this.positionSlider&&(this.positionSlider.value=(t.locations.position??0).toString()),this.positionSlider&&(this.positionSlider.max=((t.locations.totalRemainingPositions??0)+(t.locations.position??0)).toString())),this.timelineContainer&&(this.timelineContainer.innerHTML=""),(r=this.publication.readingOrder)==null||r.forEach(i=>{var _,v;let o=this.publication.getAbsoluteHref(i.Href),s=this.publication.getTOCItemAbsolute(o),l=(s==null?void 0:s.Href.indexOf("#"))!==-1?s==null?void 0:s.Href.slice(0,s==null?void 0:s.Href.indexOf("#")):s.Href,f=this.publication.getAbsoluteHref(l??"");var u;this.publication.positions&&((_=this.navigator.view)==null?void 0:_.layout)!=="fixed"?i.contentWeight?u=i.contentWeight:u=1:u=100/(((v=this.publication.readingOrder)==null?void 0:v.length)??0);var m=document.createElement("div");if(m.style.height=u+"%",m.style.width="100%",m.className="chapter",(s==null?void 0:s.Title)!==void 0){var y=document.createElement("span");y.innerHTML=s.Title,y.className="chapter-tooltip",m.appendChild(y)}we(m,"click",p=>{p.preventDefault(),p.stopPropagation();var h;this.publication.positions||this.navigator.rights.autoGeneratePositions&&this.publication.positions?(h={...this.publication.positions.filter(c=>c.href===i.Href)[0]},h.href=this.publication.getAbsoluteHref(h.href)):h={href:f,locations:{progression:0},type:i.TypeLink,title:i.Title},E1.default.log(h),this.navigator.navigate(h)}),f===this.navigator.currentChapterLink.href?m.className+=" active":m.className=m.className.replace(" active",""),this.timelineContainer&&this.timelineContainer.appendChild(m)}),e()})}};L();var um=rt(Jo());L();var t8=rt($t());function r8(n,e){return new Promise(function(t){setTimeout(t.bind(null,e),n)})}var BD=!1;t8.default.setLevel(BD?"trace":"warn",!0);var wh=rt(n8()),Nr=rt($t());L();var bE=rt($8(),1),yi=rt(lE(),1);L();var cE=[{regex:/IE (\d+)\.(\d+)/,family:"ie",maxVersion:[7,1/0,1/0]},{regex:/Trident\/4\.0/,family:"ie",version:[8,0,0]},{regex:/Trident\/5\.0/,family:"ie",version:[9,0,0]},{regex:/Trident\/6\.0/,family:"ie",version:[10,0,0]},{regex:/Trident\/[78]\.0/,family:"ie",version:[11,0,0]},{regex:/Edge?\/(\d+)(\.(\d+)|)(\.(\d+)|)/,family:"edge"},{regex:/Firefox\/(\d+)\.(\d+)(\.(\d+)|)/,family:"firefox"},{regex:/Chrom(ium|e)\/(\d+)\.(\d+)(\.(\d+)|)/,family:"chrome"},{regex:/Chrom(ium|e)\/(\d+)\.(\d+)(\.(\d+)|)([\d.]+$|.*Safari\/(?![\d.]+ Edge\/[\d.]+$))/,family:"chrome",maxVersion:[70,1/0,1/0]},{regex:/Maci.+ Version\/(\d+)\.(\d+)([.,](\d+)|)( \(\w+\)|)( Mobile\/\w+|) Safari\//,family:"safari"},{regex:/Opera\/9\.80.+Version\/(\d+)\.(\d+)(\.(\d+)|)/,family:"opera",maxVersion:[12,15,0]},{regex:/Chrome.+OPR\/(\d+)\.(\d+)\.(\d+)/,family:"opera",minVersion:[15,0,0]},{regex:/(CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS|CPU iPad OS)[ +]+(\d+)[_.](\d+)([_.](\d+)|)/,family:"ios_saf"},{regex:/[^e] (CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS|CPU iPad OS)[ +]+(\d+)[_.](\d+)([_.](\d+)|)/,family:"ios_saf",version:[7,0,3]},{regex:/Opera Mini/,family:"op_mini"},{regex:/Android Donut/,family:"android",version:[1,2,0]},{regex:/Android Eclair/,family:"android",version:[2,1,0]},{regex:/Android Froyo/,family:"android",version:[2,2,0]},{regex:/Android Gingerbread/,family:"android",version:[2,3,0]},{regex:/Android Honeycomb/,family:"android",version:[3,0,0]},{regex:/Android:?[ /-](\d+)(\.(\d+)|)(\.(\d+)|)/,family:"android"},{regex:/Android:?[ /-](\d+)(\.(\d+)|)(\.(\d+)|);(?! ARM; Trident)/,family:"android",version:[4,0,0]},{regex:/PlayBook.+RIM Tablet OS (\d+)\.(\d+)\.(\d+)/,family:"bb"},{regex:/(Black[bB]erry|BB10).+Version\/(\d+)\.(\d+)\.(\d+)/,family:"bb"},{regex:/Opera\/.+Opera Mobi.+Version\/(\d+)\.(\d+)/,family:"op_mob",maxVersion:[12,16,0]},{regex:/Mobile Safari.+OPR\/(\d+)\.(\d+)\.(\d+)/,family:"op_mob",minVersion:[14,0,0]},{regex:/Android.+Firefox\/(\d+)\.(\d+)(\.(\d+)|)/,family:"and_ff"},{regex:/Android.+Chrom(ium|e)\/(\d+)\.(\d+)(\.(\d+)|)/,family:"and_chr"},{regex:/IEMobile[ /](\d+)\.(\d+)/,family:"ie_mob"},{regex:/Android.+(UC? ?Browser|UCWEB|U3)[ /]?(\d+)\.(\d+)\.(\d+)/,family:"and_uc"},{regex:/SamsungBrowser\/(\d+)\.(\d+)/,family:"samsung"},{regex:/Android.+MQQBrowser\/(\d+)(\.(\d+)|)(\.(\d+)|)/,family:"and_qq"},{regex:/baidubrowser[/\s](\d+)(\.(\d+)|)(\.(\d+)|)/,family:"baidu"},{regex:/K[Aa][Ii]OS\/(\d+)\.(\d+)(\.(\d+)|)/,family:"kaios"}];function nm(n){return typeof n=="number"?n:n.length===1?n[0]:[n[0],n[n.length-1]]}var fr;(function(n){n[n.Major=0]="Major",n[n.Minor=1]="Minor",n[n.Patch=2]="Patch"})(fr||(fr={}));function dE(n){let e=Array.isArray(n)?n:n.toString().split(".");if(e[0]==="all")return[1/0,0,0];let t=null,r=null,i=[0,0,0];for(let o=0;o<3;o++)if(t=e[o],!(typeof t>"u")){if(r=typeof t=="number"?t:parseInt(t,10),isNaN(r))return null;i[o]=r}return i}function CU(n,e){let t=0,r=[];for(let i=2;i>=0;i--)if(n[i]!==e[i]){t=i;break}for(let i=n[t],o=e[t];i<=o;i++)r.push(n.map((s,l)=>l===t?i:s));return r}function fE(n,e,t){let[r,i,o]=n,[s,l,f]=e,{ignoreMinor:u,ignorePatch:m,allowHigherVersions:y}=t;if(s===1/0)return!0;let _=!u,v=_&&!m;return y?v&&o<f||_&&i<l?!1:r>=s:v&&o!==f||_&&i!==l?!1:r===s}function xU(n,e){let{ignoreMinor:t,ignorePatch:r,allowZeroSubversions:i}=e,o=t?1:r?2:3;if(i)for(let s=o-1;s>0&&!(n[s]!==0||o===1);s--)o--;return o}function TU(n){return n.reduce((e,t)=>{let[r,i,o]=t.split(/ |-/),s=dE(i);return(s?o?CU(s,dE(o)):[s]:[]).reduce((f,u)=>(u&&f.push({family:r,version:u}),f),e)},[])}function PU(n={}){let{browsers:e,...t}=n,r=(0,bE.default)(e,t);return TU(r)}function OU(n,e,t=0){let r=n.length;for(let i=t;i<r;i++)if(n[i]!==e[i])return!1;return!0}function vE(n){if(n===null||typeof n!="object")return n;let e=Array.isArray(n)?[]:{},t;for(t in n)e[t]=vE(n[t]);return e}function vh(n){return[].concat(...n)}function MU(n){let e=new Map;return n.forEach(({family:t,version:r})=>{let i=e.get(t);if(i){let o=r.join(".");i.every(s=>s.join(".")!==o)&&i.push(r);return}e.set(t,[r])}),e.forEach(t=>{t.sort((r,i)=>{for(let o in r)if(r[o]!==i[o])return r[o]-i[o];return 0})}),e}function kU(n){if(n.length<2)return n;let e=n.length+1,t=[],r=null,i=n[0],o=[i[fr.Major]],s=[i[fr.Minor]],l=[i[fr.Patch]],f=null;for(let u=1;u<e;u++){r=n[u-1],i=n[u]||[];for(let m=fr.Major;m<=fr.Patch;m++){if((m===f||f===null)&&r[m]+1===i[m]&&OU(r,i,m+1)){f=m,m===fr.Major?o.push(i[fr.Major]):o=i[fr.Major],m===fr.Minor?s.push(i[fr.Minor]):s=i[fr.Minor],m===fr.Patch?l.push(i[fr.Patch]):l=i[fr.Patch];break}if(f===m||r[m]!==i[m]){t.push([nm(o),nm(s),nm(l)]),o=[i[fr.Major]],s=[i[fr.Minor]],l=[i[fr.Patch]],f=null;break}}}return t}function RU(n){return{type:"RegExp",body:n,flags:""}}function Ao(...n){let e=vh(n).filter(Boolean);return e.length===1?e[0]:{type:"Alternative",expressions:e}}function ni(n){return{type:"Char",kind:"simple",value:String(n),codePoint:NaN}}function LU(n){return{type:"Char",kind:"meta",value:n,codePoint:NaN}}function _E(n,e){return{type:"ClassRange",from:n,to:e}}function im(...n){return{type:"CharacterClass",expressions:vh(n).filter(Boolean)}}function IU(n){return{type:"Quantifier",kind:n,greedy:!0}}function NU(n,e){return{type:"Quantifier",kind:"Range",from:n,to:e,greedy:!0}}function wE(n){return{type:"Group",capturing:!0,expression:n,number:null}}function BU(n,e){return{type:"Repetition",expression:n,quantifier:e}}function DU(...n){let e=vh(n).filter(Boolean);if(e.length===1)return e[0];let t={type:"Disjunction",left:null,right:e.pop()};return e.reduceRight((r,i,o)=>o===0?(r.left=i,r):(r.left={type:"Disjunction",left:null,right:i},r.left),t),t}function _h(...n){let e=DU(...n);return e.type==="Disjunction"?wE(e):e}function iu(){return LU("\\d")}function nu(n=IU("+")){return BU(iu(),n)}function hE(n){return Ao(Array.from(String(n),ni))}function bh(n){if(n.type==="Group"&&n.expression.type==="Repetition"){let{expression:e,quantifier:t}=n.expression;return e.type==="Char"&&e.value==="\\d"&&t.kind==="+"&&t.greedy}return!1}function ru(n,e){return n&&n.type==="Char"?typeof e>"u"||e instanceof RegExp&&e.test(n.value)||String(e)===n.value:!1}function pE(n){if(n.type==="CharacterClass"&&n.expressions.length===1){let[e]=n.expressions;return e.type==="ClassRange"&&ru(e.from,/\d/)&&ru(e.to,/\d/)}return!1}function gE(n){return n.type!=="RegExp"&&n.type!=="ClassRange"&&n.type!=="Quantifier"}function ou(n){return typeof n=="string"?yi.default.parse(n.replace(/^([^/])/,"/$1").replace(/([^/])$/,"$1/")):n instanceof RegExp?yi.default.parse(n):n}function FU(n){return typeof n=="string"?new RegExp(n):new RegExp(yi.default.generate(n.body),n.flags)}function HU(n){return typeof n=="string"?n:n instanceof RegExp?n.toString():yi.default.generate(n)}var UU=["RegExp","Disjunction","Alternative","Assertion","Char","CharacterClass","ClassRange","Backreference","Group","Repetition","Quantifier"];function am(n){let{every:e}=n;return e?typeof e=="function"?{"*":e,...n}:UU.reduce((t,r)=>{let i=n[r],o=i?"pre"in i?i.pre:i:null,s=i&&"post"in i?i.post:null;return t[r]={pre(l){return e.pre(l)!==!1&&o?o(l):!0},post(l){return e.post(l)!==!1&&s?s(l):!0}},t},{}):n}function jU(n){let e=yi.default.optimize(ou(HU(n))).getAST();return yi.default.traverse(e,{Group(t){let{parent:r,node:i}=t,{expression:o}=i;i.capturing=!0,(r.type==="RegExp"||o.type!=="Disjunction"&&r.type!=="Repetition"||o.type==="Disjunction"&&r.type==="Disjunction")&&t.replace(t.node.expression)}}),e}function qU(n,e){return ru(n)&&ru(e)&&n.value===e.value?e:ru(n,/\d/)&&pE(e)&&Number(e.expressions[0].from.value)-Number(n.value)===1?{...e,expressions:[{...e.expressions[0],from:n}]}:pE(n)&&ru(e,/\d/)&&Number(e.value)-Number(n.expressions[0].to.value)===1?{...n,expressions:[{...n.expressions[0],to:e}]}:null}function GU(n){return n.reduce((e,t)=>{let r=e[e.length-1];if(r&&t.type==="Alternative"&&r.type==="Alternative"&&t.expressions.length===r.expressions.length){let i=r.expressions.reduceRight((o,s,l)=>{if(!o)return o;let f=qU(s,t.expressions[l]);if(f)o.unshift(f);else return null;return o},[]);i&&(t.expressions=i,e.pop())}return e.push(t),e},[])}function om(n){return Array.from(n.toString(),Number)}function mE(n,e){let t=n+ +!e;return t===0?iu():t===9?ni("9"):t>9?null:im(_E(ni(t),ni("9")))}function WU(n){if(n===0)return[nu()];let e=om(n),t=e.length,r=nu(NU(t+1)),i=t-1;if(n/Math.pow(10,i)===e[0])return[Ao(mE(e[0],!0),Array.from({length:i},iu)),r];let s=e.reduce((l,f,u)=>{let m=t-u-1,y=u===0,_=ni(""),v=e.reduce((p,h,c)=>{if(c<m)p.push(ni(h));else if(_)if(c>m)p.push(iu());else if(_=mE(h,y),_)p.push(_);else return[];return p},[]);return v.length&&l.push(v),l},[]).map(l=>Ao(l));return s.push(r),s}function tu(n,e,t){if(e<n)return null;let r=ni(n),i=ni(e),o=typeof t=="number"&&t>0?Array.from({length:t},()=>ni(0)):[],s=o.length?l=>Ao(o,l):l=>l;return n===e?s(r):n===0&&e===9?s(iu()):e-n===1?s(im(r,i)):s(im(_E(r,i)))}function zU(n,e){let t=[],r=n,i=1;do i*=10,r<i&&(t.push([r,Math.min(i-1,e)]),r=i);while(i<=e);return t}function VU(n,e){let t=n.length;if(t!==e.length||n[0]!==e[0])return null;let r=n[0].toString(),i=0,o=0,s="",l="";for(let f=1;f<t;f++)i=n[f],o=e[f],i===o?r+=i:(s+=i,l+=o);return[r,parseInt(s,10),parseInt(l,10)]}function sm(n,e,t=0){let r=om(n),i=r.length;if(n<10&&e<10||n===e){let m=t-i;return[tu(n,e,m)]}let o=om(e);if(i!==o.length){let m=zU(n,e);return vh(m.map(([_,v])=>sm(_,v,t)))}let s=VU(r,o);if(Array.isArray(s)){let[m,y,_]=s,v=i-m.length,p=sm(y,_,v);return[Ao(Array.from(m,ni),_h(p))]}let l=Array.from({length:i-1}),f=tu(r[0]+1,o[0]-1),u=[...l.map((m,y)=>{let _=i-y-1,v=+(y>0);return Ao(r.map((p,h)=>h<_?ni(p):h>_?tu(0,9):tu(p+v,9)))}),...f?[Ao(f,Array.from({length:i-1},()=>iu()))]:[],...l.map((m,y)=>{let _=i-y-1,v=+(y>0);return Ao(o.map((p,h)=>h<_?ni(p):h>_?tu(0,9):tu(0,p-v)))})];return GU(u)}function yE(n,e=1/0){if(n===1/0)return nu();let t=e===1/0?WU(n):sm(n,e);return _h(t)}function $U(n,e,t,r){let i={...r,allowHigherVersions:!0},o=f=>fE(f,n,i),s=f=>fE(e,f,i),l=n&&e?f=>o(f)&&s(f):n?o:e?s:()=>!0;return t.filter(l)}function JU(n,e,t=cE){let r=[],i="",o=!1;return t.forEach(s=>{let l=n.get(s.family);if(!l)return;let{version:f,minVersion:u,maxVersion:m}=s;f&&(u=f,m=f);let y=$U(u,m,l,e);y.length&&(i===s.family&&o&&(f=void 0,u=void 0,m=void 0,y=l,r.pop()),r.push({...s,version:f,minVersion:u,maxVersion:m,requestVersions:l,matchedVersions:y})),o=!f&&!u&&!m,i=s.family}),r}function KU(n){let e=n.map(({regexAst:r})=>wE(r.body)),t=jU(RU(_h(e)));return FU(t)}function YU(n){let e=ou(n),t=0;return yi.default.traverse(e,{Group(r){bh(r.node)&&t++}}),t}function XU(n,e,t){let r=ou(n),i=typeof t=="number"&&t<e.length?e.slice(0,t):e.slice();return yi.default.traverse(r,am({every(){return!!i.length},Group(o){return bh(o.node)&&i.length?(r===o.node?r=i.shift():o.replace(i.shift()),!1):!0}})),r}function SE(n,e){let t=ou(n),r=Math.min(YU(t),e||1/0),i=[],o=0,s=!1;return yi.default.traverse(t,am({every:{pre({node:l,parent:f}){return l===t?!0:gE(l)?(f===t&&(s=!1),o<r):!1},post({node:l,parent:f}){l!==t&&f===t&&gE(l)&&(s||o>0&&o<r)&&i.push(l)}},Group(l){return bh(l.node)&&o<r?(s=!0,o++,!1):!0}})),i.length===1&&!bh(i[0])?SE(i[0],r):i}function QU(n,e){let{ignoreMinor:t,ignorePatch:r,allowHigherVersions:i}=e,o=n[0]===1/0?0:t?1:r?2:3;if(i){let l=[],f=!0,u=0,m=0,y=_=>(v,p)=>p>=o?nu():(m=Array.isArray(v)?v[0]:v,p<_?hE(m):p>_?nu():yE(m+u));for(let _=o-1;_>=0;_--)f&&!n[_]||(f=!1,l.push(n.map(y(_))),u=1);return l}return[n.map((l,f)=>f>=o?nu():Array.isArray(l)?yE(l[0],l[1]):hE(l))]}function ZU(n,e,t){let{allowHigherVersions:r}=t,i=ou(n),o=r&&e.length?[e[0]]:e,s=o.reduce((u,m)=>Math.max(u,xU(m,t)),1),l=SE(i,s),f=_h(...o.map(u=>QU(u,t).map(m=>XU(Ao(vE(l)),m,s))));return yi.default.traverse(i,am({every(u){return l.length?(u.node===l[0]&&(l.length===1?u.replace(f):u.remove(),l.shift()),!0):!1}})),i}function ej(n,e){return n.map(({regex:t,version:r,maxVersion:i,matchedVersions:o,...s})=>{let l=ou(t);return r||(l=ZU(l,kU(o),{...e,allowHigherVersions:!i&&e.allowHigherVersions})),{regex:null,sourceRegex:t,regexAst:l,version:r,maxVersion:i,matchedVersions:o,...s}})}var tj={ignoreMinor:!1,ignorePatch:!0,allowZeroSubversions:!1,allowHigherVersions:!1};function rj(n={}){let e={...tj,...n},t=PU(e),r=MU(t),i=JU(r,e);return ej(i,e)}function AE(n={}){return KU(rj(n))}var Fs=class{constructor(e){this.hasEventListener=!1;this.isHacked=!1;this.properties=e}static async setupPreloadProtection(e){if(this.isCurrentBrowserSupported(e))e.detectInspect&&await this.startInspectorProtection(e);else throw new Error("Browser not supported")}static async create(e){let t=new this(e);return await t.start(),t}static async startInspectorProtection(e){(0,wh.addListener)(r=>{var i;r&&(e.clearOnInspect&&(console.clear(),window.localStorage.clear(),window.sessionStorage.clear(),window.location.replace(window.location.origin)),e.detectInspect&&typeof((i=e.api)==null?void 0:i.inspectDetected)=="function"&&e.api.inspectDetected())}),(0,wh.launch)(),await r8(e.detectInspectInitDelay??100)}static isCurrentBrowserSupported(e){if(!e.enforceSupportedBrowsers)return!0;let t=[];return(e.supportedBrowsers??[]).forEach(i=>{t.push("last 1 "+i+" version")}),AE({browsers:t,allowHigherVersions:!0}).test(navigator.userAgent)}async start(){var t;if((t=this.properties)!=null&&t.enableObfuscation){this.wrapper=yt(document,"#iframe-wrapper"),this.securityContainer=Re(document,"#container-view-security");var e=this;this.mutationObserver=new MutationObserver(function(r){r.forEach(function(i){Nr.default.log(i.type),e.isHacked=!0})})}}async stop(){var e,t,r,i,o,s,l,f;if(Nr.default.log("Protection module stop"),(e=this.properties)!=null&&e.enableObfuscation&&this.mutationObserver.disconnect(),(t=this.properties)!=null&&t.disableKeys){Ue(this.navigator.mainElement,"keydown",this.disableSave),Ue(this.navigator.headerMenu,"keydown",this.disableSave);for(let u of this.navigator.iframes)Ue(u.contentDocument,"keydown",this.disableSave),Ue(u.contentWindow,"keydown",this.disableSave);Ue(window,"keydown",this.disableSave),Ue(document,"keydown",this.disableSave)}if((r=this.properties)!=null&&r.disableCopy){Ue(this.navigator.mainElement,"copy",this.preventCopy),Ue(this.navigator.headerMenu,"copy",this.preventCopy);for(let u of this.navigator.iframes)Ue(u.contentDocument,"copy",this.preventCopy),Ue(u.contentWindow,"copy",this.preventCopy);Ue(window,"copy",this.preventCopy),Ue(document,"copy",this.preventCopy),Ue(this.navigator.mainElement,"cut",this.preventCopy),Ue(this.navigator.headerMenu,"cut",this.preventCopy);for(let u of this.navigator.iframes)Ue(u.contentDocument,"cut",this.preventCopy),Ue(u.contentWindow,"cut",this.preventCopy);Ue(window,"cut",this.preventCopy),Ue(document,"cut",this.preventCopy),Ue(this.navigator.mainElement,"keydown",this.preventCopyKey),Ue(this.navigator.headerMenu,"keydown",this.preventCopyKey);for(let u of this.navigator.iframes)Ue(u.contentDocument,"keydown",this.preventCopyKey),Ue(u.contentWindow,"keydown",this.preventCopyKey);Ue(window,"keydown",this.preventCopyKey),Ue(document,"keydown",this.preventCopyKey)}else if((i=this.properties)!=null&&i.canCopy){Ue(this.navigator.mainElement,"copy",this.restrictCopy),Ue(this.navigator.headerMenu,"copy",this.restrictCopy);for(let u of this.navigator.iframes)Ue(u.contentDocument,"copy",this.restrictCopy),Ue(u.contentWindow,"copy",this.restrictCopy);Ue(window,"copy",this.restrictCopy),Ue(document,"copy",this.restrictCopy),Ue(this.navigator.mainElement,"cut",this.restrictCopy),Ue(this.navigator.headerMenu,"cut",this.restrictCopy);for(let u of this.navigator.iframes)Ue(u.contentDocument,"cut",this.restrictCopy),Ue(u.contentWindow,"cut",this.restrictCopy);Ue(window,"cut",this.restrictCopy),Ue(document,"cut",this.restrictCopy),Ue(this.navigator.mainElement,"keydown",this.restrictCopyKey),Ue(this.navigator.headerMenu,"keydown",this.restrictCopyKey);for(let u of this.navigator.iframes)Ue(u.contentDocument,"keydown",this.restrictCopyKey),Ue(u.contentWindow,"keydown",this.restrictCopyKey);Ue(window,"keydown",this.restrictCopyKey),Ue(document,"keydown",this.restrictCopyKey)}if((o=this.properties)!=null&&o.disablePrint){Ue(this.navigator.mainElement,"beforeprint",this.beforePrint.bind(this)),Ue(this.navigator.headerMenu,"beforeprint",this.beforePrint.bind(this));for(let u of this.navigator.iframes)Ue(u.contentDocument,"beforeprint",this.beforePrint),Ue(u.contentWindow,"beforeprint",this.beforePrint);Ue(window,"beforeprint",this.beforePrint),Ue(document,"beforeprint",this.beforePrint),Ue(this.navigator.mainElement,"afterprint",this.afterPrint.bind(this)),Ue(this.navigator.headerMenu,"afterprint",this.afterPrint.bind(this));for(let u of this.navigator.iframes)Ue(u.contentDocument,"afterprint",this.afterPrint.bind(this)),Ue(u.contentWindow,"afterprint",this.afterPrint.bind(this));Ue(window,"afterprint",this.afterPrint.bind(this)),Ue(document,"afterprint",this.afterPrint.bind(this))}if((s=this.properties)!=null&&s.disableContextMenu){Ue(this.navigator.mainElement,"contextmenu",this.disableContext),Ue(this.navigator.headerMenu,"contextmenu",this.disableContext);for(let u of this.navigator.iframes)Ue(u.contentDocument,"contextmenu",this.disableContext),Ue(u.contentWindow,"contextmenu",this.disableContext);Ue(window,"contextmenu",this.disableContext),Ue(document,"contextmenu",this.disableContext)}(l=this.properties)!=null&&l.hideTargetUrl&&this.hideTargetUrls(!1),(f=this.properties)!=null&&f.disableDrag&&this.preventDrag(!1),Ue(this.wrapper,"scroll",this.handleScroll.bind(this))}observe(){var t;if((t=this.properties)!=null&&t.enableObfuscation){this.securityContainer.hasAttribute("style")&&(this.isHacked=!0),this.mutationObserver.disconnect();var e={attributes:!0,childList:!0,characterData:!0};this.mutationObserver.observe(this.securityContainer,e)}}async deactivate(){var e;(e=this.properties)!=null&&e.enableObfuscation&&(this.observe(),this.rects.forEach(t=>this.deactivateRect(t,this.securityContainer,this.isHacked)))}async activate(){var e;if((e=this.properties)!=null&&e.enableObfuscation){this.observe();for(let t of this.navigator.iframes)if(t.contentDocument){let r=co(t.contentDocument,"body");this.rects=this.findRects(r),this.rects.forEach(i=>this.toggleRect(i,this.securityContainer,this.isHacked))}}}setupEvents(){var e,t,r,i,o,s,l,f,u,m,y,_,v,p,h;if((e=this.properties)!=null&&e.disableKeys){we(this.navigator.mainElement,"keydown",this.disableSave),we(this.navigator.headerMenu,"keydown",this.disableSave);for(let c of this.navigator.iframes)we(c,"keydown",this.disableSave),we(c.ownerDocument,"keydown",this.disableSave),we(c.contentDocument,"keydown",this.disableSave),we(c.contentWindow,"keydown",this.disableSave),we((t=c.contentWindow)==null?void 0:t.document,"keydown",this.disableSave);we(window,"keydown",this.disableSave),we(document,"keydown",this.disableSave)}if((r=this.properties)!=null&&r.disableCopy){we(this.navigator.mainElement,"copy",this.preventCopy),we(this.navigator.headerMenu,"copy",this.preventCopy);for(let c of this.navigator.iframes)we(c,"copy",this.preventCopy),we(c.ownerDocument,"copy",this.preventCopy),we(c.contentDocument,"copy",this.preventCopy),we(c.contentWindow,"copy",this.preventCopy),we((i=c.contentWindow)==null?void 0:i.document,"copy",this.preventCopy);we(window,"copy",this.preventCopy),we(document,"copy",this.preventCopy),we(this.navigator.mainElement,"cut",this.preventCopy),we(this.navigator.headerMenu,"cut",this.preventCopy);for(let c of this.navigator.iframes)we(c,"cut",this.preventCopy),we(c.ownerDocument,"cut",this.preventCopy),we(c.contentDocument,"cut",this.preventCopy),we(c.contentWindow,"cut",this.preventCopy),we((o=c.contentWindow)==null?void 0:o.document,"cut",this.preventCopy);we(window,"cut",this.preventCopy),we(document,"cut",this.preventCopy),we(this.navigator.mainElement,"keydown",this.preventCopyKey),we(this.navigator.headerMenu,"keydown",this.preventCopyKey);for(let c of this.navigator.iframes)we(c,"keydown",this.preventCopyKey),we(c.ownerDocument,"keydown",this.preventCopyKey),we(c.contentDocument,"keydown",this.preventCopyKey),we(c.contentWindow,"keydown",this.preventCopyKey),we((s=c.contentWindow)==null?void 0:s.document,"keydown",this.preventCopyKey);we(window,"keydown",this.preventCopyKey),we(document,"keydown",this.preventCopyKey)}else if((l=this.properties)!=null&&l.canCopy){we(this.navigator.mainElement,"copy",this.restrictCopy.bind(this)),we(this.navigator.headerMenu,"copy",this.restrictCopy.bind(this));for(let c of this.navigator.iframes)we(c,"copy",this.restrictCopy),we(c.ownerDocument,"copy",this.restrictCopy.bind(this)),we(c.contentDocument,"copy",this.restrictCopy.bind(this)),we(c.contentWindow,"copy",this.restrictCopy.bind(this)),we((f=c.contentWindow)==null?void 0:f.document,"copy",this.restrictCopy.bind(this));we(window,"copy",this.restrictCopy.bind(this)),we(document,"copy",this.restrictCopy.bind(this)),we(this.navigator.mainElement,"cut",this.restrictCopy.bind(this)),we(this.navigator.headerMenu,"cut",this.restrictCopy.bind(this));for(let c of this.navigator.iframes)we(c,"cut",this.restrictCopy.bind(this)),we(c.ownerDocument,"cut",this.restrictCopy.bind(this)),we(c.contentDocument,"cut",this.restrictCopy.bind(this)),we(c.contentWindow,"cut",this.restrictCopy.bind(this)),we((u=c.contentWindow)==null?void 0:u.document,"cut",this.restrictCopy.bind(this));we(window,"cut",this.restrictCopy.bind(this)),we(document,"cut",this.restrictCopy.bind(this)),we(this.navigator.mainElement,"keydown",this.restrictCopyKey.bind(this)),we(this.navigator.headerMenu,"keydown",this.restrictCopyKey.bind(this));for(let c of this.navigator.iframes)we(c,"keydown",this.restrictCopyKey.bind(this)),we(c.ownerDocument,"keydown",this.restrictCopyKey.bind(this)),we(c.contentDocument,"keydown",this.restrictCopyKey.bind(this)),we(c.contentWindow,"keydown",this.restrictCopyKey.bind(this)),we((m=c.contentWindow)==null?void 0:m.document,"keydown",this.restrictCopyKey.bind(this));we(window,"keydown",this.restrictCopyKey.bind(this)),we(document,"keydown",this.restrictCopyKey.bind(this))}if((y=this.properties)!=null&&y.disablePrint){we(this.navigator.mainElement,"beforeprint",this.beforePrint),we(this.navigator.headerMenu,"beforeprint",this.beforePrint);for(let c of this.navigator.iframes)we(c,"beforeprint",this.beforePrint.bind(this)),we(c.ownerDocument,"beforeprint",this.beforePrint.bind(this)),we(c.contentDocument,"beforeprint",this.beforePrint.bind(this)),we(c.contentWindow,"beforeprint",this.beforePrint.bind(this)),we((_=c.contentWindow)==null?void 0:_.document,"beforeprint",this.beforePrint.bind(this));we(window,"beforeprint",this.beforePrint.bind(this)),we(document,"beforeprint",this.beforePrint.bind(this)),we(this.navigator.mainElement,"afterprint",this.afterPrint),we(this.navigator.headerMenu,"afterprint",this.afterPrint);for(let c of this.navigator.iframes)we(c,"afterprint",this.afterPrint.bind(this)),we(c.ownerDocument,"afterprint",this.afterPrint.bind(this)),we(c.contentDocument,"afterprint",this.afterPrint.bind(this)),we(c.contentWindow,"afterprint",this.afterPrint.bind(this)),we((v=c.contentWindow)==null?void 0:v.document,"afterprint",this.afterPrint.bind(this));we(window,"afterprint",this.afterPrint.bind(this)),we(document,"afterprint",this.afterPrint.bind(this))}if((p=this.properties)!=null&&p.disableContextMenu){we(this.navigator.mainElement,"contextmenu",this.disableContext),we(this.navigator.headerMenu,"contextmenu",this.disableContext);for(let c of this.navigator.iframes)we(c,"contextmenu",this.disableContext),we(c.ownerDocument,"contextmenu",this.disableContext),we(c.contentDocument,"contextmenu",this.disableContext),we(c.contentWindow,"contextmenu",this.disableContext),we((h=c.contentWindow)==null?void 0:h.document,"contextmenu",this.disableContext);we(window,"contextmenu",this.disableContext),we(document,"contextmenu",this.disableContext)}}initializeResource(){var e,t;(e=this.properties)!=null&&e.hideTargetUrl&&this.hideTargetUrls(!0),(t=this.properties)!=null&&t.disableDrag&&this.preventDrag(!0)}async initialize(e){var t;if((t=this.properties)!=null&&t.enableObfuscation)return new Promise(async r=>{if(await document.fonts.ready,e.contentDocument){let i=co(e.contentDocument,"body");this.observe(),setTimeout(()=>{this.rects=this.findRects(i),this.rects.forEach(o=>this.toggleRect(o,this.securityContainer,this.isHacked)),this.setupEvents(),this.hasEventListener||(this.hasEventListener=!0,we(this.wrapper,"scroll",this.handleScroll.bind(this))),r()},10)}})}handleScroll(){this.rects.forEach(e=>this.toggleRect(e,this.securityContainer,this.isHacked))}handleResize(){var e;if((e=this.properties)!=null&&e.enableObfuscation){let t=(0,um.debounce)(()=>{this.calcRects(this.rects),this.rects!==void 0&&this.rects.forEach(r=>this.toggleRect(r,this.securityContainer,this.isHacked))},10);this.rects&&(this.observe(),t())}}disableContext(e){return e.preventDefault(),e.stopPropagation(),!1}disableSave(e){return(navigator.platform==="MacIntel"||navigator.platform.match("Mac")?e.metaKey:e.ctrlKey&&(e.key==="s"||e.keyCode===83))?(e.preventDefault(),e.stopPropagation(),!1):!0}preventCopy(e){return Nr.default.log("copy action initiated"),e.clipboardData.setData("text/plain","copy not allowed"),e.stopPropagation(),e.preventDefault(),!1}preventCopyKey(e){return(navigator.platform==="MacIntel"||navigator.platform.match("Mac")?e.metaKey:e.ctrlKey&&(e.key==="c"||e.keyCode===67))?(e.preventDefault(),e.stopPropagation(),!1):!0}restrictCopy(e){var r,i,o,s;if(this.citation)return;Nr.default.log("copy action initiated");let t=this.navigator.iframes[0].contentWindow;if(t){let f=function(m){let y={className:v=>Bn.indexOf(v)<0,idName:v=>Bn.indexOf(v)<0},_=l.navigator.iframes[0].contentDocument;if(_)return Ar(m,_,y)},l=this,u=Ui(t,f);if(u===void 0){let m=this.navigator.iframes[0].contentDocument;u=(i=(r=this.navigator.annotationModule)==null?void 0:r.annotator)==null?void 0:i.getTemporarySelectionInfo(m)}e.clipboardData.setData("text/plain",(s=u==null?void 0:u.cleanText)==null?void 0:s.substring(0,((o=this.properties)==null?void 0:o.charactersToCopy)??0))}else e.clipboardData.setData("text/plain","");return e.stopPropagation(),e.preventDefault(),!1}restrictCopyKey(e){var t,r,i,o;if(navigator.platform==="MacIntel"||navigator.platform.match("Mac")?e.metaKey:e.ctrlKey&&(e.key==="c"||e.keyCode===67)){let s=this.navigator.iframes[0].contentWindow;if(s){let f=function(m){let y={className:v=>Bn.indexOf(v)<0,idName:v=>Bn.indexOf(v)<0},_=l.navigator.iframes[0].contentDocument;if(_)return Ar(m,_,y)},l=this,u=Ui(s,f);if(u===void 0){let m=this.navigator.iframes[0].contentDocument;u=(r=(t=this.navigator.annotationModule)==null?void 0:t.annotator)==null?void 0:r.getTemporarySelectionInfo(m)}this.copyToClipboard((o=u==null?void 0:u.cleanText)==null?void 0:o.substring(0,((i=this.properties)==null?void 0:i.charactersToCopy)??0))}else this.copyToClipboard("");return e.stopPropagation(),e.preventDefault(),!1}return!0}copyToClipboard(e){var t;if(e=e.substring(0,((t=this.properties)==null?void 0:t.charactersToCopy)??0),window.clipboardData)window.clipboardData.setData("text/plain",e);else{let r=this.createElementForExecCommand(e);this.selectContent(r);try{window.netscape&&netscape.security&&netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect"),document.execCommand("copy",!1)}catch{}document.body.removeChild(r)}}createElementForExecCommand(e){let t=document.createElement("div");return t.style.position="absolute",t.style.left="-10000px",t.style.top="-10000px",t.innerHTML=e,document.body.appendChild(t),t.contentEditable=!0,t}selectContent(e){let t=document.createRange();t.selectNodeContents(e);let r=window.getSelection();r==null||r.removeAllRanges(),r==null||r.addRange(t)}beforePrint(e){return Nr.default.log("before print"),this.navigator&&this.navigator.headerMenu&&(this.navigator.headerMenu.style.display="none",this.navigator.mainElement.style.display="none"),e.stopPropagation(),e.preventDefault(),!1}afterPrint(e){return Nr.default.log("after print"),this.navigator&&this.navigator.headerMenu&&(this.navigator.headerMenu.style.removeProperty("display"),this.navigator.mainElement.style.removeProperty("display")),e.stopPropagation(),e.preventDefault(),!1}hideTargetUrls(e){var r;function t(i){i.preventDefault();let o=i.currentTarget.getAttribute("data-href-resolved"),s=document.createElement("a");s.setAttribute("href",o),s.click()}for(let i of this.navigator.iframes){let o=(r=i.contentDocument)==null?void 0:r.querySelectorAll("a");o==null||o.forEach(s=>{let l=s.getAttribute("data-href"),f=s.getAttribute("href");!l&&f&&(s.setAttribute("data-href",f),s.setAttribute("data-href-resolved",s.href))}),e?o==null||o.forEach(s=>{s.setAttribute("href",""),s.addEventListener("click",t)}):o==null||o.forEach(s=>{let l=s.getAttribute("data-href");l&&s.setAttribute("href",l),s.removeEventListener("click",t)})}}preventDrag(e){var i,o,s,l,f;let t="-webkit-user-drag: none; -khtml-user-drag: none; -moz-user-drag: none; -ms-user-drag: none; user-drag: none; -webkit-pointer-events: none; -khtml-pointer-events: none; -moz-pointer-events: none; -ms-pointer-events: none; pointer-events: none;",r=u=>{u.preventDefault()};for(let u of this.navigator.iframes){let m=((i=u.contentDocument)==null?void 0:i.body.getAttribute("style"))||"";e?((o=u.contentDocument)==null||o.body.addEventListener("dragstart",r),(s=u.contentDocument)==null||s.body.setAttribute("style",m+t)):((l=u.contentDocument)==null||l.body.removeEventListener("dragstart",r),(f=u.contentDocument)==null||f.body.setAttribute("style",m.replace(t,"")))}}recalculate(e=0){return new Promise(t=>{var r;if((r=this.properties)!=null&&r.enableObfuscation){let i=(0,um.debounce)(()=>{this.calcRects(this.rects),this.rects!==void 0&&this.rects.forEach(o=>this.toggleRect(o,this.securityContainer,this.isHacked)),t(!0)},e);this.rects?(this.observe(),i()):t(!1)}else t(!1)})}calcRects(e){e!==void 0&&e.forEach(t=>{try{let{top:r,height:i,left:o,width:s}=this.measureTextNode(t.node);t.top=r,t.height=i,t.width=s,t.left=o}catch(r){Nr.default.log("error "+r),Nr.default.log(t),Nr.default.log(t.node),Nr.default.log("scrambledTextContent "+t.scrambledTextContent),Nr.default.log("textContent "+t.textContent),Nr.default.log("isObfuscated "+t.isObfuscated)}})}deactivateRect(e,t,r){this.isBeingHacked(t)||r?(e.node.textContent=e.scrambledTextContent,e.isObfuscated=!0):(e.node.textContent=e.textContent,e.isObfuscated=!1)}toggleRect(e,t,r){let i=this.isOutsideViewport(e),o=this.isBeingHacked(t);e.isObfuscated&&!i&&!o&&!r&&(e.node.textContent=e.textContent,e.isObfuscated=!1),!e.isObfuscated&&(i||o||r)&&(e.node.textContent=e.scrambledTextContent,e.isObfuscated=!0)}findRects(e){return this.findTextNodes(e).map(r=>{var m,y,_,v;let{top:i,height:o,left:s,width:l}=this.measureTextNode(r),f=r.parentElement&&((m=this.properties)!=null&&m.excludeNodes&&((y=this.properties)==null?void 0:y.excludeNodes.indexOf(r.parentElement.nodeName.toLowerCase()))>-1||((_=r.parentElement)==null?void 0:_.nodeName.toLowerCase())==="option"||((v=r.parentElement)==null?void 0:v.nodeName.toLowerCase())==="script")?r.textContent:this.obfuscateText(r.textContent??"");return{top:i,height:o,width:l,left:s,node:r,textContent:r.textContent??"",scrambledTextContent:f??"",isObfuscated:!1}})}obfuscateText(e){return this.scramble(e,!0)}measureTextNode(e){try{let t=document.createRange();t.selectNode(e);let r=t.getBoundingClientRect();return t.detach(),r}catch(t){Nr.default.log("measureTextNode "+t),Nr.default.log("measureTextNode "+e),Nr.default.log(e.textContent)}}isBeingHacked(e){return e.style.animation||e.style.transition||e.style.position||e.hasAttribute("style")?(Nr.default.log("content being hacked"),!0):!1}isOutsideViewport(e){let t=this.wrapper.scrollLeft,r=t+this.wrapper.clientWidth,i=e.left+e.width,o=e.top+e.height,s=this.wrapper.scrollTop,l=s+this.wrapper.clientHeight,f=o<s,u=e.top>l,m=i<t-window.innerWidth,y=e.left>r+window.innerWidth;return f||u||m||y}findTextNodes(e,t=[]){var i;let r=e.firstChild;for(;r;)r.nodeType===1&&this.findTextNodes(r,t),r.nodeType===3&&(i=r.textContent)!=null&&i.trim()&&t.push(r),r=r.nextSibling;return t}scramble(e,t=!1,r=!1){var i=e.split(" ");function o(s){for(var l=s.length,f,u;l>0;)u=Math.floor(Math.random()*l),l--,f=s[l],s[l]=s[u],s[u]=f;return s}return t&&(i=i.map(function(s){return s.includes("-")?s:o(s.split("")).join("")})),r?o(i).join(" "):i.join(" ")}};L();var OE=rt(CE());L();var Sh=n=>n.replace(/\n/g," ").replace(/\s\s+/g," "),nj=n=>Sh(n).trim(),TE=/[\\^$.*+?()[\]{}|]/g,ij=RegExp(TE.source);function xE(n){return n&&ij.test(n)?n.replace(TE,"\\$&"):n||""}var Ah=0,oj=()=>()=>Number.isSafeInteger(++Ah)?Ah:Ah=1,PE=()=>{Ah=0},sj=oj(),aj=n=>e=>{try{return Ar(e,n,Xo)}catch(t){return console.error("uniqueCssSelector:",t),""}};async function ns(n,e,t,r,i=!1){var v,p,h;if(!e)return[];let o=(v=e.body)==null?void 0:v.textContent;if(!o)return[];if(n=nj(n),!n.length)return[];let s=e.createNodeIterator(e.body,NodeFilter.SHOW_TEXT,{acceptNode:c=>NodeFilter.FILTER_ACCEPT}),l=new RegExp(xE(n).replace(/ /g,"\\s+"),"gim");i&&(l=new RegExp("\\b"+xE(n).replace(/ /g,"\\s+")+"\\b","gim"));let f=[],u=100,m=30,y=0,_;for(;_=l.exec(o);){let c=Math.max(0,_.index-u),g=Math.min(u,_.index),w=Sh(o.substr(c,g));w=w.substr(w.length-m),c=l.lastIndex,g=Math.min(u,o.length-c);let S=Sh(o.substr(c,g)).substr(0,m),E=new Range,b=_.index;for(;y<=b;){let P=s.nextNode();P&&P.nodeValue&&(y+=P.nodeValue.length)}let C=s.referenceNode.nodeValue?((p=s.referenceNode.nodeValue)==null?void 0:p.length)-(y-b):0;for(E.setStart(s.referenceNode,C),b=_.index+_[0].length;y<=b;){let P=s.nextNode(),B=P==null?void 0:P.nodeValue;B&&(y+=B.length)}C=s.referenceNode.nodeValue?((h=s.referenceNode.nodeValue)==null?void 0:h.length)-(y-b):0,E.setEnd(s.referenceNode,C),e.getCssSelector||(e.getCssSelector=aj(e));let M=mo(E,e.getCssSelector);M&&f.push({textMatch:Sh(_[0]),textBefore:w,textAfter:S,rangeInfo:M,href:t,title:r,uuid:sj().toString()})}return f}var ME=rt($t()),su=class{constructor(e,t,r,i,o){this.currentChapterSearchResult=[];this.bookSearchResult=[];this.currentSearchHighlights=[];this.headerMenu=o,this.publication=e,this.properties=t,this.api=i,this.highlighter=r}static async create(e){let t=new this(e.publication,e,e.highlighter,e.api,e.headerMenu);return await t.start(),t}async stop(){ME.default.log("Search module stop"),Ue(this.searchInput,"keypress",this.handleSearch.bind(this)),Ue(this.searchGo,"click",this.handleSearch.bind(this))}async start(){var t;if(this.headerMenu){this.searchInput=Re(this.headerMenu,"#searchInput"),we(this.searchInput,"keypress",this.handleSearch.bind(this)),this.searchGo=Re(this.headerMenu,"#searchGo"),we(this.searchGo,"click",this.handleSearch.bind(this));var e=Re(this.headerMenu,"#menu-button-search");e&&((t=e.parentElement)==null||t.style.removeProperty("display"))}setTimeout(()=>{this.properties.hideLayer?this.navigator.hideLayer("search"):this.navigator.showLayer("search")},10)}async handleSearch(e){(e.key==="Enter"||e.type==="click")&&(await this.handleSearchChapter(),await this.handleSearchBook())}async handleSearchChapter(e){var t=this,r=this.searchInput.value;let i=this.navigator.currentChapterLink.href,o=this.publication.getSpineItem(i);if(this.headerMenu)var s=Re(document,"#searchResultChapter");t.currentChapterSearchResult=[],t.currentSearchHighlights=[];var l=[];await this.searchAndPaintChapter(r,e,async u=>{var m;l=u,f(1),this.navigator.rights.enableContentProtection&&((m=this.navigator.contentProtectionModule)==null||m.recalculate(200))});async function f(u){s.innerHTML="";var m;if(m=t.paginate(l,u,10),m.total===0){let y=document.createElement("a");y.className="collection-item",y.innerHTML="nothing found",s.appendChild(y)}else{for(let h=0;h<m.data.length;h++){let c=document.createElement("a"),g=m.data[h];c.className="collection-item",c.href=(o==null?void 0:o.Href)??"",c.innerHTML="..."+g.textBefore+"<mark>"+g.textMatch+"</mark>"+g.textAfter+"...",we(c,"click",w=>{w.preventDefault(),w.stopPropagation(),t.jumpToMark(h+u*10-10)}),s.appendChild(c)}let y=document.createElement("div");y.style.textAlign="center",y.style.marginTop="10px";let _=document.createElement("ul");_.className="pagination";let v=document.createElement("li");if(v.className="disabled",v.innerHTML='<a href="#!"> < </a>',m.pre_page!==void 0){let h=m.pre_page;v.className="waves-effect",we(v,"click",c=>{c.preventDefault(),c.stopPropagation(),f(h)})}_.appendChild(v);for(let h=1;h<=m.total_pages;h++){let c,g=document.createElement("li");g.className="waves-effect",h===m.page&&(g.className="active",c=g),g.innerHTML='<a href="#!">'+h+"</a>",we(g,"click",w=>{w.preventDefault(),w.stopPropagation(),c&&(c.className="waves-effect"),g.className="active",c=g,f(h)}),_.appendChild(g)}let p=document.createElement("li");if(p.className="disabled",p.innerHTML='<a href="#!"> > </a>',m.next_page!==void 0){let h=m.next_page;p.className="waves-effect",we(p,"click",c=>{c.preventDefault(),c.stopPropagation(),f(h)})}_.appendChild(p),y.appendChild(_),s.appendChild(y)}}}async searchAndPaintChapter(e,t=0,r){var f,u;this.navigator.rights.enableContentProtection&&((f=this.navigator.contentProtectionModule)==null||f.deactivate());let i=this.publication.getAbsoluteHref(this.publication.readingOrder[this.navigator.currentResource()??0].Href),o=this.publication.getTOCItem(i);o===null&&(o=this.publication.readingOrder[this.navigator.currentResource()??0]);let s=[];(u=this.highlighter)==null||u.destroyHighlights(1),this.navigator.rights.enableSearch&&this.drawSearch();let l=0;if(o){let m=this.navigator.iframes[0].contentDocument;m&&o&&ns(e,m,o.Href,o.Title).then(y=>{y.forEach(_=>{let v={rangeInfo:_.rangeInfo};setTimeout(()=>{var h,c;let p;l===t?(p=this.createSearchHighlight(v,(h=this.properties)==null?void 0:h.current),this.jumpToMark(t)):p=this.createSearchHighlight(v,(c=this.properties)==null?void 0:c.color),_.highlight=p,s.push(_),this.currentChapterSearchResult.push(_),this.currentSearchHighlights.push(p),l++},500)}),setTimeout(()=>{r(s)},500)})}}createSearchHighlight(e,t){var o;try{var r=t;Jt.isHexColor(r)&&(r=Jt.hexToRgbChannels(r));let s=`${e.rangeInfo.startContainerElementCssSelector}${e.rangeInfo.startContainerChildTextNodeIndex}${e.rangeInfo.startOffset}${e.rangeInfo.endContainerElementCssSelector}${e.rangeInfo.endContainerChildTextNodeIndex}${e.rangeInfo.endOffset}`,f="R2_SEARCH_"+OE.SHA256.hash(s);var i=!1;let u={color:r||Ns,id:f,pointerInteraction:i,selectionInfo:e,marker:0,type:1},m=(o=this.highlighter)==null?void 0:o.createHighlightDom(this.navigator.iframes[0].contentWindow,u);return u.position=parseInt((m!=null&&m.hasChildNodes()?m.childNodes[0]:m).style.top.replace("px","")),u}catch(s){throw"Can't create highlight: "+s}}clearSearch(){var e;this.currentChapterSearchResult=[],this.currentSearchHighlights=[],(e=this.highlighter)==null||e.destroyHighlights(1)}async search(e,t){return this.currentChapterSearchResult=[],this.currentSearchHighlights=[],this.bookSearchResult=[],PE(),await this.searchAndPaintChapter(e,0,async()=>{var r;this.navigator.rights.enableContentProtection&&((r=this.navigator.contentProtectionModule)==null||r.recalculate(200))}),t?(await this.searchBook(e),await this.searchChapter(e)):(await this.searchChapter(e),await this.searchBook(e))}async goToSearchID(e,t,r){var i=t,o;let s=this.navigator.currentChapterLink.href;var l=this.publication.getAbsoluteHref(e);let f=this.bookSearchResult.filter(u=>u.href===e);if(r?(o=this.currentChapterSearchResult.filter(u=>u.uuid===t)[0],i=this.currentChapterSearchResult.findIndex(u=>u.uuid===t)):(o=f.filter(u=>u.uuid===t)[0],i=f.findIndex(u=>u.uuid===t)),o!==void 0)if(s===l)this.jumpToMark(i);else{let m={href:l,locations:{progression:0},title:"title"};this.navigator.navigate(m),setTimeout(()=>{this.searchAndPaintChapter(o.textMatch,i,async()=>{var y;this.navigator.rights.enableContentProtection&&((y=this.navigator.contentProtectionModule)==null||y.recalculate(200))})},300)}}async goToSearchIndex(e,t,r){var i=t,o;let s=this.navigator.currentChapterLink.href;var l=this.publication.getAbsoluteHref(e);let f=this.bookSearchResult.filter(u=>u.href===e);if(r?o=this.currentChapterSearchResult[i]:o=f[i],o!==void 0)if(s===l)this.jumpToMark(i);else{let m={href:l,locations:{progression:0},title:"title"};this.navigator.navigate(m),setTimeout(()=>{this.searchAndPaintChapter(o.textMatch,i,async()=>{var y;this.navigator.rights.enableContentProtection&&((y=this.navigator.contentProtectionModule)==null||y.recalculate(200))})},300)}}async handleSearchBook(){var e=this,t=this.searchInput.value;if(e.headerMenu)var r=Re(document,"#searchResultBook");i(1);async function i(s){r.innerHTML="";var l,f=await e.searchBook(t);if(l=e.paginate(f,s,10),l.total===0){let u=document.createElement("a");u.className="collection-item",u.innerHTML="nothing found",r.appendChild(u)}else{o(l.data,p=>p.href).forEach(p=>{let h=document.createElement("div");if(h.style.marginBottom="10px",p[0].title){let c=document.createElement("span");c.className="collection-item",c.style.display="block",c.innerHTML=p[0].title,h.appendChild(c)}r.appendChild(h),p.forEach(c=>{let g=document.createElement("a");g.className="collection-item";var w=e.publication.getAbsoluteHref(c.href);g.innerHTML="..."+c.textBefore+"<mark>"+c.textMatch+"</mark>"+c.textAfter+"...",we(g,"click",S=>{S.preventDefault(),S.stopPropagation();let b=f.filter(M=>M.href===c.href).findIndex(M=>M===c);if(e.navigator.currentChapterLink.href===w)e.jumpToMark(b);else{let P={href:w,locations:{progression:0},title:"title"};e.navigator.navigate(P),setTimeout(()=>{e.handleSearchChapter(b)},300)}}),h.appendChild(g)})});let m=document.createElement("div");m.style.textAlign="center",m.style.marginTop="10px";let y=document.createElement("ul");y.className="pagination";let _=document.createElement("li");if(_.className="disabled",_.innerHTML='<a href="#!"> < </a>',l.pre_page!=null){let p=l.pre_page;_.className="waves-effect",we(_,"click",h=>{h.preventDefault(),h.stopPropagation(),i(p)})}y.appendChild(_);for(let p=1;p<=l.total_pages;p++){let h,c=document.createElement("li");c.className="waves-effect",p===l.page&&(c.className="active",h=c),c.innerHTML='<a href="#!">'+p+"</a>",we(c,"click",g=>{g.preventDefault(),g.stopPropagation(),h&&(h.className="waves-effect"),c.className="active",h=c,i(p)}),y.appendChild(c)}let v=document.createElement("li");if(v.className="disabled",v.innerHTML='<a href="#!"> > </a>',l.next_page!=null){let p=l.next_page;v.className="waves-effect",we(v,"click",h=>{h.preventDefault(),h.stopPropagation(),i(p)})}y.appendChild(v),m.appendChild(y),r.appendChild(m)}}function o(s,l){let f=new Map;return s.forEach(u=>{let m=l(u),y=f.get(m);y?y.push(u):f.set(m,[u])}),Array.from(f.values())}}async searchBook(e){var r,i;this.bookSearchResult=[];let t=[];for(let o=0;o<this.publication.readingOrder.length;o++){let s=this.publication.getAbsoluteHref(this.publication.readingOrder?this.publication.readingOrder[o].Href:""),l=this.publication.getTOCItem(s);if(l===void 0&&this.publication.readingOrder&&(l=this.publication.readingOrder[o]),l){let f=this.publication.getAbsoluteHref(l.Href);(r=this.navigator.api)!=null&&r.getContent?await((i=this.navigator.api)==null?void 0:i.getContent(f).then(u=>{let y=new DOMParser().parseFromString(u,"application/xhtml+xml");l&&ns(e,y,l.Href,l.Title).then(_=>{_.forEach(v=>{t.push(v),this.bookSearchResult.push(v)})})})):await fetch(f,this.navigator.requestConfig).then(u=>u.text()).then(async u=>{var _;let y=new DOMParser().parseFromString((_=this.navigator.requestConfig)!=null&&_.encoded?this.decodeBase64(u):u,"application/xhtml+xml");l&&ns(e,y,l.Href,l.Title).then(v=>{v.forEach(p=>{t.push(p),this.bookSearchResult.push(p)})})})}if(o===this.publication.readingOrder.length-1)return t}}decodeBase64(e){let t=atob(e),r=t.length,i=new Uint8Array(r);for(let s=0;s<r;s++)i[s]=t.charCodeAt(s);return new TextDecoder().decode(i)}async searchChapter(e){var o,s;let t=[],r=this.publication.getAbsoluteHref(this.publication.readingOrder[this.navigator.currentResource()??0].Href),i=this.publication.getTOCItem(r);if(i===null&&(i=this.publication.readingOrder[this.navigator.currentResource()??0]),i){let l=this.publication.getAbsoluteHref(i.Href);(o=this.navigator.api)!=null&&o.getContent?await((s=this.navigator.api)==null?void 0:s.getContent(l).then(f=>{let m=new DOMParser().parseFromString(f,"application/xhtml+xml");i&&ns(e,m,i.Href,i.Title).then(y=>{y.forEach(_=>{t.push(_)})})})):await fetch(l,this.navigator.requestConfig).then(f=>f.text()).then(async f=>{var y;let m=new DOMParser().parseFromString((y=this.navigator.requestConfig)!=null&&y.encoded?this.decodeBase64(f):f,"application/xhtml+xml");i&&ns(e,m,i.Href,i.Title).then(_=>{_.forEach(v=>{t.push(v)})})})}return t}drawSearch(){setTimeout(()=>{this.currentSearchHighlights=[],this.currentChapterSearchResult.forEach(e=>{var r,i;let t={rangeInfo:e.rangeInfo};if((r=this.properties)!=null&&r.color){let o=this.createSearchHighlight(t,(i=this.properties)==null?void 0:i.color);e.highlight=o,this.currentSearchHighlights.push(o)}})},100)}async handleResize(){var e;await((e=this.highlighter)==null?void 0:e.destroyHighlights(1)),this.drawSearch()}jumpToMark(e){setTimeout(()=>{var i,o,s;if(this.currentChapterSearchResult.length){var t=this.currentChapterSearchResult[e];this.currentSearchHighlights.forEach(l=>{var u;var f=(u=this.properties)==null?void 0:u.color;Jt.isHexColor(f)&&(f=Jt.hexToRgbChannels(f)),l.color=f});var r=(i=this.properties)==null?void 0:i.current;Jt.isHexColor(r)&&(r=Jt.hexToRgbChannels(r)),t.highlight.color=r,(o=this.highlighter)==null||o.setAndResetSearchHighlight(t.highlight,this.currentSearchHighlights),(s=this.navigator.view)==null||s.goToCssSelector(t.rangeInfo.startContainerElementCssSelector),this.navigator.updatePositionInfo()}},200)}paginate(e,t,r){let i=t||1,o=r||10,s=(i-1)*o,l=e.slice(s).slice(0,o),f=Math.ceil(e.length/o);return{page:i,per_page:o,pre_page:i-1?i-1:void 0,next_page:f>i?i+1:void 0,total:e.length,total_pages:f,data:l}}};L();var mn=rt($t()),sr=class sr{};sr.COLOR_REF="color",sr.AUTO_SCROLL_REF="autoscroll",sr.RATE_REF="rate",sr.PITCH_REF="pitch",sr.VOLUME_REF="volume",sr.VOICE_REF="voice",sr.COLOR_KEY="tts-"+sr.COLOR_REF,sr.AUTO_SCROLL_KEY="tts-"+sr.AUTO_SCROLL_REF,sr.RATE_KEY="tts-"+sr.RATE_REF,sr.PITCH_KEY="tts-"+sr.PITCH_REF,sr.VOLUME_KEY="tts-"+sr.VOLUME_REF,sr.VOICE_KEY="tts-"+sr.VOICE_REF;var st=sr,Eh=class{constructor(e,t,r){this.TTSSETTINGS="ttsSetting";this.color="orange";this.autoScroll=!0;this.rate=1;this.pitch=1;this.volume=1;this.voice={usePublication:!0};this.settingsChangeCallback=()=>{};this.restartCallback=()=>{};this.store=e,this.api=t,this.headerMenu=r,this.initialise()}static create(e){let t=new this(e.store,e.api,e.headerMenu);if(e.initialTTSSettings){let r=e.initialTTSSettings;r!=null&&r.rate&&(t.rate=r.rate,mn.default.log(t.rate)),r!=null&&r.pitch&&(t.pitch=r.pitch,mn.default.log(t.pitch)),r!=null&&r.volume&&(t.volume=r.volume,mn.default.log(t.volume)),r!=null&&r.color&&(t.color=r.color,mn.default.log(t.color)),r!=null&&r.autoScroll&&(t.autoScroll=r.autoScroll,mn.default.log(t.autoScroll)),r!=null&&r.voice&&(t.voice=r.voice,mn.default.log(t.voice))}return t.initializeSelections(),t}stop(){mn.default.log("tts settings stop")}initialise(){this.autoScroll=this.getProperty(st.AUTO_SCROLL_KEY)!=null?this.getProperty(st.AUTO_SCROLL_KEY).value:this.autoScroll,this.rate=this.getProperty(st.RATE_KEY)!=null?this.getProperty(st.RATE_KEY).value:this.rate,this.pitch=this.getProperty(st.PITCH_KEY)!=null?this.getProperty(st.PITCH_KEY).value:this.pitch,this.volume=this.getProperty(st.VOLUME_KEY)!=null?this.getProperty(st.VOLUME_KEY).value:this.volume,this.color=this.getProperty(st.COLOR_KEY)!=null?this.getProperty(st.COLOR_KEY).value:this.color,this.voice=this.getProperty(st.VOICE_REF)!=null?this.getProperty(st.VOICE_REF).value:this.voice,this.userProperties=this.getTTSSettings()}reset(){this.color="orange",this.autoScroll=!0,this.rate=1,this.pitch=1,this.volume=1,this.voice={usePublication:!0},this.userProperties=this.getTTSSettings()}initializeSelections(){this.headerMenu&&(this.settingsView=Re(this.headerMenu,"#container-view-tts-settings"))}setControls(){this.settingsView&&this.renderControls(this.settingsView)}renderControls(e){this.headerMenu&&(this.speechRate=Re(this.headerMenu,"#speechRate")),this.headerMenu&&(this.speechPitch=Re(this.headerMenu,"#speechPitch")),this.headerMenu&&(this.speechVolume=Re(this.headerMenu,"#speechVolume")),this.headerMenu&&(this.speechAutoScroll=Re(this.headerMenu,"#autoScroll")),this.speechRate&&(this.speechRate.value=this.rate.toString()),this.speechPitch&&(this.speechPitch.value=this.pitch.toString()),this.speechVolume&&(this.speechVolume.value=this.volume.toString()),this.speechAutoScroll&&(this.speechAutoScroll.checked=this.autoScroll),we(Re(e,"ul"),"click",t=>{t.stopPropagation()})}onSettingsChange(e){this.settingsChangeCallback=e}onRestart(e){this.restartCallback=e}storeProperty(e){this.updateUserSettings(),this.saveProperty(e)}updateUserSettings(){var t,r,i,o,s,l,f,u;var e={rate:(t=this.userProperties.getByRef(st.RATE_REF))==null?void 0:t.value,pitch:(r=this.userProperties.getByRef(st.PITCH_REF))==null?void 0:r.value,volume:(i=this.userProperties.getByRef(st.VOLUME_REF))==null?void 0:i.value,voice:(o=this.userProperties.getByRef(st.VOLUME_REF))==null?void 0:o.value,color:(s=this.userProperties.getByRef(st.COLOR_REF))==null?void 0:s.value,autoScroll:(l=this.userProperties.getByRef(st.AUTO_SCROLL_REF))==null?void 0:l.value};this.applyTTSSettings(e),(f=this.api)!=null&&f.updateSettings&&((u=this.api)==null||u.updateSettings(e).then(async m=>{mn.default.log("api updated tts settings",m)}))}getTTSSettings(){var e=new Ri;return e.addSwitchable("tts-auto-scroll-off","tts-auto-scroll-on",this.autoScroll,st.AUTO_SCROLL_REF,st.AUTO_SCROLL_KEY),e.addIncremental(this.rate,.1,10,.1,"",st.RATE_REF,st.RATE_KEY),e.addIncremental(this.pitch,.1,2,.1,"",st.PITCH_REF,st.PITCH_KEY),e.addIncremental(this.volume,.1,1,.1,"",st.VOLUME_REF,st.VOLUME_KEY),e.addStringable(this.color,st.COLOR_REF,st.COLOR_KEY),e.addJSONable(JSON.stringify(this.voice),st.VOICE_REF,st.VOICE_KEY),e}saveProperty(e){let t=this.store.get(this.TTSSETTINGS);if(t){let r=JSON.parse(t);r=r.filter(i=>i.name!==e.name),r.push(e),this.store.set(this.TTSSETTINGS,JSON.stringify(r))}else{let r=[];r.push(e),this.store.set(this.TTSSETTINGS,JSON.stringify(r))}return e}getProperty(e){let t=this.store.get(this.TTSSETTINGS);if(t){let r=JSON.parse(t);return r=r.filter(i=>i.name===e),r.length===0?void 0:r[0]}}resetTTSSettings(){this.store.remove(this.TTSSETTINGS),this.reset(),this.settingsChangeCallback(),this.restartCallback()}applyTTSSettings(e){if(e.rate){mn.default.log("rate "+this.rate),this.rate=e.rate;let t=this.userProperties.getByRef(st.RATE_REF);t&&(t.value=this.rate,this.saveProperty(t)),this.settingsChangeCallback(),this.restartCallback()}if(e.pitch){mn.default.log("pitch "+this.pitch),this.pitch=e.pitch;let t=this.userProperties.getByRef(st.PITCH_REF);t&&(t.value=this.pitch,this.saveProperty(t)),this.settingsChangeCallback(),this.restartCallback()}if(e.volume){mn.default.log("volume "+this.volume),this.volume=e.volume;let t=this.userProperties.getByRef(st.VOLUME_REF);t&&(t.value=this.volume,this.saveProperty(t)),this.settingsChangeCallback(),this.restartCallback()}if(e.color){this.color=e.color;let t=this.userProperties.getByRef(st.COLOR_REF);t&&(t.value=this.color,this.saveProperty(t)),this.settingsChangeCallback()}if(e.autoScroll!==void 0){mn.default.log("autoScroll "+this.autoScroll),this.autoScroll=e.autoScroll;let t=this.userProperties.getByRef(st.AUTO_SCROLL_REF);t&&(t.value=this.autoScroll,this.saveProperty(t)),this.settingsChangeCallback()}if(e.voice){mn.default.log("voice "+this.voice),this.voice=e.voice;let t=this.userProperties.getByRef(st.VOICE_REF);t&&(t.value=this.voice,this.saveProperty(t)),this.settingsChangeCallback(),this.restartCallback()}}applyPreferredVoice(e){var t=e.indexOf(":")!==-1?e.slice(0,e.indexOf(":")):void 0,r=e.indexOf(":")!==-1?e.slice(e.indexOf(":")+1):e;t!==void 0&&r!==void 0?this.applyTTSSettings({voice:{usePublication:!0,name:t,lang:r}}):r!==void 0&&t===void 0&&this.applyTTSSettings({voice:{usePublication:!0,lang:r}})}increase(e){if(e==="rate"){this.userProperties.getByRef(st.RATE_REF).increment();let t=this.userProperties.getByRef(st.RATE_REF);t&&this.storeProperty(t),this.settingsChangeCallback(),this.restartCallback()}else if(e==="pitch"){this.userProperties.getByRef(st.PITCH_REF).increment();let t=this.userProperties.getByRef(st.PITCH_REF);t&&this.storeProperty(t),this.settingsChangeCallback(),this.restartCallback()}else if(e==="volume"){this.userProperties.getByRef(st.VOLUME_REF).increment();let t=this.userProperties.getByRef(st.VOLUME_REF);t&&this.storeProperty(t),this.settingsChangeCallback(),this.restartCallback()}}decrease(e){if(e==="rate"){this.userProperties.getByRef(st.RATE_REF).decrement();let t=this.userProperties.getByRef(st.RATE_REF);t&&this.storeProperty(t),this.settingsChangeCallback(),this.restartCallback()}else if(e==="pitch"){this.userProperties.getByRef(st.PITCH_REF).decrement();let t=this.userProperties.getByRef(st.PITCH_REF);t&&this.storeProperty(t),this.settingsChangeCallback(),this.restartCallback()}else if(e==="volume"){this.userProperties.getByRef(st.VOLUME_REF).decrement();let t=this.userProperties.getByRef(st.VOLUME_REF);t&&this.storeProperty(t),this.settingsChangeCallback(),this.restartCallback()}}};L();L();var Ch=`${gi.loading}`,kE=`
    <span>
    ${gi.error}
    </span>
    <span>There was an error loading this page.</span>
    <button id="r2d2bc-go-back">Go back</button>
    <button id="r2d2bc-try-again">Try again</button>
`;var Oh=rt(Jo());L();var Eo=class Eo{constructor(e){this.onBackwardSwipe=()=>{};this.onForwardSwipe=()=>{};this.setupEvents=e=>{let t=null,r=null,i=this;e&&(e.addEventListener("touchstart",function(o){o.changedTouches.length===1&&(t=o)},!1),e.addEventListener("touchend",function(o){if(o.changedTouches.length!==1||!t)return;let s=t.changedTouches[0],l=o.changedTouches[0];if(!s)return;let f=window.devicePixelRatio,u=(s.clientX-l.clientX)/f,m=(s.clientY-l.clientY)/f;if(Math.abs(u)<Eo.TAP_TOLERANCE&&Math.abs(m)<Eo.TAP_TOLERANCE){if(r){t=null,r=null;return}if(o.timeStamp-t.timeStamp>Eo.LONG_PRESS_MS){t=null,r=null;return}t=null,r=o;return}if(r=null,o.timeStamp-t.timeStamp>Eo.SLOW_SWIPE_MS){t=null;return}let y=(s.clientY-l.clientY)/(s.clientX-l.clientX);if(Math.abs(y)>.5){t=null;return}u<0?i.onBackwardSwipe(o):i.onForwardSwipe(o),t=null},!1))};this.navigator=e}};Eo.TAP_TOLERANCE=10,Eo.LONG_PRESS_MS=500,Eo.SLOW_SWIPE_MS=500;var Ul=Eo;L();var jl=class{constructor(e){this.onBackwardSwipe=()=>{};this.onForwardSwipe=()=>{};this.onKeydown=()=>{};this.setupEvents=e=>{e&&(this.focusin(e),this.keydown(e))};this.removeEvents=e=>{if(e){let t=this;e.removeEventListener("focusin",this.onFocusIn(t),!0),e.removeEventListener("keydown",this.onKeyDown(t),!1)}};this.focusin=e=>{let t=this;e.addEventListener("focusin",this.onFocusIn(t),!0)};this.keydown=e=>{let t=this;this.navigator.rights.customKeyboardEvents||e.addEventListener("keydown",this.onKeyDown(t),!1)};this.handlers={};this.navigator=e,this.rtl=!1}onFocusIn(e){return this.handlers.onFocusIn||(this.handlers.onFocusIn=function(t){var r;(r=e.navigator.view)==null||r.snap(t.target)})}onKeyDown(e){return this.handlers.onKeyDown||(this.handlers.onKeyDown=function(t){let r=t.target;if(/input|select|option|textarea/i.test(r.tagName)||!(r.ownerDocument||r).defaultView.getSelection().isCollapsed)return;switch(t.key){case"ArrowRight":e.rtl?e.onBackwardSwipe(t):e.onForwardSwipe(t);return;case"ArrowLeft":e.rtl?e.onForwardSwipe(t):e.onBackwardSwipe(t);return}switch(t.code){case"Space":if(t.ctrlKey){e.onBackwardSwipe(t);return}else{e.onForwardSwipe(t);return}}e.onKeydown(t)})}};L();var RE=rt(Jo()),ql=class{constructor(e){this.enforceSampleRead=(0,RE.debounce)(e=>{var p,h,c,g,w,S;let t=Math.round(e.locations.totalProgression*100),r=!1;(p=this.navigator.sample)!=null&&p.limit&&(r=t<=((h=this.navigator.sample)==null?void 0:h.limit),((c=this.navigator.view)==null?void 0:c.layout)==="fixed"&&!r&&(g=this.navigator.sample)!=null&&g.minimum&&e.locations.position<=((w=this.navigator.sample)==null?void 0:w.minimum)&&(r=!0));let i={37:1,38:0,39:1,40:1,32:1,33:1,34:1,35:1,36:1};function o(E){E.preventDefault()}function s(E){i[E.keyCode]&&!r&&o(E)}let l=!1,f=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",function(){},f);let u=l?{passive:!1}:!1;function m(E){E=E||window.event;let b=Math.max(-1,Math.min(1,E.wheelDelta||-E.detail));return b===-1&&!r&&E.preventDefault(),!1}let y;function _(E){E=E||window.event;let b=E.target||E.srcElement,C=E.touches[0].clientY;if(!(C>y)){if(C<y&&!r)return b.className.match(/\baltNav\b/)||(E.returnValue=!1,E.cancelable&&(E.cancelBubble=!0),E.preventDefault&&E.cancelable&&(E.preventDefault(),E.stopPropagation())),!1}return y=C,!1}function v(E){return E=E||window.event,y=E.touches[0].clientY,!1}window.addEventListener("mousewheel",m,u),window.addEventListener("DOMMouseScroll",m,u),window.addEventListener("keydown",s,u),window.addEventListener("touchmove",_,u),window.addEventListener("touchstart",v,u),r?(this.navigator.iframes[0].focus(),this.navigator.errorMessage&&(this.navigator.errorMessage.style.display="none",this.navigator.errorMessage.style.removeProperty("background-color"))):(this.navigator.iframes[0].blur(),this.navigator.errorMessage&&(this.navigator.errorMessage.style.display="block",this.navigator.errorMessage.style.backgroundColor="rgb(255, 255, 255)",this.navigator.errorMessage.innerHTML="<span>"+((S=this.navigator.sample)==null?void 0:S.popup)+"</span>"))},300);this.navigator=e}};L();var Gl=rt($t()),au=class{static async create(e){let t=new this(e.publication,e,e.headerMenu);return await t.start(),t}constructor(e,t,r){this.headerMenu=r,this.publication=e,this.properties=t}async stop(){Gl.default.log("Page Break module stop")}async start(){var e,t;this.headerMenu&&(this.goToPageView=Re(this.headerMenu,"#sidenav-section-gotopage")),this.headerMenu&&(this.goToPageNumberInput=Re(this.headerMenu,"#goToPageNumberInput")),this.headerMenu&&(this.goToPageNumberButton=Re(this.headerMenu,"#goToPageNumberButton")),we(this.goToPageNumberInput,"keypress",this.goToPageNumber.bind(this)),we(this.goToPageNumberButton,"click",this.goToPageNumber.bind(this)),this.goToPageView&&((e=this.publication.pageList)!=null&&e.length||(t=this.goToPageView.parentElement)==null||t.removeChild(this.goToPageView)),setTimeout(()=>{this.properties.hideLayer?this.navigator.hideLayer("pagebreak"):this.navigator.showLayer("pagebreak")},10)}async goToPageNumber(e){var i;if(this.goToPageNumberInput.value&&(e.key==="Enter"||e.type==="click")){var t=(i=this.publication.pageList)==null?void 0:i.filter(o=>o.Href.slice(o.Href.indexOf("#")+1).replace(/[^0-9]/g,"")===this.goToPageNumberInput.value);if(t&&t.length>0){var r=t[0];let o={progression:0};if(r.Href.indexOf("#")!==-1){let l=r.Href.slice(r.Href.indexOf("#")+1);l!==null&&(o={fragment:l})}let s={href:this.publication.getAbsoluteHref(r.Href),locations:o,type:r.TypeLink,title:r.Title};this.navigator.goTo(s)}}}async handleResize(){var e;await((e=this.navigator.highlighter)==null?void 0:e.destroyHighlights(3)),await this.drawPageBreaks()}async drawPageBreaks(){setTimeout(()=>{var o,s,l;let e=(o=this.navigator.iframes[0].contentDocument)==null?void 0:o.body,t=e==null?void 0:e.querySelectorAll('[*|type="pagebreak"]');(t==null?void 0:t.length)===0&&(t=e==null?void 0:e.querySelectorAll("[epub\\:type='pagebreak']")),(t==null?void 0:t.length)===0&&(t=e==null?void 0:e.querySelectorAll("[role='doc-pagebreak']"));let r=this;function i(f){try{let u=r.navigator.iframes[0].contentDocument;return u?Ar(f,u,Xo):""}catch(u){return Gl.default.log("uniqueCssSelector:"),Gl.default.error(u),""}}if(t)for(let f=0;f<t.length;f++){let u=t[f];Gl.default.log(u);let m=u.innerHTML,y=!1;u.innerHTML.length===0&&(m=u.getAttribute("title")??"",u.innerHTML=m,y=!0),u.innerHTML.length===0&&(m=(u.getAttribute("id")??"").replace(/[^0-9]/g,""),u.innerHTML=m,y=!0);let _=this.navigator.iframes[0].contentDocument;if(_){let v=(s=this.navigator.highlighter)==null?void 0:s.dom(_.body).getWindow().document.createRange(),p=(l=this.navigator.highlighter)==null?void 0:l.dom(_.body).getSelection();if(p.removeAllRanges(),v.selectNodeContents(u),p.addRange(v),!p.isCollapsed){let h=mo(v,i);p.removeAllRanges(),h&&this.createPageBreakHighlight({rangeInfo:h,cleanText:"",rawText:""},m)}}y&&(u.innerHTML="")}},200)}createPageBreakHighlight(e,t){var i;try{let o=`${e.rangeInfo.startContainerElementCssSelector}${e.rangeInfo.startContainerChildTextNodeIndex}${e.rangeInfo.startOffset}${e.rangeInfo.endContainerElementCssSelector}${e.rangeInfo.endContainerChildTextNodeIndex}${e.rangeInfo.endOffset}`,l="R2_PAGEBREAK_"+Hi.hash(o);var r=!1;let f={color:"#000000",id:l,pointerInteraction:r,selectionInfo:e,marker:3,icon:{id:"pageBreak",title:t,color:"#000000",position:"left"},type:3};er.push(f);let u=(i=this.navigator.highlighter)==null?void 0:i.createHighlightDom(this.navigator.iframes[0].contentWindow,f);return f.position=parseInt((u!=null&&u.hasChildNodes()?u.childNodes[0]:u).style.top.replace("px","")),f}catch(o){throw"Can't create highlight: "+o}}};L();var IE=rt(Jg());var NE=rt(Jo());var Pt=rt($t()),js=class{constructor(e,t,r,i,o,s){this.voices=[];this.hasEventListener=!1;this.startX=0;this.startY=0;this.index=0;this.userScrolled=!1;this.scrollPartial=!1;this.speaking=!1;this.restartIndex=-1;this.ttsQueueIndex=-1;this.ttsQueue=void 0;this.ttsPlayQueueIndexDebounced=(0,NE.debounce)((e,t)=>{this.restartIndex>=0?(this.ttsQueueIndex=this.restartIndex,this.restartIndex=-1):this.ttsQueueIndex=e,this.ttsQueue=t,this.ttsPlayQueueIndex(this.ttsQueueIndex,t)},150);this.tts=e,this.headerMenu=s,this.rights=t,this.highlighter=r,this.properties=i,this.api=o}initialize(e){this.highlighter!==void 0&&(this.tts.setControls(),this.tts.onRestart(this.restart.bind(this)),this.body=e,this.clean=(0,IE.default)(this.body.innerHTML,{allowedTags:[],allowedAttributes:{}}),this.wrapper=yt(document,"#iframe-wrapper"),window.speechSynthesis.getVoices(),this.initVoices(!0),this.hasEventListener||(this.hasEventListener=!0,we(document,"wheel",this.wheel.bind(this)),we(this.body,"wheel",this.wheel.bind(this)),we(document,"keydown",this.wheel.bind(this)),we(this.navigator.iframes[0].contentDocument,"keydown",this.wheel.bind(this))),we(this.body,"mousedown",this.clickStart.bind(this)),we(this.body,"mouseup",this.click.bind(this)))}clickStart(e){"clientX"in e&&(this.startX=e.clientX),"clientY"in e&&(this.startY=e.clientY)}click(e){var i;let t=0,r=0;if("clientX"in e&&(t=e.clientX),"clientY"in e&&(r=e.clientY),window.speechSynthesis.speaking&&this.speaking&&t===this.startX&&r===this.startY){let o=this.navigator.iframes[0].contentDocument;if(o){let s=this.highlighter.dom(o.body).getSelection(),l=s.getRangeAt(0),f=s.anchorNode;for(;l.toString().indexOf(" ")!==0;)try{l.setStart(f,l.startOffset-1)}catch{break}l.setStart(f,l.startOffset+1);do l.setEnd(f,f.length<l.endOffset?l.endOffset+1:f.length);while(l.toString().indexOf(" ")===-1&&l.toString().trim()!=="");let m=(i=document.querySelector("main#iframe-wrapper iframe").contentWindow)==null?void 0:i.document.body;if(this.ttsQueue&&m){let y=this.findTtsQueueItemIndex(this.ttsQueue,s.anchorNode,s.anchorNode,s.anchorOffset,m);s.removeAllRanges(),y>=0&&(window.speechSynthesis.cancel(),this.restartIndex=y,this.ttsPlayQueueIndexDebounced(this.restartIndex,this.ttsQueue))}}}}initVoices(e){function t(){return new Promise(function(i,o){let s=window.speechSynthesis,l;l=setInterval(()=>{s.getVoices().length!==0&&(i(s.getVoices()),clearInterval(l))},10)})}t().then(async i=>{if(Pt.default.log(i),this.voices=[],i.forEach(s=>{s.localService===!0&&this.voices.push(s)}),Pt.default.log(this.voices),e&&this.headerMenu){var o=Re(this.headerMenu,"#preferred-languages");o&&this.voices.forEach(s=>{var l=document.createElement("option");l.value=s.name+":"+s.lang,l.innerHTML=s.name+" ("+s.lang+")",o.add(l)})}})}cancel(e=!0){var t,r,i;e&&((t=this.api)!=null&&t.stopped&&((r=this.api)==null||r.stopped()),this.navigator.emit("readaloud.stopped","stopped")),this.userScrolled=!1,this.speaking=!1,setTimeout(()=>{window.speechSynthesis.cancel()},0),this._ttsQueueItemHighlightsWord&&((i=this.navigator.highlighter)==null||i.destroyHighlights(2),this._ttsQueueItemHighlightsWord=void 0)}async speak(e,t,r){var y,_,v,p,h,c,g;t||this.navigator.rights.enableContentProtection&&((y=this.navigator.contentProtectionModule)==null||y.deactivate()),(_=this.api)!=null&&_.started&&((v=this.api)==null||v.started()),this.navigator.emit("readaloud.started","started");let i=this;this.userScrolled=!1,this.cancel(!1);let o;if(t){let S=(p=document.querySelector("main#iframe-wrapper iframe").contentWindow)==null?void 0:p.document.body,E=this.navigator.iframes[0].contentDocument;if(E){let b=this.highlighter.dom(E.body).getSelection();if(b.isCollapsed){let C=i.navigator.iframes[0].contentDocument,M=(c=(h=i.navigator.annotationModule)==null?void 0:h.annotator)==null?void 0:c.getTemporarySelectionInfo(C);b.addRange(M.range)}if(S){var s=this.generateTtsQueue(S);if(!s.length)return;var l=this.findTtsQueueItemIndex(s,b.anchorNode,b.anchorNode,b.anchorOffset,S),f=this.findTtsQueueItemIndex(s,b.focusNode,b.focusNode,b.focusOffset,S);let C=Hs(s,l),M=Hs(s,f);var u;if(C&&e&&e.cleanText){let P=Us(C),B=e.rangeInfo.startOffset,I=e.cleanText;if(M&&l+1===f){let D=Us(M);B=(P+" "+D).indexOf(e.cleanText),I=P.slice(B,P.length),u=e.cleanText.replace(I,"").trim()}else if(f>l){let D="";for(let W=l+1;W<f;W++){let q=Hs(s,W);if(q){let G=Us(q);D+=G,u=e.cleanText.replace(G,"")}}if(M){let W=Us(M);D+=" "+W}B=(P+" "+D).indexOf(e.cleanText),I=P.slice(B,P.length),u=u.replace(I,"").trim()}o=new SpeechSynthesisUtterance(I),o.rate=this.tts.rate,o.pitch=this.tts.pitch,o.volume=this.tts.volume,this.setVoice(this,o),Pt.default.log(e),Pt.default.log(I,(g=e.range)==null?void 0:g.commonAncestorContainer.textContent),Pt.default.log(C),Pt.default.log(C.item.textNodes),Pt.default.log(B),Pt.default.log(C.item.combinedText);let F=C.item.textNodes.filter(D=>{var W;return D===((W=e.range)==null?void 0:W.commonAncestorContainer)})[0];Pt.default.log(F),o.onboundary=D=>{this.updateTTSInfo(C,D.charIndex,D.charLength,B,o.text)}}}}}else o=new SpeechSynthesisUtterance(this.clean);o.rate=this.tts.rate,o.pitch=this.tts.pitch,o.volume=this.tts.volume,this.setVoice(i,o),this.index=0;function m(){o.onend=function(){var w,S;if(f>l)if(l=l+1,l!==f){let E=Hs(s,l);if(E){let b=Us(E);o=new SpeechSynthesisUtterance(b),o.rate=i.tts.rate,o.pitch=i.tts.pitch,o.volume=i.tts.volume,i.setVoice(i,o),o.onboundary=C=>{i.updateTTSInfo(E,C.charIndex,C.charLength,0,o.text)},setTimeout(()=>{window.speechSynthesis.speak(o)},0),m()}}else{let E=Hs(s,l);E&&(o=new SpeechSynthesisUtterance(u),o.rate=i.tts.rate,o.pitch=i.tts.pitch,o.volume=i.tts.volume,i.setVoice(i,o),o.onboundary=b=>{i.updateTTSInfo(E,b.charIndex,b.charLength,0,o.text)},setTimeout(()=>{window.speechSynthesis.speak(o)},0),m()),l>f&&(Pt.default.log("utterance ended"),i.highlighter.doneSpeaking(),(w=i.api)==null||w.finished(),i.navigator.emit("readaloud.finished","finished"))}else Pt.default.log("utterance ended"),i.highlighter.doneSpeaking(),(S=i.api)==null||S.finished(),i.navigator.emit("readaloud.finished","finished")}}setTimeout(()=>{var w;window.speechSynthesis.speak(o),t||this.navigator.rights.enableContentProtection&&((w=this.navigator.contentProtectionModule)==null||w.recalculate(200))},0),m(),r()}setVoice(e,t){Pt.default.log("this.tts.voice.lang",this.tts.voice.lang);let r=!0;this.tts.voice&&this.tts.voice.lang&&(r=this.tts.voice.lang.indexOf("-")!==-1,r||(this.tts.voice.lang=this.tts.voice.lang.replace("_","-"),r=!0)),Pt.default.log("initialVoiceHasHyphen",r),Pt.default.log("voices",this.voices);let i;r?(i=this.tts.voice&&this.tts.voice.lang&&this.tts.voice.name?this.voices.filter(u=>{var m=u.lang.replace("_","-");return m===this.tts.voice.lang&&u.name===this.tts.voice.name})[0]:void 0,i===void 0&&(i=this.tts.voice&&this.tts.voice.lang?this.voices.filter(u=>u.lang.replace("_","-")===this.tts.voice.lang)[0]:void 0)):(i=this.tts.voice&&this.tts.voice.lang&&this.tts.voice.name?this.voices.filter(u=>u.lang===this.tts.voice.lang&&u.name===this.tts.voice.name)[0]:void 0,i===void 0&&(i=this.tts.voice&&this.tts.voice.lang?this.voices.filter(u=>u.lang===this.tts.voice.lang)[0]:void 0)),Pt.default.log("initialVoice",i);let o=e.navigator.publication.Metadata.Language[0].indexOf("-")!==-1;Pt.default.log("publicationVoiceHasHyphen",o);let s;o?s=this.tts.voice&&this.tts.voice.usePublication?this.voices.filter(u=>{var m=u.lang.replace("_","-");return m.startsWith(e.navigator.publication.Metadata.Language[0])||m.endsWith(e.navigator.publication.Metadata.Language[0].toUpperCase())})[0]:void 0:s=this.tts.voice&&this.tts.voice.usePublication?this.voices.filter(u=>u.lang.startsWith(e.navigator.publication.Metadata.Language[0])||u.lang.endsWith(e.navigator.publication.Metadata.Language[0].toUpperCase()))[0]:void 0,Pt.default.log("publicationVoice",s);let l=navigator.language.indexOf("-")!==-1;Pt.default.log("defaultVoiceHasHyphen",l);let f;l?f=this.voices.filter(u=>u.lang.replace("_","-")===navigator.language&&u.localService)[0]:f=this.voices.filter(u=>u.lang===navigator.language&&u.localService)[0],f===void 0&&(f=this.voices.filter(u=>u.lang.includes(navigator.language)&&u.localService)[0]),Pt.default.log("defaultVoice",f),i?(Pt.default.log("initialVoice"),t.voice=i):s?(Pt.default.log("publicationVoice"),t.voice=s):f&&(Pt.default.log("defaultVoice"),t.voice=f),t.voice!==void 0&&t.voice!==null&&(t.lang=t.voice.lang,Pt.default.log("utterance.voice.lang",t.voice.lang),Pt.default.log("utterance.lang",t.lang)),Pt.default.log("navigator.language",navigator.language)}speakPlay(){var i,o,s,l,f;this.navigator.rights.enableContentProtection&&((i=this.navigator.contentProtectionModule)==null||i.deactivate()),this.scrollPartial=!0,this.cancel(!1),(o=this.api)!=null&&o.started&&((s=this.api)==null||s.started()),this.navigator.emit("readaloud.started","started");let e=this,r=(l=document.querySelector("main#iframe-wrapper iframe").contentWindow)==null?void 0:l.document.body;if(r){let y=function(){var p;let _=e.highlighter.visibleTextRects[0],v=e.navigator.iframes[0].contentDocument;if(v){let h=e.highlighter.dom(v.body).getWindow().document.createRange(),c=e.highlighter.dom((p=e.navigator.iframes[0].contentDocument)==null?void 0:p.body).getSelection();c.removeAllRanges(),h.selectNodeContents(_.node),c.addRange(h);let g=0,w=c.focusNode,S=c.focusOffset;c.collapse(c.anchorNode,c.anchorOffset);for(let E=0;E<g;E++)c.modify("move","forward","line");if(c.extend(w,S),c.collapse(c.anchorNode,c.anchorOffset),r){let E=e.findTtsQueueItemIndex(u,c.anchorNode,c.anchorNode,c.anchorOffset,r);E>=0&&(m=E)}c.removeAllRanges()}},u=this.generateTtsQueue(r);if(!u.length)return;let m=0;y(),m<0&&(m=0),setTimeout(()=>{this.startTTSSession(u,m)},200)}this.navigator.rights.enableContentProtection&&((f=this.navigator.contentProtectionModule)==null||f.recalculate(200))}speakPause(){var e,t,r;window.speechSynthesis.speaking&&((e=this.api)!=null&&e.paused&&((t=this.api)==null||t.paused()),this.navigator.emit("readaloud.paused","paused"),this.userScrolled=!1,window.speechSynthesis.pause(),this.speaking=!1,this._ttsQueueItemHighlightsWord&&((r=this.navigator.highlighter)==null||r.destroyHighlights(2),this._ttsQueueItemHighlightsWord=void 0))}speakResume(){var e,t;window.speechSynthesis.speaking&&((e=this.api)!=null&&e.resumed&&((t=this.api)==null||t.resumed()),this.navigator.emit("readaloud.resumed","resumed"),this.userScrolled=!1,window.speechSynthesis.resume(),this.speaking=!0)}static async create(e){let t=new this(e.tts,e.rights,e.highlighter,e,e.api,e.headerMenu);return await t.start(),t}async start(){var t;if(this.headerMenu){var e=Re(this.headerMenu,"#menu-button-tts");e&&((t=e.parentElement)==null||t.style.removeProperty("display"))}setTimeout(()=>{var r;(r=this.properties)!=null&&r.hideLayer?this.navigator.hideLayer("readaloud"):this.navigator.showLayer("readaloud")},10)}wheel(e){if(e instanceof KeyboardEvent)switch(e.key){case"ArrowUp":this.userScrolled=!0;break;case"ArrowDown":this.userScrolled=!0;break}else this.userScrolled=!0}stop(){Pt.default.log("TTS module stop"),Ue(document,"wheel",this.wheel.bind(this)),Ue(this.body,"wheel",this.wheel.bind(this)),Ue(document,"keydown",this.wheel.bind(this)),Ue(this.navigator.iframes[0].contentDocument,"keydown",this.wheel.bind(this)),Ue(this.body,"click",this.click.bind(this))}generateTtsQueue(e){let t=[],r=[];function i(f){if(f.nodeType!==Node.TEXT_NODE||!f.nodeValue||!f.nodeValue.trim().length)return;let u=r[r.length-1];if(!u)return;let m=f.parentElement?LE(f.parentElement):void 0,y=f.parentElement?uj(f.parentElement):void 0,_=t[t.length-1];(!_||_.parentElement!==u||_.lang!==m||_.dir!==y)&&(_={combinedText:"",dir:y,lang:m,parentElement:u,textNodes:[]},t.push(_)),_.textNodes.push(f)}let o=!0;function s(f){if(f.nodeType!==Node.ELEMENT_NODE)return;let u=o||f.matches("h1, h2, h3, h4, h5, h6, p, th, td, caption, li, blockquote, q, dt, dd, figcaption, div, pre");o=!1,u&&r.push(f);for(let m of f.childNodes)switch(m.nodeType){case Node.ELEMENT_NODE:let y=m;if(!y.matches("img, sup, sub, audio, video, source, button, canvas, del, dialog, embed, form, head, iframe, meter, noscript, object, s, script, select, style, textarea"))s(y);else if(y.tagName&&y.tagName.toLowerCase()==="img"&&y.src){let v=y.getAttribute("alt");if(v){let p=v.trim();if(p){let h=LE(y),c=void 0;t.push({combinedText:p,dir:c,lang:h,parentElement:y,textNodes:[]})}}}break;case Node.TEXT_NODE:r.length!==0&&i(m);break;default:break}u&&r.pop()}s(e);function l(f){if(!f.textNodes||!f.textNodes.length){(!f.combinedText||!f.combinedText.length)&&(f.combinedText="");return}f.combinedText=lj(f.textNodes,!0).replace(/[\r\n]/g," ");let u=f.parentElement;for(;u;){if(u.tagName){let m=u.tagName.toLowerCase();if(m==="pre"||m==="code"||m==="video"||m==="audio")break}u=u.parentElement}}for(let f of t)l(f);return t}findTtsQueueItemIndex(e,t,r,i,o){let s=0;for(let l of e){if(r&&l.textNodes){if(l.textNodes.includes(r))return s}else if(t===l.parentElement||l.parentElement!==t.ownerDocument.body&&l.parentElement!==o&&l.parentElement.contains(t)||t.contains(l.parentElement))return s;s++}return-1}restart(){window.speechSynthesis.speaking&&(window.speechSynthesis.cancel(),this.restartIndex=this.ttsQueueIndex,this.ttsPlayQueueIndexDebounced(this.restartIndex,this.ttsQueue))}startTTSSession(e,t){if(!Hs(e,t)){this.cancel();return}this.speaking=!0,this.ttsPlayQueueIndexDebounced(t,e)}ttsPlayQueueIndex(e,t){if(e<0){this.cancel();return}let r=Hs(t,e);if(!r){this.cancel();return}let i=Us(r);if(!i){this.cancel();return}let o=new SpeechSynthesisUtterance(i);o.rate=this.tts.rate,o.pitch=this.tts.pitch,o.volume=this.tts.volume;let s=this;this.setVoice(s,o),o.onboundary=l=>{Pt.default.log(l.name),this.updateTTSInfo(r,l.charIndex,l.charLength,0,o.text)},setTimeout(()=>{window.speechSynthesis.speak(o),s.speaking||window.speechSynthesis.pause()},0),o.onend=function(){s.speaking&&s.ttsPlayQueueIndexDebounced(e+1,t)}}updateTTSInfo(e,t,r,i,o){if(!e)return;Pt.default.log(e,t,r,o);let s=o||Us(e);if(t>=0&&o){let l=o.slice(0,t+1).search(/\S+$/),f=o.slice(t).search(/\s/),u=f<0?o.slice(l):o.slice(l,f+t),m=l+u.length;if(r===void 0){let y=o.substring(t).match(/^[a-z\d']*/i);y&&(r=y[0].length)}r===void 0&&(r=u.length),this.wrapHighlightWord(e,o,t+i,r,u,l,m)}return s}wrapHighlightWord(e,t,r,i,o,s,l){var c,g,w,S,E,b,C,M,P,B;Pt.default.log(e),Pt.default.log(t),Pt.default.log(r,i,o,s,l),this._ttsQueueItemHighlightsWord&&((c=this.navigator.highlighter)==null||c.destroyHighlights(2),this._ttsQueueItemHighlightsWord=void 0);let f=e.item,u=r,m=0,y,_=-1,v,p=-1,h=u+i;for(let I of f.textNodes){if(!I.nodeValue&&I.nodeValue!=="")continue;let F=I.nodeValue.length;if(m+=F,y||u<m&&(y=I,_=F-(m-u)),y&&h<=m&&(v=I,p=F-(m-h)),v)break}if(y&&v){let D=function(G){try{let Y=F.navigator.iframes[0].contentDocument;return Y?Ar(G,Y,Xo):""}catch(Y){return Pt.default.log("uniqueCssSelector:"),Pt.default.error(Y),""}},I=new Range;I.setStart(y,_),I.setEnd(v,p);let F=this,W=mo(I,D);if(!W)return;let q=(g=this.navigator.highlighter)==null?void 0:g.createHighlight(this.navigator.iframes[0].contentWindow,{rangeInfo:W,cleanText:"",rawText:"",range:void 0},this.tts.color,!1,3,{id:"tts",title:"",position:"right"},void 0,{defaultClass:this.tts.color},2,"R2_READALOUD_");if(q){this._ttsQueueItemHighlightsWord=q[0];let X=((S=(w=q[1])==null?void 0:w.firstChild)==null?void 0:S.getBoundingClientRect()).top-this.wrapper.scrollTop>window.innerHeight/2-65;(E=this.navigator.view)!=null&&E.isScrollMode()&&this.tts.autoScroll&&!this.userScrolled&&this.scrollPartial&&X?(C=(b=q[1])==null?void 0:b.firstChild)==null||C.scrollIntoView({block:"center",behavior:"smooth"}):(M=this.navigator.view)!=null&&M.isPaginated()&&((B=F.navigator.view)==null||B.snap((P=q[1])==null?void 0:P.firstChild))}}}};function LE(n){let e=n;for(;e&&e.nodeType===Node.ELEMENT_NODE;){let t=e.getAttribute("xml:lang");if(t||(t=e.getAttributeNS("http://www.w3.org/XML/1998/namespace","lang")),t||(t=e.getAttribute("lang")),t)return t;e=e.parentNode}}function uj(n){let e=n;for(;e&&e.nodeType===Node.ELEMENT_NODE;){let t=e.getAttribute("dir");if(t)return t;e=e.parentNode}}function lj(n,e){if(n&&n.length){let t="";for(let r of n)r.nodeValue&&(t+=e?r.nodeValue:dj(r.nodeValue));return t}return""}function cj(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function dj(n){return cj(n).replace(/\n/g," ").replace(/\s\s+/g," ")}function Hs(n,e){let t=-1,r=-1;for(let i of n)if(r++,t++,e===t)return{item:i,iArray:r,iGlobal:t,iSentence:-1}}function Us(n){return n.item.combinedText}L();var Wl=rt(Gf());var BE=rt(Jo());var DE=rt($t()),uu=class{constructor(e,t,r,i){this.currentChapterPopupResult=[];this.currentPopupHighlights=[];this.definitions=(0,BE.debounce)(async()=>{if(await this.highlighter.destroyHighlights(4),this.properties.definitions)for(let e of this.properties.definitions)await this.define(e)},200);this.publication=e,this.properties=t,this.api=i,this.highlighter=r}static async create(e){let t=new this(e.publication,e,e.highlighter,e.api);return await t.start(),t}async stop(){DE.default.log("Definitions module stop")}async start(){setTimeout(()=>{this.properties.hideLayer?this.navigator.hideLayer("definitions"):this.navigator.showLayer("definitions")},10)}async searchAndPaint(e,t){var s;let r=this.publication.getAbsoluteHref(this.publication.readingOrder?this.publication.readingOrder[this.navigator.currentResource()??0].Href:""),i=this.publication.getTOCItem(r);i===void 0&&this.publication.readingOrder&&(i=this.publication.readingOrder[this.navigator.currentResource()??0]);let o=[];if(i)for(let l of e.terms){let f=e.terms.indexOf(l);i&&await ns(l,this.navigator.iframes[0].contentDocument,i.Href,i.Title,(s=this.navigator.definitionsModule)==null?void 0:s.properties.fullWordSearch).then(u=>{let m;e.result===1?m=0:e.result===2&&(m=Math.floor(Math.random()*u.length-1)+1),u.forEach((y,_)=>{if(m===void 0||m===_){let v={rangeInfo:y.rangeInfo},p=this.createDefinitionHighlight(v,e);y.highlight=p,o.push(Wl.omit(p,"definition")),this.currentChapterPopupResult.push(y),this.currentPopupHighlights.push(p)}}),f===e.terms.length-1&&t(o)})}}async define(e){await this.searchAndPaint(e,async t=>{var r,i,o;(r=this.api)!=null&&r.success&&((i=this.api)==null||i.success(Wl.omit(e,"callbacks"),t),this.navigator.emit("definition.success",t),(o=this.api)!=null&&o.visible&&t.forEach(s=>{var m;let l=(m=this.navigator.iframes[0].contentDocument)==null?void 0:m.querySelector(`#${s.id}`),f=l==null?void 0:l.querySelectorAll(`.${jr}`),u=new IntersectionObserver((y,_)=>{y.forEach(v=>{var p;v.intersectionRatio===1&&((p=this.api)==null||p.visible(Wl.omit(e,"callbacks"),Wl.omit(s,"definition")),this.navigator.emit("definition.visible",e,s))})},{threshold:1});f&&f.length>0&&u.observe(f[0])}))})}async drawDefinitions(){setTimeout(async()=>{await this.definitions()},100)}async handleResize(){await this.drawDefinitions()}createDefinitionHighlight(e,t){var r;try{let i=(r=this.navigator.definitionsModule)==null?void 0:r.properties.color;Jt.isHexColor(i)&&(i=Jt.hexToRgbChannels(i));let o=`${e.rangeInfo.startContainerElementCssSelector}${e.rangeInfo.startContainerChildTextNodeIndex}${e.rangeInfo.startOffset}${e.rangeInfo.endContainerElementCssSelector}${e.rangeInfo.endContainerChildTextNodeIndex}${e.rangeInfo.endOffset}`,l="R2_DEFINITION_"+Hi.hash(o);this.highlighter.destroyHighlight(this.navigator.iframes[0].contentDocument,l);let f={color:i||Ns,id:l,pointerInteraction:!0,selectionInfo:e,marker:1,type:4};er.push(f);let u=this.highlighter.createHighlightDom(this.navigator.iframes[0].contentWindow,f);return u&&(t.definition&&(u.dataset.definition=t.definition),u.dataset.order=String(t.order),f.definition=t,f.position=parseInt((u!=null&&u.hasChildNodes()?u.childNodes[0]:u).style.top.replace("px",""))),f}catch(i){throw"Can't create definitions highlight: "+i}}async addDefinition(e){await this.define(e)}async clearDefinitions(){await this.highlighter.destroyHighlights(4)}};L();var UE=rt(HE(),1);var Th=UE.default;L();var is=rt($t()),jE=.5,qs=class{constructor(e,t,r){this.hasEventListener=!1;this.lines=[];this.index=0;this.isActive=!1;this.isDebug=!1;this.lineFocusContainer=document.getElementById("lineFocusContainer");this.readerContainer=document.getElementById("D2Reader-Container");this.lineFocusTopBlinder=document.getElementById("lineFocusTopBlinder");this.lineFocusBottomBlinder=document.getElementById("lineFocusBottomBlinder");this.wrapperHeight=void 0;this.properties=e,this.api=r,this.highlighter=t}static async create(e){let t=new this(e,e.highlighter,e.api);return await t.start(),t}async stop(){is.default.log("Definitions module stop"),this.hasEventListener=!1,Ue(document,"keydown",this.keydown.bind(this)),Ue(document,"keyup",this.keyup.bind(this)),Ue(this.navigator.iframes[0].contentDocument,"keydown",this.keydown.bind(this)),Ue(this.navigator.iframes[0].contentDocument,"keyup",this.keyup.bind(this))}async start(){let e=yt(document,"#iframe-wrapper");e.style.height.length>0&&(this.wrapperHeight=e.style.height,this.lineFocusContainer&&this.lineFocusContainer.style.height.length===0&&(this.lineFocusContainer.style.height=this.wrapperHeight),this.readerContainer&&this.readerContainer.style.height.length===0&&(this.readerContainer.style.height=this.wrapperHeight),this.readerContainer&&(this.readerContainer.style.overflow="hidden"))}initialize(e){return new Promise(async t=>{await document.fonts.ready,this.hasEventListener||(this.hasEventListener=!0,we(document,"keydown",this.keydown.bind(this)),we(document,"keyup",this.keyup.bind(this)),we(e.contentDocument,"keydown",this.keydown.bind(this)),we(e.contentDocument,"keyup",this.keyup.bind(this))),t(null)})}keydown(e){if(e instanceof KeyboardEvent&&this.isActive)switch(e.key){case"ArrowUp":e.stopPropagation();break;case"ArrowDown":e.stopPropagation();break}}keyup(e){if(e instanceof KeyboardEvent&&this.isActive)switch(e.key){case"ArrowUp":this.lineUp();break;case"ArrowDown":this.lineDown();break}}handleResize(){this.isActive&&this.lineFocus()}async enableLineFocus(){this.isActive=!0,await this.navigator.settings.scroll(!0),this.lineFocus()}disableLineFocus(e=!0){this.isActive=!1;let t=yt(document,"#iframe-wrapper");this.wrapperHeight&&(t.style.height=this.wrapperHeight),e||(this.index=0);let r=this.navigator.iframes[0].contentDocument;cr(r,"html").style.removeProperty("--USER__maxMediaHeight"),this.wrapperHeight=void 0,this.lineFocusContainer&&(this.lineFocusContainer.style.display="none");let o=document.getElementById("container-view-timeline");o&&o.style.removeProperty("display");let s=document.getElementById("divBefore");s&&s.remove();let l=document.getElementById("divAfter");l&&l.remove(),this.highlighter.destroyHighlights(5)}lineFocus(){var m;let e=yt(document,"#iframe-wrapper"),t=this.navigator.iframes[0].contentDocument,r=cr(t,"html"),i=this.properties.maxHeight?pi()*this.properties.maxHeight/100:pi()/2;r.style.setProperty("--USER__maxMediaHeight",i+"px");function o(y,_){y.parentNode.insertBefore(_,y.nextSibling)}function s(y,_){y.parentNode.insertBefore(_,y)}let l=document.getElementById("container-view-timeline");l&&(l.style.display="none"),this.lineFocusContainer&&this.lineFocusContainer.style.removeProperty("display");let f=document.getElementById("divBefore");if(f)f.style.height=e.clientHeight/2+"px";else{let y=document.createElement("div");y.style.height=e.clientHeight/2+"px",y.id="divBefore",s(e,y)}let u=document.getElementById("divAfter");if(u)u.style.height=e.clientHeight/2+"px";else{let y=document.createElement("div");y.style.height=e.clientHeight/2+"px",y.id="divAfter",o(e,y)}if(this.lines=[],t){let v=function(){let S=Math.round,E=Math.random,b=255;return{blue:S(E()*b),green:S(E()*b),red:S(E()*b)}},p=function(S,E){let b=[];for(let C=0,M=0;C<S.length;C++)C>=E&&C%E===0&&M++,b[M]=b[M]||[],b[M].push(S[C]);return b},h=function(S,E){let b=Math.min(S.left,E.left),C=Math.max(S.right,E.right),M=Math.min(S.top,E.top),P=Math.max(S.bottom,E.bottom);return{bottom:P,height:P-M,left:b,right:C,top:M,width:C-b}},c=function(S){if(S.length>1){let E=h(S[0],S[1]);if(S.length>2){let b=h(E,S[2]);if(S.length>3){let C=h(b,S[3]);return S.length>4?h(C,S[4]):C}return b}return E}return S[0]},y=this.findRects(t.body);y=Zg(y,!0),y=y.sort(function(S,E){return S.top-E.top});let _=[];y=y.filter(function(S){let E=S.top;return _.indexOf(E)===-1&&_.indexOf(E+1)===-1&&_.indexOf(E+2)===-1&&_.indexOf(E+3)===-1&&_.indexOf(E+4)===-1&&_.indexOf(E-1)===-1&&_.indexOf(E-2)===-1&&_.indexOf(E-3)===-1&&_.indexOf(E-4)===-1?(_.push(E),!0):!1}),this.highlighter.destroyHighlights(5);let g=[];this.properties.lines&&this.properties.lines>1?p(y,this.properties.lines).forEach(E=>{g.push(c(E))}):g=y;let w=Re(t,"#"+"R2_ID_LINEFOCUS_CONTAINER");if(w)for(let S of g){let E=document.createElement("div");E.setAttribute("class",jr);let b=v();if(Jt.isHexColor(b)&&(b=Jt.hexToRgbChannels(b)),this.isDebug){let ve=`border-bottom: 1px solid rgba(${b.red}, ${b.green}, ${b.blue}, ${jE}) !important`;E.setAttribute("style",`mix-blend-mode: multiply; border-radius: 1px !important; background-color: rgba(${b.red}, ${b.green}, ${b.blue}, ${jE}) !important; ${ve}`)}E.style.outline="none",E.tabIndex=0;let C=this.navigator.iframes[0].contentWindow.document,M=this.navigator.view.isPaginated();M?C.body.style.position="revert":C.body.style.position="relative";let P=C.body.getBoundingClientRect(),B=this.highlighter.getScrollingElement(C),I=M?-B.scrollLeft:P.left,F=M?-B.scrollTop:P.top,D=1,W=24,q,G,Y=(m=this.navigator.iframes[0].contentWindow)==null?void 0:m.innerWidth,X=parseInt(getComputedStyle(t.documentElement).getPropertyValue("column-count")),Q=parseInt(getComputedStyle(t.documentElement).getPropertyValue("column-width")),se=parseInt(getComputedStyle(t.body).getPropertyValue("padding-left"));if(Y){let ve=Y/(X||1);ve<Q&&(ve=Y),M||(ve=parseInt(getComputedStyle(t.body).width.replace("px","")));let ce=this.navigator.settings.fontSize/100,z=20*ce;ce<=1&&(z=-60);let H=0;ce<=1&&(H=-60),q=Math.floor(S.left/ve)*ve+ve-(W<40?40:W)+H,G=Math.floor(S.left/ve)*ve+(W<40?40:W)-z;let R=parseInt(t.documentElement.style.getPropertyValue("--USER__pageMargins"));R>=2&&(G=G+se/X,q=q-se/X),M||(q=parseInt(getComputedStyle(t.body).width.replace("px","")),G=parseInt(getComputedStyle(t.body).width.replace("px",""))-ve,R>=2&&(G=G+se/2,q=q-se/2))}E.style.setProperty("pointer-events","none"),E.style.position="absolute",E.scale=D,E.rect={height:S.height,left:S.left-I,top:S.top-F,width:S.width},E.style.width=`${E.rect.width*D}px`,E.style.height=`${E.rect.height*D}px`,E.style.left=`${E.rect.left*D}px`,E.style.top=`${E.rect.top*D}px`,this.lines.push(E),w.append(E)}setTimeout(()=>{this.currentLine()},100)}}currentLine(){let e=this.lines[this.index],t=e.style.top,i=parseInt(e.style.top.replace("px",""))+parseInt(e.style.height.replace("px",""))-parseInt(t.replace("px",""));if(this.lineFocusContainer){let s=(parseInt(getComputedStyle(this.lineFocusContainer).height.replace("px",""))-i)/2;this.lineFocusTopBlinder&&(this.lineFocusTopBlinder.style.height=s+"px"),this.lineFocusBottomBlinder&&(this.lineFocusBottomBlinder.style.height=s+"px")}e.scrollIntoView({block:"center",behavior:"smooth"})}lineDown(){if(this.index<this.lines.length-1){this.index+=1,this.index>this.lines.length-1&&(this.index=this.lines.length-1);let e=this.lines[this.index],t=e.style.top,i=parseInt(e.style.top.replace("px",""))+parseInt(e.style.height.replace("px",""))-parseInt(t.replace("px",""));if(this.lineFocusContainer){let s=(parseInt(getComputedStyle(this.lineFocusContainer).height.replace("px",""))-i)/2;this.lineFocusTopBlinder&&(this.lineFocusTopBlinder.style.height=s+"px"),this.lineFocusBottomBlinder&&(this.lineFocusBottomBlinder.style.height=s+"px")}e.scrollIntoView({block:"center",behavior:"smooth"})}}lineUp(){if(this.index>0){this.index-=1,this.index<0&&(this.index=0);let e=this.lines[this.index],t=e.style.top,i=parseInt(e.style.top.replace("px",""))+parseInt(e.style.height.replace("px",""))-parseInt(t.replace("px",""));if(this.lineFocusContainer){let s=(parseInt(getComputedStyle(this.lineFocusContainer).height.replace("px",""))-i)/2;this.lineFocusTopBlinder&&(this.lineFocusTopBlinder.style.height=s+"px"),this.lineFocusBottomBlinder&&(this.lineFocusBottomBlinder.style.height=s+"px")}e.scrollIntoView({block:"center",behavior:"smooth"})}}almostEqual(e,t,r){return Math.abs(e-t)<=r}findRects(e){let t=this.findTextNodes(e),r=Array.from(e.getElementsByTagName("img")),i=[];return t.forEach(o=>{i.push(...this.measureTextNodes(o))}),r.forEach(o=>{i.push(...this.measureImageNodes(o))}),i}findTextNodes(e,t=[]){var i,o,s,l,f,u,m;let r=e.firstChild;for(;r;)r.nodeType===1&&this.findTextNodes(r,t),r.nodeType===3&&(i=r.textContent)!=null&&i.trim()&&(r.textContent.trim().length>1||((o=r.parentElement)==null?void 0:o.tagName.toLowerCase())==="h1"||((s=r.parentElement)==null?void 0:s.tagName.toLowerCase())==="h2"||((l=r.parentElement)==null?void 0:l.tagName.toLowerCase())==="h3"||((f=r.parentElement)==null?void 0:f.tagName.toLowerCase())==="h4"||((u=r.parentElement)==null?void 0:u.tagName.toLowerCase())==="h5"||((m=r.parentElement)==null?void 0:m.tagName.toLowerCase())==="h6")&&r.parentElement&&getComputedStyle(r.parentElement).verticalAlign==="baseline"&&t.push(r),r=r.nextSibling;return t}measureTextNodes(e){try{let t=document.createRange();t.selectNodeContents(e);let r=Array.from(t.getClientRects());return t.detach(),r}catch(t){is.default.log("measureTextNode "+t),is.default.log("measureTextNode "+e),is.default.log(`${e.textContent}`)}}measureImageNodes(e){try{let t=document.createRange();t.selectNode(e);let r=Array.from(t.getClientRects());return t.detach(),r}catch(t){is.default.log("measureTextNode "+t),is.default.log("measureTextNode "+e),is.default.log(`${e.textContent}`)}}};L();var qE=rt($t()),lu=class{constructor(e,t,r,i){this.history=[];this.headerMenu=i,this.publication=t,this.properties=r,this.annotator=e}static async create(e){let t=new this(e.annotator,e.publication,e,e.headerMenu);return await t.start(),t}async stop(){qE.default.log("Page Break module stop"),Ue(this.historyForwardAnchorElement,"click",this.handleHistoryForwardClick.bind(this)),Ue(this.historyBackAnchorElement,"click",this.handleHistoryBackClick.bind(this))}async handleResize(){await this.setup()}setup(){this.history.length>0&&(this.historyForwardAnchorElement&&this.historyCurrentIndex+1<this.history.length?this.historyForwardAnchorElement.className=this.historyForwardAnchorElement.className.replace(" disabled",""):this.historyForwardAnchorElement&&(this.historyForwardAnchorElement.removeAttribute("href"),this.historyForwardAnchorElement.className+=" disabled"),this.historyBackAnchorElement&&this.historyCurrentIndex>0?this.historyBackAnchorElement.className=this.historyBackAnchorElement.className.replace(" disabled",""):this.historyBackAnchorElement&&(this.historyBackAnchorElement.removeAttribute("href"),this.historyBackAnchorElement.className+=" disabled"))}async push(e,t){let r;if(t&&this.annotator){let i=await this.annotator.getLastReadingPosition();if(i){let o=this.publication.getAbsoluteHref(i.href);i.href=o,this.historyCurrentIndex<this.history.length-1?(this.history=this.history.slice(0,this.historyCurrentIndex),this.history.push(i),this.historyCurrentIndex=this.history.length-1):(this.history.push(i),this.historyCurrentIndex=this.history.length-1)}this.historyCurrentIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyCurrentIndex)),r=this.history[this.history.length-1],(r&&r.href!==e.href||r===void 0)&&(this.history.push(e),this.historyCurrentIndex=this.history.length-1)}}async start(){this.headerMenu&&(this.historyForwardAnchorElement=Re(this.headerMenu,"#history-forward")),this.headerMenu&&(this.historyBackAnchorElement=Re(this.headerMenu,"#history-back")),this.historyCurrentIndex=this.history.length-1,we(this.historyForwardAnchorElement,"click",this.handleHistoryForwardClick.bind(this)),we(this.historyBackAnchorElement,"click",this.handleHistoryBackClick.bind(this))}async handleHistoryForwardClick(e){await this.historyForward(),e.preventDefault(),e.stopPropagation()}async historyForward(){this.history.length>0&&this.historyCurrentIndex+1<this.history.length&&(this.historyCurrentIndex=this.historyCurrentIndex+1,await this.navigator.navigate(this.history[this.historyCurrentIndex],!1))}async handleHistoryBackClick(e){await this.historyBack(),e.preventDefault(),e.stopPropagation()}async historyBack(){this.history.length>0&&this.historyCurrentIndex>0&&(this.historyCurrentIndex=this.historyCurrentIndex-1,await this.navigator.navigate(this.history[this.historyCurrentIndex],!1))}};L();var GE=rt($t()),Ph=(r=>(r[r.Chicago=0]="Chicago",r[r.MLA=1]="MLA",r[r.APA=2]="APA",r))(Ph||{});var Gs=class{constructor(e,t,r,i){this.highlighter=t,this.properties=r,this.publication=e,this.api=i}static async create(e){let t=new this(e.publication,e.highlighter,e,e.api);return await t.start(),t}async stop(){GE.default.log("Citation module stop")}copyToClipboard(e){var r,i,o;(r=this.navigator)!=null&&r.contentProtectionModule&&(this.navigator.contentProtectionModule.citation=!0);let t=!0;if(window.clipboardData)window.clipboardData.setData("text/plain",e);else{let s=this.createElementForExecCommand(e);this.selectContent(s);try{window.netscape&&netscape.security&&netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect"),t=document.execCommand("copy",!1)}catch{t=!1}document.body.removeChild(s)}t?(i=this.api)==null||i.citationCreated("The text was copied to the clipboard!"):(o=this.api)==null||o.citationFailed("Your browser doesn't allow clipboard access!")}createElementForExecCommand(e){let t=document.createElement("div");return t.style.position="absolute",t.style.left="-10000px",t.style.top="-10000px",t.innerHTML=e,document.body.appendChild(t),t.contentEditable=!0,t}selectContent(e){let t=document.createRange();t.selectNodeContents(e);let r=window.getSelection();r==null||r.removeAllRanges(),r==null||r.addRange(t)}async start(){var r;let e=this,t={id:"citationIcon",callback:function(i){var B,I,F;let o=function(){var G;let D="",W="",q="";return e.properties.author?(q=q+e.properties.author,W=W+e.properties.author,D=D+e.properties.author):((G=e.publication.Metadata.Author)==null?void 0:G.length)>0&&0===0&&e.publication.Metadata.Author[0].Name&&e.publication.Metadata.Author[0].Name instanceof String&&e.publication.Metadata.Author[0].Name.length>0&&(q=q+e.publication.Metadata.Author[0].Name,W=W+e.publication.Metadata.Author[0].Name,D=D+e.publication.Metadata.Author[0].Name),q.length>0&&W.length>0&&D.length>0?[D+". ",W+". ",q+". "]:["","",""]},s=function(){let D="",W="",q="";return e.properties.publisher?(W=W+e.properties.publisher,D=D+e.properties.publisher):e.publication.Metadata.Publisher&&e.publication.Metadata.Publisher[0].Name&&(W=W+e.publication.Metadata.Publisher[0].Name,D=D+e.publication.Metadata.Publisher[0].Name),e.properties.published?(q=q+"("+e.properties.published+")",W=W+", "+e.properties.published,D=D+", "+e.properties.published):e.publication.Metadata.PublicationDate&&e.publication.Metadata.PublicationDate.getFullYear()>0&&(q=q+"("+e.publication.Metadata.PublicationDate.getFullYear()+")",W=W+", "+e.publication.Metadata.PublicationDate.getFullYear(),D=D+", "+e.publication.Metadata.PublicationDate.getFullYear()),q.length>0&&W.length>0&&D.length>0?[D+". ",W+". ",q+". "]:["","",""]},l=function(){return e.properties.title?["<em>"+e.properties.title+"</em>. ","<em>"+e.properties.title+"</em>. ","<em>"+e.properties.title+"</em>. "]:e.publication.Metadata.Title?["<em>"+e.publication.Metadata.Title+"</em>. ","<em>"+e.publication.Metadata.Title+"</em>. ","<em>"+e.publication.Metadata.Title+"</em>. "]:["","",""]},f=function(){return["","",""]},u=function(){let D="",W="",q="";return e.properties.publisher?(W=W+e.properties.publisher+", ",D=D+e.properties.publisher+", ",q=q+e.properties.publisher):e.publication.Metadata.Publisher&&e.publication.Metadata.Publisher[0].Name&&(W=W+e.publication.Metadata.Publisher[0].Name+", ",D=D+e.publication.Metadata.Publisher[0].Name+", ",q=q+e.publication.Metadata.Publisher[0].Name),q.length>0&&W.length>0&&D.length>0?[D+". ",W+". ",q+". "]:["","",""]},m=function(){return["","",""]},y=function(){return["","",""]},_=function(){return["","",""]},v=function(){return e.properties.library?["Retrieved from "+e.properties.library+". ","Retrieved from "+e.properties.library+". ","Retrieved from "+e.properties.library+". "]:["","",""]},p=function(){return e.properties.appName?[e.properties.appName+". ",e.properties.appName+". ",e.properties.appName+". "]:["","",""]},h=function(){return e.properties.appLink?[e.properties.appLink+". ",e.properties.appLink+". ",e.properties.appLink+". "]:["","",""]},c=function(){return["","",""]},g=function(D,W){return D.length>W?D.substring(0,W)+"...":D},w=o()[0]+l()[0]+m()[0]+f()[0]+_()[0]+s()[0]+y()[0]+v()[0]+p()[0]+h()[0],S=o()[2]+s()[2]+l()[2]+f()[2]+u()[2]+m()[2]+y()[2]+_()[2]+v()[2]+p()[2]+h()[2],E=o()[1]+l()[1]+m()[1]+f()[1]+_()[1]+s()[1]+c()[1]+v()[1]+p()[1]+h()[1],b="\u201C"+g(i,e.properties.characters)+"\u201C<br><br>"+w,C="\u201C"+g(i,e.properties.characters)+"\u201C<br><br>"+S,M="\u201C"+g(i,e.properties.characters)+"\u201C<br><br>"+E,P="";(B=e.properties.styles)!=null&&B.includes(Ph[0])&&(e.properties.styles.length>1&&(P=P+"Chicago: <br>"),P=P+b+"<br><br>"),(I=e.properties.styles)!=null&&I.includes(Ph[2])&&(e.properties.styles.length>1&&(P=P+"APA: <br>"),P=P+C+"<br><br>"),(F=e.properties.styles)!=null&&F.includes(Ph[1])&&(e.properties.styles.length>1&&(P=P+"MLA: <br>"),P=P+M+"<br><br>"),e.copyToClipboard(P)}};(r=this.highlighter)==null||r.addSelectionMenuItem(t)}};var yn=rt($t());var Tt=class n extends Th{constructor(t,r=void 0,i=void 0,o,s,l,f,u,m,y,_,v,p,h){super();this.iframes=[];this.sideNavExpanded=!1;this.currentChapterLink={href:""};this.currentSpreadLinks={};this.rights={autoGeneratePositions:!1,enableAnnotations:!1,enableBookmarks:!1,enableContentProtection:!1,enableDefinitions:!1,enableLineFocus:!1,enableMediaOverlays:!1,enablePageBreaks:!1,enableSearch:!1,enableTTS:!1,enableTimeline:!1,customKeyboardEvents:!1,enableHistory:!1,enableCitations:!1};this.didInitKeyboardEventHandler=!1;this.onResize=()=>{clearTimeout(this.timeout),this.timeout=setTimeout(this.handleResize.bind(this),200)};this.reload=async()=>{let t;if(this.annotator&&(t=await this.annotator.getLastReadingPosition()),t){let r=this.publication.getAbsoluteHref(t.href);yn.default.log(t.href),yn.default.log(r),t.href=r,await this.navigate(t)}};this.savePosition=(0,Oh.debounce)(()=>{this.annotator&&this.saveCurrentReadingPosition()},200);this.checkResourcePosition=(0,Oh.debounce)(()=>{var t,r,i,o,s,l,f,u,m,y;(t=this.view)!=null&&t.atStart()&&((r=this.view)!=null&&r.atEnd())?((i=this.api)!=null&&i.resourceFitsScreen&&((o=this.api)==null||o.resourceFitsScreen()),this.emit("resource.fits")):(s=this.view)!=null&&s.atEnd()?((l=this.api)!=null&&l.resourceAtEnd&&((f=this.api)==null||f.resourceAtEnd()),this.emit("resource.end")):(u=this.view)!=null&&u.atStart()&&((m=this.api)!=null&&m.resourceAtStart&&((y=this.api)==null||y.resourceAtStart()),this.emit("resource.start"))},200);this.highlighter=p,this.highlighter&&(this.highlighter.navigator=this);for(let c in h){let g=h[c];g&&(g.navigator=this),h[c]instanceof Ga&&(this.annotationModule=g),h[c]instanceof Wa&&(this.bookmarkModule=g),h[c]instanceof js&&(this.ttsModule=g),h[c]instanceof js&&(this.ttsModule=g),h[c]instanceof su&&(this.searchModule=g),h[c]instanceof uu&&(this.definitionsModule=g),h[c]instanceof $a&&(this.timelineModule=g),h[c]instanceof Fs&&(this.contentProtectionModule=g),h[c]instanceof Gs&&(this.citationModule=g),h[c]instanceof Va&&(this.mediaOverlayModule=g),h[c]instanceof au&&(this.pageBreakModule=g),h[c]instanceof qs&&(this.lineFocusModule=g),h[c]instanceof lu&&(this.historyModule=g),h[c]instanceof qa&&(this.consumptionModule=g)}this.settings=t,this.annotator=r,this.view=t.view,this.view.attributes=m,this.view.navigator=this,this.eventHandler=new wl(this),this.touchEventHandler=new Ul(this),this.keyboardEventHandler=new jl(this),this.initialLastReadingPosition=i,this.publication=o,this.api=s,this.rights=l??{autoGeneratePositions:!1,enableAnnotations:!1,enableBookmarks:!1,enableContentProtection:!1,enableDefinitions:!1,enableLineFocus:!1,enableMediaOverlays:!1,enablePageBreaks:!1,enableSearch:!1,enableTTS:!1,enableTimeline:!1,customKeyboardEvents:!1,enableHistory:!1,enableCitations:!1},this.tts=f,this.injectables=u,this.attributes=m||{margin:0},this.services=y,this.sample=_,this.requestConfig=v,this.sampleReadEventHandler=new ql(this)}static async create(t){let r=new this(t.settings,t.annotator||void 0,t.initialLastReadingPosition||void 0,t.publication,t.api,t.rights,t.tts,t.injectables,t.attributes||{margin:0},t.services,t.sample,t.requestConfig,t.highlighter,t.modules);return await r.start(t.mainElement,t.headerMenu,t.footerMenu),new Promise(i=>i(r))}stop(){yn.default.log("Iframe navigator stop"),Ue(this.previousChapterAnchorElement,"click",this.handlePreviousChapterClick.bind(this)),Ue(this.nextChapterAnchorElement,"click",this.handleNextChapterClick.bind(this)),Ue(this.previousChapterTopAnchorElement,"click",this.handlePreviousPageClick.bind(this)),Ue(this.nextChapterBottomAnchorElement,"click",this.handleNextPageClick.bind(this)),Ue(this.previousPageAnchorElement,"click",this.handlePreviousPageClick.bind(this)),Ue(this.nextPageAnchorElement,"click",this.handleNextPageClick.bind(this)),Ue(this.tryAgainButton,"click",this.tryAgain.bind(this)),Ue(this.goBackButton,"click",n.goBack.bind(this)),Ue(this.espandMenuIcon,"click",this.handleEditClick.bind(this)),Ue(window,"resize",this.onResize),this.iframes.forEach(t=>{Ue(t,"resize",this.onResize)}),this.didInitKeyboardEventHandler&&this.keyboardEventHandler.removeEvents(document)}setDirection(t){var i,o;let r="";(t==="rtl"||t==="ltr")&&(r=t),t==="auto"&&(r=this.publication.Metadata.Direction2),r&&(r==="rtl"&&(this.spreads.style.flexDirection="row-reverse"),r==="ltr"&&(this.spreads.style.flexDirection="row"),this.keyboardEventHandler.rtl=r==="rtl",(i=this.api)!=null&&i.direction&&((o=this.api)==null||o.direction(r)),this.emit("direction",r))}async start(t,r,i){var p,h,c,g,w,S,E,b,C,M,P,B,I,F,D,W,q;this.headerMenu=r,this.mainElement=t;try{let G=yt(t,"main#iframe-wrapper");G.style.overflow="auto";let Y=Re(t,"main#iframe-wrapper iframe"),X=Re(t,"#second");if(Y&&this.iframes.push(Y),X&&this.iframes.push(X),window.matchMedia("screen and (max-width: 600px)").matches&&(this.settings.columnCount=1),this.iframes.length===0){G.style.overflow="auto";let Q=document.createElement("iframe");if(Q.setAttribute("SCROLLING","no"),Q.setAttribute("allowtransparency","true"),this.iframes.push(Q),this.publication.isFixedLayout){this.spreads=document.createElement("div"),this.firstSpread=document.createElement("div"),this.spreads.style.display="flex",this.spreads.style.alignItems="center",this.spreads.style.justifyContent="center",this.spreads.appendChild(this.firstSpread),this.firstSpread.appendChild(this.iframes[0]),G.appendChild(this.spreads);let se="";switch(this.settings.direction){case 0:se="auto";break;case 1:se="ltr";break;case 2:se="rtl";break}this.setDirection(se)}else Q.setAttribute("height","100%"),Q.setAttribute("width","100%"),G.appendChild(this.iframes[0]);if(this.publication.isFixedLayout)if(this.settings.columnCount!==1&&!window.matchMedia("screen and (max-width: 600px)").matches){let se=document.createElement("div");this.spreads.appendChild(se);let ve=document.createElement("iframe");ve.setAttribute("SCROLLING","no"),ve.setAttribute("allowtransparency","true"),ve.style.opacity="1",ve.style.border="none",ve.style.overflow="hidden",this.iframes.push(ve),se.appendChild(this.iframes[1]),this.settings.fixedLayoutShadow&&(this.firstSpread.style.clipPath="polygon(0% -20%, 100% -20%, 100% 120%, -20% 120%)",this.firstSpread.style.boxShadow="0 0 8px 2px #ccc",se.style.clipPath="polygon(0% -20%, 100% -20%, 120% 100%, 0% 120%)",se.style.boxShadow="0 0 8px 2px #ccc")}else this.settings.fixedLayoutShadow&&(this.firstSpread.style.clipPath="polygon(0% -20%, 100% -20%, 120% 100%, -20% 120%)",this.firstSpread.style.boxShadow="0 0 8px 2px #ccc");else this.iframes[0].style.paddingTop=(((p=this.attributes)==null?void 0:p.iframePaddingTop)??0)+"px"}if(this.publication.isFixedLayout){let Q=G.clientHeight;var o=(h=this.iframes[0].parentElement)==null?void 0:h.parentElement;o.style.height=Q+40+"px"}else this.iframes.length===2&&this.iframes.pop();if(this.loadingMessage=Re(t,"#reader-loading"),this.loadingMessage&&(this.loadingMessage.innerHTML=Ch,this.loadingMessage.style.display="none"),this.errorMessage=Re(t,"#reader-error"),this.errorMessage&&(this.errorMessage.innerHTML=kE,this.errorMessage.style.display="none"),this.tryAgainButton=Re(t,"#r2d2bc-try-again"),this.goBackButton=Re(t,"#r2d2bc-go-back"),this.infoTop=Re(t,"#reader-info-top")||Re(t,"div[class='info top']"),this.infoBottom=Re(t,"#reader-info-bottom")||Re(t,"div[class='info bottom']"),this.headerMenu&&(this.bookTitle=Re(this.headerMenu,"#book-title")),this.infoBottom&&(this.chapterTitle=Re(this.infoBottom,"#chapter-title")||Re(this.infoBottom,"span[class=chapter-title]")),this.infoBottom&&(this.chapterPosition=Re(this.infoBottom,"#chapter-position")||Re(this.infoBottom,"span[class=chapter-position]")),this.infoBottom&&(this.remainingPositions=Re(this.infoBottom,"#remaining-positions")||Re(this.infoBottom,"span[class=remaining-positions]")),this.headerMenu&&(this.espandMenuIcon=Re(this.headerMenu,"#expand-menu")),this.headerMenu&&(this.links=Re(this.headerMenu,"ul.links.top")),this.headerMenu&&(this.linksTopLeft=Re(this.headerMenu,"#nav-mobile-left")),this.headerMenu&&(this.tocView=Re(this.headerMenu,"#container-view-toc")),this.headerMenu&&(this.landmarksView=Re(this.headerMenu,"#container-view-landmarks")),this.headerMenu&&(this.landmarksSection=Re(this.headerMenu,"#sidenav-section-landmarks")),this.headerMenu&&(this.pageListView=Re(this.headerMenu,"#container-view-pagelist")),i&&(this.linksBottom=Re(i,"ul.links.bottom")),i&&(this.linksMiddle=Re(i,"ul.links.middle")),this.headerMenu&&(this.nextChapterAnchorElement=Re(this.headerMenu,"a[rel=next]")),this.headerMenu&&(this.nextChapterBottomAnchorElement=Re(t,"#next-chapter")),i&&(this.nextPageAnchorElement=Re(i,"a[rel=next]")),this.headerMenu&&(this.previousChapterAnchorElement=Re(this.headerMenu,"a[rel=prev]")),this.headerMenu&&(this.previousChapterTopAnchorElement=Re(t,"#previous-chapter")),i&&(this.previousPageAnchorElement=Re(i,"a[rel=prev]")),this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.newPosition=void 0,this.newElementId=void 0,this.isBeingStyled=!0,this.isLoading=!0,this.settings.setIframe(this.iframes[0]),this.settings.onSettingsChange(this.handleResize.bind(this)),this.settings.onColumnSettingsChange(this.handleNumberOfIframes.bind(this)),this.settings.onViewChange(this.updateBookView.bind(this)),this.initialLastReadingPosition&&((c=this.annotator)==null||c.initLastReadingPosition(this.initialLastReadingPosition)),this.headerMenu){var s=Re(this.headerMenu,"#menu-button-search"),l=Re(this.headerMenu,"#menu-button-tts"),f=Re(this.headerMenu,"#menu-button-bookmark"),u=Re(this.headerMenu,"#menu-button-play"),m=Re(this.headerMenu,"#menu-button-pause"),y=Re(this.headerMenu,"#menu-button-mediaoverlay");if(!this.rights.enableBookmarks){f&&((g=f.parentElement)==null||g.style.setProperty("display","none"));var _=Re(this.headerMenu,"#sidenav-section-bookmarks");_&&_.style.setProperty("display","none")}if(!this.rights.enableAnnotations){var v=Re(this.headerMenu,"#sidenav-section-highlights");v&&v.style.setProperty("display","none")}this.rights.enableTTS||l&&((w=l.parentElement)==null||w.style.setProperty("display","none")),this.rights.enableSearch||s&&((S=s.parentElement)==null||S.style.setProperty("display","none")),s&&((E=this.view)!=null&&E.navigator.publication.isFixedLayout)&&((b=s.parentElement)==null||b.style.setProperty("display","none")),this.hasMediaOverlays?(u&&((C=u.parentElement)==null||C.style.removeProperty("display")),m&&((M=m.parentElement)==null||M.style.removeProperty("display")),y&&((P=y.parentElement)==null||P.style.removeProperty("display"))):(u&&((B=u.parentElement)==null||B.style.setProperty("display","none")),m&&((I=m.parentElement)==null||I.style.setProperty("display","none")),y&&((F=y.parentElement)==null||F.style.setProperty("display","none")))}else s&&((D=s.parentElement)==null||D.style.setProperty("display","none")),l&&((W=l.parentElement)==null||W.style.setProperty("display","none")),f&&((q=f.parentElement)==null||q.style.setProperty("display","none"));return this.setupEvents(),await this.loadManifest()}catch(G){return yn.default.error(G),this.abortOnError(G),Promise.reject(G)}}setupEvents(){for(let t of this.iframes)we(t,"load",this.handleIFrameLoad.bind(this,t));we(this.previousChapterAnchorElement,"click",this.handlePreviousChapterClick.bind(this)),we(this.nextChapterAnchorElement,"click",this.handleNextChapterClick.bind(this)),we(this.previousChapterTopAnchorElement,"click",this.handlePreviousPageClick.bind(this)),we(this.nextChapterBottomAnchorElement,"click",this.handleNextPageClick.bind(this)),we(this.previousPageAnchorElement,"click",this.handlePreviousPageClick.bind(this)),we(this.nextPageAnchorElement,"click",this.handleNextPageClick.bind(this)),we(this.tryAgainButton,"click",this.tryAgain.bind(this)),we(this.goBackButton,"click",n.goBack.bind(this)),we(this.espandMenuIcon,"click",this.handleEditClick.bind(this)),we(window,"resize",this.onResize);for(let t of this.iframes)we(t,"resize",this.onResize)}updateBookView(t){var r;((r=this.view)==null?void 0:r.layout)==="fixed"?(this.nextPageAnchorElement&&(this.nextPageAnchorElement.style.display="none"),this.previousPageAnchorElement&&(this.previousPageAnchorElement.style.display="none"),this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.eventHandler&&(this.eventHandler.onClickThrough=this.handleClickThrough.bind(this)),this.keyboardEventHandler&&(this.keyboardEventHandler.onBackwardSwipe=this.handlePreviousChapterClick.bind(this),this.keyboardEventHandler.onForwardSwipe=this.handleNextChapterClick.bind(this),this.keyboardEventHandler.onKeydown=this.handleKeydownFallthrough.bind(this)),this.touchEventHandler&&(this.touchEventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.touchEventHandler.onForwardSwipe=this.handleNextPageClick.bind(this))):(this.settings.isPaginated().then(i=>{var o,s,l,f,u,m;if(i)this.view.height=pi()-40-(((o=this.attributes)==null?void 0:o.margin)??0),this.infoBottom&&this.infoBottom.style.removeProperty("display"),document.body.onscroll=()=>{},this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.nextPageAnchorElement&&(this.nextPageAnchorElement.style.display="unset"),this.previousPageAnchorElement&&(this.previousPageAnchorElement.style.display="unset"),this.chapterTitle&&(this.chapterTitle.style.display="inline"),this.chapterPosition&&(this.chapterPosition.style.display="inline"),this.remainingPositions&&(this.remainingPositions.style.display="inline"),this.eventHandler&&(this.eventHandler.onInternalLink=this.handleInternalLink.bind(this),this.eventHandler.onClickThrough=this.handleClickThrough.bind(this)),this.touchEventHandler&&(this.touchEventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.touchEventHandler.onForwardSwipe=this.handleNextPageClick.bind(this)),this.keyboardEventHandler&&(this.keyboardEventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.keyboardEventHandler.onForwardSwipe=this.handleNextPageClick.bind(this),this.keyboardEventHandler.onKeydown=this.handleKeydownFallthrough.bind(this));else{this.infoBottom&&(this.infoBottom.style.display="none"),this.nextPageAnchorElement&&(this.nextPageAnchorElement.style.display="none"),this.previousPageAnchorElement&&(this.previousPageAnchorElement.style.display="none"),((s=this.view)==null?void 0:s.layout)==="fixed"?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none")):(l=this.view)!=null&&l.atStart()&&((f=this.view)!=null&&f.atEnd())?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):(u=this.view)!=null&&u.atEnd()?(this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset")):(m=this.view)!=null&&m.atStart()?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"));let y=(0,Oh.debounce)(()=>{this.isScrolling=!1},200),_=yt(document,"#iframe-wrapper");_.onscroll=async()=>{var v,p;this.isScrolling=!0,await this.savePosition(),(v=this.view)!=null&&v.atEnd(),((p=this.view)==null?void 0:p.layout)==="fixed"?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none")):(this.settings.isPaginated().then(h=>{var c,g,w,S;h||((c=this.view)!=null&&c.atStart()&&((g=this.view)!=null&&g.atEnd())?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):(w=this.view)!=null&&w.atEnd()?(this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset")):(S=this.view)!=null&&S.atStart()?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none")))}),this.checkResourcePosition()),y()},this.chapterTitle&&(this.chapterTitle.style.display="none"),this.chapterPosition&&(this.chapterPosition.style.display="none"),this.remainingPositions&&(this.remainingPositions.style.display="none"),this.eventHandler&&(this.eventHandler.onInternalLink=this.handleInternalLink.bind(this),this.eventHandler.onClickThrough=this.handleClickThrough.bind(this)),this.touchEventHandler&&(this.touchEventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.touchEventHandler.onForwardSwipe=this.handleNextPageClick.bind(this)),this.keyboardEventHandler&&(this.keyboardEventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.keyboardEventHandler.onForwardSwipe=this.handleNextPageClick.bind(this),this.keyboardEventHandler.onKeydown=this.handleKeydownFallthrough.bind(this))}}),t!=null&&t.skipDrawingAnnotations||setTimeout(async()=>{var i;await((i=this.highlighter)==null?void 0:i.prepareContainers(this.iframes[0].contentWindow)),this.highlighter&&(this.rights.enableAnnotations&&this.annotationModule&&await this.annotationModule.drawHighlights(),this.rights.enableBookmarks&&this.bookmarkModule&&await this.bookmarkModule.drawBookmarks(),this.rights.enableSearch&&this.searchModule&&(await this.highlighter.destroyHighlights(1),this.searchModule.drawSearch()),this.rights.enablePageBreaks&&this.pageBreakModule&&(await this.highlighter.destroyHighlights(3),await this.pageBreakModule.drawPageBreaks()),this.rights.enableDefinitions&&this.definitionsModule&&await this.definitionsModule.drawDefinitions())},200))}async loadManifest(){var t,r,i,o,s;try{let l=(p,h,c=!1)=>{var g=document.createElement("ul");c&&(g=document.createElement("ol")),g.className="sidenav-toc";for(let w of h){let S=document.createElement("li"),E=document.createElement("a"),b=document.createElement("span");E.className="chapter-link",E.tabIndex=-1;let C="";w.Href?(C=this.publication.getAbsoluteHref(w.Href),E.href=C,E.innerHTML=w.Title||"",S.appendChild(E)):(b.innerHTML=w.Title||"",b.className="chapter-title",S.appendChild(b)),w.Children&&w.Children.length>0&&l(S,w.Children,!0),g.appendChild(S)}we(g,"click",w=>{if(w.preventDefault(),w.stopPropagation(),w.target&&w.target.tagName.toLowerCase()==="a"){let S=w.target;if(S.className.indexOf("active")!==-1)this.hideView();else{let E={progression:0};if(S.href.indexOf("#")!==-1){let C=S.href.slice(S.href.indexOf("#")+1);C!==void 0&&(E={fragment:C})}let b={href:S.href,locations:E,type:S.type,title:S.title};this.hideView(),this.navigate(b)}}}),p.appendChild(g)},f=this.publication.tableOfContents,u=this.publication.landmarks,m=this.publication.pageList;this.tocView&&(f.length?l(this.tocView,f):(r=(t=this.tocView.parentElement)==null?void 0:t.parentElement)==null||r.removeChild(this.tocView.parentElement)),this.pageListView&&(m!=null&&m.length?l(this.pageListView,m):(o=(i=this.pageListView.parentElement)==null?void 0:i.parentElement)==null||o.removeChild(this.pageListView.parentElement)),this.landmarksView&&(u!=null&&u.length?l(this.landmarksView,u):(s=this.landmarksSection.parentElement)==null||s.removeChild(this.landmarksSection));let y;this.annotator&&(y=await this.annotator.getLastReadingPosition());let _=this.publication.getStartLink(),v;if(_&&_.Href&&(v=this.publication.getAbsoluteHref(_.Href)),y){let p=this.publication.getAbsoluteHref(y.href);yn.default.log(y.href),yn.default.log(p),y.href=p,await this.navigate(y)}else if(v){let p={href:v,locations:{progression:0},created:new Date,title:_==null?void 0:_.Title};await this.navigate(p)}return new Promise(p=>p())}catch(l){return yn.default.error(l),this.abortOnError(l),new Promise((f,u)=>u(l)).catch(()=>{})}}async handleIFrameLoad(t){var r,i,o,s,l,f,u,m,y,_,v;this.errorMessage&&(this.errorMessage.style.display="none"),this.showLoadingMessageAfterDelay();try{let p=0;this.newPosition&&(p=this.newPosition.locations.progression),await this.handleResize(),this.updateBookView({skipDrawingAnnotations:!0}),await this.settings.applyProperties();let h=this.currentChapterLink.href;if(h){let b=this.publication.getPreviousSpineItem(h);b&&b.Href&&(this.previousChapterLink={href:b.Href,title:b.Title,type:b.TypeLink})}this.previousChapterAnchorElement&&(this.previousChapterLink&&this.previousChapterLink.href?(this.previousChapterAnchorElement.href=this.publication.getAbsoluteHref(this.previousChapterLink.href),this.previousChapterAnchorElement.className=this.previousChapterAnchorElement.className.replace(" disabled","")):(this.previousChapterAnchorElement.removeAttribute("href"),this.previousChapterAnchorElement.className+=" disabled"));let c=this.publication.getNextSpineItem(h);c?this.nextChapterLink={href:c.Href,title:c.Title,type:c.TypeLink}:this.nextChapterLink=void 0,this.nextChapterAnchorElement&&(this.nextChapterLink&&this.nextChapterLink.href?(this.nextChapterAnchorElement.href=this.publication.getAbsoluteHref(this.nextChapterLink.href),this.nextChapterAnchorElement.className=this.nextChapterAnchorElement.className.replace(" disabled","")):(this.nextChapterAnchorElement.removeAttribute("href"),this.nextChapterAnchorElement.className+=" disabled")),this.historyModule&&this.historyModule.setup(),this.currentTocUrl!==void 0?this.setActiveTOCItem(this.currentTocUrl):this.setActiveTOCItem(h),this.publication.Metadata.Title&&this.bookTitle&&(this.bookTitle.innerHTML=this.publication.Metadata.Title.toString());let g=this.publication.getSpineItem(h);g!==void 0&&(this.currentChapterLink.title=g.Title,this.currentChapterLink.type=g.TypeLink);let w=this.publication.getTOCItem(h);this.currentTocUrl!==void 0&&(w=this.publication.getTOCItem(this.currentTocUrl)),!this.currentChapterLink.title&&w!==void 0&&w.Title&&(this.currentChapterLink.title=w.Title),!this.currentChapterLink.type&&w!==void 0&&w.TypeLink&&(this.currentChapterLink.title=w.Title),this.currentChapterLink.title?(this.chapterTitle&&(this.chapterTitle.innerHTML="("+this.currentChapterLink.title+")"),(r=this.api)!=null&&r.chapterInfo&&((i=this.api)==null||i.chapterInfo(this.currentChapterLink.title)),this.emit("chapterinfo",this.currentChapterLink.title)):(this.chapterTitle&&(this.chapterTitle.innerHTML="(Current Chapter)"),(o=this.api)!=null&&o.chapterInfo&&((s=this.api)==null||s.chapterInfo(void 0)),this.emit("chapterinfo",void 0)),await this.injectInjectablesIntoIframeHead(t),((l=this.view)==null?void 0:l.layout)!=="fixed"&&this.highlighter!==void 0&&await this.highlighter.initialize(t);let S=(f=t.contentDocument)==null?void 0:f.body,E=S==null?void 0:S.querySelector("details");if(E){let b=this;E.addEventListener("toggle",async C=>{var M,P;await((P=(M=b.view)==null?void 0:M.setIframeHeight)==null?void 0:P.call(M,t))})}if(this.eventHandler&&(this.eventHandler.setupEvents(t.contentDocument),this.touchEventHandler.setupEvents(t.contentDocument),this.keyboardEventHandler.setupEvents(t.contentDocument),this.touchEventHandler.setupEvents(this.errorMessage),this.didInitKeyboardEventHandler||(this.keyboardEventHandler.keydown(document),this.didInitKeyboardEventHandler=!0)),((u=this.view)==null?void 0:u.layout)!=="fixed"&&(m=this.view)!=null&&m.isScrollMode()&&(t.height="0",(_=(y=this.view)==null?void 0:y.setIframeHeight)==null||_.call(y,t)),this.rights.enableContentProtection&&this.contentProtectionModule&&await this.contentProtectionModule.initialize(t),this.rights.enableConsumption&&this.consumptionModule&&await this.consumptionModule.initialize(t),this.rights.enableAnnotations&&this.annotationModule&&await this.annotationModule.initialize(t),this.rights.enableBookmarks&&this.bookmarkModule&&await this.bookmarkModule.initialize(),this.rights.enableLineFocus&&this.lineFocusModule&&await this.lineFocusModule.initialize(t),this.rights.enableTTS&&this.ttsModule){let b=(v=t.contentDocument)==null?void 0:v.body;await this.ttsModule.initialize(b)}return this.rights.enableTimeline&&this.timelineModule&&await this.timelineModule.initialize(),this.rights.enableMediaOverlays&&this.mediaOverlayModule&&this.hasMediaOverlays&&await this.mediaOverlayModule.initialize(),setTimeout(async()=>{var b,C,M,P,B,I,F,D;if(this.newElementId){let W=t.contentDocument.getElementById(this.newElementId);(C=(b=this.view)==null?void 0:b.goToElement)==null||C.call(b,W),this.newElementId=void 0}else if(this.newPosition&&this.newPosition.highlight){let W=(M=this.newPosition.highlight)==null?void 0:M.selectionInfo.rangeInfo.startContainerElementCssSelector;W&&((P=this.view)==null||P.goToCssSelector(W))}else p&&p>=0&&((B=this.view)==null||B.goToProgression(p));if(this.newPosition=void 0,(I=this.rights)!=null&&I.enableContentProtection&&this.contentProtectionModule!==void 0&&await this.contentProtectionModule.recalculate(10),this.hideLoadingMessage(),this.showIframeContents(t),this.rights.enableMediaOverlays&&this.mediaOverlayModule&&this.hasMediaOverlays){let W=this.currentLink();await((F=this.mediaOverlayModule)==null?void 0:F.initializeResource(W))}await this.updatePositionInfo(),await((D=this.view)==null?void 0:D.setSize()),setTimeout(()=>{this.mediaOverlayModule&&(this.mediaOverlayModule.settings.resourceReady=!0)},300)},200),new Promise(b=>b())}catch(p){return yn.default.error(p),this.abortOnError(p),Promise.reject(p)}}async injectInjectablesIntoIframeHead(t){var s,l;let r=[],i=f=>{let u=new Promise((m,y)=>{f.onload=()=>{m(!0)},f.onerror=_=>{let v=typeof _=="string"?_:`Injectable failed to load at: ${"href"in f?f.href:f.src}`;y(new Error(v))}});r.push(u)},o=(s=t.contentDocument)==null?void 0:s.head;o&&(t.contentDocument.getElementsByTagName("base").length===0&&o.insertBefore(n.createBase(this.currentChapterLink.href),o.firstChild),(l=this.injectables)==null||l.forEach(u=>{if(u.type==="style"){if(u.fontFamily){if(this.settings.initAddedFont(),!u.systemFont&&u.url){let m=n.createCssLink(u.url);o.appendChild(m),i(m)}}else if(u.r2before&&u.url){let m=n.createCssLink(u.url);o.insertBefore(m,o.firstChild),i(m)}else if(u.r2default&&u.url){let m=n.createCssLink(u.url);o.insertBefore(m,o.childNodes[1]),i(m)}else if(u.r2after&&u.url){u.appearance&&this.settings.initAddedAppearance();let m=n.createCssLink(u.url);o.appendChild(m),i(m)}else if(u.url){let m=n.createCssLink(u.url);o.appendChild(m),i(m)}}else if(u.type==="script"&&u.url){let m=n.createJavascriptLink(u.url,u.async??!1);o.appendChild(m),i(m)}})),r.length!==0&&await Promise.all(r)}abortOnError(t){var r;if((r=this.api)!=null&&r.onError){let i=t instanceof Error?t:typeof t=="string"?new Error(t):new Error("An unknown error occurred in the IFrameNavigator.");this.api.onError(i)}else this.errorMessage&&(this.errorMessage.style.display="block"),this.isLoading&&this.hideLoadingMessage()}tryAgain(){this.precessContentForIframe()}precessContentForIframe(){var u,m,y,_,v,p;let t=this;var r=this.publication.getSpineIndex(this.currentChapterLink.href),i=(r??0)%2===1;this.showLoadingMessageAfterDelay();function o(h,c){let w=new DOMParser().parseFromString(h,"application/xhtml+xml");w.head&&w.getElementsByTagName("base").length===0&&w.head.insertBefore(n.createBase(c),w.head.firstChild);let S=w.documentElement.outerHTML,E=t.iframes[0].contentDocument;E&&(E.open(),E.write(S),E.close())}function s(h,c){let w=new DOMParser().parseFromString(h,"application/xhtml+xml");w.head&&w.getElementsByTagName("base").length===0&&w.head.insertBefore(n.createBase(c),w.head.firstChild);let S=w.documentElement.outerHTML,E=t.iframes[1].contentDocument;E&&(E.open(),E.write(S),E.close())}let l=new URL(this.currentChapterLink.href),f=window.location.protocol===l.protocol&&window.location.port===l.port&&window.location.hostname===l.hostname;if((u=this.api)!=null&&u.getContent)if(this.publication.isFixedLayout)if(this.settings.columnCount!==1)if(i){if(this.currentSpreadLinks.left={href:this.currentChapterLink.href},(m=this.api)==null||m.getContent(this.currentChapterLink.href).then(h=>{h===void 0?f?this.iframes[0].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(c=>c.text()).then(async c=>{o.call(this,c,this.currentChapterLink.href)}):o.call(this,h,this.currentChapterLink.href)}),this.iframes.length===2)if((r??0)<this.publication.readingOrder.length-1){let h=this.publication.getNextSpineItem(this.currentChapterLink.href);if(h){let c=this.publication.getAbsoluteHref(h.Href);this.currentSpreadLinks.right={href:c},(y=this.api)==null||y.getContent(c).then(g=>{g===void 0?f?this.iframes[1].src=c:fetch(c,this.requestConfig).then(w=>w.text()).then(async w=>{s.call(this,w,c),this.currentSpreadLinks.right={href:c}}):s.call(this,g,c)})}}else this.iframes[1].src="about:blank"}else{if((r??0)>0){let h=this.publication.getPreviousSpineItem(this.currentChapterLink.href);if(h){let c=this.publication.getAbsoluteHref(h.Href);this.currentSpreadLinks.left={href:c},(_=this.api)==null||_.getContent(c).then(g=>{g===void 0?f?this.iframes[0].src=c:fetch(c,this.requestConfig).then(w=>w.text()).then(async w=>{o.call(this,w,c)}):o.call(this,g,c)})}}else this.iframes[0].src="about:blank";this.iframes.length===2&&this.publication.isFixedLayout&&(this.currentSpreadLinks.right={href:this.currentChapterLink.href},this.api.getContent(this.currentChapterLink.href).then(h=>{h===void 0?f?this.iframes[1].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(c=>c.text()).then(async c=>{s.call(this,c,this.currentChapterLink.href)}):s.call(this,h,this.currentChapterLink.href)}))}else this.currentSpreadLinks.left={href:this.currentChapterLink.href},(v=this.api)==null||v.getContent(this.currentChapterLink.href).then(h=>{h===void 0?f?this.iframes[0].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(c=>c.text()).then(async c=>{o.call(this,c,this.currentChapterLink.href)}):o.call(this,h,this.currentChapterLink.href)});else(p=this.api)==null||p.getContent(this.currentChapterLink.href).then(h=>{this.currentSpreadLinks.left={href:this.currentChapterLink.href},h===void 0?f?this.iframes[0].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(c=>c.text()).then(async c=>{o.call(this,c,this.currentChapterLink.href)}):o.call(this,h,this.currentChapterLink.href)});else if(this.publication.isFixedLayout)if(this.settings.columnCount!==1)if(i){if(f){if(this.iframes[0].src=this.currentChapterLink.href,this.currentSpreadLinks.left={href:this.currentChapterLink.href},this.iframes.length===2)if((r??0)<this.publication.readingOrder.length-1){let h=this.publication.getNextSpineItem(this.currentChapterLink.href);if(h){let c=this.publication.getAbsoluteHref(h.Href);this.iframes[1].src=c,this.currentSpreadLinks.right={href:c}}}else this.iframes[1].src="about:blank"}else if(fetch(this.currentChapterLink.href,this.requestConfig).then(h=>h.text()).then(async h=>{o.call(this,h,this.currentChapterLink.href)}),this.iframes.length===2)if((r??0)<this.publication.readingOrder.length-1){let h=this.publication.getNextSpineItem(this.currentChapterLink.href);if(h){let c=this.publication.getAbsoluteHref(h.Href);this.currentSpreadLinks.right={href:c},fetch(c,this.requestConfig).then(g=>g.text()).then(async g=>{s.call(this,g,c)})}}else this.iframes[1].src="about:blank"}else if((r??0)>0){let h=this.publication.getPreviousSpineItem(this.currentChapterLink.href);if(h){let c=this.publication.getAbsoluteHref(h.Href);this.currentSpreadLinks.left={href:c},f?(this.iframes[0].src=c,this.iframes.length===2&&(this.iframes[1].src=this.currentChapterLink.href)):(fetch(c,this.requestConfig).then(g=>g.text()).then(async g=>{o.call(this,g,c)}),this.iframes.length===2&&(this.currentSpreadLinks.right={href:this.currentChapterLink.href},fetch(this.currentChapterLink.href,this.requestConfig).then(g=>g.text()).then(async g=>{s.call(this,g,this.currentChapterLink.href)})))}}else this.iframes[0].src="about:blank",this.iframes.length===2&&(this.currentSpreadLinks.right={href:this.currentChapterLink.href},f?this.iframes[1].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(h=>h.text()).then(async h=>{s.call(this,h,this.currentChapterLink.href)}));else this.currentSpreadLinks.left={href:this.currentChapterLink.href},f?this.iframes[0].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(h=>h.text()).then(async h=>{o.call(this,h,this.currentChapterLink.href)});else this.currentSpreadLinks.left={href:this.currentChapterLink.href},f?this.iframes[0].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(h=>h.text()).then(async h=>{o.call(this,h,this.currentChapterLink.href)});this.publication.isFixedLayout&&setTimeout(()=>{var P,B,I;let h,c,g;if(r===0&&((P=this.iframes)==null?void 0:P.length)===2?g=this.iframes[1].contentDocument:g=this.iframes[0].contentDocument,g&&g.body&&(h=getComputedStyle(g.body).height,c=getComputedStyle(g.body).width,parseInt(h==null?void 0:h.replace("px",""))===0||parseInt(c==null?void 0:c.replace("px",""))===0)){let F=cr(g,"head");if(F){let D=Re(F,"meta[name=viewport]");if(D){var w=D.content,S=w.split(",").reduce((W,q)=>{var[G,Y]=q.match(/[^\s;=]+/g);return W[G]=isNaN(Number(Y))?Y:+Y,W},{});h=S.height+"px",c=S.width+"px"}}}var E=r===0&&this.iframes.length===2?(B=this.iframes[1].parentElement)==null?void 0:B.parentElement:(I=this.iframes[0].parentElement)==null?void 0:I.parentElement;if(E&&c){var b=(parseInt(getComputedStyle(E).width)-this.settings.fixedLayoutMargin)/(this.iframes.length===2?parseInt(c==null?void 0:c.replace("px",""))*2+2*this.settings.fixedLayoutMargin:parseInt(c==null?void 0:c.replace("px",""))),C=(parseInt(getComputedStyle(E).height)-this.settings.fixedLayoutMargin)/parseInt(h==null?void 0:h.replace("px","")),M=Math.min(b,C);E.style.transform="scale("+M+")";for(let F of this.iframes)F.style.height=h,F.style.width=c,F.parentElement&&(F.parentElement.style.height=h)}},400)}static goBack(){window.history.back()}handleEditClick(t){var o,s,l,f;var r=t.target;if(this.headerMenu){var i=Re(document,".sidenav");r.className.indexOf(" active")===-1?(r.className+=" active",i.className+=" expanded",r.innerText="unfold_less",this.sideNavExpanded=!0,(o=this.bookmarkModule)==null||o.showBookmarks(),(s=this.annotationModule)==null||s.showHighlights()):(r.className=r.className.replace(" active",""),i.className=i.className.replace(" expanded",""),r.innerText="unfold_more",this.sideNavExpanded=!1,(l=this.bookmarkModule)==null||l.showBookmarks(),(f=this.annotationModule)==null||f.showHighlights())}t.preventDefault(),t.stopPropagation()}get hasMediaOverlays(){return this.publication.hasMediaOverlays}startReadAloud(){this.rights.enableTTS&&this.ttsModule.speakPlay()}startReadAlong(){var t;this.rights.enableMediaOverlays&&this.mediaOverlayModule!==void 0&&this.hasMediaOverlays&&((t=this.mediaOverlayModule)==null||t.startReadAloud())}stopReadAloud(){var t;this.rights.enableTTS&&((t=this.highlighter)==null||t.stopReadAloud())}stopReadAlong(){var t;this.rights.enableMediaOverlays&&this.mediaOverlayModule!==void 0&&this.hasMediaOverlays&&((t=this.mediaOverlayModule)==null||t.stopReadAloud())}pauseReadAloud(){this.rights.enableTTS&&(this.ttsModule.speakPause(),this.annotationModule!==void 0&&this.annotationModule.drawHighlights())}pauseReadAlong(){var t;this.rights.enableMediaOverlays&&this.mediaOverlayModule!==void 0&&this.hasMediaOverlays&&((t=this.mediaOverlayModule)==null||t.pauseReadAloud())}resumeReadAloud(){this.rights.enableTTS&&this.ttsModule.speakResume()}resumeReadAlong(){var t;this.rights.enableMediaOverlays&&this.mediaOverlayModule!==void 0&&this.hasMediaOverlays&&((t=this.mediaOverlayModule)==null||t.resumeReadAloud())}totalResources(){return this.publication.readingOrder.length}mostRecentNavigatedTocItem(){return this.publication.getRelativeHref(this.currentTOCRawLink)}currentResource(){let t=this.currentChapterLink.href;return this.publication.getSpineIndex(t)}currentLink(){if(this.settings.columnCount!==1&&this.currentSpreadLinks.left!==void 0&&this.currentSpreadLinks.right!==void 0){let r=this.publication.getSpineItem(this.currentSpreadLinks.left.href),i=this.publication.getSpineItem(this.currentSpreadLinks.right.href);return[r,i]}let t=this.currentChapterLink.href;return[this.publication.getSpineItem(t)]}tableOfContents(){return this.publication.tableOfContents}landmarks(){return this.publication.landmarks}pageList(){return this.publication.pageList}readingOrder(){return this.publication.readingOrder}atStart(){var t;return((t=this.view)==null?void 0:t.atStart())??!1}atEnd(){var t;return((t=this.view)==null?void 0:t.atEnd())??!1}previousPage(){this.handlePreviousPageClick(void 0)}nextPage(){this.handleNextPageClick(void 0)}previousResource(){this.handlePreviousChapterClick(void 0)}nextResource(){this.handleNextChapterClick(void 0)}goTo(t){let r=t.locations??{progression:0};if(t.href.indexOf("#")!==-1){let s=t.href.slice(t.href.indexOf("#")+1);s!==void 0&&(r={...r,fragment:s})}let i={...t};i.locations=r;let o=this.publication.getAbsoluteHref(t.href);yn.default.log(t.href),yn.default.log(o),i.href=o,this.stopReadAloud(),this.navigate(i)}currentLocator(){var r,i,o,s;let t;if(this.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions){let l=this.publication.positionsByHref(this.publication.getRelativeHref(this.currentChapterLink.href)),f=Math.ceil((((r=this.view)==null?void 0:r.getCurrentPosition())??0)*(l.length-1));t=l[f]}else{let l=this.publication.getTOCItem(this.currentChapterLink.href);l&&(this.currentTocUrl!==void 0&&(l=this.publication.getTOCItem(this.currentTocUrl)),l===void 0&&(l=this.publication.getTOCItemAbsolute(this.currentChapterLink.href)),l&&(t={href:l.Href,type:this.currentChapterLink.type,title:this.currentChapterLink.title,locations:{}}))}return t&&(t.locations.progression=(i=this.view)==null?void 0:i.getCurrentPosition(),t.displayInfo={resourceScreenIndex:Math.round(((o=this.view)==null?void 0:o.getCurrentPage())??0),resourceScreenCount:Math.round(((s=this.view)==null?void 0:s.getPageCount())??0)}),t}positions(){return this.publication.positions?this.publication.positions:[]}goToPosition(t){if(this.publication.positions){let r=this.publication.positions.filter(i=>i.locations.position===parseInt(String(t)))[0];this.goTo(r)}}async goToPage(t){this.pageBreakModule!==void 0&&await this.pageBreakModule.goToPageNumber(t)}snapToSelector(t){var i;let r=this.iframes[0].contentDocument;if(r){yn.default.log(t);let o=r.querySelectorAll(t);o.length>0&&((i=this.view)==null||i.snap(o[0]))}}applyAttributes(t){this.attributes=t,this.view.attributes=t,this.handleResize()}handlePreviousPageClick(t){var r,i,o,s;this.stopReadAloud(),((r=this.view)==null?void 0:r.layout)==="fixed"?this.handlePreviousChapterClick(t):((i=this.view)!=null&&i.atStart()?this.handlePreviousChapterClick(t):((s=(o=this.view)==null?void 0:o.goToPreviousPage)==null||s.call(o),this.updatePositionInfo(),this.savePosition()),t&&(t.preventDefault(),t.stopPropagation()))}handleNextPageClick(t){var i,o,s,l,f,u,m,y,_,v,p,h,c;let r=!0;if((i=this.sample)!=null&&i.isSampleRead&&this.publication.positions){let g=this.currentLocator(),w=Math.round((g.locations.totalProgression??0)*100);(o=this.sample)!=null&&o.limit&&(r=w<=((s=this.sample)==null?void 0:s.limit),((l=this.view)==null?void 0:l.layout)==="fixed"&&((!r&&((f=this.sample)==null?void 0:f.minimum)&&g.locations.position)??0<=(((u=this.sample)==null?void 0:u.minimum)??0))&&(r=!0))}(r&&((m=this.sample)!=null&&m.isSampleRead)&&this.publication.positions||!((y=this.sample)!=null&&y.isSampleRead)||!this.publication.positions)&&(this.stopReadAloud(),((_=this.view)==null?void 0:_.layout)==="fixed"?this.handleNextChapterClick(t):((v=this.view)!=null&&v.atEnd()?this.handleNextChapterClick(t):((h=(p=this.view)==null?void 0:p.goToNextPage)==null||h.call(p),this.updatePositionInfo(),this.savePosition()),t&&(t.preventDefault(),t.stopPropagation()))),!r&&((c=this.sample)!=null&&c.isSampleRead)&&this.publication.positions&&t&&(t.preventDefault(),t.stopPropagation())}handleClickThrough(t){var r,i;(r=this.api)!=null&&r.clickThrough&&((i=this.api)==null||i.clickThrough(t)),this.emit("click",t)}handleInternalLink(t){let r=t.target,i={progression:0},o=r;if(o.href.indexOf("#")!==-1){let l=o.href.slice(o.href.indexOf("#")+1);l!==void 0&&(i={fragment:l})}let s={href:o.href,locations:i,type:o.type,title:o.title};t.preventDefault(),t.stopPropagation(),this.stopReadAloud(),this.navigate(s)}handleNumberOfIframes(){if(this.publication.isFixedLayout){if(this.settings.columnCount!==1&&!window.matchMedia("screen and (max-width: 600px)").matches){if(this.iframes.length===1){var t=document.createElement("iframe");t.setAttribute("SCROLLING","no"),t.setAttribute("allowtransparency","true"),t.style.opacity="1",t.style.border="none",t.style.overflow="hidden",this.iframes.push(t)}let r=document.createElement("div");this.spreads.appendChild(r),r.appendChild(this.iframes[1]),this.settings.fixedLayoutShadow&&(this.firstSpread.style.clipPath="polygon(0% -20%, 100% -20%, 100% 120%, -20% 120%)",this.firstSpread.style.boxShadow="0 0 8px 2px #ccc",r.style.clipPath="polygon(0% -20%, 100% -20%, 120% 100%, 0% 120%)",r.style.boxShadow="0 0 8px 2px #ccc")}else this.iframes.length===2&&(this.iframes.pop(),this.spreads.lastChild&&this.spreads.removeChild(this.spreads.lastChild)),this.settings.fixedLayoutShadow&&(this.firstSpread.style.clipPath="polygon(0% -20%, 100% -20%, 120% 100%, -20% 120%)",this.firstSpread.style.boxShadow="0 0 8px 2px #ccc");this.precessContentForIframe()}}async handleResize(){var m,y,_,v,p,h,c;if(this.isScrolling)return;if(this.publication.isFixedLayout){var t=this.publication.getSpineIndex(this.currentChapterLink.href);let g=pi()-40-(((m=this.attributes)==null?void 0:m.margin)??0);var r=t===0&&this.iframes.length===2?(y=this.iframes[1].parentElement)==null?void 0:y.parentElement:(_=this.iframes[0].parentElement)==null?void 0:_.parentElement;if(r){r.style.height=g+40+"px";let w,S,E;t===0&&((v=this.iframes)==null?void 0:v.length)===2?E=this.iframes[1].contentDocument:E=this.iframes[0].contentDocument,E&&E.body&&(w=getComputedStyle(E.body).height,S=getComputedStyle(E.body).width);let b=cr(E,"head");if(b){let C=Re(b,"meta[name=viewport]");if(C){var i=C.content,o=i.split(",").reduce((M,P)=>{var[B,I]=P.match(/[^\s;=]+/g);return M[B]=isNaN(Number(I))?I:+I,M},{});(parseInt(o.height)!==0||parseInt(o.width)!==0)&&(w=o.height+"px",S=o.width+"px")}}var s=(parseInt(getComputedStyle(r).width)-this.settings.fixedLayoutMargin)/(this.iframes.length===2?parseInt(S==null?void 0:S.replace("px",""))*2+2*this.settings.fixedLayoutMargin:parseInt(S==null?void 0:S.replace("px",""))),l=(parseInt(getComputedStyle(r).height)-this.settings.fixedLayoutMargin)/parseInt(w==null?void 0:w.replace("px","")),f=Math.min(s,l);r.style.transform="scale("+f+")";for(let C of this.iframes)C.style.height=w,C.style.width=S,C.parentElement&&(C.parentElement.style.height=w)}}let u=(p=this.view)==null?void 0:p.getCurrentPosition();await this.settings.applyProperties(),this.infoTop&&(this.infoTop.style.height="0px"),this.infoTop&&(this.infoTop.style.minHeight="0px"),this.infoBottom&&(this.infoBottom.style.height=(h=this.attributes)!=null&&h.bottomInfoHeight?this.attributes.bottomInfoHeight+"px":"40px"),((c=this.view)==null?void 0:c.layout)!=="fixed"&&this.settings.isPaginated().then(g=>{var w;g?(this.view.height=pi()-40-(((w=this.attributes)==null?void 0:w.margin)??0),this.infoBottom&&this.infoBottom.style.removeProperty("display")):this.infoBottom&&(this.infoBottom.style.display="none")}),setTimeout(()=>{var g,w,S,E;((g=this.view)==null?void 0:g.layout)!=="fixed"&&(w=this.view)!=null&&w.isScrollMode()&&((E=(S=this.view)==null?void 0:S.setIframeHeight)==null||E.call(S,this.iframes[0]))},100),setTimeout(async()=>{var g;u&&((g=this.view)==null||g.goToProgression(u)),await this.updatePositionInfo(!1),this.annotationModule!==void 0&&await this.annotationModule.handleResize(),this.bookmarkModule!==void 0&&await this.bookmarkModule.handleResize(),this.searchModule!==void 0&&await this.searchModule.handleResize(),this.definitionsModule!==void 0&&await this.definitionsModule.handleResize(),this.pageBreakModule!==void 0&&await this.pageBreakModule.handleResize(),this.contentProtectionModule!==void 0&&this.contentProtectionModule.handleResize(),this.lineFocusModule!==void 0&&this.lineFocusModule.handleResize(),this.historyModule!==void 0&&this.historyModule.handleResize()},150)}updatePositionInfo(t=!0){var r,i,o,s;if(((r=this.view)==null?void 0:r.layout)==="fixed")this.chapterPosition&&(this.chapterPosition.innerHTML=""),this.remainingPositions&&(this.remainingPositions.innerHTML="");else if((i=this.view)!=null&&i.isPaginated()){let l=this.currentLocator();if(l){let f=l.displayInfo.resourceScreenIndex,u=l.displayInfo.resourceScreenCount;this.chapterPosition&&(this.chapterPosition.innerHTML="Page "+f+" of "+u),(o=this.api)!=null&&o.positionInfo&&((s=this.api)==null||s.positionInfo(l)),this.emit("positioninfo",l)}}else this.chapterPosition&&(this.chapterPosition.innerHTML=""),this.remainingPositions&&(this.remainingPositions.innerHTML="");t&&this.savePosition()}handlePreviousChapterClick(t){var r;if(((r=this.view)==null?void 0:r.layout)==="fixed"&&this.settings.columnCount!==1){let i=this.publication.getSpineIndex(this.currentChapterLink.href)??0;i=i-2,i<0&&(i=0);let o=this.publication.readingOrder[i],s={href:this.publication.getAbsoluteHref(o.Href),locations:{progression:0},type:o.TypeLink,title:o.Title};this.stopReadAloud(),this.navigate(s,!1)}else if(this.previousChapterLink){let i={href:this.publication.getAbsoluteHref(this.previousChapterLink.href),locations:{progression:1},type:this.previousChapterLink.type,title:this.previousChapterLink.title};this.stopReadAloud(),this.navigate(i,!1)}t&&(t.preventDefault(),t.stopPropagation())}handleNextChapterClick(t){var r;if(((r=this.view)==null?void 0:r.layout)==="fixed"&&this.settings.columnCount!==1){let i=this.publication.getSpineIndex(this.currentChapterLink.href)??0;i=i+2,i>=this.publication.readingOrder.length-1&&(i=this.publication.readingOrder.length-1);let o=this.publication.readingOrder[i],s={href:this.publication.getAbsoluteHref(o.Href),locations:{progression:0},type:o.TypeLink,title:o.Title};this.stopReadAloud(),this.navigate(s,!1)}else if(this.nextChapterLink){let i={href:this.publication.getAbsoluteHref(this.nextChapterLink.href),locations:{progression:0},type:this.nextChapterLink.type,title:this.nextChapterLink.title};this.stopReadAloud(),this.navigate(i,!1)}t&&(t.preventDefault(),t.stopPropagation())}handleKeydownFallthrough(t){var r,i;(r=this.api)!=null&&r.keydownFallthrough&&((i=this.api)==null||i.keydownFallthrough(t)),this.emit("keydown",t)}hideView(){var t,r;((t=this.view)==null?void 0:t.layout)!=="fixed"&&(r=this.view)!=null&&r.isScrollMode()&&(document.body.style.overflow="auto")}setActiveTOCItem(t){if(this.tocView){let r=Array.prototype.slice.call(this.tocView.querySelectorAll("li > a"));for(let o of r)o.className=o.className.replace(" active","");let i=this.tocView.querySelector('li > a[href^="'+t+'"]');i&&(i.className+=" active")}}async navigate(t,r=!0){var s,l,f,u,m,y,_,v,p,h,c,g,w;if(this.rights.enableConsumption&&this.consumptionModule&&r&&this.consumptionModule.startReadingSession(t),this.historyModule&&await this.historyModule.push(t,r),this.publication.getTOCItem(t.href)){var o=!1;if(t.href.indexOf("#")!==-1){let S=t.href.slice(0,t.href.indexOf("#"));S===this.currentChapterLink.href&&(o=!0),this.currentChapterLink.href=S,this.currentChapterLink.type=t.type,this.currentChapterLink.title=t.title}else t.href===this.currentChapterLink.href&&(o=!0),this.currentChapterLink.href=t.href,this.currentChapterLink.type=t.type,this.currentChapterLink.title=t.title;if(this.currentSpreadLinks.left!==void 0&&this.currentSpreadLinks.right!==void 0&&(t.href===this.currentSpreadLinks.left.href||t.href===this.currentSpreadLinks.right.href))return;if(o){if(t.href.indexOf("#")!==-1){let P=t.href.slice(t.href.indexOf("#")+1);t.locations={fragment:P}}if(this.newPosition=t,this.currentTOCRawLink=t.href,t.locations.fragment===void 0?this.currentTocUrl=void 0:(this.newElementId=t.locations.fragment,this.currentTocUrl=this.currentChapterLink.href+"#"+this.newElementId),this.newElementId){for(let P of this.iframes){let B=P.contentDocument.getElementById(this.newElementId);(l=(s=this.view)==null?void 0:s.goToElement)==null||l.call(s,B)}this.newElementId=void 0}else if(t.highlight){let P=(f=t.highlight)==null?void 0:f.selectionInfo.rangeInfo.startContainerElementCssSelector;P&&((u=this.view)==null||u.goToCssSelector(P))}else(m=this.view)==null||m.goToProgression(t.locations.progression??0);let S=this.currentChapterLink.href,E=this.publication.getPreviousSpineItem(S);E&&E.Href&&(this.previousChapterLink={href:E.Href,type:E.TypeLink,title:E.Title}),this.previousChapterAnchorElement&&(this.previousChapterLink?(this.previousChapterAnchorElement.href=this.publication.getAbsoluteHref(this.previousChapterLink.href),this.previousChapterAnchorElement.className=this.previousChapterAnchorElement.className.replace(" disabled","")):(this.previousChapterAnchorElement.removeAttribute("href"),this.previousChapterAnchorElement.className+=" disabled"));let b=this.publication.getNextSpineItem(S);b?this.nextChapterLink={href:b.Href,type:b.TypeLink,title:b.Title}:this.nextChapterLink=void 0,this.nextChapterAnchorElement&&(this.nextChapterLink?(this.nextChapterAnchorElement.href=this.publication.getAbsoluteHref(this.nextChapterLink.href),this.nextChapterAnchorElement.className=this.nextChapterAnchorElement.className.replace(" disabled","")):(this.nextChapterAnchorElement.removeAttribute("href"),this.nextChapterAnchorElement.className+=" disabled")),this.currentTocUrl!==void 0?this.setActiveTOCItem(this.currentTocUrl):this.setActiveTOCItem(S),this.publication.Metadata.Title&&this.bookTitle&&(this.bookTitle.innerHTML=this.publication.Metadata.Title.toString());let C=this.publication.getSpineItem(S);C!==void 0&&(this.currentChapterLink.title=C.Title,this.currentChapterLink.type=C.TypeLink);let M=this.publication.getTOCItem(S);this.currentTocUrl!==void 0&&(M=this.publication.getTOCItem(this.currentTocUrl)),!this.currentChapterLink.title&&M!==void 0&&M.Title&&(this.currentChapterLink.title=M.Title),!this.currentChapterLink.type&&M!==void 0&&M.TypeLink&&(this.currentChapterLink.title=M.Title),this.currentChapterLink.title?(this.chapterTitle&&(this.chapterTitle.innerHTML="("+this.currentChapterLink.title+")"),(y=this.api)!=null&&y.chapterInfo&&((_=this.api)==null||_.chapterInfo(this.currentChapterLink.title)),this.emit("chapterinfo",this.currentChapterLink.title)):(this.chapterTitle&&(this.chapterTitle.innerHTML="(Current Chapter)"),(v=this.api)!=null&&v.chapterInfo&&((p=this.api)==null||p.chapterInfo(void 0)),this.emit("chapterinfo",void 0)),await this.updatePositionInfo()}else this.lineFocusModule!==void 0&&this.lineFocusModule.disableLineFocus(!1),this.searchModule!==void 0&&this.searchModule.clearSearch(),t.locations.fragment===void 0?this.currentTocUrl=void 0:(this.newElementId=t.locations.fragment,this.currentTocUrl=this.currentChapterLink.href+"#"+this.newElementId),this.hideIframeContents(),this.showLoadingMessageAfterDelay(),t.locations===void 0&&(t.locations={progression:0}),this.newPosition=t,this.currentTOCRawLink=t.href,this.precessContentForIframe(),this.rights.enableContentProtection&&this.contentProtectionModule!==void 0&&await this.contentProtectionModule.initializeResource(),this.rights.enableMediaOverlays&&this.mediaOverlayModule!==void 0&&this.hasMediaOverlays&&await this.mediaOverlayModule.initializeResource(this.currentLink()),this.rights.enableContentProtection&&this.contentProtectionModule!==void 0&&await this.contentProtectionModule.recalculate(300),this.bookmarkModule&&(await this.bookmarkModule.drawBookmarks(),await this.bookmarkModule.showBookmarks()),this.pageBreakModule&&(await((h=this.highlighter)==null?void 0:h.destroyHighlights(3)),await this.pageBreakModule.drawPageBreaks()),this.rights.enableSearch&&this.searchModule!==void 0&&this.highlighter!==void 0&&(await this.highlighter.destroyHighlights(1),this.searchModule.drawSearch()),this.rights.enableDefinitions&&this.definitionsModule&&this.highlighter&&await this.definitionsModule.drawDefinitions(),this.rights.enableConsumption&&this.consumptionModule&&this.consumptionModule.continueReadingSession(t),((c=this.view)==null?void 0:c.layout)==="fixed"?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),(g=this.api)!=null&&g.resourceFitsScreen&&((w=this.api)==null||w.resourceFitsScreen()),this.emit("resource.fits")):this.settings.isPaginated().then(S=>{var E,b,C,M;S||((E=this.view)!=null&&E.atStart()&&((b=this.view)!=null&&b.atEnd())?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):(C=this.view)!=null&&C.atEnd()?(this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset")):(M=this.view)!=null&&M.atStart()?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none")))})}else{let S=this.publication.getStartLink(),E;if(S&&S.Href&&(E=this.publication.getAbsoluteHref(S.Href),E)){let b={href:E,locations:{progression:0},created:new Date,title:S.Title};await this.navigate(b)}}}showIframeContents(t){this.isBeingStyled=!1,setTimeout(()=>{this.isBeingStyled||(t.style.opacity="1",t.style.border="none",t.style.overflow="hidden")},150)}showLoadingMessageAfterDelay(){this.isLoading=!0,this.isLoading&&this.loadingMessage&&(this.loadingMessage.style.display="block",this.loadingMessage.classList.add("is-loading")),this.mediaOverlayModule!==void 0&&(this.mediaOverlayModule.settings.resourceReady=!1)}hideIframeContents(){this.isBeingStyled=!0,this.iframes.forEach(t=>{t.style.opacity="0",t.style.border="none",t.style.overflow="hidden"})}hideLoadingMessage(){setTimeout(()=>{var t,r,i,o,s,l,f,u,m,y,_,v,p;this.isLoading=!1,this.loadingMessage&&(this.loadingMessage.style.display="none",this.loadingMessage.classList.remove("is-loading")),((t=this.view)==null?void 0:t.layout)!=="fixed"&&((r=this.view)!=null&&r.atStart()&&((i=this.view)!=null&&i.atEnd())?((o=this.api)!=null&&o.resourceFitsScreen&&((s=this.api)==null||s.resourceFitsScreen()),this.emit("resource.fits")):(l=this.view)!=null&&l.atEnd()?((f=this.api)!=null&&f.resourceAtEnd&&((u=this.api)==null||u.resourceAtEnd()),this.emit("resource.end")):(m=this.view)!=null&&m.atStart()&&((y=this.api)!=null&&y.resourceAtStart&&((_=this.api)==null||_.resourceAtStart()),this.emit("resource.start"))),(v=this.api)!=null&&v.resourceReady&&((p=this.api)==null||p.resourceReady()),this.emit("resource.ready")},150)}saveCurrentReadingPosition(){var r,i,o,s,l,f;if(this.annotator){var t=this.publication.getTOCItem(this.currentChapterLink.href);this.currentTocUrl!==void 0&&(t=this.publication.getTOCItem(this.currentTocUrl)),t===void 0&&(t=this.publication.getTOCItemAbsolute(this.currentChapterLink.href));let u={progression:(r=this.view)==null?void 0:r.getCurrentPosition()};if(t){if(t.Href.indexOf("#")!==-1){let y=t.Href.slice(t.Href.indexOf("#")+1);y!==void 0&&(u={progression:(i=this.view)==null?void 0:i.getCurrentPosition(),fragment:y})}let m;if(this.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions){let y=this.publication.positionsByHref(this.publication.getRelativeHref(t.Href));if(y.length>0){let _=Math.ceil((u.progression??0)*(y.length-1)),v=y[_];v&&(v.locations.fragment=u.fragment,m={...v,href:t.Href,created:new Date,title:this.currentChapterLink.title})}}else m={href:t.Href,locations:u,created:new Date,type:this.currentChapterLink.type,title:this.currentChapterLink.title};m&&((o=this.sample)!=null&&o.isSampleRead&&this.publication.positions&&((s=this.sampleReadEventHandler)==null||s.enforceSampleRead(m)),(l=this.api)!=null&&l.updateCurrentLocation?(f=this.api)==null||f.updateCurrentLocation(m).then(async y=>{var _;return yn.default.log("api updated current location",m),(_=this.annotator)==null?void 0:_.saveLastReadingPosition(m)}):(yn.default.log("save last reading position",m),this.annotator.saveLastReadingPosition(m)),this.consumptionModule&&this.consumptionModule.continueReadingSession(m))}}}static createBase(t){let r=document.createElement("base");return r.target="_self",r.href=t,r}static createCssLink(t){let r=document.createElement("link");return r.rel="stylesheet",r.type="text/css",r.href=t,r}static createJavascriptLink(t,r){let i=document.createElement("script");return i.type="text/javascript",i.src=t,i.async=r,i}activateMarker(t,r){this.annotationModule!==void 0&&(this.annotationModule.activeAnnotationMarkerId===void 0||this.annotationModule.activeAnnotationMarkerId!==t?(this.annotationModule.activeAnnotationMarkerId=t,this.annotationModule.activeAnnotationMarkerPosition=r,this.highlighter&&(this.highlighter.activeAnnotationMarkerId=t)):this.deactivateMarker())}deactivateMarker(){this.annotationModule!==void 0&&(this.annotationModule.activeAnnotationMarkerId=void 0,this.annotationModule.activeAnnotationMarkerPosition=void 0,this.highlighter&&(this.highlighter.activeAnnotationMarkerId=void 0))}showLayer(t){var s;let r="#",i=new Sa("layer-on","layer-off",!0,t,"layer-"+t);switch(t){case"annotations":case"highlights":r+="R2_ID_HIGHLIGHTS_CONTAINER",i.name="R2_ID_HIGHLIGHTS_CONTAINER";break;case"readaloud":r+="R2_ID_READALOUD_CONTAINER",i.name="R2_ID_READALOUD_CONTAINER";break;case"pagebreak":r+="R2_ID_PAGEBREAK_CONTAINER",i.name="R2_ID_PAGEBREAK_CONTAINER";break;case"search":r+="R2_ID_SEARCH_CONTAINER",i.name="R2_ID_SEARCH_CONTAINER";break;case"definitions":r+="R2_ID_DEFINITIONS_CONTAINER",i.name="R2_ID_DEFINITIONS_CONTAINER";break}(s=this.highlighter)==null||s.layerSettings.saveProperty(i);let o=this.iframes[0].contentDocument;if(o){let l=Re(o,r);l&&(l.style.display="block")}}hideLayer(t){var s;let r="#",i=new Sa("layer-on","layer-off",!1,t,"layer-"+t);switch(t){case"annotations":case"highlights":r+="R2_ID_HIGHLIGHTS_CONTAINER",i.name="R2_ID_HIGHLIGHTS_CONTAINER";break;case"readaloud":r+="R2_ID_READALOUD_CONTAINER",i.name="R2_ID_READALOUD_CONTAINER";break;case"pagebreak":r+="R2_ID_PAGEBREAK_CONTAINER",i.name="R2_ID_PAGEBREAK_CONTAINER";break;case"search":r+="R2_ID_SEARCH_CONTAINER",i.name="R2_ID_SEARCH_CONTAINER";break;case"definitions":r+="R2_ID_DEFINITIONS_CONTAINER",i.name="R2_ID_DEFINITIONS_CONTAINER";break}(s=this.highlighter)==null||s.layerSettings.saveProperty(i);let o=this.iframes[0].contentDocument;if(o){let l=Re(o,r);l&&(l.style.display="none")}}};L();var St=class St{constructor(e){this.store=e.store}getLastReadingPosition(){let e=this.store.get(St.LAST_READING_POSITION);return e?JSON.parse(e):null}initLastReadingPosition(e){if(typeof e=="string")this.store.set(St.LAST_READING_POSITION,e);else{let t=JSON.stringify(e);this.store.set(St.LAST_READING_POSITION,t)}}saveLastReadingPosition(e){if(typeof e=="string")this.store.set(St.LAST_READING_POSITION,e);else{let t=JSON.stringify(e);this.store.set(St.LAST_READING_POSITION,t)}}initBookmarks(e){if(typeof e=="string"){let t=JSON.parse(e);this.store.set(St.BOOKMARKS,JSON.stringify(t))}else this.store.set(St.BOOKMARKS,JSON.stringify(e));return e}saveBookmark(e){let t=this.store.get(St.BOOKMARKS);if(t){let r=JSON.parse(t);r.push(e),this.store.set(St.BOOKMARKS,JSON.stringify(r))}else{let r=[];r.push(e),this.store.set(St.BOOKMARKS,JSON.stringify(r))}return e}locatorExists(e,t){let r;switch(t){case 0:r=St.BOOKMARKS;break}let i=this.store.get(r);return i&&JSON.parse(i).filter(l=>l.href===e.href&&l.locations.progression===e.locations.progression).length>0?e:null}deleteBookmark(e){let t=this.store.get(St.BOOKMARKS);if(t){let r=JSON.parse(t);r=r.filter(i=>i.id!==e.id),this.store.set(St.BOOKMARKS,JSON.stringify(r))}return e}getBookmarks(e){let t=this.store.get(St.BOOKMARKS);if(t){let r=JSON.parse(t);if(e){let i=r.filter(o=>o.href===e);return i=i.sort((o,s)=>{if(o.locations.progression&&s.locations.progression)return o.locations.progression-s.locations.progression}),i}return r=r.sort((i,o)=>{if(i.locations.progression&&o.locations.progression)return i.locations.progression-o.locations.progression}),r}return[]}initAnnotations(e){let t;typeof e=="string"?t=JSON.parse(e):t=e;let r=[];return t.forEach(i=>{let o=`${i.highlight.selectionInfo.rangeInfo.startContainerElementCssSelector}${i.highlight.selectionInfo.rangeInfo.startContainerChildTextNodeIndex}${i.highlight.selectionInfo.rangeInfo.startOffset}${i.highlight.selectionInfo.rangeInfo.endContainerElementCssSelector}${i.highlight.selectionInfo.rangeInfo.endContainerChildTextNodeIndex}${i.highlight.selectionInfo.rangeInfo.endOffset}`,s=Hi.hash(o);i.highlight.id="R2_HIGHLIGHT_"+s;let l;i.highlight.color?l=i.highlight.color:i.color&&(l=i.color),Jt.isHexColor(l)&&(l=Jt.hexToRgbString(l)),i.highlight.color=l,i.highlight.pointerInteraction=!0,i.highlight.selectionInfo.cleanText=i.highlight.selectionInfo.rawText.trim().replace(/\n/g," ").replace(/\s\s+/g," "),r.push(i)}),this.store.set(St.ANNOTATIONS,JSON.stringify(r)),r}saveTemporarySelectionInfo(e){this.store.set(St.SELECTIONINFO,JSON.stringify(e))}getTemporarySelectionInfo(e){let t=this.store.get(St.SELECTIONINFO);if(t){let r=JSON.parse(t);return r.range=jf(e,r.rangeInfo),r}return[]}deleteTemporarySelectionInfo(){this.store.remove(St.SELECTIONINFO)}saveAnnotation(e){let t=this.store.get(St.ANNOTATIONS);if(t){let r=JSON.parse(t);r.push(e),this.store.set(St.ANNOTATIONS,JSON.stringify(r))}else{let r=[];r.push(e),this.store.set(St.ANNOTATIONS,JSON.stringify(r))}return e}deleteAnnotation(e){let t=this.store.get(St.ANNOTATIONS);if(t){let r=JSON.parse(t);r=r.filter(i=>i.id!==e),this.store.set(St.ANNOTATIONS,JSON.stringify(r))}return e}deleteSelectedAnnotation(e){let t=this.store.get(St.ANNOTATIONS);if(t){let r=JSON.parse(t);r=r.filter(i=>{var o;return((o=i.highlight)==null?void 0:o.id)!==e.highlight.id}),this.store.set(St.ANNOTATIONS,JSON.stringify(r))}return e}getAnnotations(){let e=this.store.get(St.ANNOTATIONS);if(e){let t=JSON.parse(e);return t=t.sort((r,i)=>{if(r.locations.progression&&i.locations.progression)return r.locations.progression-i.locations.progression}),t}return[]}getAnnotationsByChapter(e){let t=this.store.get(St.ANNOTATIONS);if(t){let r=JSON.parse(t);return r=r.filter(i=>i.href===e),r=r.sort((i,o)=>{if(i.locations.progression&&o.locations.progression)return i.locations.progression-o.locations.progression}),r}return[]}getAnnotationPosition(e,t){let r=this.store.get(St.ANNOTATIONS);if(r){let o=JSON.parse(r).filter(s=>{var l;return((l=s.highlight)==null?void 0:l.id)===e||s.id===e});if(o.length>0){let s=t.document.getElementById(`${o[0].highlight.id}`);if(s){let l=0;if(s.hasChildNodes)for(let f=0;f<s.childNodes.length;f++){let u=s.childNodes[f],m=parseInt(u.style.top.replace("px",""));(m<l||l===0)&&(l=m)}else l=parseInt(s.style.top.replace("px",""));return l}}}return null}getAnnotationElement(e,t){let r=this.store.get(St.ANNOTATIONS);if(r){let o=JSON.parse(r).filter(s=>{var l;return((l=s.highlight)==null?void 0:l.id)===e});if(o.length>0){let s=t.document.getElementById(`${o[0].highlight.id}`);if(s){let l=0;if(s.hasChildNodes)for(let f=0;f<s.childNodes.length;f++){let u=s.childNodes[f],m=parseInt(u.style.top.replace("px",""));if(m<l||l===0)return l=m,u}else l=parseInt(s.style.top.replace("px",""));return s}}}return null}getAnnotation(e){let t=this.store.get(St.ANNOTATIONS);if(t){let i=JSON.parse(t).filter(o=>{var s;return((s=o.highlight)==null?void 0:s.id)===e.id});if(i.length>0)return i[0]}return null}getAnnotationByID(e){let t=this.store.get(St.ANNOTATIONS);if(t){let i=JSON.parse(t).filter(o=>{var s;return((s=o.highlight)==null?void 0:s.id)===e});if(i.length>0)return i[0]}return null}};St.LAST_READING_POSITION="last-reading-position",St.BOOKMARKS="bookmarks",St.ANNOTATIONS="annotations",St.SELECTIONINFO="selectionInfo";var Vl=St;L();L();var Co=class{constructor(){this.store={}}get(e){return this.store[e]||null}set(e,t){this.store[e]=t}remove(e){this.store[e]=null}};var Ws=class{constructor(e){this.prefix=e.prefix,this.useLocalStorage=e.useLocalStorage;try{let t=e.prefix+"-"+String(Math.random());this.useLocalStorage?(window.localStorage.setItem(t,"test"),window.localStorage.removeItem(t)):(window.sessionStorage.setItem(t,"test"),window.sessionStorage.removeItem(t)),this.fallbackStore=null}catch{this.fallbackStore=new Co}}getLocalStorageKey(e){return this.prefix+"-"+e}get(e){let t;return this.fallbackStore?t=this.fallbackStore.get(e):this.useLocalStorage?t=window.localStorage.getItem(this.getLocalStorageKey(e)):t=window.sessionStorage.getItem(this.getLocalStorageKey(e)),t}set(e,t){this.fallbackStore?this.fallbackStore.set(e,t):this.useLocalStorage?window.localStorage.setItem(this.getLocalStorageKey(e),t):window.sessionStorage.setItem(this.getLocalStorageKey(e),t)}remove(e){this.fallbackStore?this.fallbackStore.remove(e):this.useLocalStorage?window.localStorage.removeItem(this.getLocalStorageKey(e)):window.sessionStorage.removeItem(this.getLocalStorageKey(e))}};L();var WE=rt(Bu()),zE=rt(Tr());var cu=class extends WE.Link{};cu=Bc([(0,zE.JsonObject)()],cu);function zs(n){let e,t,r,i;if(n instanceof Array)return n.map(function(o){return typeof o=="object"&&(o=zs(o)),o});e={};for(t in n)n.hasOwnProperty(t)&&(r=(t.charAt(0).toLowerCase()+t.slice(1)||t).toString(),i=n[t],(i instanceof Array||i!=null&&i.constructor===Object)&&(i=zs(i)),r==="href1"?e.href=i:r==="typeLink"?e.type=i:e[r]=i);return e}L();var VE=rt($t()),Mh=class{constructor(e){this.LAYERSETTINGS="layerSetting";this.store=e,this.initialize()}static async create(e){let t=new this(e.store);return new Promise(r=>r(t))}async stop(){VE.default.log("MediaOverlay settings stop")}async initialize(){this.userProperties=await this.getLayerSettings()}async getLayerSettings(){let e=new Ri,t=await this.store.get(this.LAYERSETTINGS);if(t){let r=JSON.parse(t);e.properties=r}return e}async saveProperty(e){let t=await this.store.get(this.LAYERSETTINGS);if(t){let r=JSON.parse(t);r=r.filter(i=>i.name!==e.name),r.push(e),await this.store.set(this.LAYERSETTINGS,JSON.stringify(r))}else{let r=[];r.push(e),await this.store.set(this.LAYERSETTINGS,JSON.stringify(r))}return new Promise(r=>r(e))}async getProperty(e){let t=await this.store.get(this.LAYERSETTINGS);if(t){let r=JSON.parse(t);return r=r.filter(i=>i.name===e),r.length===0?null:r[0]}return null}};L();var du=rt(XE());L();var QE="grab-to-pan-grab",Rh,ZE,Lh,eC,Ih,tC,kh=class{constructor(e){Cr(this,Rh);Cr(this,Lh);Cr(this,Ih);this.element=e.element,this.document=e.element.ownerDocument,typeof e.ignoreTarget=="function"&&(this.ignoreTarget=e.ignoreTarget),this.onActiveChanged=e.onActiveChanged,this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.toggle=this.toggle.bind(this),this._onMouseDown=to(this,Rh,ZE).bind(this),this._onMouseMove=to(this,Lh,eC).bind(this),this._endPan=to(this,Ih,tC).bind(this);let t=this.overlay=document.createElement("div");t.className="grab-to-pan-grabbing"}activate(){var e;this.active||(this.active=!0,this.element.addEventListener("mousedown",this._onMouseDown,!0),this.element.classList.add(QE),(e=this.onActiveChanged)==null||e.call(this,!0))}deactivate(){var e;this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onMouseDown,!0),this._endPan(),this.element.classList.remove(QE),(e=this.onActiveChanged)==null||e.call(this,!1))}toggle(){this.active?this.deactivate():this.activate()}ignoreTarget(e){return e.matches("a[href], a[href] *, input, textarea, button, button *, select, option")}};Rh=new WeakSet,ZE=function(e){if(e.button!==0||this.ignoreTarget(e.target))return;if(e.originalTarget)try{e.originalTarget.tagName}catch{return}this.scrollLeftStart=this.element.scrollLeft,this.scrollTopStart=this.element.scrollTop,this.clientXStart=e.clientX,this.clientYStart=e.clientY,this.document.addEventListener("mousemove",this._onMouseMove,!0),this.document.addEventListener("mouseup",this._endPan,!0),this.element.addEventListener("scroll",this._endPan,!0),e.preventDefault(),e.stopPropagation();let t=document.activeElement;t&&!t.contains(e.target)&&t.blur()},Lh=new WeakSet,eC=function(e){if(this.element.removeEventListener("scroll",this._endPan,!0),!(e.buttons&1)){this._endPan();return}let t=e.clientX-this.clientXStart,r=e.clientY-this.clientYStart,i=this.scrollTopStart-r,o=this.scrollLeftStart-t;this.element.scrollTo?this.element.scrollTo({top:i,left:o,behavior:"instant"}):(this.element.scrollTop=i,this.element.scrollLeft=o),this.overlay.parentNode||document.body.append(this.overlay)},Ih=new WeakSet,tC=function(){this.element.removeEventListener("scroll",this._endPan,!0),this.document.removeEventListener("mousemove",this._onMouseMove,!0),this.document.removeEventListener("mouseup",this._endPan,!0),this.overlay.remove()};var bi=class extends Th{constructor(t,r,i){super();this.pdfDoc=null;this.pageNum=1;this.scaleType=0;this.pageRendering=!1;this.pageNumPending=null;this.scale=1;this.resourceIndex=0;this.onResize=()=>{clearTimeout(this.timeout),this.timeout=setTimeout(this.handleResize.bind(this),200)};this.settings=t,this.publication=r,this.api=i}static async create(t){let r=new this(t.settings,t.publication,t.api);return await r.start(t.mainElement,t.headerMenu,t.footerMenu),new Promise(i=>i(r))}async start(t,r,i){this.headerMenu=r,this.footerMenu=i,this.mainElement=t,this.resourceIndex=0,this.resource=this.publication.readingOrder[this.resourceIndex],du.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.worker.js",this.wrapper=yt(this.mainElement,"main#iframe-wrapper"),this.pdfContainer=yt(this.mainElement,"#pdf-container"),this.handTool=new kh({element:this.pdfContainer});let o=this,s=document.createElement("div");s.id="loadingpdf",s.innerHTML=Ch,s.style.width=getComputedStyle(this.wrapper).width,s.style.height=getComputedStyle(this.wrapper).height,s.style.display="flex",s.style.zIndex="100",s.style.position="absolute",s.style.alignItems="center",s.style.justifyContent="center",s.style.background="white",s.className="r2d2bc-loading is-loading",this.pdfContainer.appendChild(s),(0,du.getDocument)(this.publication.getAbsoluteHref(this.resource.Href)).promise.then(function(l){o.pdfDoc=l,o.loadPDFJS(o.pageNum)}),this.setupEvents()}async handleResize(){this.loadPDFJS(this.pageNum)}setupEvents(){we(window,"resize",this.onResize)}loadPDFJS(t){let r=this,i=1;this.wrapper.style.height="calc(100vh - 10px)",this.pdfContainer.style.height="calc(100vh - 10px)",this.pdfContainer.style.flexDirection="column";let o=document.getElementsByTagName("canvas");Array.from(o).forEach(function(l){var f;(f=l==null?void 0:l.parentNode)==null||f.removeChild(l)});function s(l){let f=document.createElement("canvas");f.id=String(i),f.style.border="1px solid gray",f.style.margin="1px";let u=l.getViewport({scale:r.scale});if(r.scale===1){let p=r.wrapper.clientHeight/u.height,h=r.wrapper.clientWidth/u.width;r.scaleType===0?u=l.getViewport({scale:p<h?p:h}):u=l.getViewport({scale:h})}r.pdfContainer.appendChild(f);let m=f.getContext("2d");f.height=u.height,f.width=u.width;let y={canvasContext:m,viewport:u},_=document.getElementById("loadingpdf");_.style.display="flex",_.style.width=getComputedStyle(r.wrapper).width,_.style.height=getComputedStyle(r.wrapper).height,l.render(y).promise.then(function(){var p,h,c;i<r.pdfDoc.numPages?(i++,r.pdfDoc.getPage(i).then(s)):((p=document.getElementById(String(t)))==null||p.scrollIntoView(),_.style.display="none",(h=r.api)!=null&&h.resourceReady&&((c=r.api)==null||c.resourceReady()),r.emit("resource.ready"))})}this.pdfDoc.getPage(i).then(s)}queueRenderPage(t){var i;let r=this;r.pageRendering?r.pageNumPending=t:(this.pageNum=t,(i=document.getElementById(String(t)))==null||i.scrollIntoView())}readingOrder(){return this.publication.readingOrder}tableOfContents(){return this.publication.tableOfContents}landmarks(){}pageList(){}currentResource(){}totalResources(){return this.publication.readingOrder.length}currentLocator(){}positions(){return this.publication.positions?this.publication.positions:[]}nextPage(){let t=this;if(t.pageNum>=t.pdfDoc.numPages){this.nextResource();return}this.pageNum++,this.queueRenderPage(t.pageNum)}previousPage(){let t=this;if(t.pageNum<=1){this.previousResource();return}t.pageNum--,t.queueRenderPage(t.pageNum)}nextResource(){let t=this;this.resourceIndex>=this.publication.readingOrder.length-1||(t.resourceIndex++,t.resource=this.publication.readingOrder[t.resourceIndex],(0,du.getDocument)(this.publication.getAbsoluteHref(this.resource.Href)).promise.then(function(r){t.pdfDoc=r,t.pageNum=1,t.loadPDFJS(t.pageNum)}))}previousResource(){let t=this;this.resourceIndex!==0&&(t.resourceIndex--,t.resource=this.publication.readingOrder[t.resourceIndex],(0,du.getDocument)(this.publication.getAbsoluteHref(this.resource.Href)).promise.then(function(r){t.pdfDoc=r,t.pageNum=t.pdfDoc.numPages,t.loadPDFJS(t.pageNum)}))}goTo(t){let r=new URL(t.href);if(r.searchParams.has("start")){let i=r.searchParams.get("start");i&&this.queueRenderPage(parseInt(i))}else this.queueRenderPage(1)}goToPosition(t){this.queueRenderPage(t)}async goToPage(t){this.queueRenderPage(t)}fitToWidth(){this.scale=1,this.scaleType=1,this.loadPDFJS(this.pageNum)}fitToPage(){this.scale=1,this.scaleType=0,this.loadPDFJS(this.pageNum)}zoomIn(){this.scale=this.scale+.2,this.loadPDFJS(this.pageNum)}zoomOut(){this.scale=this.scale-.2,this.loadPDFJS(this.pageNum)}activateHand(){this.handTool.activate()}deactivateHand(){this.handTool.deactivate()}async scroll(t,r){t?(r==="horizontal"?this.pdfContainer.style.flexDirection="row":this.pdfContainer.style.flexDirection="column",this.pdfContainer.style.overflow="auto"):(this.pdfContainer.style.flexDirection="column",this.pdfContainer.style.overflow="hidden")}stop(){Ue(window,"resize",this.onResize)}};var fu=class n{constructor(e,t,r,i,o,s,l,f,u,m,y,_,v,p,h,c,g,w){this.settings=e;this.navigator=t;this.highlighter=r;this.bookmarkModule=i;this.annotationModule=o;this.ttsSettings=s;this.ttsModule=l;this.searchModule=f;this.definitionsModule=u;this.contentProtectionModule=m;this.timelineModule=y;this.mediaOverlaySettings=_;this.mediaOverlayModule=v;this.pageBreakModule=p;this.lineFocusModule=h;this.historyModule=c;this.citationModule=g;this.consumptionModule=w;this.startReadAloud=()=>{this.navigator instanceof Tt&&this.navigator.startReadAloud()};this.stopReadAloud=()=>{this.navigator instanceof Tt&&this.navigator.stopReadAloud()};this.pauseReadAloud=()=>{this.navigator instanceof Tt&&this.navigator.pauseReadAloud()};this.resumeReadAloud=()=>{this.navigator instanceof Tt&&this.navigator.resumeReadAloud()};this.startReadAlong=()=>{this.navigator instanceof Tt&&this.navigator.startReadAlong()};this.stopReadAlong=()=>{this.navigator instanceof Tt&&this.navigator.stopReadAlong()};this.pauseReadAlong=()=>{this.navigator instanceof Tt&&this.navigator.pauseReadAlong()};this.resumeReadAlong=()=>{this.navigator instanceof Tt&&this.navigator.resumeReadAlong()};this.saveBookmark=async()=>{var e;return await((e=this.bookmarkModule)==null?void 0:e.saveBookmark())??!1};this.saveBookmarkPlus=async()=>{var e;return(e=this.bookmarkModule)==null?void 0:e.saveBookmarkPlus()};this.deleteBookmark=async e=>{var t;return await((t=this.bookmarkModule)==null?void 0:t.deleteBookmark(e))??!1};this.deleteAnnotation=async e=>{var t;return await((t=this.annotationModule)==null?void 0:t.deleteAnnotation(e))??!1};this.addAnnotation=async e=>{var t;return await((t=this.annotationModule)==null?void 0:t.addAnnotation(e))??!1};this.hideAnnotationLayer=()=>{var e;return(e=this.annotationModule)==null?void 0:e.hideAnnotationLayer()};this.showAnnotationLayer=()=>{var e;return(e=this.annotationModule)==null?void 0:e.showAnnotationLayer()};this.hideLayer=e=>{var t;return this.navigator instanceof Tt?(t=this.navigator)==null?void 0:t.hideLayer(e):!1};this.showLayer=e=>{var t;return this.navigator instanceof Tt?(t=this.navigator)==null?void 0:t.showLayer(e):!1};this.activateMarker=(e,t)=>{var r;return this.navigator instanceof Tt?(r=this.navigator)==null?void 0:r.activateMarker(e,t):!1};this.deactivateMarker=()=>{var e;return this.navigator instanceof Tt?(e=this.navigator)==null?void 0:e.deactivateMarker():!1};this.clearDefinitions=async()=>{var e;await((e=this.definitionsModule)==null?void 0:e.clearDefinitions())};this.addDefinition=async e=>{var t;await((t=this.definitionsModule)==null?void 0:t.addDefinition(e))};this.historyBack=async()=>{var e;return(e=this.historyModule)==null?void 0:e.historyBack()};this.historyForward=async()=>{var e;return(e=this.historyModule)==null?void 0:e.historyForward()};this.search=async(e,t)=>{var r;return await((r=this.searchModule)==null?void 0:r.search(e,t))??[]};this.goToSearchIndex=async(e,t,r)=>{var i;this.navigator instanceof Tt&&this.navigator.rights.enableSearch&&await((i=this.searchModule)==null?void 0:i.goToSearchIndex(e,t,r))};this.goToSearchID=async(e,t,r)=>{var i;this.navigator instanceof Tt&&this.navigator.rights.enableSearch&&await((i=this.searchModule)==null?void 0:i.goToSearchID(e,t,r))};this.clearSearch=async()=>{var e;this.navigator instanceof Tt&&this.navigator.rights.enableSearch&&await((e=this.searchModule)==null?void 0:e.clearSearch())};this.resetUserSettings=async()=>await this.settings.resetUserSettings();this.applyUserSettings=async e=>await this.settings.applyUserSettings(e);this.scroll=async(e,t)=>this.navigator instanceof bi?this.navigator.scroll(e,t):await this.settings.scroll(e);this.increase=async e=>{var t,r;this.isTTSIncrementable(e)?this.navigator instanceof Tt&&this.navigator.rights.enableTTS&&await((t=this.ttsSettings)==null?void 0:t.increase(e)):this.isMOIncrementable(e)?this.navigator instanceof Tt&&this.navigator.rights.enableMediaOverlays&&await((r=this.mediaOverlaySettings)==null?void 0:r.increase(e)):await this.settings.increase(e)};this.decrease=async e=>{var t,r;this.isTTSIncrementable(e)?this.navigator instanceof Tt&&this.navigator.rights.enableTTS&&await((t=this.ttsSettings)==null?void 0:t.decrease(e)):this.isMOIncrementable(e)?this.navigator instanceof Tt&&this.navigator.rights.enableMediaOverlays&&await((r=this.mediaOverlaySettings)==null?void 0:r.decrease(e)):await this.settings.decrease(e)};this.resetTTSSettings=()=>{var e;this.navigator instanceof Tt&&this.navigator.rights.enableTTS&&((e=this.ttsSettings)==null||e.resetTTSSettings())};this.applyTTSSettings=async e=>{var t;this.navigator instanceof Tt&&this.navigator.rights.enableTTS&&await((t=this.ttsSettings)==null?void 0:t.applyTTSSettings(e))};this.applyPreferredVoice=async e=>{var t;this.navigator instanceof Tt&&this.navigator.rights.enableTTS&&await((t=this.ttsSettings)==null?void 0:t.applyPreferredVoice(e))};this.resetMediaOverlaySettings=async()=>{var e;this.navigator instanceof Tt&&this.navigator.rights.enableMediaOverlays&&await((e=this.mediaOverlaySettings)==null?void 0:e.resetMediaOverlaySettings())};this.applyMediaOverlaySettings=async e=>{var t;this.navigator instanceof Tt&&this.navigator.rights.enableMediaOverlays&&await((t=this.mediaOverlaySettings)==null?void 0:t.applyMediaOverlaySettings(e))};this.goTo=async e=>{this.navigator.goTo(e)};this.goToPosition=async e=>this.navigator.goToPosition(e);this.goToPage=async e=>{await this.navigator.goToPage(e)};this.fitToPage=()=>{this.navigator instanceof bi&&this.navigator.fitToPage()};this.fitToWidth=()=>{this.navigator instanceof bi&&this.navigator.fitToWidth()};this.zoomIn=()=>{this.navigator instanceof bi&&this.navigator.zoomIn()};this.zoomOut=()=>{this.navigator instanceof bi&&this.navigator.zoomOut()};this.activateHand=()=>{this.navigator instanceof bi&&this.navigator.activateHand()};this.deactivateHand=()=>{this.navigator instanceof bi&&this.navigator.deactivateHand()};this.copyToClipboard=e=>{var t;(t=this.contentProtectionModule)==null||t.copyToClipboard(e)};this.nextResource=()=>{this.navigator.nextResource()};this.previousResource=()=>{this.navigator.previousResource()};this.nextPage=async()=>{this.navigator.nextPage()};this.previousPage=async()=>{this.navigator.previousPage()};this.snapToSelector=async e=>{this.navigator instanceof Tt&&this.navigator.snapToSelector(e)};this.applyAttributes=e=>{this.navigator instanceof Tt&&this.navigator.applyAttributes(e)};this.stop=()=>{var e,t,r,i,o,s,l,f,u,m,y,_,v,p;document.body.onscroll=()=>{},this.navigator.stop(),this.settings.stop(),(e=this.ttsSettings)==null||e.stop(),(t=this.ttsModule)==null||t.stop(),(r=this.bookmarkModule)==null||r.stop(),(i=this.annotationModule)==null||i.stop(),(o=this.searchModule)==null||o.stop(),(s=this.definitionsModule)==null||s.stop(),(l=this.contentProtectionModule)==null||l.stop(),(f=this.timelineModule)==null||f.stop(),(u=this.mediaOverlaySettings)==null||u.stop(),(m=this.mediaOverlayModule)==null||m.stop(),(y=this.pageBreakModule)==null||y.stop(),(_=this.lineFocusModule)==null||_.stop(),(v=this.citationModule)==null||v.stop(),(p=this.consumptionModule)==null||p.stop()}}addEventListener(){this.navigator instanceof Tt&&this.navigator.addListener(arguments[0],arguments[1])}static async load(e){var _,v,p,h,c,g,w;let t=e.rights??{autoGeneratePositions:!1,enableAnnotations:!1,enableBookmarks:!1,enableContentProtection:!1,enableDefinitions:!1,enableLineFocus:!1,enableMediaOverlays:!1,enablePageBreaks:!1,enableSearch:!1,enableTTS:!1,enableTimeline:!1,customKeyboardEvents:!1,enableHistory:!1,enableCitations:!1};t.enableContentProtection&&e.protection&&await Fs.setupPreloadProtection(e.protection);let r=yt(document,"#D2Reader-Container"),i=Re(document,"#headerMenu"),o=Re(document,"#footerMenu"),s=e.url,l;e.publication?(l=wa(e.publication,lo),l.manifestUrl=new URL(s)):l=await lo.fromUrl(s,e.requestConfig);let f;e.storageType==="memory"?f=new Co:f=new Ws({prefix:l.manifestUrl,useLocalStorage:e.useLocalStorage??!1});let u;e.storageType==="memory"?u=new Co:u=new Ws({prefix:"r2d2bc-reader",useLocalStorage:e.useLocalStorage??!1});let m;e.storageType==="memory"?m=new Co:m=new Ws({prefix:"r2d2bc-layers",useLocalStorage:e.useLocalStorage??!1});let y=new Vl({store:f});if(l.sample=e.sample,t=pj(t,l),l.Metadata.ConformsTo&&l.Metadata.ConformsTo.includes("https://readium.org/webpub-manifest/profiles/pdf")){let S=await El.create({store:u,initialUserSettings:e.userSettings,layout:""}),E=await bi.create({mainElement:r,publication:l,settings:S,api:e.api});return new n(S,E)}else{t.autoGeneratePositions?await l.autoGeneratePositions(e.requestConfig):((_=e.services)!=null&&_.positions&&await l.fetchPositionsFromService((v=e.services)==null?void 0:v.positions.href,e.requestConfig),(p=e.services)!=null&&p.weight&&await l.fetchWeightsFromService((h=e.services)==null?void 0:h.weight.href,e.requestConfig));let S=await Mh.create({store:m}),E=await El.create({store:u,initialUserSettings:e.userSettings,headerMenu:i,api:e.api,injectables:(((c=l.Metadata.Rendition)==null?void 0:c.Layout)??"unknown")==="fixed"?e.injectablesFixed:e.injectables,layout:(((g=l.Metadata.Rendition)==null?void 0:g.Layout)??"unknown")==="fixed"?"fixed":"reflowable"}),b=await Jt.create({layerSettings:S,...e.highlighter}),C=t.enableBookmarks?await Wa.create({annotator:y,headerMenu:i,rights:t,publication:l,initialAnnotations:e.initialAnnotations,...e.bookmarks}):void 0,M=t.enableAnnotations?await Ga.create({annotator:y,rights:t,publication:l,initialAnnotations:e.initialAnnotations,highlighter:b,headerMenu:i,...e.annotations}):void 0,P=t.enableTTS,B=P?await Eh.create({store:u,initialTTSSettings:e.tts,headerMenu:i}):void 0,I;P&&B&&(I=await js.create({tts:B,headerMenu:i,rights:t,highlighter:b,...e.tts}));let F=t.enableSearch?await su.create({headerMenu:i,publication:l,highlighter:b,...e.search}):void 0,D=t.enableDefinitions?await uu.create({publication:l,highlighter:b,...e.define}):void 0,W=t.enableTimeline?await $a.create({publication:l}):void 0,q=t.enableContentProtection?await Fs.create({...e.protection}):void 0,G=t.enableCitations?await Gs.create({publication:l,highlighter:b,...e.citations}):void 0,Y=t.enableMediaOverlays,X=Y?await Wf.create({store:u,initialMediaOverlaySettings:e.mediaOverlays,headerMenu:i,...e.mediaOverlays}):void 0,Q=Y?await Va.create({publication:l,settings:X,...e.mediaOverlays}):void 0,ve=t.enablePageBreaks&&l.isReflowable?await au.create({publication:l,headerMenu:i,...e.pagebreak}):void 0,ce=t.enableLineFocus?await qs.create({publication:l,highlighter:b,...e.lineFocus}):void 0,z=t.enableHistory?await lu.create({annotator:y,publication:l,headerMenu:i}):void 0,H=t.enableConsumption?await qa.create({publication:l,...e.consumption}):void 0,R=await Tt.create({mainElement:r,headerMenu:i,footerMenu:o,publication:l,settings:E,annotator:y,initialLastReadingPosition:e.lastReadingPosition,api:e.api,rights:t,tts:e.tts,sample:e.sample,requestConfig:e.requestConfig,injectables:(((w=l.Metadata.Rendition)==null?void 0:w.Layout)??"unknown")==="fixed"?e.injectablesFixed??[]:e.injectables,attributes:e.attributes,services:e.services,highlighter:b,modules:[C,M,I,F,D,W,q,G,Q,ve,ce,z,H]});return new n(E,R,b,C,M,B,I,F,D,q,W,X,Q,ve,ce,z,G,H)}}get hasMediaOverlays(){return this.navigator instanceof Tt?this.navigator.hasMediaOverlays:!1}get tableOfContents(){return zs(this.navigator.tableOfContents())??[]}get landmarks(){return zs(this.navigator.landmarks())??[]}get pageList(){return zs(this.navigator.pageList())??[]}get readingOrder(){return zs(this.navigator.readingOrder())??[]}get bookmarks(){var e;return((e=this.bookmarkModule)==null?void 0:e.getBookmarks())??[]}get annotations(){var e;return(e=this.annotationModule)==null?void 0:e.getAnnotations()}get publicationLayout(){return this.navigator.publication.layout}get history(){var e;return(e=this.historyModule)==null?void 0:e.history}get historyCurrentIndex(){var e;return(e=this.historyModule)==null?void 0:e.historyCurrentIndex}get currentResource(){return this.navigator.currentResource()}get mostRecentNavigatedTocItem(){return this.navigator instanceof Tt?this.navigator.mostRecentNavigatedTocItem():!1}get totalResources(){return this.navigator.totalResources()}get publicationLanguage(){return this.navigator.publication.Metadata.Language}get currentSettings(){return this.settings.currentSettings}isTTSIncrementable(e){return e==="pitch"||e==="rate"||e==="volume"}isMOIncrementable(e){return e==="mo_rate"||e==="mo_volume"}get currentLocator(){return this.navigator.currentLocator()}get positions(){return this.navigator.positions()}get atStart(){return this.navigator instanceof Tt?this.navigator.atStart():!1}get atEnd(){return this.navigator instanceof Tt?this.navigator.atEnd():!1}async applyLineFocusSettings(e){if(e.lines&&this.lineFocusModule){let t=this.lineFocusModule.properties.lines??1;this.lineFocusModule.index=this.lineFocusModule.index*t/parseInt(e.lines),this.lineFocusModule.index=Math.abs(parseInt(this.lineFocusModule.index.toFixed())),this.lineFocusModule.properties.lines=parseInt(e.lines),this.lineFocusModule.isActive&&await this.lineFocusModule.enableLineFocus()}e.debug!==void 0&&this.lineFocusModule&&(this.lineFocusModule.isDebug=e.debug,this.lineFocusModule.isActive&&await this.lineFocusModule.enableLineFocus())}lineUp(){var e;(e=this.lineFocusModule)==null||e.lineUp()}lineDown(){var e;(e=this.lineFocusModule)==null||e.lineDown()}async enableLineFocus(){var e;await((e=this.lineFocusModule)==null?void 0:e.enableLineFocus())}async lineFocus(e){var t,r;e?await((t=this.lineFocusModule)==null?void 0:t.enableLineFocus()):(r=this.lineFocusModule)==null||r.disableLineFocus()}disableLineFocus(){var e;(e=this.lineFocusModule)==null||e.disableLineFocus()}};function pj(n,e){var t;return e.isFixedLayout&&(n.enableAnnotations=!1,n.enableSearch=!1,n.enableTTS=!1,n.enableDefinitions=!1,n.enablePageBreaks=!1,n.enableLineFocus=!1),(t=e.sample)!=null&&t.isSampleRead&&(n.enableAnnotations=!1,n.enableSearch=!1,n.enableTTS=!1,n.enableDefinitions=!1,n.enableTimeline=!1,n.enableMediaOverlays=!1,n.enablePageBreaks=!1,n.enableLineFocus=!1),n}var gj=fu,mj=fu.load;return Cn(yj);})();
/*! Bundled license information:

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

is-plain-object/dist/is-plain-object.js:
  (*!
   * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

cssesc/cssesc.js:
  (*! https://mths.be/cssesc v3.0.0 by @mathias *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=reader.js.map
