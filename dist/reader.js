var D2Reader=(()=>{var ik=Object.create;var Aa=Object.defineProperty;var o2=Object.getOwnPropertyDescriptor;var sk=Object.getOwnPropertyNames;var ok=Object.getPrototypeOf,ak=Object.prototype.hasOwnProperty;var uk=(n,e,t)=>e in n?Aa(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Zu=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var Np=(n,e)=>()=>(n&&(e=n(n=0)),e);var we=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),Dp=(n,e)=>{for(var t in e)Aa(n,t,{get:e[t],enumerable:!0})},a2=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of sk(e))!ak.call(n,i)&&i!==t&&Aa(n,i,{get:()=>e[i],enumerable:!(r=o2(e,i))||r.enumerable});return n};var Rt=(n,e,t)=>(t=n!=null?ik(ok(n)):{},a2(e||!n||!n.__esModule?Aa(t,"default",{value:n,enumerable:!0}):t,n)),Qr=n=>a2(Aa({},"__esModule",{value:!0}),n),pd=(n,e,t,r)=>{for(var i=r>1?void 0:r?o2(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(i=(r?o(e,t,i):o(i))||i);return r&&i&&Aa(e,t,i),i};var wn=(n,e,t)=>(uk(n,typeof e!="symbol"?e+"":e,t),t),Bp=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var k=(n,e,t)=>(Bp(n,e,"read from private field"),t?t.call(n):e.get(n)),oe=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},Me=(n,e,t,r)=>(Bp(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);var el=(n,e,t,r)=>({set _(i){Me(n,e,i,t)},get _(){return k(n,e,r)}}),ge=(n,e,t)=>(Bp(n,e,"access private method"),t);var f2=we((iG,d2)=>{F();var Bn=d2.exports={},Ki,Yi;function Fp(){throw new Error("setTimeout has not been defined")}function Hp(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ki=setTimeout:Ki=Fp}catch{Ki=Fp}try{typeof clearTimeout=="function"?Yi=clearTimeout:Yi=Hp}catch{Yi=Hp}})();function u2(n){if(Ki===setTimeout)return setTimeout(n,0);if((Ki===Fp||!Ki)&&setTimeout)return Ki=setTimeout,setTimeout(n,0);try{return Ki(n,0)}catch{try{return Ki.call(null,n,0)}catch{return Ki.call(this,n,0)}}}function lk(n){if(Yi===clearTimeout)return clearTimeout(n);if((Yi===Hp||!Yi)&&clearTimeout)return Yi=clearTimeout,clearTimeout(n);try{return Yi(n)}catch{try{return Yi.call(null,n)}catch{return Yi.call(this,n)}}}var As=[],Sa=!1,Lo,gd=-1;function ck(){!Sa||!Lo||(Sa=!1,Lo.length?As=Lo.concat(As):gd=-1,As.length&&l2())}function l2(){if(!Sa){var n=u2(ck);Sa=!0;for(var e=As.length;e;){for(Lo=As,As=[];++gd<e;)Lo&&Lo[gd].run();gd=-1,e=As.length}Lo=null,Sa=!1,lk(n)}}Bn.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];As.push(new c2(n,e)),As.length===1&&!Sa&&u2(l2)};function c2(n,e){this.fun=n,this.array=e}c2.prototype.run=function(){this.fun.apply(null,this.array)};Bn.title="browser";Bn.browser=!0;Bn.env={};Bn.argv=[];Bn.version="";Bn.versions={};function Ss(){}Bn.on=Ss;Bn.addListener=Ss;Bn.once=Ss;Bn.off=Ss;Bn.removeListener=Ss;Bn.removeAllListeners=Ss;Bn.emit=Ss;Bn.prependListener=Ss;Bn.prependOnceListener=Ss;Bn.listeners=function(n){return[]};Bn.binding=function(n){throw new Error("process.binding is not supported")};Bn.cwd=function(){return"/"};Bn.chdir=function(n){throw new Error("process.chdir is not supported")};Bn.umask=function(){return 0}});var Up=we((oG,h2)=>{"use strict";F();h2.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==i||o.enumerable!==!0)return!1}return!0}});var m2=we((uG,g2)=>{"use strict";F();var p2=typeof Symbol<"u"&&Symbol,dk=Up();g2.exports=function(){return typeof p2!="function"||typeof Symbol!="function"||typeof p2("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:dk()}});var v2=we((cG,b2)=>{"use strict";F();var y2={foo:{}},fk=Object;b2.exports=function(){return{__proto__:y2}.foo===y2.foo&&!({__proto__:null}instanceof fk)}});var E2=we((fG,w2)=>{"use strict";F();var hk="Function.prototype.bind called on incompatible ",pk=Object.prototype.toString,gk=Math.max,mk="[object Function]",_2=function(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var s=0;s<t.length;s+=1)r[s+e.length]=t[s];return r},yk=function(e,t){for(var r=[],i=t||0,s=0;i<e.length;i+=1,s+=1)r[s]=e[i];return r},bk=function(n,e){for(var t="",r=0;r<n.length;r+=1)t+=n[r],r+1<n.length&&(t+=e);return t};w2.exports=function(e){var t=this;if(typeof t!="function"||pk.apply(t)!==mk)throw new TypeError(hk+t);for(var r=yk(arguments,1),i,s=function(){if(this instanceof i){var p=t.apply(this,_2(r,arguments));return Object(p)===p?p:this}return t.apply(e,_2(r,arguments))},o=gk(0,t.length-r.length),c=[],d=0;d<o;d++)c[d]="$"+d;if(i=Function("binder","return function ("+bk(c,",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var u=function(){};u.prototype=t.prototype,i.prototype=new u,u.prototype=null}return i}});var md=we((pG,A2)=>{"use strict";F();var vk=E2();A2.exports=Function.prototype.bind||vk});var C2=we((mG,S2)=>{"use strict";F();var _k=md();S2.exports=_k.call(Function.call,Object.prototype.hasOwnProperty)});var vd=we((bG,O2)=>{"use strict";F();var nn,Pa=SyntaxError,M2=Function,xa=TypeError,jp=function(n){try{return M2('"use strict"; return ('+n+").constructor;")()}catch{}},Io=Object.getOwnPropertyDescriptor;if(Io)try{Io({},"")}catch{Io=null}var qp=function(){throw new xa},wk=Io?function(){try{return arguments.callee,qp}catch{try{return Io(arguments,"callee").get}catch{return qp}}}():qp,Ca=m2()(),Ek=v2()(),Kn=Object.getPrototypeOf||(Ek?function(n){return n.__proto__}:null),Ta={},Ak=typeof Uint8Array>"u"||!Kn?nn:Kn(Uint8Array),No={"%AggregateError%":typeof AggregateError>"u"?nn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?nn:ArrayBuffer,"%ArrayIteratorPrototype%":Ca&&Kn?Kn([][Symbol.iterator]()):nn,"%AsyncFromSyncIteratorPrototype%":nn,"%AsyncFunction%":Ta,"%AsyncGenerator%":Ta,"%AsyncGeneratorFunction%":Ta,"%AsyncIteratorPrototype%":Ta,"%Atomics%":typeof Atomics>"u"?nn:Atomics,"%BigInt%":typeof BigInt>"u"?nn:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?nn:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?nn:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?nn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?nn:Float32Array,"%Float64Array%":typeof Float64Array>"u"?nn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?nn:FinalizationRegistry,"%Function%":M2,"%GeneratorFunction%":Ta,"%Int8Array%":typeof Int8Array>"u"?nn:Int8Array,"%Int16Array%":typeof Int16Array>"u"?nn:Int16Array,"%Int32Array%":typeof Int32Array>"u"?nn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ca&&Kn?Kn(Kn([][Symbol.iterator]())):nn,"%JSON%":typeof JSON=="object"?JSON:nn,"%Map%":typeof Map>"u"?nn:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ca||!Kn?nn:Kn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?nn:Promise,"%Proxy%":typeof Proxy>"u"?nn:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?nn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?nn:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ca||!Kn?nn:Kn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?nn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ca&&Kn?Kn(""[Symbol.iterator]()):nn,"%Symbol%":Ca?Symbol:nn,"%SyntaxError%":Pa,"%ThrowTypeError%":wk,"%TypedArray%":Ak,"%TypeError%":xa,"%Uint8Array%":typeof Uint8Array>"u"?nn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?nn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?nn:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?nn:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?nn:WeakMap,"%WeakRef%":typeof WeakRef>"u"?nn:WeakRef,"%WeakSet%":typeof WeakSet>"u"?nn:WeakSet};if(Kn)try{null.error}catch(n){T2=Kn(Kn(n)),No["%Error.prototype%"]=T2}var T2,Sk=function n(e){var t;if(e==="%AsyncFunction%")t=jp("async function () {}");else if(e==="%GeneratorFunction%")t=jp("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=jp("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=n("%AsyncGenerator%");i&&Kn&&(t=Kn(i.prototype))}return No[e]=t,t},x2={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},tl=md(),yd=C2(),Ck=tl.call(Function.call,Array.prototype.concat),Tk=tl.call(Function.apply,Array.prototype.splice),P2=tl.call(Function.call,String.prototype.replace),bd=tl.call(Function.call,String.prototype.slice),xk=tl.call(Function.call,RegExp.prototype.exec),Pk=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Mk=/\\(\\)?/g,Ok=function(e){var t=bd(e,0,1),r=bd(e,-1);if(t==="%"&&r!=="%")throw new Pa("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new Pa("invalid intrinsic syntax, expected opening `%`");var i=[];return P2(e,Pk,function(s,o,c,d){i[i.length]=c?P2(d,Mk,"$1"):o||s}),i},kk=function(e,t){var r=e,i;if(yd(x2,r)&&(i=x2[r],r="%"+i[0]+"%"),yd(No,r)){var s=No[r];if(s===Ta&&(s=Sk(r)),typeof s>"u"&&!t)throw new xa("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new Pa("intrinsic "+e+" does not exist!")};O2.exports=function(e,t){if(typeof e!="string"||e.length===0)throw new xa("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new xa('"allowMissing" argument must be a boolean');if(xk(/^%?[^%]*%?$/,e)===null)throw new Pa("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Ok(e),i=r.length>0?r[0]:"",s=kk("%"+i+"%",t),o=s.name,c=s.value,d=!1,u=s.alias;u&&(i=u[0],Tk(r,Ck([0,1],u)));for(var p=1,m=!0;p<r.length;p+=1){var b=r[p],v=bd(b,0,1),y=bd(b,-1);if((v==='"'||v==="'"||v==="`"||y==='"'||y==="'"||y==="`")&&v!==y)throw new Pa("property names with quotes must have matching quotes");if((b==="constructor"||!m)&&(d=!0),i+="."+b,o="%"+i+"%",yd(No,o))c=No[o];else if(c!=null){if(!(b in c)){if(!t)throw new xa("base intrinsic for "+e+" exists, but the property is not available.");return}if(Io&&p+1>=r.length){var h=Io(c,b);m=!!h,m&&"get"in h&&!("originalValue"in h.get)?c=h.get:c=c[b]}else m=yd(c,b),c=c[b];m&&!d&&(No[o]=c)}}return c}});var zp=we((_G,_d)=>{"use strict";F();var Gp=md(),Ma=vd(),L2=Ma("%Function.prototype.apply%"),I2=Ma("%Function.prototype.call%"),N2=Ma("%Reflect.apply%",!0)||Gp.call(I2,L2),k2=Ma("%Object.getOwnPropertyDescriptor%",!0),Do=Ma("%Object.defineProperty%",!0),Rk=Ma("%Math.max%");if(Do)try{Do({},"a",{value:1})}catch{Do=null}_d.exports=function(e){var t=N2(Gp,I2,arguments);if(k2&&Do){var r=k2(t,"length");r.configurable&&Do(t,"length",{value:1+Rk(0,e.length-(arguments.length-1))})}return t};var R2=function(){return N2(Gp,L2,arguments)};Do?Do(_d.exports,"apply",{value:R2}):_d.exports.apply=R2});var Wp=we((EG,F2)=>{"use strict";F();var D2=vd(),B2=zp(),Lk=B2(D2("String.prototype.indexOf"));F2.exports=function(e,t){var r=D2(e,!!t);return typeof r=="function"&&Lk(e,".prototype.")>-1?B2(r):r}});var j2=we((SG,U2)=>{"use strict";F();var Ik=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Nk=Wp(),Vp=Nk("Object.prototype.toString"),wd=function(e){return Ik&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Vp(e)==="[object Arguments]"},H2=function(e){return wd(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Vp(e)!=="[object Array]"&&Vp(e.callee)==="[object Function]"},Dk=function(){return wd(arguments)}();wd.isLegacyArguments=H2;U2.exports=Dk?wd:H2});var $p=we((TG,q2)=>{"use strict";F();var Bk=Up();q2.exports=function(){return Bk()&&!!Symbol.toStringTag}});var W2=we((PG,z2)=>{"use strict";F();var Fk=Object.prototype.toString,Hk=Function.prototype.toString,Uk=/^\s*(?:function)?\*/,G2=$p()(),Jp=Object.getPrototypeOf,jk=function(){if(!G2)return!1;try{return Function("return function*() {}")()}catch{}},Kp;z2.exports=function(e){if(typeof e!="function")return!1;if(Uk.test(Hk.call(e)))return!0;if(!G2){var t=Fk.call(e);return t==="[object GeneratorFunction]"}if(!Jp)return!1;if(typeof Kp>"u"){var r=jk();Kp=r?Jp(r):!1}return Jp(e)===Kp}});var K2=we((OG,J2)=>{"use strict";F();var $2=Function.prototype.toString,Oa=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Xp,Ed;if(typeof Oa=="function"&&typeof Object.defineProperty=="function")try{Xp=Object.defineProperty({},"length",{get:function(){throw Ed}}),Ed={},Oa(function(){throw 42},null,Xp)}catch(n){n!==Ed&&(Oa=null)}else Oa=null;var qk=/^\s*class\b/,Qp=function(e){try{var t=$2.call(e);return qk.test(t)}catch{return!1}},Yp=function(e){try{return Qp(e)?!1:($2.call(e),!0)}catch{return!1}},Ad=Object.prototype.toString,Gk="[object Object]",zk="[object Function]",Wk="[object GeneratorFunction]",Vk="[object HTMLAllCollection]",$k="[object HTML document.all class]",Jk="[object HTMLCollection]",Kk=typeof Symbol=="function"&&!!Symbol.toStringTag,Yk=!(0 in[,]),Zp=function(){return!1};typeof document=="object"&&(V2=document.all,Ad.call(V2)===Ad.call(document.all)&&(Zp=function(e){if((Yk||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=Ad.call(e);return(t===Vk||t===$k||t===Jk||t===Gk)&&e("")==null}catch{}return!1}));var V2;J2.exports=Oa?function(e){if(Zp(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Oa(e,null,Xp)}catch(t){if(t!==Ed)return!1}return!Qp(e)&&Yp(e)}:function(e){if(Zp(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Kk)return Yp(e);if(Qp(e))return!1;var t=Ad.call(e);return t!==zk&&t!==Wk&&!/^\[object HTML/.test(t)?!1:Yp(e)}});var Q2=we((RG,X2)=>{"use strict";F();var Xk=K2(),Qk=Object.prototype.toString,Y2=Object.prototype.hasOwnProperty,Zk=function(e,t,r){for(var i=0,s=e.length;i<s;i++)Y2.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},eR=function(e,t,r){for(var i=0,s=e.length;i<s;i++)r==null?t(e.charAt(i),i,e):t.call(r,e.charAt(i),i,e)},tR=function(e,t,r){for(var i in e)Y2.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},nR=function(e,t,r){if(!Xk(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),Qk.call(e)==="[object Array]"?Zk(e,t,i):typeof e=="string"?eR(e,t,i):tR(e,t,i)};X2.exports=nR});var e3=we((IG,Z2)=>{"use strict";F();var eg=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],rR=globalThis;Z2.exports=function(){for(var e=[],t=0;t<eg.length;t++)typeof rR[eg[t]]=="function"&&(e[e.length]=eg[t]);return e}});var n3=we((DG,t3)=>{"use strict";F();var iR=vd(),Sd=iR("%Object.getOwnPropertyDescriptor%",!0);if(Sd)try{Sd([],"length")}catch{Sd=null}t3.exports=Sd});var sg=we((FG,o3)=>{"use strict";F();var Td=Q2(),sR=e3(),r3=zp(),rg=Wp(),Cd=n3(),oR=rg("Object.prototype.toString"),s3=$p()(),i3=globalThis,ng=sR(),ig=rg("String.prototype.slice"),tg=Object.getPrototypeOf,aR=rg("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},xd={__proto__:null};s3&&Cd&&tg?Td(ng,function(n){var e=new i3[n];if(Symbol.toStringTag in e){var t=tg(e),r=Cd(t,Symbol.toStringTag);if(!r){var i=tg(t);r=Cd(i,Symbol.toStringTag)}xd["$"+n]=r3(r.get)}}):Td(ng,function(n){var e=new i3[n];xd["$"+n]=r3(e.slice)});var uR=function(e){var t=!1;return Td(xd,function(r,i){if(!t)try{"$"+r(e)===i&&(t=ig(i,1))}catch{}}),t},lR=function(e){var t=!1;return Td(xd,function(r,i){if(!t)try{r(e),t=ig(i,1)}catch{}}),t};o3.exports=function(e){if(!e||typeof e!="object")return!1;if(!s3){var t=ig(oR(e),8,-1);return aR(ng,t)>-1?t:t!=="Object"?!1:lR(e)}return Cd?uR(e):null}});var u3=we((UG,a3)=>{"use strict";F();var cR=sg();a3.exports=function(e){return!!cR(e)}});var E3=we(Qt=>{"use strict";F();var dR=j2(),fR=W2(),Di=sg(),l3=u3();function ka(n){return n.call.bind(n)}var c3=typeof BigInt<"u",d3=typeof Symbol<"u",_i=ka(Object.prototype.toString),hR=ka(Number.prototype.valueOf),pR=ka(String.prototype.valueOf),gR=ka(Boolean.prototype.valueOf);c3&&(f3=ka(BigInt.prototype.valueOf));var f3;d3&&(h3=ka(Symbol.prototype.valueOf));var h3;function rl(n,e){if(typeof n!="object")return!1;try{return e(n),!0}catch{return!1}}Qt.isArgumentsObject=dR;Qt.isGeneratorFunction=fR;Qt.isTypedArray=l3;function mR(n){return typeof Promise<"u"&&n instanceof Promise||n!==null&&typeof n=="object"&&typeof n.then=="function"&&typeof n.catch=="function"}Qt.isPromise=mR;function yR(n){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(n):l3(n)||g3(n)}Qt.isArrayBufferView=yR;function bR(n){return Di(n)==="Uint8Array"}Qt.isUint8Array=bR;function vR(n){return Di(n)==="Uint8ClampedArray"}Qt.isUint8ClampedArray=vR;function _R(n){return Di(n)==="Uint16Array"}Qt.isUint16Array=_R;function wR(n){return Di(n)==="Uint32Array"}Qt.isUint32Array=wR;function ER(n){return Di(n)==="Int8Array"}Qt.isInt8Array=ER;function AR(n){return Di(n)==="Int16Array"}Qt.isInt16Array=AR;function SR(n){return Di(n)==="Int32Array"}Qt.isInt32Array=SR;function CR(n){return Di(n)==="Float32Array"}Qt.isFloat32Array=CR;function TR(n){return Di(n)==="Float64Array"}Qt.isFloat64Array=TR;function xR(n){return Di(n)==="BigInt64Array"}Qt.isBigInt64Array=xR;function PR(n){return Di(n)==="BigUint64Array"}Qt.isBigUint64Array=PR;function Pd(n){return _i(n)==="[object Map]"}Pd.working=typeof Map<"u"&&Pd(new Map);function MR(n){return typeof Map>"u"?!1:Pd.working?Pd(n):n instanceof Map}Qt.isMap=MR;function Md(n){return _i(n)==="[object Set]"}Md.working=typeof Set<"u"&&Md(new Set);function OR(n){return typeof Set>"u"?!1:Md.working?Md(n):n instanceof Set}Qt.isSet=OR;function Od(n){return _i(n)==="[object WeakMap]"}Od.working=typeof WeakMap<"u"&&Od(new WeakMap);function kR(n){return typeof WeakMap>"u"?!1:Od.working?Od(n):n instanceof WeakMap}Qt.isWeakMap=kR;function ag(n){return _i(n)==="[object WeakSet]"}ag.working=typeof WeakSet<"u"&&ag(new WeakSet);function RR(n){return ag(n)}Qt.isWeakSet=RR;function kd(n){return _i(n)==="[object ArrayBuffer]"}kd.working=typeof ArrayBuffer<"u"&&kd(new ArrayBuffer);function p3(n){return typeof ArrayBuffer>"u"?!1:kd.working?kd(n):n instanceof ArrayBuffer}Qt.isArrayBuffer=p3;function Rd(n){return _i(n)==="[object DataView]"}Rd.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Rd(new DataView(new ArrayBuffer(1),0,1));function g3(n){return typeof DataView>"u"?!1:Rd.working?Rd(n):n instanceof DataView}Qt.isDataView=g3;var og=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function nl(n){return _i(n)==="[object SharedArrayBuffer]"}function m3(n){return typeof og>"u"?!1:(typeof nl.working>"u"&&(nl.working=nl(new og)),nl.working?nl(n):n instanceof og)}Qt.isSharedArrayBuffer=m3;function LR(n){return _i(n)==="[object AsyncFunction]"}Qt.isAsyncFunction=LR;function IR(n){return _i(n)==="[object Map Iterator]"}Qt.isMapIterator=IR;function NR(n){return _i(n)==="[object Set Iterator]"}Qt.isSetIterator=NR;function DR(n){return _i(n)==="[object Generator]"}Qt.isGeneratorObject=DR;function BR(n){return _i(n)==="[object WebAssembly.Module]"}Qt.isWebAssemblyCompiledModule=BR;function y3(n){return rl(n,hR)}Qt.isNumberObject=y3;function b3(n){return rl(n,pR)}Qt.isStringObject=b3;function v3(n){return rl(n,gR)}Qt.isBooleanObject=v3;function _3(n){return c3&&rl(n,f3)}Qt.isBigIntObject=_3;function w3(n){return d3&&rl(n,h3)}Qt.isSymbolObject=w3;function FR(n){return y3(n)||b3(n)||v3(n)||_3(n)||w3(n)}Qt.isBoxedPrimitive=FR;function HR(n){return typeof Uint8Array<"u"&&(p3(n)||m3(n))}Qt.isAnyArrayBuffer=HR;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(n){Object.defineProperty(Qt,n,{enumerable:!1,value:function(){throw new Error(n+" is not supported in userland")}})})});var S3=we((zG,A3)=>{F();A3.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var C3=we((VG,ug)=>{F();typeof Object.create=="function"?ug.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:ug.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}});var Ud=we(Zt=>{F();var T3=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++)r[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return r},UR=/%[sdj%]/g;Zt.format=function(n){if(!Hd(n)){for(var e=[],t=0;t<arguments.length;t++)e.push(no(arguments[t]));return e.join(" ")}for(var t=1,r=arguments,i=r.length,s=String(n).replace(UR,function(c){if(c==="%%")return"%";if(t>=i)return c;switch(c){case"%s":return String(r[t++]);case"%d":return Number(r[t++]);case"%j":try{return JSON.stringify(r[t++])}catch{return"[Circular]"}default:return c}}),o=r[t];t<i;o=r[++t])Fd(o)||!Ra(o)?s+=" "+o:s+=" "+no(o);return s};Zt.deprecate=function(n,e){if(typeof process<"u"&&process.noDeprecation===!0)return n;if(typeof process>"u")return function(){return Zt.deprecate(n,e).apply(this,arguments)};var t=!1;function r(){if(!t){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),t=!0}return n.apply(this,arguments)}return r};var Ld={},x3=/^$/;process.env.NODE_DEBUG&&(Id=process.env.NODE_DEBUG,Id=Id.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),x3=new RegExp("^"+Id+"$","i"));var Id;Zt.debuglog=function(n){if(n=n.toUpperCase(),!Ld[n])if(x3.test(n)){var e=process.pid;Ld[n]=function(){var t=Zt.format.apply(Zt,arguments);console.error("%s %d: %s",n,e,t)}}else Ld[n]=function(){};return Ld[n]};function no(n,e){var t={seen:[],stylize:qR};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),fg(e)?t.showHidden=e:e&&Zt._extend(t,e),Fo(t.showHidden)&&(t.showHidden=!1),Fo(t.depth)&&(t.depth=2),Fo(t.colors)&&(t.colors=!1),Fo(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=jR),Dd(t,n,t.depth)}Zt.inspect=no;no.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};no.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function jR(n,e){var t=no.styles[e];return t?"\x1B["+no.colors[t][0]+"m"+n+"\x1B["+no.colors[t][1]+"m":n}function qR(n,e){return n}function GR(n){var e={};return n.forEach(function(t,r){e[t]=!0}),e}function Dd(n,e,t){if(n.customInspect&&e&&Nd(e.inspect)&&e.inspect!==Zt.inspect&&!(e.constructor&&e.constructor.prototype===e)){var r=e.inspect(t,n);return Hd(r)||(r=Dd(n,r,t)),r}var i=zR(n,e);if(i)return i;var s=Object.keys(e),o=GR(s);if(n.showHidden&&(s=Object.getOwnPropertyNames(e)),sl(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return lg(e);if(s.length===0){if(Nd(e)){var c=e.name?": "+e.name:"";return n.stylize("[Function"+c+"]","special")}if(il(e))return n.stylize(RegExp.prototype.toString.call(e),"regexp");if(Bd(e))return n.stylize(Date.prototype.toString.call(e),"date");if(sl(e))return lg(e)}var d="",u=!1,p=["{","}"];if(P3(e)&&(u=!0,p=["[","]"]),Nd(e)){var m=e.name?": "+e.name:"";d=" [Function"+m+"]"}if(il(e)&&(d=" "+RegExp.prototype.toString.call(e)),Bd(e)&&(d=" "+Date.prototype.toUTCString.call(e)),sl(e)&&(d=" "+lg(e)),s.length===0&&(!u||e.length==0))return p[0]+d+p[1];if(t<0)return il(e)?n.stylize(RegExp.prototype.toString.call(e),"regexp"):n.stylize("[Object]","special");n.seen.push(e);var b;return u?b=WR(n,e,t,o,s):b=s.map(function(v){return dg(n,e,t,o,v,u)}),n.seen.pop(),VR(b,d,p)}function zR(n,e){if(Fo(e))return n.stylize("undefined","undefined");if(Hd(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(t,"string")}if(M3(e))return n.stylize(""+e,"number");if(fg(e))return n.stylize(""+e,"boolean");if(Fd(e))return n.stylize("null","null")}function lg(n){return"["+Error.prototype.toString.call(n)+"]"}function WR(n,e,t,r,i){for(var s=[],o=0,c=e.length;o<c;++o)O3(e,String(o))?s.push(dg(n,e,t,r,String(o),!0)):s.push("");return i.forEach(function(d){d.match(/^\d+$/)||s.push(dg(n,e,t,r,d,!0))}),s}function dg(n,e,t,r,i,s){var o,c,d;if(d=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},d.get?d.set?c=n.stylize("[Getter/Setter]","special"):c=n.stylize("[Getter]","special"):d.set&&(c=n.stylize("[Setter]","special")),O3(r,i)||(o="["+i+"]"),c||(n.seen.indexOf(d.value)<0?(Fd(t)?c=Dd(n,d.value,null):c=Dd(n,d.value,t-1),c.indexOf(`
`)>-1&&(s?c=c.split(`
`).map(function(u){return"  "+u}).join(`
`).slice(2):c=`
`+c.split(`
`).map(function(u){return"   "+u}).join(`
`))):c=n.stylize("[Circular]","special")),Fo(o)){if(s&&i.match(/^\d+$/))return c;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=n.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=n.stylize(o,"string"))}return o+": "+c}function VR(n,e,t){var r=0,i=n.reduce(function(s,o){return r++,o.indexOf(`
`)>=0&&r++,s+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(e===""?"":e+`
 `)+" "+n.join(`,
  `)+" "+t[1]:t[0]+e+" "+n.join(", ")+" "+t[1]}Zt.types=E3();function P3(n){return Array.isArray(n)}Zt.isArray=P3;function fg(n){return typeof n=="boolean"}Zt.isBoolean=fg;function Fd(n){return n===null}Zt.isNull=Fd;function $R(n){return n==null}Zt.isNullOrUndefined=$R;function M3(n){return typeof n=="number"}Zt.isNumber=M3;function Hd(n){return typeof n=="string"}Zt.isString=Hd;function JR(n){return typeof n=="symbol"}Zt.isSymbol=JR;function Fo(n){return n===void 0}Zt.isUndefined=Fo;function il(n){return Ra(n)&&hg(n)==="[object RegExp]"}Zt.isRegExp=il;Zt.types.isRegExp=il;function Ra(n){return typeof n=="object"&&n!==null}Zt.isObject=Ra;function Bd(n){return Ra(n)&&hg(n)==="[object Date]"}Zt.isDate=Bd;Zt.types.isDate=Bd;function sl(n){return Ra(n)&&(hg(n)==="[object Error]"||n instanceof Error)}Zt.isError=sl;Zt.types.isNativeError=sl;function Nd(n){return typeof n=="function"}Zt.isFunction=Nd;function KR(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||typeof n>"u"}Zt.isPrimitive=KR;Zt.isBuffer=S3();function hg(n){return Object.prototype.toString.call(n)}function cg(n){return n<10?"0"+n.toString(10):n.toString(10)}var YR=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function XR(){var n=new Date,e=[cg(n.getHours()),cg(n.getMinutes()),cg(n.getSeconds())].join(":");return[n.getDate(),YR[n.getMonth()],e].join(" ")}Zt.log=function(){console.log("%s - %s",XR(),Zt.format.apply(Zt,arguments))};Zt.inherits=C3();Zt._extend=function(n,e){if(!e||!Ra(e))return n;for(var t=Object.keys(e),r=t.length;r--;)n[t[r]]=e[t[r]];return n};function O3(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var Bo=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Zt.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(Bo&&e[Bo]){var t=e[Bo];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,Bo,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var r,i,s=new Promise(function(d,u){r=d,i=u}),o=[],c=0;c<arguments.length;c++)o.push(arguments[c]);o.push(function(d,u){d?i(d):r(u)});try{e.apply(this,o)}catch(d){i(d)}return s}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Bo&&Object.defineProperty(t,Bo,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,T3(e))};Zt.promisify.custom=Bo;function QR(n,e){if(!n){var t=new Error("Promise was rejected with a falsy value");t.reason=n,n=t}return e(n)}function ZR(n){if(typeof n!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};n.apply(this,t).then(function(c){process.nextTick(o.bind(null,null,c))},function(c){process.nextTick(QR.bind(null,c,o))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(n)),Object.defineProperties(e,T3(n)),e}Zt.callbackify=ZR});var process,util,F=Np(()=>{process=f2(),util=Ud()});var wi={};Dp(wi,{__addDisposableResource:()=>X3,__assign:()=>jd,__asyncDelegator:()=>G3,__asyncGenerator:()=>q3,__asyncValues:()=>z3,__await:()=>La,__awaiter:()=>D3,__classPrivateFieldGet:()=>J3,__classPrivateFieldIn:()=>Y3,__classPrivateFieldSet:()=>K3,__createBinding:()=>Gd,__decorate:()=>L3,__disposeResources:()=>Q3,__esDecorate:()=>eL,__exportStar:()=>F3,__extends:()=>k3,__generator:()=>B3,__importDefault:()=>$3,__importStar:()=>V3,__makeTemplateObject:()=>W3,__metadata:()=>N3,__param:()=>I3,__propKey:()=>nL,__read:()=>gg,__rest:()=>R3,__runInitializers:()=>tL,__setFunctionName:()=>rL,__spread:()=>H3,__spreadArray:()=>j3,__spreadArrays:()=>U3,__values:()=>qd,default:()=>oL});function k3(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");pg(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function R3(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function L3(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function I3(n,e){return function(t,r){e(t,r,n)}}function eL(n,e,t,r,i,s){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var c=r.kind,d=c==="getter"?"get":c==="setter"?"set":"value",u=!e&&n?r.static?n:n.prototype:null,p=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),m,b=!1,v=t.length-1;v>=0;v--){var y={};for(var h in r)y[h]=h==="access"?{}:r[h];for(var h in r.access)y.access[h]=r.access[h];y.addInitializer=function(g){if(b)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(g||null))};var l=(0,t[v])(c==="accessor"?{get:p.get,set:p.set}:p[d],y);if(c==="accessor"){if(l===void 0)continue;if(l===null||typeof l!="object")throw new TypeError("Object expected");(m=o(l.get))&&(p.get=m),(m=o(l.set))&&(p.set=m),(m=o(l.init))&&i.unshift(m)}else(m=o(l))&&(c==="field"?i.unshift(m):p[d]=m)}u&&Object.defineProperty(u,r.name,p),b=!0}function tL(n,e,t){for(var r=arguments.length>2,i=0;i<e.length;i++)t=r?e[i].call(n,t):e[i].call(n);return r?t:void 0}function nL(n){return typeof n=="symbol"?n:"".concat(n)}function rL(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function N3(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function D3(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{u(r.next(p))}catch(m){o(m)}}function d(p){try{u(r.throw(p))}catch(m){o(m)}}function u(p){p.done?s(p.value):i(p.value).then(c,d)}u((r=r.apply(n,e||[])).next())})}function B3(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(u){return function(p){return d([u,p])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(p){u=[6,p],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function F3(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Gd(e,n,t)}function qd(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gg(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){o={error:c}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function H3(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(gg(arguments[e]));return n}function U3(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var s=arguments[e],o=0,c=s.length;o<c;o++,i++)r[i]=s[o];return r}function j3(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}function La(n){return this instanceof La?(this.v=n,this):new La(n)}function q3(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(b){r[b]&&(i[b]=function(v){return new Promise(function(y,h){s.push([b,v,y,h])>1||c(b,v)})})}function c(b,v){try{d(r[b](v))}catch(y){m(s[0][3],y)}}function d(b){b.value instanceof La?Promise.resolve(b.value.v).then(u,p):m(s[0][2],b)}function u(b){c("next",b)}function p(b){c("throw",b)}function m(b,v){b(v),s.shift(),s.length&&c(s[0][0],s[0][1])}}function G3(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=n[i]?function(o){return(t=!t)?{value:La(n[i](o)),done:!1}:s?s(o):o}:s}}function z3(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof qd=="function"?qd(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(c,d){o=n[s](o),i(c,d,o.done,o.value)})}}function i(s,o,c,d){Promise.resolve(d).then(function(u){s({value:u,done:c})},o)}}function W3(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function V3(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Gd(e,n,t);return iL(e,n),e}function $3(n){return n&&n.__esModule?n:{default:n}}function J3(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function K3(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t}function Y3(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function X3(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}function Q3(n){function e(r){n.error=n.hasError?new sL(r,n.error,"An error was suppressed during disposal."):r,n.hasError=!0}function t(){for(;n.stack.length;){var r=n.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(t,function(s){return e(s),t()})}catch(s){e(s)}}if(n.hasError)throw n.error}return t()}var pg,jd,Gd,iL,sL,oL,Ei=Np(()=>{F();pg=function(n,e){return pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},pg(n,e)};jd=function(){return jd=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},jd.apply(this,arguments)};Gd=Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]};iL=Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e};sL=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};oL={__extends:k3,__assign:jd,__rest:R3,__decorate:L3,__param:I3,__metadata:N3,__awaiter:D3,__generator:B3,__createBinding:Gd,__exportStar:F3,__values:qd,__read:gg,__spread:H3,__spreadArrays:U3,__spreadArray:j3,__await:La,__asyncGenerator:q3,__asyncDelegator:G3,__asyncValues:z3,__makeTemplateObject:W3,__importStar:V3,__importDefault:$3,__classPrivateFieldGet:J3,__classPrivateFieldSet:K3,__classPrivateFieldIn:Y3,__addDisposableResource:X3,__disposeResources:Q3}});var e4=we((QG,Z3)=>{F();var Ia=1e3,Na=Ia*60,Da=Na*60,Ho=Da*24,aL=Ho*7,uL=Ho*365.25;Z3.exports=function(n,e){e=e||{};var t=typeof n;if(t==="string"&&n.length>0)return lL(n);if(t==="number"&&isFinite(n))return e.long?dL(n):cL(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function lL(n){if(n=String(n),!(n.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(e){var t=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return t*uL;case"weeks":case"week":case"w":return t*aL;case"days":case"day":case"d":return t*Ho;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Da;case"minutes":case"minute":case"mins":case"min":case"m":return t*Na;case"seconds":case"second":case"secs":case"sec":case"s":return t*Ia;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function cL(n){var e=Math.abs(n);return e>=Ho?Math.round(n/Ho)+"d":e>=Da?Math.round(n/Da)+"h":e>=Na?Math.round(n/Na)+"m":e>=Ia?Math.round(n/Ia)+"s":n+"ms"}function dL(n){var e=Math.abs(n);return e>=Ho?zd(n,e,Ho,"day"):e>=Da?zd(n,e,Da,"hour"):e>=Na?zd(n,e,Na,"minute"):e>=Ia?zd(n,e,Ia,"second"):n+" ms"}function zd(n,e,t,r){var i=e>=t*1.5;return Math.round(n/t)+" "+r+(i?"s":"")}});var n4=we((ez,t4)=>{F();function fL(n){t.debug=t,t.default=t,t.coerce=d,t.disable=s,t.enable=i,t.enabled=o,t.humanize=e4(),t.destroy=u,Object.keys(n).forEach(p=>{t[p]=n[p]}),t.names=[],t.skips=[],t.formatters={};function e(p){let m=0;for(let b=0;b<p.length;b++)m=(m<<5)-m+p.charCodeAt(b),m|=0;return t.colors[Math.abs(m)%t.colors.length]}t.selectColor=e;function t(p){let m,b=null,v,y;function h(...l){if(!h.enabled)return;let g=h,w=Number(new Date),E=w-(m||w);g.diff=E,g.prev=m,g.curr=w,m=w,l[0]=t.coerce(l[0]),typeof l[0]!="string"&&l.unshift("%O");let A=0;l[0]=l[0].replace(/%([a-zA-Z%])/g,(C,I)=>{if(C==="%%")return"%";A++;let T=t.formatters[I];if(typeof T=="function"){let x=l[A];C=T.call(g,x),l.splice(A,1),A--}return C}),t.formatArgs.call(g,l),(g.log||t.log).apply(g,l)}return h.namespace=p,h.useColors=t.useColors(),h.color=t.selectColor(p),h.extend=r,h.destroy=t.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>b!==null?b:(v!==t.namespaces&&(v=t.namespaces,y=t.enabled(p)),y),set:l=>{b=l}}),typeof t.init=="function"&&t.init(h),h}function r(p,m){let b=t(this.namespace+(typeof m>"u"?":":m)+p);return b.log=this.log,b}function i(p){t.save(p),t.namespaces=p,t.names=[],t.skips=[];let m,b=(typeof p=="string"?p:"").split(/[\s,]+/),v=b.length;for(m=0;m<v;m++)b[m]&&(p=b[m].replace(/\*/g,".*?"),p[0]==="-"?t.skips.push(new RegExp("^"+p.slice(1)+"$")):t.names.push(new RegExp("^"+p+"$")))}function s(){let p=[...t.names.map(c),...t.skips.map(c).map(m=>"-"+m)].join(",");return t.enable(""),p}function o(p){if(p[p.length-1]==="*")return!0;let m,b;for(m=0,b=t.skips.length;m<b;m++)if(t.skips[m].test(p))return!1;for(m=0,b=t.names.length;m<b;m++)if(t.names[m].test(p))return!0;return!1}function c(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function d(p){return p instanceof Error?p.stack||p.message:p}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}t4.exports=fL});var r4=we((Zr,Wd)=>{F();Zr.formatArgs=pL;Zr.save=gL;Zr.load=mL;Zr.useColors=hL;Zr.storage=yL();Zr.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Zr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function hL(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function pL(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+Wd.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;n.splice(1,0,e,"color: inherit");let t=0,r=0;n[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(r=t))}),n.splice(r,0,e)}Zr.log=console.debug||console.log||(()=>{});function gL(n){try{n?Zr.storage.setItem("debug",n):Zr.storage.removeItem("debug")}catch{}}function mL(){let n;try{n=Zr.storage.getItem("debug")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=process.env.DEBUG),n}function yL(){try{return localStorage}catch{}}Wd.exports=n4()(Zr);var{formatters:bL}=Wd.exports;bL.j=function(n){try{return JSON.stringify(n)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var s4=we(i4=>{"use strict";F();Object.defineProperty(i4,"__esModule",{value:!0})});var o4=we(Vd=>{"use strict";F();Object.defineProperty(Vd,"__esModule",{value:!0});Vd.PropertyDefinition=void 0;var mg=class{constructor(){this.array=!1,this.set=!1,this.readonly=!1,this.writeonly=!1}};Vd.PropertyDefinition=mg});var Er=we(rr=>{"use strict";F();Object.defineProperty(rr,"__esModule",{value:!0});rr.getTypedInheritanceChain=rr.getInheritanceChain=rr.getDefinition=rr.objectDefinitions=rr.ObjectDefinition=void 0;var vL=o4(),$d=class{constructor(){this.ctr=()=>{},this.beforeDeserialized=()=>{},this.onDeserialized=()=>{},this.properties=new Map}getProperty(e){let t=this.properties.get(e);return t||(t=new vL.PropertyDefinition,this.properties.set(e,t)),t}};rr.ObjectDefinition=$d;rr.objectDefinitions=new Map;function _L(n){let e=rr.objectDefinitions.get(n);return e||(e=new $d,rr.objectDefinitions.set(n,e)),e}rr.getDefinition=_L;function yg(n){if(!n)return[];let e=Object.getPrototypeOf(n);return[n.constructor].concat(yg(e))}rr.getInheritanceChain=yg;function a4(n){let e=[];return rr.objectDefinitions.forEach((t,r)=>{Object.getPrototypeOf(r.prototype).constructor===n&&e.push([r,t])}),e}function u4(n,e){let t=rr.objectDefinitions.get(n),r=[];e&&t&&t.discriminatorProperty&&(r=r.concat(a4(n)));let i;for(;r.length!==0&&!i;){let[o,c]=r.shift();if(c.hasOwnProperty("discriminatorValue")){if(e&&t&&c.discriminatorValue===e[t.discriminatorProperty]){if(c.hasOwnProperty("discriminatorProperty"))return u4(o,e);i=o}}else r=r.concat(a4(o))}i||(i=n);let s=new Set(yg(Object.create(i.prototype)));return Array.from(s).filter(o=>rr.objectDefinitions.has(o))}rr.getTypedInheritanceChain=u4});var l4=we(Jd=>{"use strict";F();Object.defineProperty(Jd,"__esModule",{value:!0});Jd.JsonObject=void 0;var wL=Er();function EL(){return function(n){wL.getDefinition(n)}}Jd.JsonObject=EL});var d4=we(()=>{F();var c4;(function(n){(function(e){var t=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),r=i(n);typeof t.Reflect>"u"?t.Reflect=n:r=i(t.Reflect,r),e(r);function i(s,o){return function(c,d){typeof s[c]!="function"&&Object.defineProperty(s,c,{configurable:!0,writable:!0,value:d}),o&&o(c,d)}}})(function(e){var t=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",i=r&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=r&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",c={__proto__:[]}instanceof Array,d=!o&&!c,u={create:o?function(){return ae(Object.create(null))}:c?function(){return ae({__proto__:null})}:function(){return ae({})},has:d?function(z,Q){return t.call(z,Q)}:function(z,Q){return Q in z},get:d?function(z,Q){return t.call(z,Q)?z[Q]:void 0}:function(z,Q){return z[Q]}},p=Object.getPrototypeOf(Function),m=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",b=!m&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:ye(),v=!m&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Te(),y=!m&&typeof WeakMap=="function"?WeakMap:me(),h=new y;function l(z,Q,le,Ee){if(he(le)){if(!te(z))throw new TypeError;if(!pe(Q))throw new TypeError;return D(z,Q)}else{if(!te(z))throw new TypeError;if(!O(Q))throw new TypeError;if(!O(Ee)&&!he(Ee)&&!Se(Ee))throw new TypeError;return Se(Ee)&&(Ee=void 0),le=J(le),L(z,Q,le,Ee)}}e("decorate",l);function g(z,Q){function le(Ee,Be){if(!O(Ee))throw new TypeError;if(!he(Be)&&!ve(Be))throw new TypeError;Z(z,Q,Ee,Be)}return le}e("metadata",g);function w(z,Q,le,Ee){if(!O(le))throw new TypeError;return he(Ee)||(Ee=J(Ee)),Z(z,Q,le,Ee)}e("defineMetadata",w);function E(z,Q,le){if(!O(Q))throw new TypeError;return he(le)||(le=J(le)),G(z,Q,le)}e("hasMetadata",E);function A(z,Q,le){if(!O(Q))throw new TypeError;return he(le)||(le=J(le)),j(z,Q,le)}e("hasOwnMetadata",A);function _(z,Q,le){if(!O(Q))throw new TypeError;return he(le)||(le=J(le)),q(z,Q,le)}e("getMetadata",_);function C(z,Q,le){if(!O(Q))throw new TypeError;return he(le)||(le=J(le)),X(z,Q,le)}e("getOwnMetadata",C);function I(z,Q){if(!O(z))throw new TypeError;return he(Q)||(Q=J(Q)),$(z,Q)}e("getMetadataKeys",I);function T(z,Q){if(!O(z))throw new TypeError;return he(Q)||(Q=J(Q)),ue(z,Q)}e("getOwnMetadataKeys",T);function x(z,Q,le){if(!O(Q))throw new TypeError;he(le)||(le=J(le));var Ee=H(Q,le,!1);if(he(Ee)||!Ee.delete(z))return!1;if(Ee.size>0)return!0;var Be=h.get(Q);return Be.delete(le),Be.size>0||h.delete(Q),!0}e("deleteMetadata",x);function D(z,Q){for(var le=z.length-1;le>=0;--le){var Ee=z[le],Be=Ee(Q);if(!he(Be)&&!Se(Be)){if(!pe(Be))throw new TypeError;Q=Be}}return Q}function L(z,Q,le,Ee){for(var Be=z.length-1;Be>=0;--Be){var tt=z[Be],$e=tt(Q,le,Ee);if(!he($e)&&!Se($e)){if(!O($e))throw new TypeError;Ee=$e}}return Ee}function H(z,Q,le){var Ee=h.get(z);if(he(Ee)){if(!le)return;Ee=new b,h.set(z,Ee)}var Be=Ee.get(Q);if(he(Be)){if(!le)return;Be=new b,Ee.set(Q,Be)}return Be}function G(z,Q,le){var Ee=j(z,Q,le);if(Ee)return!0;var Be=De(Q);return Se(Be)?!1:G(z,Be,le)}function j(z,Q,le){var Ee=H(Q,le,!1);return he(Ee)?!1:N(Ee.has(z))}function q(z,Q,le){var Ee=j(z,Q,le);if(Ee)return X(z,Q,le);var Be=De(Q);if(!Se(Be))return q(z,Be,le)}function X(z,Q,le){var Ee=H(Q,le,!1);if(!he(Ee))return Ee.get(z)}function Z(z,Q,le,Ee){var Be=H(le,Ee,!0);Be.set(z,Q)}function $(z,Q){var le=ue(z,Q),Ee=De(z);if(Ee===null)return le;var Be=$(Ee,Q);if(Be.length<=0)return le;if(le.length<=0)return Be;for(var tt=new v,$e=[],et=0,Ge=le;et<Ge.length;et++){var Xe=Ge[et],ot=tt.has(Xe);ot||(tt.add(Xe),$e.push(Xe))}for(var Le=0,_e=Be;Le<_e.length;Le++){var Xe=_e[Le],ot=tt.has(Xe);ot||(tt.add(Xe),$e.push(Xe))}return $e}function ue(z,Q){var le=[],Ee=H(z,Q,!1);if(he(Ee))return le;for(var Be=Ee.keys(),tt=ke(Be),$e=0;;){var et=Ne(tt);if(!et)return le.length=$e,le;var Ge=je(et);try{le[$e]=Ge}catch(Xe){try{Ye(tt)}finally{throw Xe}}$e++}}function fe(z){if(z===null)return 1;switch(typeof z){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return z===null?1:6;default:return 6}}function he(z){return z===void 0}function Se(z){return z===null}function V(z){return typeof z=="symbol"}function O(z){return typeof z=="object"?z!==null:typeof z=="function"}function M(z,Q){switch(fe(z)){case 0:return z;case 1:return z;case 2:return z;case 3:return z;case 4:return z;case 5:return z}var le=Q===3?"string":Q===5?"number":"default",Ee=Pe(z,i);if(Ee!==void 0){var Be=Ee.call(z,le);if(O(Be))throw new TypeError;return Be}return P(z,le==="default"?"number":le)}function P(z,Q){if(Q==="string"){var le=z.toString;if(re(le)){var Ee=le.call(z);if(!O(Ee))return Ee}var Be=z.valueOf;if(re(Be)){var Ee=Be.call(z);if(!O(Ee))return Ee}}else{var Be=z.valueOf;if(re(Be)){var Ee=Be.call(z);if(!O(Ee))return Ee}var tt=z.toString;if(re(tt)){var Ee=tt.call(z);if(!O(Ee))return Ee}}throw new TypeError}function N(z){return!!z}function U(z){return""+z}function J(z){var Q=M(z,3);return V(Q)?Q:U(Q)}function te(z){return Array.isArray?Array.isArray(z):z instanceof Object?z instanceof Array:Object.prototype.toString.call(z)==="[object Array]"}function re(z){return typeof z=="function"}function pe(z){return typeof z=="function"}function ve(z){switch(fe(z)){case 3:return!0;case 4:return!0;default:return!1}}function Pe(z,Q){var le=z[Q];if(le!=null){if(!re(le))throw new TypeError;return le}}function ke(z){var Q=Pe(z,s);if(!re(Q))throw new TypeError;var le=Q.call(z);if(!O(le))throw new TypeError;return le}function je(z){return z.value}function Ne(z){var Q=z.next();return Q.done?!1:Q}function Ye(z){var Q=z.return;Q&&Q.call(z)}function De(z){var Q=Object.getPrototypeOf(z);if(typeof z!="function"||z===p||Q!==p)return Q;var le=z.prototype,Ee=le&&Object.getPrototypeOf(le);if(Ee==null||Ee===Object.prototype)return Q;var Be=Ee.constructor;return typeof Be!="function"||Be===z?Q:Be}function ye(){var z={},Q=[],le=function(){function $e(et,Ge,Xe){this._index=0,this._keys=et,this._values=Ge,this._selector=Xe}return $e.prototype["@@iterator"]=function(){return this},$e.prototype[s]=function(){return this},$e.prototype.next=function(){var et=this._index;if(et>=0&&et<this._keys.length){var Ge=this._selector(this._keys[et],this._values[et]);return et+1>=this._keys.length?(this._index=-1,this._keys=Q,this._values=Q):this._index++,{value:Ge,done:!1}}return{value:void 0,done:!0}},$e.prototype.throw=function(et){throw this._index>=0&&(this._index=-1,this._keys=Q,this._values=Q),et},$e.prototype.return=function(et){return this._index>=0&&(this._index=-1,this._keys=Q,this._values=Q),{value:et,done:!0}},$e}();return function(){function $e(){this._keys=[],this._values=[],this._cacheKey=z,this._cacheIndex=-2}return Object.defineProperty($e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),$e.prototype.has=function(et){return this._find(et,!1)>=0},$e.prototype.get=function(et){var Ge=this._find(et,!1);return Ge>=0?this._values[Ge]:void 0},$e.prototype.set=function(et,Ge){var Xe=this._find(et,!0);return this._values[Xe]=Ge,this},$e.prototype.delete=function(et){var Ge=this._find(et,!1);if(Ge>=0){for(var Xe=this._keys.length,ot=Ge+1;ot<Xe;ot++)this._keys[ot-1]=this._keys[ot],this._values[ot-1]=this._values[ot];return this._keys.length--,this._values.length--,et===this._cacheKey&&(this._cacheKey=z,this._cacheIndex=-2),!0}return!1},$e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=z,this._cacheIndex=-2},$e.prototype.keys=function(){return new le(this._keys,this._values,Ee)},$e.prototype.values=function(){return new le(this._keys,this._values,Be)},$e.prototype.entries=function(){return new le(this._keys,this._values,tt)},$e.prototype["@@iterator"]=function(){return this.entries()},$e.prototype[s]=function(){return this.entries()},$e.prototype._find=function(et,Ge){return this._cacheKey!==et&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=et)),this._cacheIndex<0&&Ge&&(this._cacheIndex=this._keys.length,this._keys.push(et),this._values.push(void 0)),this._cacheIndex},$e}();function Ee($e,et){return $e}function Be($e,et){return et}function tt($e,et){return[$e,et]}}function Te(){return function(){function z(){this._map=new b}return Object.defineProperty(z.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),z.prototype.has=function(Q){return this._map.has(Q)},z.prototype.add=function(Q){return this._map.set(Q,Q),this},z.prototype.delete=function(Q){return this._map.delete(Q)},z.prototype.clear=function(){this._map.clear()},z.prototype.keys=function(){return this._map.keys()},z.prototype.values=function(){return this._map.values()},z.prototype.entries=function(){return this._map.entries()},z.prototype["@@iterator"]=function(){return this.keys()},z.prototype[s]=function(){return this.keys()},z}()}function me(){var z=16,Q=u.create(),le=Ee();return function(){function Ge(){this._key=Ee()}return Ge.prototype.has=function(Xe){var ot=Be(Xe,!1);return ot!==void 0?u.has(ot,this._key):!1},Ge.prototype.get=function(Xe){var ot=Be(Xe,!1);return ot!==void 0?u.get(ot,this._key):void 0},Ge.prototype.set=function(Xe,ot){var Le=Be(Xe,!0);return Le[this._key]=ot,this},Ge.prototype.delete=function(Xe){var ot=Be(Xe,!1);return ot!==void 0?delete ot[this._key]:!1},Ge.prototype.clear=function(){this._key=Ee()},Ge}();function Ee(){var Ge;do Ge="@@WeakMap@@"+et();while(u.has(Q,Ge));return Q[Ge]=!0,Ge}function Be(Ge,Xe){if(!t.call(Ge,le)){if(!Xe)return;Object.defineProperty(Ge,le,{value:u.create()})}return Ge[le]}function tt(Ge,Xe){for(var ot=0;ot<Xe;++ot)Ge[ot]=Math.random()*255|0;return Ge}function $e(Ge){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(Ge)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(Ge)):tt(new Uint8Array(Ge),Ge):tt(new Array(Ge),Ge)}function et(){var Ge=$e(z);Ge[6]=Ge[6]&79|64,Ge[8]=Ge[8]&191|128;for(var Xe="",ot=0;ot<z;++ot){var Le=Ge[ot];(ot===4||ot===6||ot===8)&&(Xe+="-"),Le<16&&(Xe+="0"),Xe+=Le.toString(16).toLowerCase()}return Xe}}function ae(z){return z.__=void 0,delete z.__,z}})})(c4||(c4={}))});var f4=we(Kd=>{"use strict";F();Object.defineProperty(Kd,"__esModule",{value:!0});Kd.JsonProperty=void 0;d4();var AL=Er();function SL(n){return function(e,t){let r=Reflect.getMetadata("design:type",e,t.toString()),i=AL.getDefinition(e.constructor).getProperty(t.toString());i.serializedName=n||t.toString(),i.array=r===Array,i.set=r===Set,!i.array&&!i.set&&!i.type&&(i.type=r)}}Kd.JsonProperty=SL});var h4=we(Yd=>{"use strict";F();Object.defineProperty(Yd,"__esModule",{value:!0});Yd.JsonType=void 0;var CL=Er();function TL(n){return function(e,t){let r=CL.getDefinition(e.constructor).getProperty(t.toString());r.type=n}}Yd.JsonType=TL});var p4=we(Xd=>{"use strict";F();Object.defineProperty(Xd,"__esModule",{value:!0});Xd.JsonElementType=void 0;var xL=Er();function PL(n){return function(e,t){let r=xL.getDefinition(e.constructor).getProperty(t.toString());r.type=n}}Xd.JsonElementType=PL});var g4=we(Qd=>{"use strict";F();Object.defineProperty(Qd,"__esModule",{value:!0});Qd.JsonConverter=void 0;var ML=Er();function OL(n){return function(e,t){let r=ML.getDefinition(e.constructor).getProperty(t.toString());typeof n=="function"?r.converter=new n:r.converter=n}}Qd.JsonConverter=OL});var m4=we(Zd=>{"use strict";F();Object.defineProperty(Zd,"__esModule",{value:!0});Zd.JsonReadonly=void 0;var kL=Er();function RL(){return function(n,e){let t=kL.getDefinition(n.constructor).getProperty(e.toString());t.readonly=!0}}Zd.JsonReadonly=RL});var y4=we(ef=>{"use strict";F();Object.defineProperty(ef,"__esModule",{value:!0});ef.JsonWriteonly=void 0;var LL=Er();function IL(){return function(n,e){let t=LL.getDefinition(n.constructor).getProperty(e.toString());t.writeonly=!0}}ef.JsonWriteonly=IL});var b4=we(tf=>{"use strict";F();Object.defineProperty(tf,"__esModule",{value:!0});tf.JsonDiscriminatorProperty=void 0;var NL=Er();function DL(n){return function(e){NL.getDefinition(e).discriminatorProperty=n}}tf.JsonDiscriminatorProperty=DL});var v4=we(nf=>{"use strict";F();Object.defineProperty(nf,"__esModule",{value:!0});nf.JsonDiscriminatorValue=void 0;var BL=Er();function FL(n){return function(e){BL.getDefinition(e).discriminatorValue=n}}nf.JsonDiscriminatorValue=FL});var _4=we(rf=>{"use strict";F();Object.defineProperty(rf,"__esModule",{value:!0});rf.JsonConstructor=void 0;var HL=Er();function UL(){return function(n,e){let t=HL.getDefinition(n.constructor);t.ctr=n[e.toString()]}}rf.JsonConstructor=UL});var w4=we(sf=>{"use strict";F();Object.defineProperty(sf,"__esModule",{value:!0});sf.BeforeDeserialized=void 0;var jL=Er();function qL(){return function(n,e){let t=jL.getDefinition(n.constructor);t.beforeDeserialized=n[e.toString()]}}sf.BeforeDeserialized=qL});var E4=we(of=>{"use strict";F();Object.defineProperty(of,"__esModule",{value:!0});of.OnDeserialized=void 0;var GL=Er();function zL(){return function(n,e){let t=GL.getDefinition(n.constructor);t.onDeserialized=n[e.toString()]}}of.OnDeserialized=zL});var A4=we(Yn=>{"use strict";F();var WL=Yn&&Yn.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Ai=Yn&&Yn.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&WL(e,n,t)};Object.defineProperty(Yn,"__esModule",{value:!0});Ai(l4(),Yn);Ai(f4(),Yn);Ai(h4(),Yn);Ai(p4(),Yn);Ai(g4(),Yn);Ai(m4(),Yn);Ai(y4(),Yn);Ai(b4(),Yn);Ai(v4(),Yn);Ai(_4(),Yn);Ai(w4(),Yn);Ai(E4(),Yn)});var vg=we(af=>{"use strict";F();Object.defineProperty(af,"__esModule",{value:!0});af.DateConverter=void 0;var bg=class{serialize(e){return e.toString()}deserialize(e){return new Date(e)}collapseArrayWithSingleItem(){return!1}};af.DateConverter=bg});var wg=we(uf=>{"use strict";F();Object.defineProperty(uf,"__esModule",{value:!0});uf.BufferConverter=void 0;var _g=class{constructor(e="json"){this._encoding=e}serialize(e){return this._encoding==="json"?e.toJSON():e.toString(this._encoding)}deserialize(e){return this._encoding==="json"?Buffer.from(e.data):Buffer.from(e,this._encoding)}collapseArrayWithSingleItem(){return!1}};uf.BufferConverter=_g});var lf=we(Ba=>{"use strict";F();Object.defineProperty(Ba,"__esModule",{value:!0});Ba.propertyConverters=void 0;var VL=vg(),$L=wg();Ba.propertyConverters=new Map;typeof window>"u"&&Ba.propertyConverters.set(Buffer,new $L.BufferConverter);Ba.propertyConverters.set(Date,new VL.DateConverter)});var S4=we(Cs=>{"use strict";F();var JL=Cs&&Cs.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Eg=Cs&&Cs.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&JL(e,n,t)};Object.defineProperty(Cs,"__esModule",{value:!0});Eg(lf(),Cs);Eg(wg(),Cs);Eg(vg(),Cs)});var O4=we(cf=>{"use strict";F();Object.defineProperty(cf,"__esModule",{value:!0});cf.serialize=void 0;var C4=Ud(),P4=lf(),Ag=Er();function Sg(n,e,t={keyToPreserveUnknownJSON:void 0}){return n.constructor===Array?n.map(r=>T4(r,e,t)):T4(n,e,t)}cf.serialize=Sg;function T4(n,e=Object.getPrototypeOf(n).constructor,t){let r=Ag.getTypedInheritanceChain(e);if(r.length===0)return n;let i=r.map(o=>Ag.objectDefinitions.get(o)).filter(o=>!!o),s={};if(i.forEach(o=>{o.properties.forEach((c,d)=>{if(!c.type)throw new Error(`Cannot serialize property '${d}' without type!`);let u=n[d];if(!(u==null||c.writeonly)){if(c.set){s[c.serializedName]=x4(Array.from(u||[]),c,t);return}if(c.array){s[c.serializedName]=x4(u,c,t);return}s[c.serializedName]=M4(u,c,t)}})}),t.keyToPreserveUnknownJSON){let o=t.keyToPreserveUnknownJSON;if(n[o]){let c=Object.keys(n[o]);for(let d of c)if(n[o].hasOwnProperty(d)){let u;i.forEach(p=>{p.properties.forEach((m,b)=>{!u&&d===m.serializedName&&(u=m)})}),u||(typeof s[d]<"u"&&(console.log(`???!!! TAJSON keyToPreserveUnknownJSON already serialized?! ${o}.${d}`),console.log(C4.inspect(s[d],{showHidden:!1,depth:1e3,colors:!0,customInspect:!1})),s[d]!==n[o][d]&&(console.log(`???!!! TAJSON keyToPreserveUnknownJSON already serialized DIFF?! ${o}.${d}`),console.log(C4.inspect(n[o][d],{showHidden:!1,depth:1e3,colors:!0,customInspect:!1})))),s[d]=n[o][d])}}}return s}function x4(n,e,t){let r=n.map(i=>M4(i,e,t));if(r.length===1){let i=e.converter||P4.propertyConverters.get(e.type);if(i&&i.collapseArrayWithSingleItem())return r[0]}return r}function M4(n,e,t){let r=e.type===String||e.type===Boolean||e.type===Number,i=n,s=e.converter||P4.propertyConverters.get(e.type);return s?s.serialize(i):!r&&Ag.objectDefinitions.get(e.type)?i instanceof e.type?Sg(i,void 0,t):Sg(i,e.type,t):i}});var N4=we(ff=>{"use strict";F();Object.defineProperty(ff,"__esModule",{value:!0});ff.deserialize=void 0;var KL=Ud(),df=Er(),R4=lf();function L4(n,e,t={runConstructor:!1,keyToPreserveUnknownJSON:void 0}){return n&&n.constructor===Array?n.map(r=>k4(r,e,t)):k4(n,e,t)}ff.deserialize=L4;function k4(n,e=Object,t){if(!df.objectDefinitions.has(e))return n;let r=n,[i,...s]=df.getTypedInheritanceChain(e,r),o=Object.create(i.prototype),c=[...s.reverse(),i].map(d=>df.objectDefinitions.get(d)).filter(d=>!!d);if(c.forEach(d=>{t.runConstructor&&d.ctr.call(o),d.beforeDeserialized.call(o),d.properties.forEach((u,p)=>{if(!u.type)throw new Error(`Cannot deserialize property '${p}' without type!`);let m=r[u.serializedName];if(!(m==null||u.readonly)){if(u.array||u.set){o[p]=YL(m,u,t),u.set&&(o[p]=new Set(o[p]));return}o[p]=I4(m,u,t)}}),d.onDeserialized.call(o)}),t.keyToPreserveUnknownJSON){let d=t.keyToPreserveUnknownJSON;Object.keys(r).forEach(u=>{if(r.hasOwnProperty(u)){let p;c.forEach(m=>{m.properties.forEach((b,v)=>{!p&&u===b.serializedName&&(p=b)}),p?o[d]&&typeof o[d][u]<"u"&&delete o[d][u]:(o[d]||(o[d]={}),typeof o[d][u]<"u"&&o[d][u]!==r[u]&&(console.log(`???!!! TAJSON keyToPreserveUnknownJSON already deserialized DIFF?! ${d}.${u}`),console.log(KL.inspect(r[u],{showHidden:!1,depth:1e3,colors:!0,customInspect:!1}))),o[d][u]=r[u])})}}),o[d]&&!Object.keys(o[d]).length&&delete o[d]}return o}function YL(n,e,t){let r=e.converter||R4.propertyConverters.get(e.type);return(n instanceof Array?n:r&&r.collapseArrayWithSingleItem()?[n]:n).map(s=>I4(s,e,t))}function I4(n,e,t){let r=e.type===String||e.type===Boolean||e.type===Number,i=n,s=e.converter||R4.propertyConverters.get(e.type);return s?s.deserialize(i):!r&&df.objectDefinitions.get(e.type)?L4(i,e.type,t):i}});var D4=we(hf=>{"use strict";F();Object.defineProperty(hf,"__esModule",{value:!0});hf.TaJson=void 0;var XL=O4(),QL=N4(),Cg=class{static deserialize(e,t,r){return QL.deserialize(e,t,r)}static parse(e,t,r){return this.deserialize(JSON.parse(e),t,r)}static serialize(e,t){return XL.serialize(e,void 0,t)}static stringify(e,t){return JSON.stringify(this.serialize(e,t))}};hf.TaJson=Cg});var ir=we(ei=>{"use strict";F();var ZL=ei&&ei.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Tg=ei&&ei.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ZL(e,n,t)};Object.defineProperty(ei,"__esModule",{value:!0});ei.TaJson=ei.JSON=void 0;Tg(s4(),ei);Tg(A4(),ei);Tg(S4(),ei);var B4=D4();Object.defineProperty(ei,"JSON",{enumerable:!0,get:function(){return B4.TaJson}});Object.defineProperty(ei,"TaJson",{enumerable:!0,get:function(){return B4.TaJson}})});var ro=we(pf=>{"use strict";F();Object.defineProperty(pf,"__esModule",{value:!0});pf.JsonStringConverter=void 0;var xg=class{serialize(e){return e}deserialize(e){return e}collapseArrayWithSingleItem(){return!0}};pf.JsonStringConverter=xg});var F4=we(gf=>{"use strict";F();Object.defineProperty(gf,"__esModule",{value:!0});gf.tryDecodeURI=void 0;function eI(n){if(!n)return null;try{return decodeURIComponent(n)}catch(e){console.log(n),console.log(e)}return n}gf.tryDecodeURI=eI});var a_={};Dp(a_,{__addDisposableResource:()=>s_,__assign:()=>mf,__asyncDelegator:()=>X4,__asyncGenerator:()=>Y4,__asyncValues:()=>Q4,__await:()=>Fa,__awaiter:()=>z4,__classPrivateFieldGet:()=>n_,__classPrivateFieldIn:()=>i_,__classPrivateFieldSet:()=>r_,__createBinding:()=>bf,__decorate:()=>j4,__disposeResources:()=>o_,__esDecorate:()=>tI,__exportStar:()=>V4,__extends:()=>H4,__generator:()=>W4,__importDefault:()=>t_,__importStar:()=>e_,__makeTemplateObject:()=>Z4,__metadata:()=>G4,__param:()=>q4,__propKey:()=>rI,__read:()=>Mg,__rest:()=>U4,__runInitializers:()=>nI,__setFunctionName:()=>iI,__spread:()=>$4,__spreadArray:()=>K4,__spreadArrays:()=>J4,__values:()=>yf,default:()=>aI});function H4(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pg(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function U4(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function j4(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function q4(n,e){return function(t,r){e(t,r,n)}}function tI(n,e,t,r,i,s){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var c=r.kind,d=c==="getter"?"get":c==="setter"?"set":"value",u=!e&&n?r.static?n:n.prototype:null,p=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),m,b=!1,v=t.length-1;v>=0;v--){var y={};for(var h in r)y[h]=h==="access"?{}:r[h];for(var h in r.access)y.access[h]=r.access[h];y.addInitializer=function(g){if(b)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(g||null))};var l=(0,t[v])(c==="accessor"?{get:p.get,set:p.set}:p[d],y);if(c==="accessor"){if(l===void 0)continue;if(l===null||typeof l!="object")throw new TypeError("Object expected");(m=o(l.get))&&(p.get=m),(m=o(l.set))&&(p.set=m),(m=o(l.init))&&i.unshift(m)}else(m=o(l))&&(c==="field"?i.unshift(m):p[d]=m)}u&&Object.defineProperty(u,r.name,p),b=!0}function nI(n,e,t){for(var r=arguments.length>2,i=0;i<e.length;i++)t=r?e[i].call(n,t):e[i].call(n);return r?t:void 0}function rI(n){return typeof n=="symbol"?n:"".concat(n)}function iI(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function G4(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function z4(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{u(r.next(p))}catch(m){o(m)}}function d(p){try{u(r.throw(p))}catch(m){o(m)}}function u(p){p.done?s(p.value):i(p.value).then(c,d)}u((r=r.apply(n,e||[])).next())})}function W4(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(u){return function(p){return d([u,p])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(p){u=[6,p],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function V4(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&bf(e,n,t)}function yf(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mg(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){o={error:c}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function $4(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Mg(arguments[e]));return n}function J4(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var s=arguments[e],o=0,c=s.length;o<c;o++,i++)r[i]=s[o];return r}function K4(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}function Fa(n){return this instanceof Fa?(this.v=n,this):new Fa(n)}function Y4(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(b){r[b]&&(i[b]=function(v){return new Promise(function(y,h){s.push([b,v,y,h])>1||c(b,v)})})}function c(b,v){try{d(r[b](v))}catch(y){m(s[0][3],y)}}function d(b){b.value instanceof Fa?Promise.resolve(b.value.v).then(u,p):m(s[0][2],b)}function u(b){c("next",b)}function p(b){c("throw",b)}function m(b,v){b(v),s.shift(),s.length&&c(s[0][0],s[0][1])}}function X4(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=n[i]?function(o){return(t=!t)?{value:Fa(n[i](o)),done:!1}:s?s(o):o}:s}}function Q4(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof yf=="function"?yf(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(c,d){o=n[s](o),i(c,d,o.done,o.value)})}}function i(s,o,c,d){Promise.resolve(d).then(function(u){s({value:u,done:c})},o)}}function Z4(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function e_(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&bf(e,n,t);return sI(e,n),e}function t_(n){return n&&n.__esModule?n:{default:n}}function n_(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function r_(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t}function i_(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function s_(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}function o_(n){function e(r){n.error=n.hasError?new oI(r,n.error,"An error was suppressed during disposal."):r,n.hasError=!0}function t(){for(;n.stack.length;){var r=n.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(t,function(s){return e(s),t()})}catch(s){e(s)}}if(n.hasError)throw n.error}return t()}var Pg,mf,bf,sI,oI,aI,u_=Np(()=>{F();Pg=function(n,e){return Pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Pg(n,e)};mf=function(){return mf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},mf.apply(this,arguments)};bf=Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]};sI=Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e};oI=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};aI={__extends:H4,__assign:mf,__rest:U4,__decorate:j4,__param:q4,__metadata:G4,__awaiter:z4,__generator:W4,__createBinding:bf,__exportStar:V4,__values:yf,__read:Mg,__spread:$4,__spreadArrays:J4,__spreadArray:K4,__await:Fa,__asyncGenerator:Y4,__asyncDelegator:X4,__asyncValues:Q4,__makeTemplateObject:Z4,__importStar:e_,__importDefault:t_,__classPrivateFieldGet:n_,__classPrivateFieldSet:r_,__classPrivateFieldIn:i_,__addDisposableResource:s_,__disposeResources:o_}});var l_=we(ol=>{"use strict";F();Object.defineProperty(ol,"__esModule",{value:!0});ol.Encrypted=void 0;var ti=(u_(),Qr(a_)),Uo=ir(),io=ol.Encrypted=class{constructor(){this.DecryptedLengthBeforeInflate=-1,this.CypherBlockPadding=-1}get OriginalLength(){return typeof this.OriginalLength2<"u"?this.OriginalLength2:this.OriginalLength1}set OriginalLength(e){typeof e<"u"&&(this.OriginalLength1=void 0,this.OriginalLength2=e)}};ti.__decorate([(0,Uo.JsonProperty)("scheme"),ti.__metadata("design:type",String)],io.prototype,"Scheme",void 0);ti.__decorate([(0,Uo.JsonProperty)("profile"),ti.__metadata("design:type",String)],io.prototype,"Profile",void 0);ti.__decorate([(0,Uo.JsonProperty)("algorithm"),ti.__metadata("design:type",String)],io.prototype,"Algorithm",void 0);ti.__decorate([(0,Uo.JsonProperty)("compression"),ti.__metadata("design:type",String)],io.prototype,"Compression",void 0);ti.__decorate([(0,Uo.JsonProperty)("originalLength"),ti.__metadata("design:type",Number)],io.prototype,"OriginalLength2",void 0);ti.__decorate([(0,Uo.JsonProperty)("original-length"),ti.__metadata("design:type",Object)],io.prototype,"OriginalLength1",void 0);ol.Encrypted=io=ti.__decorate([(0,Uo.JsonObject)()],io)});var Og=we(sr=>{"use strict";F();Object.defineProperty(sr,"__esModule",{value:!0});sr.Properties=sr.PropertiesSupportedKeys=sr.SpreadEnum=sr.PageEnum=sr.OverflowEnum=sr.OrientationEnum=sr.LayoutEnum=void 0;var or=(Ei(),Qr(wi)),Xi=ir(),uI=l_(),c_;(function(n){n.Fixed="fixed",n.Reflowable="reflowable"})(c_||(sr.LayoutEnum=c_={}));var d_;(function(n){n.Auto="auto",n.Landscape="landscape",n.Portrait="portrait"})(d_||(sr.OrientationEnum=d_={}));var f_;(function(n){n.Auto="auto",n.Paginated="paginated",n.Scrolled="scrolled",n.ScrolledContinuous="scrolled-continuous"})(f_||(sr.OverflowEnum=f_={}));var h_;(function(n){n.Left="left",n.Right="right",n.Center="center"})(h_||(sr.PageEnum=h_={}));var p_;(function(n){n.Auto="auto",n.Both="both",n.None="none",n.Landscape="landscape"})(p_||(sr.SpreadEnum=p_={}));sr.PropertiesSupportedKeys=["contains","layout","orientation","overflow","page","spread","encrypted","media-overlay"];var Qi=sr.Properties=class{};or.__decorate([(0,Xi.JsonProperty)("contains"),(0,Xi.JsonElementType)(String),or.__metadata("design:type",Array)],Qi.prototype,"Contains",void 0);or.__decorate([(0,Xi.JsonProperty)("layout"),or.__metadata("design:type",String)],Qi.prototype,"Layout",void 0);or.__decorate([(0,Xi.JsonProperty)("orientation"),or.__metadata("design:type",String)],Qi.prototype,"Orientation",void 0);or.__decorate([(0,Xi.JsonProperty)("overflow"),or.__metadata("design:type",String)],Qi.prototype,"Overflow",void 0);or.__decorate([(0,Xi.JsonProperty)("page"),or.__metadata("design:type",String)],Qi.prototype,"Page",void 0);or.__decorate([(0,Xi.JsonProperty)("spread"),or.__metadata("design:type",String)],Qi.prototype,"Spread",void 0);or.__decorate([(0,Xi.JsonProperty)("encrypted"),or.__metadata("design:type",uI.Encrypted)],Qi.prototype,"Encrypted",void 0);or.__decorate([(0,Xi.JsonProperty)("media-overlay"),or.__metadata("design:type",String)],Qi.prototype,"MediaOverlay",void 0);sr.Properties=Qi=or.__decorate([(0,Xi.JsonObject)()],Qi)});var ul=we(al=>{"use strict";F();var vf;Object.defineProperty(al,"__esModule",{value:!0});al.Link=void 0;var gn=(Ei(),Qr(wi)),Xn=ir(),lI=ro(),cI=F4(),dI=Og(),fI="properties",hI="children",pI="alternate",Ar=al.Link=vf=class{get Href(){return this.Href1}set Href(e){this.Href1=e,this._urlDecoded=void 0}get HrefDecoded(){if(this._urlDecoded)return this._urlDecoded;if(this._urlDecoded!==null){if(!this.Href){this._urlDecoded=null;return}return this._urlDecoded=(0,cI.tryDecodeURI)(this.Href),this._urlDecoded?this._urlDecoded:void 0}}set HrefDecoded(e){this._urlDecoded=e}setHrefDecoded(e){this.Href=e,this.HrefDecoded=e}AddRels(e){e.forEach(t=>{this.AddRel(t)})}AddRel(e){this.HasRel(e)||(this.Rel?this.Rel.push(e):this.Rel=[e])}HasRel(e){return this.Rel&&this.Rel.indexOf(e)>=0}_OnDeserialized(){!this.Href&&(!this.Children||!this.Children.length)&&console.log("Link.Href is not set! (and no child Links)")}};gn.__decorate([(0,Xn.JsonProperty)("type"),gn.__metadata("design:type",String)],Ar.prototype,"TypeLink",void 0);gn.__decorate([(0,Xn.JsonProperty)("height"),gn.__metadata("design:type",Number)],Ar.prototype,"Height",void 0);gn.__decorate([(0,Xn.JsonProperty)("width"),gn.__metadata("design:type",Number)],Ar.prototype,"Width",void 0);gn.__decorate([(0,Xn.JsonProperty)("title"),gn.__metadata("design:type",String)],Ar.prototype,"Title",void 0);gn.__decorate([(0,Xn.JsonProperty)(fI),gn.__metadata("design:type",dI.Properties)],Ar.prototype,"Properties",void 0);gn.__decorate([(0,Xn.JsonProperty)("duration"),gn.__metadata("design:type",Number)],Ar.prototype,"Duration",void 0);gn.__decorate([(0,Xn.JsonProperty)("bitrate"),gn.__metadata("design:type",Number)],Ar.prototype,"Bitrate",void 0);gn.__decorate([(0,Xn.JsonProperty)("templated"),gn.__metadata("design:type",Boolean)],Ar.prototype,"Templated",void 0);gn.__decorate([(0,Xn.JsonProperty)(hI),(0,Xn.JsonElementType)(vf),gn.__metadata("design:type",Array)],Ar.prototype,"Children",void 0);gn.__decorate([(0,Xn.JsonProperty)(pI),(0,Xn.JsonElementType)(vf),gn.__metadata("design:type",Array)],Ar.prototype,"Alternate",void 0);gn.__decorate([(0,Xn.JsonProperty)("rel"),(0,Xn.JsonConverter)(lI.JsonStringConverter),(0,Xn.JsonElementType)(String),gn.__metadata("design:type",Array)],Ar.prototype,"Rel",void 0);gn.__decorate([(0,Xn.JsonProperty)("href"),gn.__metadata("design:type",String)],Ar.prototype,"Href1",void 0);gn.__decorate([(0,Xn.OnDeserialized)(),gn.__metadata("design:type",Function),gn.__metadata("design:paramtypes",[]),gn.__metadata("design:returntype",void 0)],Ar.prototype,"_OnDeserialized",null);al.Link=Ar=vf=gn.__decorate([(0,Xn.JsonObject)()],Ar)});var _f=we(ll=>{"use strict";F();Object.defineProperty(ll,"__esModule",{value:!0});ll.Contributor=void 0;var Gn=(Ei(),Qr(wi)),Si=ir(),gI=ro(),mI=ul(),yI="links",Zi=ll.Contributor=class{get SortAs(){return this.SortAs2?this.SortAs2:this.SortAs1}set SortAs(e){e&&(this.SortAs1=void 0,this.SortAs2=e)}_OnDeserialized(){this.Name||console.log("Contributor.Name is not set!")}};Gn.__decorate([(0,Si.JsonProperty)("name"),Gn.__metadata("design:type",Object)],Zi.prototype,"Name",void 0);Gn.__decorate([(0,Si.JsonProperty)("sortAs"),Gn.__metadata("design:type",String)],Zi.prototype,"SortAs2",void 0);Gn.__decorate([(0,Si.JsonProperty)("sort_as"),Gn.__metadata("design:type",Object)],Zi.prototype,"SortAs1",void 0);Gn.__decorate([(0,Si.JsonProperty)("role"),(0,Si.JsonConverter)(gI.JsonStringConverter),(0,Si.JsonElementType)(String),Gn.__metadata("design:type",Array)],Zi.prototype,"Role",void 0);Gn.__decorate([(0,Si.JsonProperty)("identifier"),Gn.__metadata("design:type",String)],Zi.prototype,"Identifier",void 0);Gn.__decorate([(0,Si.JsonProperty)("position"),Gn.__metadata("design:type",Number)],Zi.prototype,"Position",void 0);Gn.__decorate([(0,Si.JsonProperty)(yI),(0,Si.JsonElementType)(mI.Link),Gn.__metadata("design:type",Array)],Zi.prototype,"Links",void 0);Gn.__decorate([(0,Si.OnDeserialized)(),Gn.__metadata("design:type",Function),Gn.__metadata("design:paramtypes",[]),Gn.__metadata("design:returntype",void 0)],Zi.prototype,"_OnDeserialized",null);ll.Contributor=Zi=Gn.__decorate([(0,Si.JsonObject)()],Zi)});var kg=we(es=>{"use strict";F();Object.defineProperty(es,"__esModule",{value:!0});es.TaJsonSerialize=es.TaJsonDeserialize=es.KeyToPreserveUnknownJSON=void 0;var g_=ir();es.KeyToPreserveUnknownJSON="AdditionalJSON";function bI(n,e){return g_.JSON.deserialize(n,e,{keyToPreserveUnknownJSON:es.KeyToPreserveUnknownJSON})}es.TaJsonDeserialize=bI;function vI(n){return g_.JSON.serialize(n,{keyToPreserveUnknownJSON:es.KeyToPreserveUnknownJSON})}es.TaJsonSerialize=vI});var Lg=we(wf=>{"use strict";F();Object.defineProperty(wf,"__esModule",{value:!0});wf.JsonContributorConverter=void 0;var m_=kg(),y_=_f(),Rg=class{serialize(e){return e.Name&&!e.SortAs&&(!e.Role||!e.Role.length)&&!e.Identifier&&typeof e.Position>"u"&&(!e.Links||!e.Links.length)&&typeof e.Name=="string"?e.Name:(0,m_.TaJsonSerialize)(e)}deserialize(e){if(typeof e=="string"){let t=new y_.Contributor;return t.Name=e,t}return(0,m_.TaJsonDeserialize)(e,y_.Contributor)}collapseArrayWithSingleItem(){return!0}};wf.JsonContributorConverter=Rg});var __=we(dl=>{"use strict";F();Object.defineProperty(dl,"__esModule",{value:!0});dl.BelongsTo=void 0;var cl=(Ei(),Qr(wi)),jo=ir(),b_=_f(),v_=Lg(),_I="series",wI="collection",Ef=dl.BelongsTo=class{};cl.__decorate([(0,jo.JsonProperty)(_I),(0,jo.JsonElementType)(b_.Contributor),(0,jo.JsonConverter)(v_.JsonContributorConverter),cl.__metadata("design:type",Array)],Ef.prototype,"Series",void 0);cl.__decorate([(0,jo.JsonProperty)(wI),(0,jo.JsonElementType)(b_.Contributor),(0,jo.JsonConverter)(v_.JsonContributorConverter),cl.__metadata("design:type",Array)],Ef.prototype,"Collection",void 0);dl.BelongsTo=Ef=cl.__decorate([(0,jo.JsonObject)()],Ef)});var w_=we(hl=>{"use strict";F();Object.defineProperty(hl,"__esModule",{value:!0});hl.MediaOverlay=void 0;var fl=(Ei(),Qr(wi)),Ig=ir(),Af=hl.MediaOverlay=class{};fl.__decorate([(0,Ig.JsonProperty)("active-class"),fl.__metadata("design:type",String)],Af.prototype,"ActiveClass",void 0);fl.__decorate([(0,Ig.JsonProperty)("playback-active-class"),fl.__metadata("design:type",String)],Af.prototype,"PlaybackActiveClass",void 0);hl.MediaOverlay=Af=fl.__decorate([(0,Ig.JsonObject)()],Af)});var Ng=we(pl=>{"use strict";F();Object.defineProperty(pl,"__esModule",{value:!0});pl.Subject=void 0;var ar=(Ei(),Qr(wi)),Ts=ir(),EI=ul(),AI="links",xs=pl.Subject=class{get SortAs(){return this.SortAs2?this.SortAs2:this.SortAs1}set SortAs(e){e&&(this.SortAs1=void 0,this.SortAs2=e)}_OnDeserialized(){this.Name||console.log("Subject.Name is not set!")}};ar.__decorate([(0,Ts.JsonProperty)("name"),ar.__metadata("design:type",Object)],xs.prototype,"Name",void 0);ar.__decorate([(0,Ts.JsonProperty)("sortAs"),ar.__metadata("design:type",String)],xs.prototype,"SortAs2",void 0);ar.__decorate([(0,Ts.JsonProperty)("sort_as"),ar.__metadata("design:type",Object)],xs.prototype,"SortAs1",void 0);ar.__decorate([(0,Ts.JsonProperty)("scheme"),ar.__metadata("design:type",String)],xs.prototype,"Scheme",void 0);ar.__decorate([(0,Ts.JsonProperty)("code"),ar.__metadata("design:type",String)],xs.prototype,"Code",void 0);ar.__decorate([(0,Ts.JsonProperty)(AI),(0,Ts.JsonElementType)(EI.Link),ar.__metadata("design:type",Array)],xs.prototype,"Links",void 0);ar.__decorate([(0,Ts.OnDeserialized)(),ar.__metadata("design:type",Function),ar.__metadata("design:paramtypes",[]),ar.__metadata("design:returntype",void 0)],xs.prototype,"_OnDeserialized",null);pl.Subject=xs=ar.__decorate([(0,Ts.JsonObject)()],xs)});var S_=we(Sf=>{"use strict";F();Object.defineProperty(Sf,"__esModule",{value:!0});Sf.JsonSubjectConverter=void 0;var E_=kg(),A_=Ng(),Dg=class{serialize(e){return e.Name&&!e.SortAs&&!e.Scheme&&!e.Code&&(!e.Links||!e.Links.length)&&typeof e.Name=="string"?e.Name:(0,E_.TaJsonSerialize)(e)}deserialize(e){if(typeof e=="string"){let t=new A_.Subject;return t.Name=e,t}return(0,E_.TaJsonDeserialize)(e,A_.Subject)}collapseArrayWithSingleItem(){return!0}};Sf.JsonSubjectConverter=Dg});var C_=we(ml=>{"use strict";F();Object.defineProperty(ml,"__esModule",{value:!0});ml.AccessibilityCertification=void 0;var qo=(Ei(),Qr(wi)),ts=ir(),Bg=ro(),gl=ml.AccessibilityCertification=class{};qo.__decorate([(0,ts.JsonProperty)("certifiedBy"),(0,ts.JsonConverter)(Bg.JsonStringConverter),(0,ts.JsonElementType)(String),qo.__metadata("design:type",Array)],gl.prototype,"CertifiedBy",void 0);qo.__decorate([(0,ts.JsonProperty)("credential"),(0,ts.JsonConverter)(Bg.JsonStringConverter),(0,ts.JsonElementType)(String),qo.__metadata("design:type",Array)],gl.prototype,"Credential",void 0);qo.__decorate([(0,ts.JsonProperty)("report"),(0,ts.JsonConverter)(Bg.JsonStringConverter),(0,ts.JsonElementType)(String),qo.__metadata("design:type",Array)],gl.prototype,"Report",void 0);ml.AccessibilityCertification=gl=qo.__decorate([(0,ts.JsonObject)()],gl)});var T_=we(yl=>{"use strict";F();Object.defineProperty(yl,"__esModule",{value:!0});yl.AccessibilityMetadata=void 0;var Sr=(Ei(),Qr(wi)),ur=ir(),Cf=ro(),SI=C_(),Ps=yl.AccessibilityMetadata=class{};Sr.__decorate([(0,ur.JsonProperty)("certification"),Sr.__metadata("design:type",SI.AccessibilityCertification)],Ps.prototype,"Certification",void 0);Sr.__decorate([(0,ur.JsonProperty)("conformsTo"),(0,ur.JsonConverter)(Cf.JsonStringConverter),(0,ur.JsonElementType)(String),Sr.__metadata("design:type",Array)],Ps.prototype,"ConformsTo",void 0);Sr.__decorate([(0,ur.JsonProperty)("summary"),Sr.__metadata("design:type",Object)],Ps.prototype,"Summary",void 0);Sr.__decorate([(0,ur.JsonProperty)("accessMode"),(0,ur.JsonConverter)(Cf.JsonStringConverter),(0,ur.JsonElementType)(String),Sr.__metadata("design:type",Array)],Ps.prototype,"AccessMode",void 0);Sr.__decorate([(0,ur.JsonProperty)("accessModeSufficient"),(0,ur.JsonElementType)(Array),Sr.__metadata("design:type",Array)],Ps.prototype,"AccessModeSufficient",void 0);Sr.__decorate([(0,ur.JsonProperty)("feature"),(0,ur.JsonConverter)(Cf.JsonStringConverter),(0,ur.JsonElementType)(String),Sr.__metadata("design:type",Array)],Ps.prototype,"Feature",void 0);Sr.__decorate([(0,ur.JsonProperty)("hazard"),(0,ur.JsonConverter)(Cf.JsonStringConverter),(0,ur.JsonElementType)(String),Sr.__metadata("design:type",Array)],Ps.prototype,"Hazard",void 0);yl.AccessibilityMetadata=Ps=Sr.__decorate([(0,ur.JsonObject)()],Ps)});var P_=we(Ms=>{"use strict";F();Object.defineProperty(Ms,"__esModule",{value:!0});Ms.Metadata=Ms.MetadataSupportedKeys=Ms.DirectionEnum=void 0;var ut=(Ei(),Qr(wi)),lt=ir(),ns=ro(),CI=__(),ni=_f(),ri=Lg(),TI=w_(),xI=Og(),PI=Ng(),MI=S_(),OI=T_(),x_;(function(n){n.Auto="auto",n.RTL="rtl",n.LTR="ltr"})(x_||(Ms.DirectionEnum=x_={}));Ms.MetadataSupportedKeys=["cover","dtb:totalTime","media:duration","media:narrator","media:active-class","media:playback-active-class","dcterms:modified","dcterms:creator","dcterms:contributor","schema:accessMode","schema:accessibilityFeature","schema:accessibilityHazard","schema:accessibilitySummary","schema:accessModeSufficient","schema:accessibilityAPI","schema:accessibilityControl","a11y:certifiedBy","a11y:certifierCredential","a11y:certifierReport","dcterms:conformsTo","title","subtitle","identifier","author","translator","editor","artist","illustrator","letterer","penciler","colorist","inker","narrator","contributor","publisher","imprint","language","modified","published","sortAs","description","readingProgression","direction","belongsTo","duration","numberOfPages","rights","rendition","source","subject"];var Ft=Ms.Metadata=class{get SortAs(){return this.SortAs2?this.SortAs2:this.SortAs1}set SortAs(e){e&&(this.SortAs1=void 0,this.SortAs2=e)}get Direction(){return this.Direction2?this.Direction2:this.Direction1}set Direction(e){e&&(this.Direction1=void 0,this.Direction2=e)}get BelongsTo(){return this.BelongsTo2?this.BelongsTo2:this.BelongsTo1}set BelongsTo(e){e&&(this.BelongsTo1=void 0,this.BelongsTo2=e)}_OnDeserialized(){this.Title||console.log("Metadata.Title is not set!")}};ut.__decorate([(0,lt.JsonProperty)("accessibility"),ut.__metadata("design:type",OI.AccessibilityMetadata)],Ft.prototype,"Accessibility",void 0);ut.__decorate([(0,lt.JsonProperty)("accessMode"),(0,lt.JsonConverter)(ns.JsonStringConverter),(0,lt.JsonElementType)(String),ut.__metadata("design:type",Array)],Ft.prototype,"AccessMode",void 0);ut.__decorate([(0,lt.JsonProperty)("accessibilityFeature"),(0,lt.JsonConverter)(ns.JsonStringConverter),(0,lt.JsonElementType)(String),ut.__metadata("design:type",Array)],Ft.prototype,"AccessibilityFeature",void 0);ut.__decorate([(0,lt.JsonProperty)("accessibilityHazard"),(0,lt.JsonConverter)(ns.JsonStringConverter),(0,lt.JsonElementType)(String),ut.__metadata("design:type",Array)],Ft.prototype,"AccessibilityHazard",void 0);ut.__decorate([(0,lt.JsonProperty)("accessibilitySummary"),ut.__metadata("design:type",Object)],Ft.prototype,"AccessibilitySummary",void 0);ut.__decorate([(0,lt.JsonProperty)("accessModeSufficient"),(0,lt.JsonElementType)(Array),ut.__metadata("design:type",Array)],Ft.prototype,"AccessModeSufficient",void 0);ut.__decorate([(0,lt.JsonProperty)("accessibilityAPI"),(0,lt.JsonConverter)(ns.JsonStringConverter),(0,lt.JsonElementType)(String),ut.__metadata("design:type",Array)],Ft.prototype,"AccessibilityAPI",void 0);ut.__decorate([(0,lt.JsonProperty)("accessibilityControl"),(0,lt.JsonConverter)(ns.JsonStringConverter),(0,lt.JsonElementType)(String),ut.__metadata("design:type",Array)],Ft.prototype,"AccessibilityControl",void 0);ut.__decorate([(0,lt.JsonProperty)("certifiedBy"),(0,lt.JsonConverter)(ns.JsonStringConverter),(0,lt.JsonElementType)(String),ut.__metadata("design:type",Array)],Ft.prototype,"CertifiedBy",void 0);ut.__decorate([(0,lt.JsonProperty)("certifierCredential"),(0,lt.JsonConverter)(ns.JsonStringConverter),(0,lt.JsonElementType)(String),ut.__metadata("design:type",Array)],Ft.prototype,"CertifierCredential",void 0);ut.__decorate([(0,lt.JsonProperty)("certifierReport"),(0,lt.JsonConverter)(ns.JsonStringConverter),(0,lt.JsonElementType)(String),ut.__metadata("design:type",Array)],Ft.prototype,"CertifierReport",void 0);ut.__decorate([(0,lt.JsonProperty)("conformsTo"),(0,lt.JsonConverter)(ns.JsonStringConverter),(0,lt.JsonElementType)(String),ut.__metadata("design:type",Array)],Ft.prototype,"ConformsTo",void 0);ut.__decorate([(0,lt.JsonProperty)("@type"),ut.__metadata("design:type",String)],Ft.prototype,"RDFType",void 0);ut.__decorate([(0,lt.JsonProperty)("title"),ut.__metadata("design:type",Object)],Ft.prototype,"Title",void 0);ut.__decorate([(0,lt.JsonProperty)("subtitle"),ut.__metadata("design:type",Object)],Ft.prototype,"SubTitle",void 0);ut.__decorate([(0,lt.JsonProperty)("identifier"),ut.__metadata("design:type",String)],Ft.prototype,"Identifier",void 0);ut.__decorate([(0,lt.JsonProperty)("author"),(0,lt.JsonElementType)(ni.Contributor),(0,lt.JsonConverter)(ri.JsonContributorConverter),ut.__metadata("design:type",Array)],Ft.prototype,"Author",void 0);ut.__decorate([(0,lt.JsonProperty)("translator"),(0,lt.JsonElementType)(ni.Contributor),(0,lt.JsonConverter)(ri.JsonContributorConverter),ut.__metadata("design:type",Array)],Ft.prototype,"Translator",void 0);ut.__decorate([(0,lt.JsonProperty)("editor"),(0,lt.JsonElementType)(ni.Contributor),(0,lt.JsonConverter)(ri.JsonContributorConverter),ut.__metadata("design:type",Array)],Ft.prototype,"Editor",void 0);ut.__decorate([(0,lt.JsonProperty)("artist"),(0,lt.JsonElementType)(ni.Contributor),(0,lt.JsonConverter)(ri.JsonContributorConverter),ut.__metadata("design:type",Array)],Ft.prototype,"Artist",void 0);ut.__decorate([(0,lt.JsonProperty)("illustrator"),(0,lt.JsonElementType)(ni.Contributor),(0,lt.JsonConverter)(ri.JsonContributorConverter),ut.__metadata("design:type",Array)],Ft.prototype,"Illustrator",void 0);ut.__decorate([(0,lt.JsonProperty)("letterer"),(0,lt.JsonElementType)(ni.Contributor),(0,lt.JsonConverter)(ri.JsonContributorConverter),ut.__metadata("design:type",Array)],Ft.prototype,"Letterer",void 0);ut.__decorate([(0,lt.JsonProperty)("penciler"),(0,lt.JsonElementType)(ni.Contributor),(0,lt.JsonConverter)(ri.JsonContributorConverter),ut.__metadata("design:type",Array)],Ft.prototype,"Penciler",void 0);ut.__decorate([(0,lt.JsonProperty)("colorist"),(0,lt.JsonElementType)(ni.Contributor),(0,lt.JsonConverter)(ri.JsonContributorConverter),ut.__metadata("design:type",Array)],Ft.prototype,"Colorist",void 0);ut.__decorate([(0,lt.JsonProperty)("inker"),(0,lt.JsonElementType)(ni.Contributor),(0,lt.JsonConverter)(ri.JsonContributorConverter),ut.__metadata("design:type",Array)],Ft.prototype,"Inker",void 0);ut.__decorate([(0,lt.JsonProperty)("narrator"),(0,lt.JsonElementType)(ni.Contributor),(0,lt.JsonConverter)(ri.JsonContributorConverter),ut.__metadata("design:type",Array)],Ft.prototype,"Narrator",void 0);ut.__decorate([(0,lt.JsonProperty)("contributor"),(0,lt.JsonElementType)(ni.Contributor),(0,lt.JsonConverter)(ri.JsonContributorConverter),ut.__metadata("design:type",Array)],Ft.prototype,"Contributor",void 0);ut.__decorate([(0,lt.JsonProperty)("publisher"),(0,lt.JsonElementType)(ni.Contributor),(0,lt.JsonConverter)(ri.JsonContributorConverter),ut.__metadata("design:type",Array)],Ft.prototype,"Publisher",void 0);ut.__decorate([(0,lt.JsonProperty)("imprint"),(0,lt.JsonElementType)(ni.Contributor),(0,lt.JsonConverter)(ri.JsonContributorConverter),ut.__metadata("design:type",Array)],Ft.prototype,"Imprint",void 0);ut.__decorate([(0,lt.JsonProperty)("language"),(0,lt.JsonElementType)(String),(0,lt.JsonConverter)(ns.JsonStringConverter),ut.__metadata("design:type",Array)],Ft.prototype,"Language",void 0);ut.__decorate([(0,lt.JsonProperty)("modified"),ut.__metadata("design:type",Date)],Ft.prototype,"Modified",void 0);ut.__decorate([(0,lt.JsonProperty)("published"),ut.__metadata("design:type",Date)],Ft.prototype,"PublicationDate",void 0);ut.__decorate([(0,lt.JsonProperty)("sortAs"),ut.__metadata("design:type",String)],Ft.prototype,"SortAs2",void 0);ut.__decorate([(0,lt.JsonProperty)("sort_as"),ut.__metadata("design:type",Object)],Ft.prototype,"SortAs1",void 0);ut.__decorate([(0,lt.JsonProperty)("description"),ut.__metadata("design:type",String)],Ft.prototype,"Description",void 0);ut.__decorate([(0,lt.JsonProperty)("readingProgression"),ut.__metadata("design:type",String)],Ft.prototype,"Direction2",void 0);ut.__decorate([(0,lt.JsonProperty)("direction"),ut.__metadata("design:type",Object)],Ft.prototype,"Direction1",void 0);ut.__decorate([(0,lt.JsonProperty)("belongsTo"),ut.__metadata("design:type",CI.BelongsTo)],Ft.prototype,"BelongsTo2",void 0);ut.__decorate([(0,lt.JsonProperty)("belongs_to"),ut.__metadata("design:type",Object)],Ft.prototype,"BelongsTo1",void 0);ut.__decorate([(0,lt.JsonProperty)("duration"),ut.__metadata("design:type",Number)],Ft.prototype,"Duration",void 0);ut.__decorate([(0,lt.JsonProperty)("numberOfPages"),ut.__metadata("design:type",Number)],Ft.prototype,"NumberOfPages",void 0);ut.__decorate([(0,lt.JsonProperty)("media-overlay"),ut.__metadata("design:type",TI.MediaOverlay)],Ft.prototype,"MediaOverlay",void 0);ut.__decorate([(0,lt.JsonProperty)("rights"),ut.__metadata("design:type",String)],Ft.prototype,"Rights",void 0);ut.__decorate([(0,lt.JsonProperty)("rendition"),ut.__metadata("design:type",xI.Properties)],Ft.prototype,"Rendition",void 0);ut.__decorate([(0,lt.JsonProperty)("source"),ut.__metadata("design:type",String)],Ft.prototype,"Source",void 0);ut.__decorate([(0,lt.JsonProperty)("subject"),(0,lt.JsonConverter)(MI.JsonSubjectConverter),(0,lt.JsonElementType)(PI.Subject),ut.__metadata("design:type",Array)],Ft.prototype,"Subject",void 0);ut.__decorate([(0,lt.OnDeserialized)(),ut.__metadata("design:type",Function),ut.__metadata("design:paramtypes",[]),ut.__metadata("design:returntype",void 0)],Ft.prototype,"_OnDeserialized",null);Ms.Metadata=Ft=ut.__decorate([(0,lt.JsonObject)()],Ft)});var M_=we(bl=>{"use strict";F();Object.defineProperty(bl,"__esModule",{value:!0});bl.Publication=void 0;var ln=(Ei(),Qr(wi)),kI=r4(),hn=ir(),RI=ro(),LI=P_(),ii=ul(),II=kI("r2:shared#models/publication"),NI="metadata",DI="links",BI="readingOrder",FI="spine",HI="resources",UI="toc",jI="page-list",qI="pageList",GI="landmarks",zI="loi",WI="loa",VI="lov",$I="lot",lr=bl.Publication=class{get Spine(){return this.Spine2?this.Spine2:this.Spine1}set Spine(e){e&&(this.Spine1=void 0,this.Spine2=e)}get PageList(){return this.PageList2?this.PageList2:this.PageList1}set PageList(e){e&&(this.PageList1=void 0,this.PageList2=e)}freeDestroy(){if(II("freeDestroy: Publication"),this.Internal){let e=this.findFromInternal("zip");e&&e.Value.freeDestroy()}}findFromInternal(e){if(this.Internal){let t=this.Internal.find(r=>r.Name===e);if(t)return t}}AddToInternal(e,t){let r=this.findFromInternal(e);if(r)r.Value=t;else{this.Internal||(this.Internal=[]);let i={Name:e,Value:t};this.Internal.push(i)}}GetCover(){return this.searchLinkByRel("cover")}GetNavDoc(){return this.searchLinkByRel("contents")}searchLinkByRel(e){if(this.Resources){let t=this.Resources.find(r=>r.HasRel(e));if(t)return t}if(this.Spine){let t=this.Spine.find(r=>r.HasRel(e));if(t)return t}if(this.Links){let t=this.Links.find(r=>r.HasRel(e));if(t)return t}}AddLink(e,t,r,i){let s=new ii.Link;s.AddRels(t),s.setHrefDecoded(r),s.TypeLink=e,typeof i<"u"&&(s.Templated=i),this.Links||(this.Links=[]),this.Links.push(s)}_OnDeserialized(){this.Metadata||console.log("Publication.Metadata is not set!"),this.Spine||console.log("Publication.Spine/ReadingOrder is not set!")}};ln.__decorate([(0,hn.JsonProperty)("@context"),(0,hn.JsonElementType)(String),(0,hn.JsonConverter)(RI.JsonStringConverter),ln.__metadata("design:type",Array)],lr.prototype,"Context",void 0);ln.__decorate([(0,hn.JsonProperty)(NI),ln.__metadata("design:type",LI.Metadata)],lr.prototype,"Metadata",void 0);ln.__decorate([(0,hn.JsonProperty)(DI),(0,hn.JsonElementType)(ii.Link),ln.__metadata("design:type",Array)],lr.prototype,"Links",void 0);ln.__decorate([(0,hn.JsonProperty)(BI),(0,hn.JsonElementType)(ii.Link),ln.__metadata("design:type",Array)],lr.prototype,"Spine2",void 0);ln.__decorate([(0,hn.JsonProperty)(FI),(0,hn.JsonElementType)(ii.Link),ln.__metadata("design:type",Object)],lr.prototype,"Spine1",void 0);ln.__decorate([(0,hn.JsonProperty)(HI),(0,hn.JsonElementType)(ii.Link),ln.__metadata("design:type",Array)],lr.prototype,"Resources",void 0);ln.__decorate([(0,hn.JsonProperty)(UI),(0,hn.JsonElementType)(ii.Link),ln.__metadata("design:type",Array)],lr.prototype,"TOC",void 0);ln.__decorate([(0,hn.JsonProperty)(qI),(0,hn.JsonElementType)(ii.Link),ln.__metadata("design:type",Array)],lr.prototype,"PageList2",void 0);ln.__decorate([(0,hn.JsonProperty)(jI),(0,hn.JsonElementType)(ii.Link),ln.__metadata("design:type",Object)],lr.prototype,"PageList1",void 0);ln.__decorate([(0,hn.JsonProperty)(GI),(0,hn.JsonElementType)(ii.Link),ln.__metadata("design:type",Array)],lr.prototype,"Landmarks",void 0);ln.__decorate([(0,hn.JsonProperty)(zI),(0,hn.JsonElementType)(ii.Link),ln.__metadata("design:type",Array)],lr.prototype,"LOI",void 0);ln.__decorate([(0,hn.JsonProperty)(WI),(0,hn.JsonElementType)(ii.Link),ln.__metadata("design:type",Array)],lr.prototype,"LOA",void 0);ln.__decorate([(0,hn.JsonProperty)(VI),(0,hn.JsonElementType)(ii.Link),ln.__metadata("design:type",Array)],lr.prototype,"LOV",void 0);ln.__decorate([(0,hn.JsonProperty)($I),(0,hn.JsonElementType)(ii.Link),ln.__metadata("design:type",Array)],lr.prototype,"LOT",void 0);ln.__decorate([(0,hn.OnDeserialized)(),ln.__metadata("design:type",Function),ln.__metadata("design:paramtypes",[]),ln.__metadata("design:returntype",void 0)],lr.prototype,"_OnDeserialized",null);bl.Publication=lr=ln.__decorate([(0,hn.JsonObject)()],lr)});var L_=we(qg=>{"use strict";F();Object.defineProperty(qg,"__esModule",{value:!0});qg.default=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(function(n){return n.charCodeAt(0)}))});var I_=we(Gg=>{"use strict";F();Object.defineProperty(Gg,"__esModule",{value:!0});Gg.default=new Uint16Array("\u0200aglq	\x1B\u026D\0\0p;\u4026os;\u4027t;\u403Et;\u403Cuot;\u4022".split("").map(function(n){return n.charCodeAt(0)}))});var Wg=we(so=>{"use strict";F();var zg;Object.defineProperty(so,"__esModule",{value:!0});so.replaceCodePoint=so.fromCodePoint=void 0;var KI=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);so.fromCodePoint=(zg=String.fromCodePoint)!==null&&zg!==void 0?zg:function(n){var e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),e+=String.fromCharCode(n),e};function N_(n){var e;return n>=55296&&n<=57343||n>1114111?65533:(e=KI.get(n))!==null&&e!==void 0?e:n}so.replaceCodePoint=N_;function YI(n){return(0,so.fromCodePoint)(N_(n))}so.default=YI});var vl=we(Yt=>{"use strict";F();var XI=Yt&&Yt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),QI=Yt&&Yt.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),ZI=Yt&&Yt.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&XI(e,n,t);return QI(e,n),e},D_=Yt&&Yt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.decodeXML=Yt.decodeHTMLStrict=Yt.decodeHTMLAttribute=Yt.decodeHTML=Yt.determineBranch=Yt.EntityDecoder=Yt.DecodingMode=Yt.BinTrieFlags=Yt.fromCodePoint=Yt.replaceCodePoint=Yt.decodeCodePoint=Yt.xmlDecodeTree=Yt.htmlDecodeTree=void 0;var B_=D_(L_());Yt.htmlDecodeTree=B_.default;var F_=D_(I_());Yt.xmlDecodeTree=F_.default;var $g=ZI(Wg());Yt.decodeCodePoint=$g.default;var H_=Wg();Object.defineProperty(Yt,"replaceCodePoint",{enumerable:!0,get:function(){return H_.replaceCodePoint}});Object.defineProperty(Yt,"fromCodePoint",{enumerable:!0,get:function(){return H_.fromCodePoint}});var Zn;(function(n){n[n.NUM=35]="NUM",n[n.SEMI=59]="SEMI",n[n.EQUALS=61]="EQUALS",n[n.ZERO=48]="ZERO",n[n.NINE=57]="NINE",n[n.LOWER_A=97]="LOWER_A",n[n.LOWER_F=102]="LOWER_F",n[n.LOWER_X=120]="LOWER_X",n[n.LOWER_Z=122]="LOWER_Z",n[n.UPPER_A=65]="UPPER_A",n[n.UPPER_F=70]="UPPER_F",n[n.UPPER_Z=90]="UPPER_Z"})(Zn||(Zn={}));var eN=32,zo;(function(n){n[n.VALUE_LENGTH=49152]="VALUE_LENGTH",n[n.BRANCH_LENGTH=16256]="BRANCH_LENGTH",n[n.JUMP_TABLE=127]="JUMP_TABLE"})(zo=Yt.BinTrieFlags||(Yt.BinTrieFlags={}));function Vg(n){return n>=Zn.ZERO&&n<=Zn.NINE}function tN(n){return n>=Zn.UPPER_A&&n<=Zn.UPPER_F||n>=Zn.LOWER_A&&n<=Zn.LOWER_F}function nN(n){return n>=Zn.UPPER_A&&n<=Zn.UPPER_Z||n>=Zn.LOWER_A&&n<=Zn.LOWER_Z||Vg(n)}function rN(n){return n===Zn.EQUALS||nN(n)}var Qn;(function(n){n[n.EntityStart=0]="EntityStart",n[n.NumericStart=1]="NumericStart",n[n.NumericDecimal=2]="NumericDecimal",n[n.NumericHex=3]="NumericHex",n[n.NamedEntity=4]="NamedEntity"})(Qn||(Qn={}));var is;(function(n){n[n.Legacy=0]="Legacy",n[n.Strict=1]="Strict",n[n.Attribute=2]="Attribute"})(is=Yt.DecodingMode||(Yt.DecodingMode={}));var U_=function(){function n(e,t,r){this.decodeTree=e,this.emitCodePoint=t,this.errors=r,this.state=Qn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=is.Strict}return n.prototype.startEntity=function(e){this.decodeMode=e,this.state=Qn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},n.prototype.write=function(e,t){switch(this.state){case Qn.EntityStart:return e.charCodeAt(t)===Zn.NUM?(this.state=Qn.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=Qn.NamedEntity,this.stateNamedEntity(e,t));case Qn.NumericStart:return this.stateNumericStart(e,t);case Qn.NumericDecimal:return this.stateNumericDecimal(e,t);case Qn.NumericHex:return this.stateNumericHex(e,t);case Qn.NamedEntity:return this.stateNamedEntity(e,t)}},n.prototype.stateNumericStart=function(e,t){return t>=e.length?-1:(e.charCodeAt(t)|eN)===Zn.LOWER_X?(this.state=Qn.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=Qn.NumericDecimal,this.stateNumericDecimal(e,t))},n.prototype.addToNumericResult=function(e,t,r,i){if(t!==r){var s=r-t;this.result=this.result*Math.pow(i,s)+parseInt(e.substr(t,s),i),this.consumed+=s}},n.prototype.stateNumericHex=function(e,t){for(var r=t;t<e.length;){var i=e.charCodeAt(t);if(Vg(i)||tN(i))t+=1;else return this.addToNumericResult(e,r,t,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,t,16),-1},n.prototype.stateNumericDecimal=function(e,t){for(var r=t;t<e.length;){var i=e.charCodeAt(t);if(Vg(i))t+=1;else return this.addToNumericResult(e,r,t,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,t,10),-1},n.prototype.emitNumericEntity=function(e,t){var r;if(this.consumed<=t)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Zn.SEMI)this.consumed+=1;else if(this.decodeMode===is.Strict)return 0;return this.emitCodePoint((0,$g.replaceCodePoint)(this.result),this.consumed),this.errors&&(e!==Zn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},n.prototype.stateNamedEntity=function(e,t){for(var r=this.decodeTree,i=r[this.treeIndex],s=(i&zo.VALUE_LENGTH)>>14;t<e.length;t++,this.excess++){var o=e.charCodeAt(t);if(this.treeIndex=q_(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===is.Attribute&&(s===0||rN(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&zo.VALUE_LENGTH)>>14,s!==0){if(o===Zn.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==is.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},n.prototype.emitNotTerminatedNamedEntity=function(){var e,t=this,r=t.result,i=t.decodeTree,s=(i[r]&zo.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,s,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed},n.prototype.emitNamedEntityData=function(e,t,r){var i=this.decodeTree;return this.emitCodePoint(t===1?i[e]&~zo.VALUE_LENGTH:i[e+1],r),t===3&&this.emitCodePoint(i[e+2],r),r},n.prototype.end=function(){var e;switch(this.state){case Qn.NamedEntity:return this.result!==0&&(this.decodeMode!==is.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Qn.NumericDecimal:return this.emitNumericEntity(0,2);case Qn.NumericHex:return this.emitNumericEntity(0,3);case Qn.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Qn.EntityStart:return 0}},n}();Yt.EntityDecoder=U_;function j_(n){var e="",t=new U_(n,function(r){return e+=(0,$g.fromCodePoint)(r)});return function(i,s){for(var o=0,c=0;(c=i.indexOf("&",c))>=0;){e+=i.slice(o,c),t.startEntity(s);var d=t.write(i,c+1);if(d<0){o=c+t.end();break}o=c+d,c=d===0?o+1:o}var u=e+i.slice(o);return e="",u}}function q_(n,e,t,r){var i=(e&zo.BRANCH_LENGTH)>>7,s=e&zo.JUMP_TABLE;if(i===0)return s!==0&&r===s?t:-1;if(s){var o=r-s;return o<0||o>=i?-1:n[t+o]-1}for(var c=t,d=c+i-1;c<=d;){var u=c+d>>>1,p=n[u];if(p<r)c=u+1;else if(p>r)d=u-1;else return n[u+i]}return-1}Yt.determineBranch=q_;var Jg=j_(B_.default),iN=j_(F_.default);function sN(n,e){return e===void 0&&(e=is.Legacy),Jg(n,e)}Yt.decodeHTML=sN;function oN(n){return Jg(n,is.Attribute)}Yt.decodeHTMLAttribute=oN;function aN(n){return Jg(n,is.Strict)}Yt.decodeHTMLStrict=aN;function uN(n){return iN(n,is.Strict)}Yt.decodeXML=uN});var Kg=we(qa=>{"use strict";F();Object.defineProperty(qa,"__esModule",{value:!0});qa.QuoteType=void 0;var Wo=vl(),Et;(function(n){n[n.Tab=9]="Tab",n[n.NewLine=10]="NewLine",n[n.FormFeed=12]="FormFeed",n[n.CarriageReturn=13]="CarriageReturn",n[n.Space=32]="Space",n[n.ExclamationMark=33]="ExclamationMark",n[n.Number=35]="Number",n[n.Amp=38]="Amp",n[n.SingleQuote=39]="SingleQuote",n[n.DoubleQuote=34]="DoubleQuote",n[n.Dash=45]="Dash",n[n.Slash=47]="Slash",n[n.Zero=48]="Zero",n[n.Nine=57]="Nine",n[n.Semi=59]="Semi",n[n.Lt=60]="Lt",n[n.Eq=61]="Eq",n[n.Gt=62]="Gt",n[n.Questionmark=63]="Questionmark",n[n.UpperA=65]="UpperA",n[n.LowerA=97]="LowerA",n[n.UpperF=70]="UpperF",n[n.LowerF=102]="LowerF",n[n.UpperZ=90]="UpperZ",n[n.LowerZ=122]="LowerZ",n[n.LowerX=120]="LowerX",n[n.OpeningSquareBracket=91]="OpeningSquareBracket"})(Et||(Et={}));var Ze;(function(n){n[n.Text=1]="Text",n[n.BeforeTagName=2]="BeforeTagName",n[n.InTagName=3]="InTagName",n[n.InSelfClosingTag=4]="InSelfClosingTag",n[n.BeforeClosingTagName=5]="BeforeClosingTagName",n[n.InClosingTagName=6]="InClosingTagName",n[n.AfterClosingTagName=7]="AfterClosingTagName",n[n.BeforeAttributeName=8]="BeforeAttributeName",n[n.InAttributeName=9]="InAttributeName",n[n.AfterAttributeName=10]="AfterAttributeName",n[n.BeforeAttributeValue=11]="BeforeAttributeValue",n[n.InAttributeValueDq=12]="InAttributeValueDq",n[n.InAttributeValueSq=13]="InAttributeValueSq",n[n.InAttributeValueNq=14]="InAttributeValueNq",n[n.BeforeDeclaration=15]="BeforeDeclaration",n[n.InDeclaration=16]="InDeclaration",n[n.InProcessingInstruction=17]="InProcessingInstruction",n[n.BeforeComment=18]="BeforeComment",n[n.CDATASequence=19]="CDATASequence",n[n.InSpecialComment=20]="InSpecialComment",n[n.InCommentLike=21]="InCommentLike",n[n.BeforeSpecialS=22]="BeforeSpecialS",n[n.SpecialStartSequence=23]="SpecialStartSequence",n[n.InSpecialTag=24]="InSpecialTag",n[n.BeforeEntity=25]="BeforeEntity",n[n.BeforeNumericEntity=26]="BeforeNumericEntity",n[n.InNamedEntity=27]="InNamedEntity",n[n.InNumericEntity=28]="InNumericEntity",n[n.InHexEntity=29]="InHexEntity"})(Ze||(Ze={}));function Rs(n){return n===Et.Space||n===Et.NewLine||n===Et.Tab||n===Et.FormFeed||n===Et.CarriageReturn}function Tf(n){return n===Et.Slash||n===Et.Gt||Rs(n)}function G_(n){return n>=Et.Zero&&n<=Et.Nine}function lN(n){return n>=Et.LowerA&&n<=Et.LowerZ||n>=Et.UpperA&&n<=Et.UpperZ}function cN(n){return n>=Et.UpperA&&n<=Et.UpperF||n>=Et.LowerA&&n<=Et.LowerF}var ja;(function(n){n[n.NoValue=0]="NoValue",n[n.Unquoted=1]="Unquoted",n[n.Single=2]="Single",n[n.Double=3]="Double"})(ja=qa.QuoteType||(qa.QuoteType={}));var Ir={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},dN=function(){function n(e,t){var r=e.xmlMode,i=r===void 0?!1:r,s=e.decodeEntities,o=s===void 0?!0:s;this.cbs=t,this.state=Ze.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Ze.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=i,this.decodeEntities=o,this.entityTrie=i?Wo.xmlDecodeTree:Wo.htmlDecodeTree}return n.prototype.reset=function(){this.state=Ze.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Ze.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},n.prototype.write=function(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()},n.prototype.end=function(){this.running&&this.finish()},n.prototype.pause=function(){this.running=!1},n.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},n.prototype.getIndex=function(){return this.index},n.prototype.getSectionStart=function(){return this.sectionStart},n.prototype.stateText=function(e){e===Et.Lt||!this.decodeEntities&&this.fastForwardTo(Et.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Ze.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===Et.Amp&&(this.state=Ze.BeforeEntity)},n.prototype.stateSpecialStartSequence=function(e){var t=this.sequenceIndex===this.currentSequence.length,r=t?Tf(e):(e|32)===this.currentSequence[this.sequenceIndex];if(!r)this.isSpecial=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Ze.InTagName,this.stateInTagName(e)},n.prototype.stateInSpecialTag=function(e){if(this.sequenceIndex===this.currentSequence.length){if(e===Et.Gt||Rs(e)){var t=this.index-this.currentSequence.length;if(this.sectionStart<t){var r=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=r}this.isSpecial=!1,this.sectionStart=t+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Ir.TitleEnd?this.decodeEntities&&e===Et.Amp&&(this.state=Ze.BeforeEntity):this.fastForwardTo(Et.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===Et.Lt)},n.prototype.stateCDATASequence=function(e){e===Ir.Cdata[this.sequenceIndex]?++this.sequenceIndex===Ir.Cdata.length&&(this.state=Ze.InCommentLike,this.currentSequence=Ir.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Ze.InDeclaration,this.stateInDeclaration(e))},n.prototype.fastForwardTo=function(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1},n.prototype.stateInCommentLike=function(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Ir.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Ze.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},n.prototype.isTagStartChar=function(e){return this.xmlMode?!Tf(e):lN(e)},n.prototype.startSpecial=function(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=Ze.SpecialStartSequence},n.prototype.stateBeforeTagName=function(e){if(e===Et.ExclamationMark)this.state=Ze.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===Et.Questionmark)this.state=Ze.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){var t=e|32;this.sectionStart=this.index,!this.xmlMode&&t===Ir.TitleEnd[2]?this.startSpecial(Ir.TitleEnd,3):this.state=!this.xmlMode&&t===Ir.ScriptEnd[2]?Ze.BeforeSpecialS:Ze.InTagName}else e===Et.Slash?this.state=Ze.BeforeClosingTagName:(this.state=Ze.Text,this.stateText(e))},n.prototype.stateInTagName=function(e){Tf(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Ze.BeforeAttributeName,this.stateBeforeAttributeName(e))},n.prototype.stateBeforeClosingTagName=function(e){Rs(e)||(e===Et.Gt?this.state=Ze.Text:(this.state=this.isTagStartChar(e)?Ze.InClosingTagName:Ze.InSpecialComment,this.sectionStart=this.index))},n.prototype.stateInClosingTagName=function(e){(e===Et.Gt||Rs(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Ze.AfterClosingTagName,this.stateAfterClosingTagName(e))},n.prototype.stateAfterClosingTagName=function(e){(e===Et.Gt||this.fastForwardTo(Et.Gt))&&(this.state=Ze.Text,this.baseState=Ze.Text,this.sectionStart=this.index+1)},n.prototype.stateBeforeAttributeName=function(e){e===Et.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Ze.InSpecialTag,this.sequenceIndex=0):this.state=Ze.Text,this.baseState=this.state,this.sectionStart=this.index+1):e===Et.Slash?this.state=Ze.InSelfClosingTag:Rs(e)||(this.state=Ze.InAttributeName,this.sectionStart=this.index)},n.prototype.stateInSelfClosingTag=function(e){e===Et.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Ze.Text,this.baseState=Ze.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Rs(e)||(this.state=Ze.BeforeAttributeName,this.stateBeforeAttributeName(e))},n.prototype.stateInAttributeName=function(e){(e===Et.Eq||Tf(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Ze.AfterAttributeName,this.stateAfterAttributeName(e))},n.prototype.stateAfterAttributeName=function(e){e===Et.Eq?this.state=Ze.BeforeAttributeValue:e===Et.Slash||e===Et.Gt?(this.cbs.onattribend(ja.NoValue,this.index),this.state=Ze.BeforeAttributeName,this.stateBeforeAttributeName(e)):Rs(e)||(this.cbs.onattribend(ja.NoValue,this.index),this.state=Ze.InAttributeName,this.sectionStart=this.index)},n.prototype.stateBeforeAttributeValue=function(e){e===Et.DoubleQuote?(this.state=Ze.InAttributeValueDq,this.sectionStart=this.index+1):e===Et.SingleQuote?(this.state=Ze.InAttributeValueSq,this.sectionStart=this.index+1):Rs(e)||(this.sectionStart=this.index,this.state=Ze.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))},n.prototype.handleInAttributeValue=function(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===Et.DoubleQuote?ja.Double:ja.Single,this.index),this.state=Ze.BeforeAttributeName):this.decodeEntities&&e===Et.Amp&&(this.baseState=this.state,this.state=Ze.BeforeEntity)},n.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,Et.DoubleQuote)},n.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,Et.SingleQuote)},n.prototype.stateInAttributeValueNoQuotes=function(e){Rs(e)||e===Et.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(ja.Unquoted,this.index),this.state=Ze.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===Et.Amp&&(this.baseState=this.state,this.state=Ze.BeforeEntity)},n.prototype.stateBeforeDeclaration=function(e){e===Et.OpeningSquareBracket?(this.state=Ze.CDATASequence,this.sequenceIndex=0):this.state=e===Et.Dash?Ze.BeforeComment:Ze.InDeclaration},n.prototype.stateInDeclaration=function(e){(e===Et.Gt||this.fastForwardTo(Et.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Ze.Text,this.sectionStart=this.index+1)},n.prototype.stateInProcessingInstruction=function(e){(e===Et.Gt||this.fastForwardTo(Et.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Ze.Text,this.sectionStart=this.index+1)},n.prototype.stateBeforeComment=function(e){e===Et.Dash?(this.state=Ze.InCommentLike,this.currentSequence=Ir.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Ze.InDeclaration},n.prototype.stateInSpecialComment=function(e){(e===Et.Gt||this.fastForwardTo(Et.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Ze.Text,this.sectionStart=this.index+1)},n.prototype.stateBeforeSpecialS=function(e){var t=e|32;t===Ir.ScriptEnd[3]?this.startSpecial(Ir.ScriptEnd,4):t===Ir.StyleEnd[3]?this.startSpecial(Ir.StyleEnd,4):(this.state=Ze.InTagName,this.stateInTagName(e))},n.prototype.stateBeforeEntity=function(e){this.entityExcess=1,this.entityResult=0,e===Et.Number?this.state=Ze.BeforeNumericEntity:e===Et.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=Ze.InNamedEntity,this.stateInNamedEntity(e))},n.prototype.stateInNamedEntity=function(e){if(this.entityExcess+=1,this.trieIndex=(0,Wo.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,e),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var t=this.trieCurrent&Wo.BinTrieFlags.VALUE_LENGTH;if(t){var r=(t>>14)-1;if(!this.allowLegacyEntity()&&e!==Et.Semi)this.trieIndex+=r;else{var i=this.index-this.entityExcess+1;i>this.sectionStart&&this.emitPartial(this.sectionStart,i),this.entityResult=this.trieIndex,this.trieIndex+=r,this.entityExcess=0,this.sectionStart=this.index+1,r===0&&this.emitNamedEntity()}}},n.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var e=(this.entityTrie[this.entityResult]&Wo.BinTrieFlags.VALUE_LENGTH)>>14;switch(e){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~Wo.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},n.prototype.stateBeforeNumericEntity=function(e){(e|32)===Et.LowerX?(this.entityExcess++,this.state=Ze.InHexEntity):(this.state=Ze.InNumericEntity,this.stateInNumericEntity(e))},n.prototype.emitNumericEntity=function(e){var t=this.index-this.entityExcess-1,r=t+2+ +(this.state===Ze.InHexEntity);r!==this.index&&(t>this.sectionStart&&this.emitPartial(this.sectionStart,t),this.sectionStart=this.index+Number(e),this.emitCodePoint((0,Wo.replaceCodePoint)(this.entityResult))),this.state=this.baseState},n.prototype.stateInNumericEntity=function(e){e===Et.Semi?this.emitNumericEntity(!0):G_(e)?(this.entityResult=this.entityResult*10+(e-Et.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},n.prototype.stateInHexEntity=function(e){e===Et.Semi?this.emitNumericEntity(!0):G_(e)?(this.entityResult=this.entityResult*16+(e-Et.Zero),this.entityExcess++):cN(e)?(this.entityResult=this.entityResult*16+((e|32)-Et.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},n.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===Ze.Text||this.baseState===Ze.InSpecialTag)},n.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===Ze.Text||this.state===Ze.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Ze.InAttributeValueDq||this.state===Ze.InAttributeValueSq||this.state===Ze.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},n.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},n.prototype.parse=function(){for(;this.shouldContinue();){var e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Ze.Text:{this.stateText(e);break}case Ze.SpecialStartSequence:{this.stateSpecialStartSequence(e);break}case Ze.InSpecialTag:{this.stateInSpecialTag(e);break}case Ze.CDATASequence:{this.stateCDATASequence(e);break}case Ze.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(e);break}case Ze.InAttributeName:{this.stateInAttributeName(e);break}case Ze.InCommentLike:{this.stateInCommentLike(e);break}case Ze.InSpecialComment:{this.stateInSpecialComment(e);break}case Ze.BeforeAttributeName:{this.stateBeforeAttributeName(e);break}case Ze.InTagName:{this.stateInTagName(e);break}case Ze.InClosingTagName:{this.stateInClosingTagName(e);break}case Ze.BeforeTagName:{this.stateBeforeTagName(e);break}case Ze.AfterAttributeName:{this.stateAfterAttributeName(e);break}case Ze.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(e);break}case Ze.BeforeAttributeValue:{this.stateBeforeAttributeValue(e);break}case Ze.BeforeClosingTagName:{this.stateBeforeClosingTagName(e);break}case Ze.AfterClosingTagName:{this.stateAfterClosingTagName(e);break}case Ze.BeforeSpecialS:{this.stateBeforeSpecialS(e);break}case Ze.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(e);break}case Ze.InSelfClosingTag:{this.stateInSelfClosingTag(e);break}case Ze.InDeclaration:{this.stateInDeclaration(e);break}case Ze.BeforeDeclaration:{this.stateBeforeDeclaration(e);break}case Ze.BeforeComment:{this.stateBeforeComment(e);break}case Ze.InProcessingInstruction:{this.stateInProcessingInstruction(e);break}case Ze.InNamedEntity:{this.stateInNamedEntity(e);break}case Ze.BeforeEntity:{this.stateBeforeEntity(e);break}case Ze.InHexEntity:{this.stateInHexEntity(e);break}case Ze.InNumericEntity:{this.stateInNumericEntity(e);break}default:this.stateBeforeNumericEntity(e)}this.index++}this.cleanup()},n.prototype.finish=function(){this.state===Ze.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},n.prototype.handleTrailingData=function(){var e=this.buffer.length+this.offset;this.state===Ze.InCommentLike?this.currentSequence===Ir.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===Ze.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===Ze.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===Ze.InTagName||this.state===Ze.BeforeAttributeName||this.state===Ze.BeforeAttributeValue||this.state===Ze.AfterAttributeName||this.state===Ze.InAttributeName||this.state===Ze.InAttributeValueSq||this.state===Ze.InAttributeValueDq||this.state===Ze.InAttributeValueNq||this.state===Ze.InClosingTagName||this.cbs.ontext(this.sectionStart,e)},n.prototype.emitPartial=function(e,t){this.baseState!==Ze.Text&&this.baseState!==Ze.InSpecialTag?this.cbs.onattribdata(e,t):this.cbs.ontext(e,t)},n.prototype.emitCodePoint=function(e){this.baseState!==Ze.Text&&this.baseState!==Ze.InSpecialTag?this.cbs.onattribentity(e):this.cbs.ontextentity(e)},n}();qa.default=dN});var Yg=we(ss=>{"use strict";F();var fN=ss&&ss.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),hN=ss&&ss.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),pN=ss&&ss.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&fN(e,n,t);return hN(e,n),e};Object.defineProperty(ss,"__esModule",{value:!0});ss.Parser=void 0;var xf=pN(Kg()),z_=vl(),Ga=new Set(["input","option","optgroup","select","button","datalist","textarea"]),vn=new Set(["p"]),W_=new Set(["thead","tbody"]),V_=new Set(["dd","dt"]),$_=new Set(["rt","rp"]),gN=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",vn],["h1",vn],["h2",vn],["h3",vn],["h4",vn],["h5",vn],["h6",vn],["select",Ga],["input",Ga],["output",Ga],["button",Ga],["datalist",Ga],["textarea",Ga],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",V_],["dt",V_],["address",vn],["article",vn],["aside",vn],["blockquote",vn],["details",vn],["div",vn],["dl",vn],["fieldset",vn],["figcaption",vn],["figure",vn],["footer",vn],["form",vn],["header",vn],["hr",vn],["main",vn],["nav",vn],["ol",vn],["pre",vn],["section",vn],["table",vn],["ul",vn],["rt",$_],["rp",$_],["tbody",W_],["tfoot",W_]]),mN=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),J_=new Set(["math","svg"]),K_=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),yN=/\s|\//,bN=function(){function n(e,t){t===void 0&&(t={});var r,i,s,o,c;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.lowerCaseTagNames=(r=t.lowerCaseTags)!==null&&r!==void 0?r:!t.xmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:!t.xmlMode,this.tokenizer=new((s=t.Tokenizer)!==null&&s!==void 0?s:xf.default)(this.options,this),(c=(o=this.cbs).onparserinit)===null||c===void 0||c.call(o,this)}return n.prototype.ontext=function(e,t){var r,i,s=this.getSlice(e,t);this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,s),this.startIndex=t},n.prototype.ontextentity=function(e){var t,r,i=this.tokenizer.getSectionStart();this.endIndex=i-1,(r=(t=this.cbs).ontext)===null||r===void 0||r.call(t,(0,z_.fromCodePoint)(e)),this.startIndex=i},n.prototype.isVoidElement=function(e){return!this.options.xmlMode&&mN.has(e)},n.prototype.onopentagname=function(e,t){this.endIndex=t;var r=this.getSlice(e,t);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)},n.prototype.emitOpenTag=function(e){var t,r,i,s;this.openTagStart=this.startIndex,this.tagname=e;var o=!this.options.xmlMode&&gN.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[this.stack.length-1]);){var c=this.stack.pop();(r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,c,!0)}this.isVoidElement(e)||(this.stack.push(e),J_.has(e)?this.foreignContext.push(!0):K_.has(e)&&this.foreignContext.push(!1)),(s=(i=this.cbs).onopentagname)===null||s===void 0||s.call(i,e),this.cbs.onopentag&&(this.attribs={})},n.prototype.endOpenTag=function(e){var t,r;this.startIndex=this.openTagStart,this.attribs&&((r=(t=this.cbs).onopentag)===null||r===void 0||r.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},n.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},n.prototype.onclosetag=function(e,t){var r,i,s,o,c,d;this.endIndex=t;var u=this.getSlice(e,t);if(this.lowerCaseTagNames&&(u=u.toLowerCase()),(J_.has(u)||K_.has(u))&&this.foreignContext.pop(),this.isVoidElement(u))!this.options.xmlMode&&u==="br"&&((i=(r=this.cbs).onopentagname)===null||i===void 0||i.call(r,"br"),(o=(s=this.cbs).onopentag)===null||o===void 0||o.call(s,"br",{},!0),(d=(c=this.cbs).onclosetag)===null||d===void 0||d.call(c,"br",!1));else{var p=this.stack.lastIndexOf(u);if(p!==-1)if(this.cbs.onclosetag)for(var m=this.stack.length-p;m--;)this.cbs.onclosetag(this.stack.pop(),m!==0);else this.stack.length=p;else!this.options.xmlMode&&u==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1},n.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},n.prototype.closeCurrentTag=function(e){var t,r,i=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===i&&((r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,i,!e),this.stack.pop())},n.prototype.onattribname=function(e,t){this.startIndex=e;var r=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r},n.prototype.onattribdata=function(e,t){this.attribvalue+=this.getSlice(e,t)},n.prototype.onattribentity=function(e){this.attribvalue+=(0,z_.fromCodePoint)(e)},n.prototype.onattribend=function(e,t){var r,i;this.endIndex=t,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,e===xf.QuoteType.Double?'"':e===xf.QuoteType.Single?"'":e===xf.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},n.prototype.getInstructionName=function(e){var t=e.search(yN),r=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r},n.prototype.ondeclaration=function(e,t){this.endIndex=t;var r=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(r);this.cbs.onprocessinginstruction("!".concat(i),"!".concat(r))}this.startIndex=t+1},n.prototype.onprocessinginstruction=function(e,t){this.endIndex=t;var r=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(r);this.cbs.onprocessinginstruction("?".concat(i),"?".concat(r))}this.startIndex=t+1},n.prototype.oncomment=function(e,t,r){var i,s,o,c;this.endIndex=t,(s=(i=this.cbs).oncomment)===null||s===void 0||s.call(i,this.getSlice(e,t-r)),(c=(o=this.cbs).oncommentend)===null||c===void 0||c.call(o),this.startIndex=t+1},n.prototype.oncdata=function(e,t,r){var i,s,o,c,d,u,p,m,b,v;this.endIndex=t;var y=this.getSlice(e,t-r);this.options.xmlMode||this.options.recognizeCDATA?((s=(i=this.cbs).oncdatastart)===null||s===void 0||s.call(i),(c=(o=this.cbs).ontext)===null||c===void 0||c.call(o,y),(u=(d=this.cbs).oncdataend)===null||u===void 0||u.call(d)):((m=(p=this.cbs).oncomment)===null||m===void 0||m.call(p,"[CDATA[".concat(y,"]]")),(v=(b=this.cbs).oncommentend)===null||v===void 0||v.call(b)),this.startIndex=t+1},n.prototype.onend=function(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var r=this.stack.length;r>0;this.cbs.onclosetag(this.stack[--r],!0));}(t=(e=this.cbs).onend)===null||t===void 0||t.call(e)},n.prototype.reset=function(){var e,t,r,i;(t=(e=this.cbs).onreset)===null||t===void 0||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},n.prototype.parseComplete=function(e){this.reset(),this.end(e)},n.prototype.getSlice=function(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var r=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,t-this.bufferOffset);return r},n.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},n.prototype.write=function(e){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)},n.prototype.end=function(e){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()},n.prototype.pause=function(){this.tokenizer.pause()},n.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},n.prototype.parseChunk=function(e){this.write(e)},n.prototype.done=function(e){this.end(e)},n}();ss.Parser=bN});var za=we(Cn=>{"use strict";F();Object.defineProperty(Cn,"__esModule",{value:!0});Cn.Doctype=Cn.CDATA=Cn.Tag=Cn.Style=Cn.Script=Cn.Comment=Cn.Directive=Cn.Text=Cn.Root=Cn.isTag=Cn.ElementType=void 0;var si;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(si=Cn.ElementType||(Cn.ElementType={}));function vN(n){return n.type===si.Tag||n.type===si.Script||n.type===si.Style}Cn.isTag=vN;Cn.Root=si.Root;Cn.Text=si.Text;Cn.Directive=si.Directive;Cn.Comment=si.Comment;Cn.Script=si.Script;Cn.Style=si.Style;Cn.Tag=si.Tag;Cn.CDATA=si.CDATA;Cn.Doctype=si.Doctype});var em=we($t=>{"use strict";F();var oo=$t&&$t.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_l=$t&&$t.__assign||function(){return _l=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},_l.apply(this,arguments)};Object.defineProperty($t,"__esModule",{value:!0});$t.cloneNode=$t.hasChildren=$t.isDocument=$t.isDirective=$t.isComment=$t.isText=$t.isCDATA=$t.isTag=$t.Element=$t.Document=$t.CDATA=$t.NodeWithChildren=$t.ProcessingInstruction=$t.Comment=$t.Text=$t.DataNode=$t.Node=void 0;var Nr=za(),Qg=function(){function n(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),n.prototype.cloneNode=function(e){return e===void 0&&(e=!1),Zg(this,e)},n}();$t.Node=Qg;var Pf=function(n){oo(e,n);function e(t){var r=n.call(this)||this;return r.data=t,r}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),e}(Qg);$t.DataNode=Pf;var Y_=function(n){oo(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=Nr.ElementType.Text,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(Pf);$t.Text=Y_;var X_=function(n){oo(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=Nr.ElementType.Comment,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(Pf);$t.Comment=X_;var Q_=function(n){oo(e,n);function e(t,r){var i=n.call(this,r)||this;return i.name=t,i.type=Nr.ElementType.Directive,i}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(Pf);$t.ProcessingInstruction=Q_;var Mf=function(n){oo(e,n);function e(t){var r=n.call(this)||this;return r.children=t,r}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),e}(Qg);$t.NodeWithChildren=Mf;var Z_=function(n){oo(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=Nr.ElementType.CDATA,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(Mf);$t.CDATA=Z_;var ew=function(n){oo(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=Nr.ElementType.Root,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(Mf);$t.Document=ew;var tw=function(n){oo(e,n);function e(t,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=t==="script"?Nr.ElementType.Script:t==="style"?Nr.ElementType.Style:Nr.ElementType.Tag);var o=n.call(this,i)||this;return o.name=t,o.attribs=r,o.type=s,o}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map(function(r){var i,s;return{name:r,value:t.attribs[r],namespace:(i=t["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(s=t["x-attribsPrefix"])===null||s===void 0?void 0:s[r]}})},enumerable:!1,configurable:!0}),e}(Mf);$t.Element=tw;function nw(n){return(0,Nr.isTag)(n)}$t.isTag=nw;function rw(n){return n.type===Nr.ElementType.CDATA}$t.isCDATA=rw;function iw(n){return n.type===Nr.ElementType.Text}$t.isText=iw;function sw(n){return n.type===Nr.ElementType.Comment}$t.isComment=sw;function ow(n){return n.type===Nr.ElementType.Directive}$t.isDirective=ow;function aw(n){return n.type===Nr.ElementType.Root}$t.isDocument=aw;function _N(n){return Object.prototype.hasOwnProperty.call(n,"children")}$t.hasChildren=_N;function Zg(n,e){e===void 0&&(e=!1);var t;if(iw(n))t=new Y_(n.data);else if(sw(n))t=new X_(n.data);else if(nw(n)){var r=e?Xg(n.children):[],i=new tw(n.name,_l({},n.attribs),r);r.forEach(function(d){return d.parent=i}),n.namespace!=null&&(i.namespace=n.namespace),n["x-attribsNamespace"]&&(i["x-attribsNamespace"]=_l({},n["x-attribsNamespace"])),n["x-attribsPrefix"]&&(i["x-attribsPrefix"]=_l({},n["x-attribsPrefix"])),t=i}else if(rw(n)){var r=e?Xg(n.children):[],s=new Z_(r);r.forEach(function(u){return u.parent=s}),t=s}else if(aw(n)){var r=e?Xg(n.children):[],o=new ew(r);r.forEach(function(u){return u.parent=o}),n["x-mode"]&&(o["x-mode"]=n["x-mode"]),t=o}else if(ow(n)){var c=new Q_(n.name,n.data);n["x-name"]!=null&&(c["x-name"]=n["x-name"],c["x-publicId"]=n["x-publicId"],c["x-systemId"]=n["x-systemId"]),t=c}else throw new Error("Not implemented yet: ".concat(n.type));return t.startIndex=n.startIndex,t.endIndex=n.endIndex,n.sourceCodeLocation!=null&&(t.sourceCodeLocation=n.sourceCodeLocation),t}$t.cloneNode=Zg;function Xg(n){for(var e=n.map(function(r){return Zg(r,!0)}),t=1;t<e.length;t++)e[t].prev=e[t-1],e[t-1].next=e[t];return e}});var Ls=we(os=>{"use strict";F();var wN=os&&os.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),EN=os&&os.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&wN(e,n,t)};Object.defineProperty(os,"__esModule",{value:!0});os.DomHandler=void 0;var tm=za(),ao=em();EN(em(),os);var uw={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},lw=function(){function n(e,t,r){this.dom=[],this.root=new ao.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof t=="function"&&(r=t,t=uw),typeof e=="object"&&(t=e,e=void 0),this.callback=e??null,this.options=t??uw,this.elementCB=r??null}return n.prototype.onparserinit=function(e){this.parser=e},n.prototype.onreset=function(){this.dom=[],this.root=new ao.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},n.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},n.prototype.onerror=function(e){this.handleCallback(e)},n.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},n.prototype.onopentag=function(e,t){var r=this.options.xmlMode?tm.ElementType.Tag:void 0,i=new ao.Element(e,t,void 0,r);this.addNode(i),this.tagStack.push(i)},n.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===tm.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var r=new ao.Text(e);this.addNode(r),this.lastNode=r}},n.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===tm.ElementType.Comment){this.lastNode.data+=e;return}var t=new ao.Comment(e);this.addNode(t),this.lastNode=t},n.prototype.oncommentend=function(){this.lastNode=null},n.prototype.oncdatastart=function(){var e=new ao.Text(""),t=new ao.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},n.prototype.oncdataend=function(){this.lastNode=null},n.prototype.onprocessinginstruction=function(e,t){var r=new ao.ProcessingInstruction(e,t);this.addNode(r)},n.prototype.handleCallback=function(e){if(typeof this.callback=="function")this.callback(e,this.dom);else if(e)throw e},n.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),r&&(e.prev=r,r.next=e),e.parent=t,this.lastNode=null},n}();os.DomHandler=lw;os.default=lw});var cw=we(nm=>{"use strict";F();Object.defineProperty(nm,"__esModule",{value:!0});function Of(n){for(var e=1;e<n.length;e++)n[e][0]+=n[e-1][0]+1;return n}nm.default=new Map(Of([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(Of([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(Of([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(Of([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]))});var kf=we(Wn=>{"use strict";F();Object.defineProperty(Wn,"__esModule",{value:!0});Wn.escapeText=Wn.escapeAttribute=Wn.escapeUTF8=Wn.escape=Wn.encodeXML=Wn.getCodePoint=Wn.xmlReplacer=void 0;Wn.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var dw=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);Wn.getCodePoint=String.prototype.codePointAt!=null?function(n,e){return n.codePointAt(e)}:function(n,e){return(n.charCodeAt(e)&64512)===55296?(n.charCodeAt(e)-55296)*1024+n.charCodeAt(e+1)-56320+65536:n.charCodeAt(e)};function fw(n){for(var e="",t=0,r;(r=Wn.xmlReplacer.exec(n))!==null;){var i=r.index,s=n.charCodeAt(i),o=dw.get(s);o!==void 0?(e+=n.substring(t,i)+o,t=i+1):(e+="".concat(n.substring(t,i),"&#x").concat((0,Wn.getCodePoint)(n,i).toString(16),";"),t=Wn.xmlReplacer.lastIndex+=+((s&64512)===55296))}return e+n.substr(t)}Wn.encodeXML=fw;Wn.escape=fw;function rm(n,e){return function(r){for(var i,s=0,o="";i=n.exec(r);)s!==i.index&&(o+=r.substring(s,i.index)),o+=e.get(i[0].charCodeAt(0)),s=i.index+1;return o+r.substring(s)}}Wn.escapeUTF8=rm(/[&<>'"]/g,dw);Wn.escapeAttribute=rm(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]]));Wn.escapeText=rm(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))});var im=we(uo=>{"use strict";F();var AN=uo&&uo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(uo,"__esModule",{value:!0});uo.encodeNonAsciiHTML=uo.encodeHTML=void 0;var SN=AN(cw()),hw=kf(),CN=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function TN(n){return pw(CN,n)}uo.encodeHTML=TN;function xN(n){return pw(hw.xmlReplacer,n)}uo.encodeNonAsciiHTML=xN;function pw(n,e){for(var t="",r=0,i;(i=n.exec(e))!==null;){var s=i.index;t+=e.substring(r,s);var o=e.charCodeAt(s),c=SN.default.get(o);if(typeof c=="object"){if(s+1<e.length){var d=e.charCodeAt(s+1),u=typeof c.n=="number"?c.n===d?c.o:void 0:c.n.get(d);if(u!==void 0){t+=u,r=n.lastIndex+=1;continue}}c=c.v}if(c!==void 0)t+=c,r=s+1;else{var p=(0,hw.getCodePoint)(e,s);t+="&#x".concat(p.toString(16),";"),r=n.lastIndex+=+(p!==o)}}return t+e.substr(r)}});var yw=we(Ot=>{"use strict";F();Object.defineProperty(Ot,"__esModule",{value:!0});Ot.decodeXMLStrict=Ot.decodeHTML5Strict=Ot.decodeHTML4Strict=Ot.decodeHTML5=Ot.decodeHTML4=Ot.decodeHTMLAttribute=Ot.decodeHTMLStrict=Ot.decodeHTML=Ot.decodeXML=Ot.DecodingMode=Ot.EntityDecoder=Ot.encodeHTML5=Ot.encodeHTML4=Ot.encodeNonAsciiHTML=Ot.encodeHTML=Ot.escapeText=Ot.escapeAttribute=Ot.escapeUTF8=Ot.escape=Ot.encodeXML=Ot.encode=Ot.decodeStrict=Ot.decode=Ot.EncodingMode=Ot.EntityLevel=void 0;var sm=vl(),gw=im(),Rf=kf(),Wa;(function(n){n[n.XML=0]="XML",n[n.HTML=1]="HTML"})(Wa=Ot.EntityLevel||(Ot.EntityLevel={}));var wl;(function(n){n[n.UTF8=0]="UTF8",n[n.ASCII=1]="ASCII",n[n.Extensive=2]="Extensive",n[n.Attribute=3]="Attribute",n[n.Text=4]="Text"})(wl=Ot.EncodingMode||(Ot.EncodingMode={}));function mw(n,e){e===void 0&&(e=Wa.XML);var t=typeof e=="number"?e:e.level;if(t===Wa.HTML){var r=typeof e=="object"?e.mode:void 0;return(0,sm.decodeHTML)(n,r)}return(0,sm.decodeXML)(n)}Ot.decode=mw;function PN(n,e){var t;e===void 0&&(e=Wa.XML);var r=typeof e=="number"?{level:e}:e;return(t=r.mode)!==null&&t!==void 0||(r.mode=sm.DecodingMode.Strict),mw(n,r)}Ot.decodeStrict=PN;function MN(n,e){e===void 0&&(e=Wa.XML);var t=typeof e=="number"?{level:e}:e;return t.mode===wl.UTF8?(0,Rf.escapeUTF8)(n):t.mode===wl.Attribute?(0,Rf.escapeAttribute)(n):t.mode===wl.Text?(0,Rf.escapeText)(n):t.level===Wa.HTML?t.mode===wl.ASCII?(0,gw.encodeNonAsciiHTML)(n):(0,gw.encodeHTML)(n):(0,Rf.encodeXML)(n)}Ot.encode=MN;var El=kf();Object.defineProperty(Ot,"encodeXML",{enumerable:!0,get:function(){return El.encodeXML}});Object.defineProperty(Ot,"escape",{enumerable:!0,get:function(){return El.escape}});Object.defineProperty(Ot,"escapeUTF8",{enumerable:!0,get:function(){return El.escapeUTF8}});Object.defineProperty(Ot,"escapeAttribute",{enumerable:!0,get:function(){return El.escapeAttribute}});Object.defineProperty(Ot,"escapeText",{enumerable:!0,get:function(){return El.escapeText}});var Lf=im();Object.defineProperty(Ot,"encodeHTML",{enumerable:!0,get:function(){return Lf.encodeHTML}});Object.defineProperty(Ot,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return Lf.encodeNonAsciiHTML}});Object.defineProperty(Ot,"encodeHTML4",{enumerable:!0,get:function(){return Lf.encodeHTML}});Object.defineProperty(Ot,"encodeHTML5",{enumerable:!0,get:function(){return Lf.encodeHTML}});var Bi=vl();Object.defineProperty(Ot,"EntityDecoder",{enumerable:!0,get:function(){return Bi.EntityDecoder}});Object.defineProperty(Ot,"DecodingMode",{enumerable:!0,get:function(){return Bi.DecodingMode}});Object.defineProperty(Ot,"decodeXML",{enumerable:!0,get:function(){return Bi.decodeXML}});Object.defineProperty(Ot,"decodeHTML",{enumerable:!0,get:function(){return Bi.decodeHTML}});Object.defineProperty(Ot,"decodeHTMLStrict",{enumerable:!0,get:function(){return Bi.decodeHTMLStrict}});Object.defineProperty(Ot,"decodeHTMLAttribute",{enumerable:!0,get:function(){return Bi.decodeHTMLAttribute}});Object.defineProperty(Ot,"decodeHTML4",{enumerable:!0,get:function(){return Bi.decodeHTML}});Object.defineProperty(Ot,"decodeHTML5",{enumerable:!0,get:function(){return Bi.decodeHTML}});Object.defineProperty(Ot,"decodeHTML4Strict",{enumerable:!0,get:function(){return Bi.decodeHTMLStrict}});Object.defineProperty(Ot,"decodeHTML5Strict",{enumerable:!0,get:function(){return Bi.decodeHTMLStrict}});Object.defineProperty(Ot,"decodeXMLStrict",{enumerable:!0,get:function(){return Bi.decodeXML}})});var bw=we(Va=>{"use strict";F();Object.defineProperty(Va,"__esModule",{value:!0});Va.attributeNames=Va.elementNames=void 0;Va.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(n){return[n.toLowerCase(),n]}));Va.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(n){return[n.toLowerCase(),n]}))});var ww=we(oi=>{"use strict";F();var $a=oi&&oi.__assign||function(){return $a=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},$a.apply(this,arguments)},ON=oi&&oi.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),kN=oi&&oi.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),RN=oi&&oi.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&ON(e,n,t);return kN(e,n),e};Object.defineProperty(oi,"__esModule",{value:!0});oi.render=void 0;var Is=RN(za()),If=yw(),_w=bw(),LN=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function IN(n){return n.replace(/"/g,"&quot;")}function NN(n,e){var t;if(n){var r=((t=e.encodeEntities)!==null&&t!==void 0?t:e.decodeEntities)===!1?IN:e.xmlMode||e.encodeEntities!=="utf8"?If.encodeXML:If.escapeAttribute;return Object.keys(n).map(function(i){var s,o,c=(s=n[i])!==null&&s!==void 0?s:"";return e.xmlMode==="foreign"&&(i=(o=_w.attributeNames.get(i))!==null&&o!==void 0?o:i),!e.emptyAttrs&&!e.xmlMode&&c===""?i:"".concat(i,'="').concat(r(c),'"')}).join(" ")}}var vw=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Nf(n,e){e===void 0&&(e={});for(var t=("length"in n)?n:[n],r="",i=0;i<t.length;i++)r+=DN(t[i],e);return r}oi.render=Nf;oi.default=Nf;function DN(n,e){switch(n.type){case Is.Root:return Nf(n.children,e);case Is.Doctype:case Is.Directive:return UN(n);case Is.Comment:return GN(n);case Is.CDATA:return qN(n);case Is.Script:case Is.Style:case Is.Tag:return HN(n,e);case Is.Text:return jN(n,e)}}var BN=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),FN=new Set(["svg","math"]);function HN(n,e){var t;e.xmlMode==="foreign"&&(n.name=(t=_w.elementNames.get(n.name))!==null&&t!==void 0?t:n.name,n.parent&&BN.has(n.parent.name)&&(e=$a($a({},e),{xmlMode:!1}))),!e.xmlMode&&FN.has(n.name)&&(e=$a($a({},e),{xmlMode:"foreign"}));var r="<".concat(n.name),i=NN(n.attribs,e);return i&&(r+=" ".concat(i)),n.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&vw.has(n.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",n.children.length>0&&(r+=Nf(n.children,e)),(e.xmlMode||!vw.has(n.name))&&(r+="</".concat(n.name,">"))),r}function UN(n){return"<".concat(n.data,">")}function jN(n,e){var t,r=n.data||"";return((t=e.encodeEntities)!==null&&t!==void 0?t:e.decodeEntities)!==!1&&!(!e.xmlMode&&n.parent&&LN.has(n.parent.name))&&(r=e.xmlMode||e.encodeEntities!=="utf8"?(0,If.encodeXML)(r):(0,If.escapeText)(r)),r}function qN(n){return"<![CDATA[".concat(n.children[0].data,"]]>")}function GN(n){return"<!--".concat(n.data,"-->")}});var um=we(Dr=>{"use strict";F();var zN=Dr&&Dr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.innerText=Dr.textContent=Dr.getText=Dr.getInnerHTML=Dr.getOuterHTML=void 0;var as=Ls(),WN=zN(ww()),VN=za();function Ew(n,e){return(0,WN.default)(n,e)}Dr.getOuterHTML=Ew;function $N(n,e){return(0,as.hasChildren)(n)?n.children.map(function(t){return Ew(t,e)}).join(""):""}Dr.getInnerHTML=$N;function Df(n){return Array.isArray(n)?n.map(Df).join(""):(0,as.isTag)(n)?n.name==="br"?`
`:Df(n.children):(0,as.isCDATA)(n)?Df(n.children):(0,as.isText)(n)?n.data:""}Dr.getText=Df;function om(n){return Array.isArray(n)?n.map(om).join(""):(0,as.hasChildren)(n)&&!(0,as.isComment)(n)?om(n.children):(0,as.isText)(n)?n.data:""}Dr.textContent=om;function am(n){return Array.isArray(n)?n.map(am).join(""):(0,as.hasChildren)(n)&&(n.type===VN.ElementType.Tag||(0,as.isCDATA)(n))?am(n.children):(0,as.isText)(n)?n.data:""}Dr.innerText=am});var Cw=we(er=>{"use strict";F();Object.defineProperty(er,"__esModule",{value:!0});er.prevElementSibling=er.nextElementSibling=er.getName=er.hasAttrib=er.getAttributeValue=er.getSiblings=er.getParent=er.getChildren=void 0;var lm=Ls();function Aw(n){return(0,lm.hasChildren)(n)?n.children:[]}er.getChildren=Aw;function Sw(n){return n.parent||null}er.getParent=Sw;function JN(n){var e,t,r=Sw(n);if(r!=null)return Aw(r);for(var i=[n],s=n.prev,o=n.next;s!=null;)i.unshift(s),e=s,s=e.prev;for(;o!=null;)i.push(o),t=o,o=t.next;return i}er.getSiblings=JN;function KN(n,e){var t;return(t=n.attribs)===null||t===void 0?void 0:t[e]}er.getAttributeValue=KN;function YN(n,e){return n.attribs!=null&&Object.prototype.hasOwnProperty.call(n.attribs,e)&&n.attribs[e]!=null}er.hasAttrib=YN;function XN(n){return n.name}er.getName=XN;function QN(n){for(var e,t=n.next;t!==null&&!(0,lm.isTag)(t);)e=t,t=e.next;return t}er.nextElementSibling=QN;function ZN(n){for(var e,t=n.prev;t!==null&&!(0,lm.isTag)(t);)e=t,t=e.prev;return t}er.prevElementSibling=ZN});var Tw=we(Br=>{"use strict";F();Object.defineProperty(Br,"__esModule",{value:!0});Br.prepend=Br.prependChild=Br.append=Br.appendChild=Br.replaceElement=Br.removeElement=void 0;function Al(n){if(n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),n.parent){var e=n.parent.children,t=e.lastIndexOf(n);t>=0&&e.splice(t,1)}n.next=null,n.prev=null,n.parent=null}Br.removeElement=Al;function eD(n,e){var t=e.prev=n.prev;t&&(t.next=e);var r=e.next=n.next;r&&(r.prev=e);var i=e.parent=n.parent;if(i){var s=i.children;s[s.lastIndexOf(n)]=e,n.parent=null}}Br.replaceElement=eD;function tD(n,e){if(Al(e),e.next=null,e.parent=n,n.children.push(e)>1){var t=n.children[n.children.length-2];t.next=e,e.prev=t}else e.prev=null}Br.appendChild=tD;function nD(n,e){Al(e);var t=n.parent,r=n.next;if(e.next=r,e.prev=n,n.next=e,e.parent=t,r){if(r.prev=e,t){var i=t.children;i.splice(i.lastIndexOf(r),0,e)}}else t&&t.children.push(e)}Br.append=nD;function rD(n,e){if(Al(e),e.parent=n,e.prev=null,n.children.unshift(e)!==1){var t=n.children[1];t.prev=e,e.next=t}else e.next=null}Br.prependChild=rD;function iD(n,e){Al(e);var t=n.parent;if(t){var r=t.children;r.splice(r.indexOf(n),0,e)}n.prev&&(n.prev.next=e),e.parent=t,e.prev=n.prev,e.next=n,n.prev=e}Br.prepend=iD});var cm=we(Fr=>{"use strict";F();Object.defineProperty(Fr,"__esModule",{value:!0});Fr.findAll=Fr.existsOne=Fr.findOne=Fr.findOneChild=Fr.find=Fr.filter=void 0;var Bf=Ls();function sD(n,e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=1/0),xw(n,Array.isArray(e)?e:[e],t,r)}Fr.filter=sD;function xw(n,e,t,r){for(var i=[],s=[e],o=[0];;){if(o[0]>=s[0].length){if(o.length===1)return i;s.shift(),o.shift();continue}var c=s[0][o[0]++];if(n(c)&&(i.push(c),--r<=0))return i;t&&(0,Bf.hasChildren)(c)&&c.children.length>0&&(o.unshift(0),s.unshift(c.children))}}Fr.find=xw;function oD(n,e){return e.find(n)}Fr.findOneChild=oD;function Pw(n,e,t){t===void 0&&(t=!0);for(var r=null,i=0;i<e.length&&!r;i++){var s=e[i];if((0,Bf.isTag)(s))n(s)?r=s:t&&s.children.length>0&&(r=Pw(n,s.children,!0));else continue}return r}Fr.findOne=Pw;function Mw(n,e){return e.some(function(t){return(0,Bf.isTag)(t)&&(n(t)||Mw(n,t.children))})}Fr.existsOne=Mw;function aD(n,e){for(var t=[],r=[e],i=[0];;){if(i[0]>=r[0].length){if(r.length===1)return t;r.shift(),i.shift();continue}var s=r[0][i[0]++];(0,Bf.isTag)(s)&&(n(s)&&t.push(s),s.children.length>0&&(i.unshift(0),r.unshift(s.children)))}}Fr.findAll=aD});var dm=we(Ci=>{"use strict";F();Object.defineProperty(Ci,"__esModule",{value:!0});Ci.getElementsByTagType=Ci.getElementsByTagName=Ci.getElementById=Ci.getElements=Ci.testElement=void 0;var Vo=Ls(),Hf=cm(),Ff={tag_name:function(n){return typeof n=="function"?function(e){return(0,Vo.isTag)(e)&&n(e.name)}:n==="*"?Vo.isTag:function(e){return(0,Vo.isTag)(e)&&e.name===n}},tag_type:function(n){return typeof n=="function"?function(e){return n(e.type)}:function(e){return e.type===n}},tag_contains:function(n){return typeof n=="function"?function(e){return(0,Vo.isText)(e)&&n(e.data)}:function(e){return(0,Vo.isText)(e)&&e.data===n}}};function Ow(n,e){return typeof e=="function"?function(t){return(0,Vo.isTag)(t)&&e(t.attribs[n])}:function(t){return(0,Vo.isTag)(t)&&t.attribs[n]===e}}function uD(n,e){return function(t){return n(t)||e(t)}}function kw(n){var e=Object.keys(n).map(function(t){var r=n[t];return Object.prototype.hasOwnProperty.call(Ff,t)?Ff[t](r):Ow(t,r)});return e.length===0?null:e.reduce(uD)}function lD(n,e){var t=kw(n);return t?t(e):!0}Ci.testElement=lD;function cD(n,e,t,r){r===void 0&&(r=1/0);var i=kw(n);return i?(0,Hf.filter)(i,e,t,r):[]}Ci.getElements=cD;function dD(n,e,t){return t===void 0&&(t=!0),Array.isArray(e)||(e=[e]),(0,Hf.findOne)(Ow("id",n),e,t)}Ci.getElementById=dD;function fD(n,e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=1/0),(0,Hf.filter)(Ff.tag_name(n),e,t,r)}Ci.getElementsByTagName=fD;function hD(n,e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=1/0),(0,Hf.filter)(Ff.tag_type(n),e,t,r)}Ci.getElementsByTagType=hD});var Iw=we(Fi=>{"use strict";F();Object.defineProperty(Fi,"__esModule",{value:!0});Fi.uniqueSort=Fi.compareDocumentPosition=Fi.DocumentPosition=Fi.removeSubsets=void 0;var Rw=Ls();function pD(n){for(var e=n.length;--e>=0;){var t=n[e];if(e>0&&n.lastIndexOf(t,e-1)>=0){n.splice(e,1);continue}for(var r=t.parent;r;r=r.parent)if(n.includes(r)){n.splice(e,1);break}}return n}Fi.removeSubsets=pD;var us;(function(n){n[n.DISCONNECTED=1]="DISCONNECTED",n[n.PRECEDING=2]="PRECEDING",n[n.FOLLOWING=4]="FOLLOWING",n[n.CONTAINS=8]="CONTAINS",n[n.CONTAINED_BY=16]="CONTAINED_BY"})(us=Fi.DocumentPosition||(Fi.DocumentPosition={}));function Lw(n,e){var t=[],r=[];if(n===e)return 0;for(var i=(0,Rw.hasChildren)(n)?n:n.parent;i;)t.unshift(i),i=i.parent;for(i=(0,Rw.hasChildren)(e)?e:e.parent;i;)r.unshift(i),i=i.parent;for(var s=Math.min(t.length,r.length),o=0;o<s&&t[o]===r[o];)o++;if(o===0)return us.DISCONNECTED;var c=t[o-1],d=c.children,u=t[o],p=r[o];return d.indexOf(u)>d.indexOf(p)?c===e?us.FOLLOWING|us.CONTAINED_BY:us.FOLLOWING:c===n?us.PRECEDING|us.CONTAINS:us.PRECEDING}Fi.compareDocumentPosition=Lw;function gD(n){return n=n.filter(function(e,t,r){return!r.includes(e,t+1)}),n.sort(function(e,t){var r=Lw(e,t);return r&us.PRECEDING?-1:r&us.FOLLOWING?1:0}),n}Fi.uniqueSort=gD});var Dw=we(jf=>{"use strict";F();Object.defineProperty(jf,"__esModule",{value:!0});jf.getFeed=void 0;var mD=um(),Sl=dm();function yD(n){var e=Uf(ED,n);return e?e.name==="feed"?bD(e):vD(e):null}jf.getFeed=yD;function bD(n){var e,t=n.children,r={type:"atom",items:(0,Sl.getElementsByTagName)("entry",t).map(function(o){var c,d=o.children,u={media:Nw(d)};Hr(u,"id","id",d),Hr(u,"title","title",d);var p=(c=Uf("link",d))===null||c===void 0?void 0:c.attribs.href;p&&(u.link=p);var m=lo("summary",d)||lo("content",d);m&&(u.description=m);var b=lo("updated",d);return b&&(u.pubDate=new Date(b)),u})};Hr(r,"id","id",t),Hr(r,"title","title",t);var i=(e=Uf("link",t))===null||e===void 0?void 0:e.attribs.href;i&&(r.link=i),Hr(r,"description","subtitle",t);var s=lo("updated",t);return s&&(r.updated=new Date(s)),Hr(r,"author","email",t,!0),r}function vD(n){var e,t,r=(t=(e=Uf("channel",n.children))===null||e===void 0?void 0:e.children)!==null&&t!==void 0?t:[],i={type:n.name.substr(0,3),id:"",items:(0,Sl.getElementsByTagName)("item",n.children).map(function(o){var c=o.children,d={media:Nw(c)};Hr(d,"id","guid",c),Hr(d,"title","title",c),Hr(d,"link","link",c),Hr(d,"description","description",c);var u=lo("pubDate",c)||lo("dc:date",c);return u&&(d.pubDate=new Date(u)),d})};Hr(i,"title","title",r),Hr(i,"link","link",r),Hr(i,"description","description",r);var s=lo("lastBuildDate",r);return s&&(i.updated=new Date(s)),Hr(i,"author","managingEditor",r,!0),i}var _D=["url","type","lang"],wD=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function Nw(n){return(0,Sl.getElementsByTagName)("media:content",n).map(function(e){for(var t=e.attribs,r={medium:t.medium,isDefault:!!t.isDefault},i=0,s=_D;i<s.length;i++){var o=s[i];t[o]&&(r[o]=t[o])}for(var c=0,d=wD;c<d.length;c++){var o=d[c];t[o]&&(r[o]=parseInt(t[o],10))}return t.expression&&(r.expression=t.expression),r})}function Uf(n,e){return(0,Sl.getElementsByTagName)(n,e,!0,1)[0]}function lo(n,e,t){return t===void 0&&(t=!1),(0,mD.textContent)((0,Sl.getElementsByTagName)(n,e,t,1)).trim()}function Hr(n,e,t,r,i){i===void 0&&(i=!1);var s=lo(t,r,i);s&&(n[e]=s)}function ED(n){return n==="rss"||n==="feed"||n==="rdf:RDF"}});var qf=we(Tn=>{"use strict";F();var AD=Tn&&Tn.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),$o=Tn&&Tn.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&AD(e,n,t)};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.hasChildren=Tn.isDocument=Tn.isComment=Tn.isText=Tn.isCDATA=Tn.isTag=void 0;$o(um(),Tn);$o(Cw(),Tn);$o(Tw(),Tn);$o(cm(),Tn);$o(dm(),Tn);$o(Iw(),Tn);$o(Dw(),Tn);var Ja=Ls();Object.defineProperty(Tn,"isTag",{enumerable:!0,get:function(){return Ja.isTag}});Object.defineProperty(Tn,"isCDATA",{enumerable:!0,get:function(){return Ja.isCDATA}});Object.defineProperty(Tn,"isText",{enumerable:!0,get:function(){return Ja.isText}});Object.defineProperty(Tn,"isComment",{enumerable:!0,get:function(){return Ja.isComment}});Object.defineProperty(Tn,"isDocument",{enumerable:!0,get:function(){return Ja.isDocument}});Object.defineProperty(Tn,"hasChildren",{enumerable:!0,get:function(){return Ja.hasChildren}})});var Gw=we(cn=>{"use strict";F();var SD=cn&&cn.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),CD=cn&&cn.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Bw=cn&&cn.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&SD(e,n,t);return CD(e,n),e},TD=cn&&cn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(cn,"__esModule",{value:!0});cn.DomUtils=cn.parseFeed=cn.getFeed=cn.ElementType=cn.Tokenizer=cn.createDomStream=cn.parseDOM=cn.parseDocument=cn.DefaultHandler=cn.DomHandler=cn.Parser=void 0;var Fw=Yg(),xD=Yg();Object.defineProperty(cn,"Parser",{enumerable:!0,get:function(){return xD.Parser}});var Hw=Ls(),Uw=Ls();Object.defineProperty(cn,"DomHandler",{enumerable:!0,get:function(){return Uw.DomHandler}});Object.defineProperty(cn,"DefaultHandler",{enumerable:!0,get:function(){return Uw.DomHandler}});function jw(n,e){var t=new Hw.DomHandler(void 0,e);return new Fw.Parser(t,e).end(n),t.root}cn.parseDocument=jw;function qw(n,e){return jw(n,e).children}cn.parseDOM=qw;function PD(n,e,t){var r=new Hw.DomHandler(n,e,t);return new Fw.Parser(r,e)}cn.createDomStream=PD;var MD=Kg();Object.defineProperty(cn,"Tokenizer",{enumerable:!0,get:function(){return TD(MD).default}});cn.ElementType=Bw(za());var OD=qf(),kD=qf();Object.defineProperty(cn,"getFeed",{enumerable:!0,get:function(){return kD.getFeed}});var RD={xmlMode:!0};function LD(n,e){return e===void 0&&(e=RD),(0,OD.getFeed)(qw(n,e))}cn.parseFeed=LD;cn.DomUtils=Bw(qf())});var Ww=we((KV,zw)=>{"use strict";F();zw.exports=n=>{if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}});var $w=we(fm=>{"use strict";F();Object.defineProperty(fm,"__esModule",{value:!0});function Vw(n){return Object.prototype.toString.call(n)==="[object Object]"}function ID(n){var e,t;return Vw(n)===!1?!1:(e=n.constructor,e===void 0?!0:(t=e.prototype,!(Vw(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}fm.isPlainObject=ID});var Xw=we((ZV,Yw)=>{"use strict";F();var ND=function(e){return DD(e)&&!BD(e)};function DD(n){return!!n&&typeof n=="object"}function BD(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||UD(n)}var FD=typeof Symbol=="function"&&Symbol.for,HD=FD?Symbol.for("react.element"):60103;function UD(n){return n.$$typeof===HD}function jD(n){return Array.isArray(n)?[]:{}}function Cl(n,e){return e.clone!==!1&&e.isMergeableObject(n)?Ka(jD(n),n,e):n}function qD(n,e,t){return n.concat(e).map(function(r){return Cl(r,t)})}function GD(n,e){if(!e.customMerge)return Ka;var t=e.customMerge(n);return typeof t=="function"?t:Ka}function zD(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter(function(e){return n.propertyIsEnumerable(e)}):[]}function Jw(n){return Object.keys(n).concat(zD(n))}function Kw(n,e){try{return e in n}catch{return!1}}function WD(n,e){return Kw(n,e)&&!(Object.hasOwnProperty.call(n,e)&&Object.propertyIsEnumerable.call(n,e))}function VD(n,e,t){var r={};return t.isMergeableObject(n)&&Jw(n).forEach(function(i){r[i]=Cl(n[i],t)}),Jw(e).forEach(function(i){WD(n,i)||(Kw(n,i)&&t.isMergeableObject(e[i])?r[i]=GD(i,t)(n[i],e[i],t):r[i]=Cl(e[i],t))}),r}function Ka(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||qD,t.isMergeableObject=t.isMergeableObject||ND,t.cloneUnlessOtherwiseSpecified=Cl;var r=Array.isArray(e),i=Array.isArray(n),s=r===i;return s?r?t.arrayMerge(n,e,t):VD(n,e,t):Cl(e,t)}Ka.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Ka(r,i,t)},{})};var $D=Ka;Yw.exports=$D});var Zw=we((Qw,Gf)=>{F();(function(n,e){typeof define=="function"&&define.amd?define([],e):typeof Gf=="object"&&Gf.exports?Gf.exports=e():n.parseSrcset=e()})(Qw,function(){return function(n){function e(E){return E===" "||E==="	"||E===`
`||E==="\f"||E==="\r"}function t(E){var A,_=E.exec(n.substring(h));if(_)return A=_[0],h+=A.length,A}for(var r=n.length,i=/^[ \t\n\r\u000c]+/,s=/^[, \t\n\r\u000c]+/,o=/^[^ \t\n\r\u000c]+/,c=/[,]+$/,d=/^\d+$/,u=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,p,m,b,v,y,h=0,l=[];;){if(t(s),h>=r)return l;p=t(o),m=[],p.slice(-1)===","?(p=p.replace(c,""),w()):g()}function g(){for(t(i),b="",v="in descriptor";;){if(y=n.charAt(h),v==="in descriptor")if(e(y))b&&(m.push(b),b="",v="after descriptor");else if(y===","){h+=1,b&&m.push(b),w();return}else if(y==="(")b=b+y,v="in parens";else if(y===""){b&&m.push(b),w();return}else b=b+y;else if(v==="in parens")if(y===")")b=b+y,v="in descriptor";else if(y===""){m.push(b),w();return}else b=b+y;else if(v==="after descriptor"&&!e(y))if(y===""){w();return}else v="in descriptor",h-=1;h+=1}}function w(){var E=!1,A,_,C,I,T={},x,D,L,H,G;for(I=0;I<m.length;I++)x=m[I],D=x[x.length-1],L=x.substring(0,x.length-1),H=parseInt(L,10),G=parseFloat(L),d.test(L)&&D==="w"?((A||_)&&(E=!0),H===0?E=!0:A=H):u.test(L)&&D==="x"?((A||_||C)&&(E=!0),G<0?E=!0:_=G):d.test(L)&&D==="h"?((C||_)&&(E=!0),H===0?E=!0:C=H):E=!0;E?console&&console.log&&console.log("Invalid srcset descriptor found in '"+n+"' at '"+x+"'."):(T.url=p,A&&(T.w=A),_&&(T.d=_),C&&(T.h=C),l.push(T))}}})});var tE=we((n$,hm)=>{F();var xn=String,eE=function(){return{isColorSupported:!1,reset:xn,bold:xn,dim:xn,italic:xn,underline:xn,inverse:xn,hidden:xn,strikethrough:xn,black:xn,red:xn,green:xn,yellow:xn,blue:xn,magenta:xn,cyan:xn,white:xn,gray:xn,bgBlack:xn,bgRed:xn,bgGreen:xn,bgYellow:xn,bgBlue:xn,bgMagenta:xn,bgCyan:xn,bgWhite:xn}};hm.exports=eE();hm.exports.createColors=eE});var pm=we(()=>{F()});var zf=we((a$,iE)=>{"use strict";F();var nE=tE(),rE=pm(),Tl=class n extends Error{constructor(e,t,r,i,s,o){super(e),this.name="CssSyntaxError",this.reason=e,s&&(this.file=s),i&&(this.source=i),o&&(this.plugin=o),typeof t<"u"&&typeof r<"u"&&(typeof t=="number"?(this.line=t,this.column=r):(this.line=t.line,this.column=t.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,n)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=nE.isColorSupported),rE&&e&&(t=rE(t));let r=t.split(/\r?\n/),i=Math.max(this.line-3,0),s=Math.min(this.line+2,r.length),o=String(s).length,c,d;if(e){let{bold:u,gray:p,red:m}=nE.createColors(!0);c=b=>u(m(b)),d=b=>p(b)}else c=d=u=>u;return r.slice(i,s).map((u,p)=>{let m=i+1+p,b=" "+(" "+m).slice(-o)+" | ";if(m===this.line){let v=d(b.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return c(">")+d(b)+u+`
 `+v+c("^")}return" "+d(b)+u}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};iE.exports=Tl;Tl.default=Tl});var Wf=we((l$,gm)=>{"use strict";F();gm.exports.isClean=Symbol("isClean");gm.exports.my=Symbol("my")});var mm=we((d$,oE)=>{"use strict";F();var sE={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function JD(n){return n[0].toUpperCase()+n.slice(1)}var xl=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?r+=e.raws.afterName:i&&(r+=" "),e.nodes)this.block(e,r+i);else{let s=(e.raws.between||"")+(t?";":"");this.builder(r+i+s,e)}}beforeAfter(e,t){let r;e.type==="decl"?r=this.raw(e,null,"beforeDecl"):e.type==="comment"?r=this.raw(e,null,"beforeComment"):t==="before"?r=this.raw(e,null,"beforeRule"):r=this.raw(e,null,"beforeClose");let i=e.parent,s=0;for(;i&&i.type!=="root";)s+=1,i=i.parent;if(r.includes(`
`)){let o=this.raw(e,null,"indent");if(o.length)for(let c=0;c<s;c++)r+=o}return r}block(e,t){let r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start");let i;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let r=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let s=e.nodes[i],o=this.raw(s,"before");o&&this.builder(o),this.stringify(s,t!==i||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),i=e.prop+r+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,t,r){let i;if(r||(r=t),t&&(i=e.raws[t],typeof i<"u"))return i;let s=e.parent;if(r==="before"&&(!s||s.type==="root"&&s.first===e||s&&s.type==="document"))return"";if(!s)return sE[r];let o=e.root();if(o.rawCache||(o.rawCache={}),typeof o.rawCache[r]<"u")return o.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(e,r);{let c="raw"+JD(r);this[c]?i=this[c](o,e):o.walk(d=>{if(i=d.raws[t],typeof i<"u")return!1})}return typeof i>"u"&&(i=sE[r]),o.rawCache[r]=i,i}rawBeforeClose(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after<"u")return t=r.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk(r=>{if(r.type!=="decl"&&(t=r.raws.between,typeof t<"u"))return!1}),t}rawBeforeRule(e){let t;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&typeof r.raws.before<"u")return t=r.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(r=>{if(typeof r.raws.between<"u")return t=r.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length===0&&(t=r.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(r=>{let i=r.parent;if(i&&i!==e&&i.parent&&i.parent===e&&typeof r.raws.before<"u"){let s=r.raws.before.split(`
`);return t=s[s.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(t=r.raws.semicolon,typeof t<"u"))return!1}),t}rawValue(e,t){let r=e[t],i=e.raws[t];return i&&i.value===r?i.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};oE.exports=xl;xl.default=xl});var Pl=we((h$,aE)=>{"use strict";F();var KD=mm();function ym(n,e){new KD(e).stringify(n)}aE.exports=ym;ym.default=ym});var Ol=we((g$,uE)=>{"use strict";F();var{isClean:Vf,my:YD}=Wf(),XD=zf(),QD=mm(),ZD=Pl();function bm(n,e){let t=new n.constructor;for(let r in n){if(!Object.prototype.hasOwnProperty.call(n,r)||r==="proxyCache")continue;let i=n[r],s=typeof i;r==="parent"&&s==="object"?e&&(t[r]=e):r==="source"?t[r]=i:Array.isArray(i)?t[r]=i.map(o=>bm(o,t)):(s==="object"&&i!==null&&(i=bm(i)),t[r]=i)}return t}var Ml=class{constructor(e={}){this.raws={},this[Vf]=!1,this[YD]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let r of e[t])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=bm(this);for(let r in e)t[r]=e[r];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:r,start:i}=this.rangeBy(t);return this.source.input.error(e,{column:i.column,line:i.line},{column:r.column,line:r.line},t)}return new XD(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markDirty(){if(this[Vf]){this[Vf]=!1;let e=this;for(;e=e.parent;)e[Vf]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){t=this.toString();let i=t.indexOf(e.word);i!==-1&&(r=this.positionInside(i,t))}return r}positionInside(e,t){let r=t||this.toString(),i=this.source.start.column,s=this.source.start.line;for(let o=0;o<e;o++)r[o]===`
`?(i=1,s+=1):i+=1;return{column:i,line:s}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let i=this.toString(),s=i.indexOf(e.word);s!==-1&&(t=this.positionInside(s,i),r=this.positionInside(s+e.word.length,i))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return new QD().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let i of e)i===this?r=!0:r?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);r||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let r={},i=t==null;t=t||new Map;let s=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||o==="parent"||o==="proxyCache")continue;let c=this[o];if(Array.isArray(c))r[o]=c.map(d=>typeof d=="object"&&d.toJSON?d.toJSON(null,t):d);else if(typeof c=="object"&&c.toJSON)r[o]=c.toJSON(null,t);else if(o==="source"){let d=t.get(c.input);d==null&&(d=s,t.set(c.input,s),s++),r[o]={end:c.end,inputId:d,start:c.start}}else r[o]=c}return i&&(r.inputs=[...t.keys()].map(o=>o.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=ZD){e.stringify&&(e=e.stringify);let t="";return e(this,r=>{t+=r}),t}warn(e,t,r){let i={node:this};for(let s in r)i[s]=r[s];return e.warn(t,i)}get proxyOf(){return this}};uE.exports=Ml;Ml.default=Ml});var Rl=we((y$,lE)=>{"use strict";F();var eB=Ol(),kl=class extends eB{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};lE.exports=kl;kl.default=kl});var $f=we(()=>{F()});var Ll=we(()=>{F()});var Jf=we(()=>{F()});var dE=we((P$,cE)=>{F();var tB="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",nB=(n,e=21)=>(t=e)=>{let r="",i=t;for(;i--;)r+=n[Math.random()*n.length|0];return r},rB=(n=21)=>{let e="",t=n;for(;t--;)e+=tB[Math.random()*64|0];return e};cE.exports={nanoid:rB,customAlphabet:nB}});var Il=we(()=>{F()});var _m=we((L$,pE)=>{"use strict";F();var{SourceMapConsumer:fE,SourceMapGenerator:hE}=$f(),{existsSync:iB,readFileSync:sB}=Il(),{dirname:vm,join:oB}=Ll();function aB(n){return Buffer?Buffer.from(n,"base64").toString():window.atob(n)}var Nl=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,i=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=vm(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new fE(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,s=/^data:application\/json,/;if(i.test(e)||s.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(t.test(e)||r.test(e))return aB(e.substr(RegExp.lastMatch.length));let o=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+o)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),i=e.indexOf("*/",r);r>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,i)))}loadFile(e){if(this.root=vm(e),iB(e))return this.mapFile=e,sB(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let r=t(e);if(r){let i=this.loadFile(r);if(!i)throw new Error("Unable to load previous source map: "+r.toString());return i}}else{if(t instanceof fE)return hE.fromSourceMap(t).toString();if(t instanceof hE)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return e&&(r=oB(vm(e),r)),this.loadFile(r)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};pE.exports=Nl;Nl.default=Nl});var Dl=we((N$,bE)=>{"use strict";F();var{SourceMapConsumer:uB,SourceMapGenerator:lB}=$f(),{fileURLToPath:gE,pathToFileURL:Kf}=Jf(),{isAbsolute:Am,resolve:Sm}=Ll(),{nanoid:cB}=dE(),wm=pm(),mE=zf(),dB=_m(),Em=Symbol("fromOffsetCache"),fB=!!(uB&&lB),yE=!!(Sm&&Am),Ya=class{constructor(e,t={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!yE||/^\w+:\/\//.test(t.from)||Am(t.from)?this.file=t.from:this.file=Sm(t.from)),yE&&fB){let r=new dB(this.css,t);if(r.text){this.map=r;let i=r.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+cB(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,i={}){let s,o,c;if(t&&typeof t=="object"){let u=t,p=r;if(typeof u.offset=="number"){let m=this.fromOffset(u.offset);t=m.line,r=m.col}else t=u.line,r=u.column;if(typeof p.offset=="number"){let m=this.fromOffset(p.offset);o=m.line,c=m.col}else o=p.line,c=p.column}else if(!r){let u=this.fromOffset(t);t=u.line,r=u.col}let d=this.origin(t,r,o,c);return d?s=new mE(e,d.endLine===void 0?d.line:{column:d.column,line:d.line},d.endLine===void 0?d.column:{column:d.endColumn,line:d.endLine},d.source,d.file,i.plugin):s=new mE(e,o===void 0?t:{column:r,line:t},o===void 0?r:{column:c,line:o},this.css,this.file,i.plugin),s.input={column:r,endColumn:c,endLine:o,line:t,source:this.css},this.file&&(Kf&&(s.input.url=Kf(this.file).toString()),s.input.file=this.file),s}fromOffset(e){let t,r;if(this[Em])r=this[Em];else{let s=this.css.split(`
`);r=new Array(s.length);let o=0;for(let c=0,d=s.length;c<d;c++)r[c]=o,o+=s[c].length+1;this[Em]=r}t=r[r.length-1];let i=0;if(e>=t)i=r.length-1;else{let s=r.length-2,o;for(;i<s;)if(o=i+(s-i>>1),e<r[o])s=o-1;else if(e>=r[o+1])i=o+1;else{i=o;break}}return{col:e-r[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Sm(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,i){if(!this.map)return!1;let s=this.map.consumer(),o=s.originalPositionFor({column:t,line:e});if(!o.source)return!1;let c;typeof r=="number"&&(c=s.originalPositionFor({column:i,line:r}));let d;Am(o.source)?d=Kf(o.source):d=new URL(o.source,this.map.consumer().sourceRoot||Kf(this.map.mapFile));let u={column:o.column,endColumn:c&&c.column,endLine:c&&c.line,line:o.line,url:d.toString()};if(d.protocol==="file:")if(gE)u.file=gE(d);else throw new Error("file: protocol is not available in this PostCSS build");let p=s.sourceContentFor(o.source);return p&&(u.source=p),u}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};bE.exports=Ya;Ya.default=Ya;wm&&wm.registerInput&&wm.registerInput(Ya)});var Tm=we((B$,SE)=>{"use strict";F();var{SourceMapConsumer:_E,SourceMapGenerator:Yf}=$f(),{dirname:Xf,relative:wE,resolve:EE,sep:AE}=Ll(),{pathToFileURL:vE}=Jf(),hB=Dl(),pB=!!(_E&&Yf),gB=!!(Xf&&EE&&wE&&AE),Cm=class{constructor(e,t,r,i){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),r=e.root||Xf(e.file),i;this.mapOpts.sourcesContent===!1?(i=new _E(e.text),i.sourcesContent&&(i.sourcesContent=i.sourcesContent.map(()=>null))):i=e.consumer(),this.map.applySourceMap(i,t,this.toUrl(this.path(r)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),gB&&pB&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Yf.fromSourceMap(e)}else this.map=new Yf({file:this.outputFile()}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Yf({file:this.outputFile()});let e=1,t=1,r="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""},s,o;this.stringify(this.root,(c,d,u)=>{if(this.css+=c,d&&u!=="end"&&(i.generated.line=e,i.generated.column=t-1,d.source&&d.source.start?(i.source=this.sourcePath(d),i.original.line=d.source.start.line,i.original.column=d.source.start.column-1,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,this.map.addMapping(i))),s=c.match(/\n/g),s?(e+=s.length,o=c.lastIndexOf(`
`),t=c.length-o):t+=c.length,d&&u!=="start"){let p=d.parent||{raws:{}};(!(d.type==="decl"||d.type==="atrule"&&!d.nodes)||d!==p.last||p.raws.semicolon)&&(d.source&&d.source.end?(i.source=this.sourcePath(d),i.original.line=d.source.end.line,i.original.column=d.source.end.column-1,i.generated.line=e,i.generated.column=t-2,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,i.generated.line=e,i.generated.column=t-1,this.map.addMapping(i)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let r=this.opts.to?Xf(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(r=Xf(EE(r,this.mapOpts.annotation)));let i=wE(r,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new hB(this.css,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let i=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(i,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(vE){let r=vE(e).toString();return this.memoizedFileURLs.set(e,r),r}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;AE==="\\"&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}};SE.exports=Cm});var Fl=we((H$,CE)=>{"use strict";F();var mB=Ol(),Bl=class extends mB{constructor(e){super(e),this.type="comment"}};CE.exports=Bl;Bl.default=Bl});var co=we((j$,IE)=>{"use strict";F();var{isClean:TE,my:xE}=Wf(),PE=Rl(),ME=Fl(),yB=Ol(),OE,xm,Pm,kE;function RE(n){return n.map(e=>(e.nodes&&(e.nodes=RE(e.nodes)),delete e.source,e))}function LE(n){if(n[TE]=!1,n.proxyOf.nodes)for(let e of n.proxyOf.nodes)LE(e)}var Hi=class n extends yB{append(...e){for(let t of e){let r=this.normalize(t,this.last);for(let i of r)this.proxyOf.nodes.push(i)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),r,i;for(;this.indexes[t]<this.proxyOf.nodes.length&&(r=this.indexes[t],i=e(this.proxyOf.nodes[r],r),i!==!1);)this.indexes[t]+=1;return delete this.indexes[t],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...r)=>e[t](...r.map(i=>typeof i=="function"?(s,o)=>i(s.toProxy(),o):i)):t==="every"||t==="some"?r=>e[t]((i,...s)=>r(i.toProxy(),...s)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(r=>r.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r=this.index(e),i=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let o of i)this.proxyOf.nodes.splice(r+1,0,o);let s;for(let o in this.indexes)s=this.indexes[o],r<s&&(this.indexes[o]=s+i.length);return this.markDirty(),this}insertBefore(e,t){let r=this.index(e),i=r===0?"prepend":!1,s=this.normalize(t,this.proxyOf.nodes[r],i).reverse();r=this.index(e);for(let c of s)this.proxyOf.nodes.splice(r,0,c);let o;for(let c in this.indexes)o=this.indexes[c],r<=o&&(this.indexes[c]=o+s.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=RE(OE(e).nodes);else if(Array.isArray(e)){e=e.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new PE(e)]}else if(e.selector)e=[new xm(e)];else if(e.name)e=[new Pm(e)];else if(e.text)e=[new ME(e)];else throw new Error("Unknown node type in node creation");return e.map(i=>(i[xE]||n.rebuild(i),i=i.proxyOf,i.parent&&i.parent.removeChild(i),i[TE]&&LE(i),typeof i.raws.before>"u"&&t&&typeof t.raws.before<"u"&&(i.raws.before=t.raws.before.replace(/\S/g,"")),i.parent=this.proxyOf,i))}prepend(...e){e=e.reverse();for(let t of e){let r=this.normalize(t,this.first,"prepend").reverse();for(let i of r)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+r.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls(i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,r)=>{let i;try{i=e(t,r)}catch(s){throw t.addToError(s)}return i!==!1&&t.walk&&(i=t.walk(e)),i})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="atrule"&&e.test(r.name))return t(r,i)}):this.walk((r,i)=>{if(r.type==="atrule"&&r.name===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="atrule")return t(r,i)}))}walkComments(e){return this.walk((t,r)=>{if(t.type==="comment")return e(t,r)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="decl"&&e.test(r.prop))return t(r,i)}):this.walk((r,i)=>{if(r.type==="decl"&&r.prop===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="decl")return t(r,i)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="rule"&&e.test(r.selector))return t(r,i)}):this.walk((r,i)=>{if(r.type==="rule"&&r.selector===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="rule")return t(r,i)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};Hi.registerParse=n=>{OE=n};Hi.registerRule=n=>{xm=n};Hi.registerAtRule=n=>{Pm=n};Hi.registerRoot=n=>{kE=n};IE.exports=Hi;Hi.default=Hi;Hi.rebuild=n=>{n.type==="atrule"?Object.setPrototypeOf(n,Pm.prototype):n.type==="rule"?Object.setPrototypeOf(n,xm.prototype):n.type==="decl"?Object.setPrototypeOf(n,PE.prototype):n.type==="comment"?Object.setPrototypeOf(n,ME.prototype):n.type==="root"&&Object.setPrototypeOf(n,kE.prototype),n[xE]=!0,n.nodes&&n.nodes.forEach(e=>{Hi.rebuild(e)})}});var Qf=we((G$,BE)=>{"use strict";F();var bB=co(),NE,DE,Jo=class extends bB{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new NE(new DE,this,e).stringify()}};Jo.registerLazyResult=n=>{NE=n};Jo.registerProcessor=n=>{DE=n};BE.exports=Jo;Jo.default=Jo});var Mm=we((W$,HE)=>{"use strict";F();var FE={};HE.exports=function(e){FE[e]||(FE[e]=!0,typeof console<"u"&&console.warn&&console.warn(e))}});var Om=we(($$,UE)=>{"use strict";F();var Hl=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(let r in t)this[r]=t[r]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};UE.exports=Hl;Hl.default=Hl});var Zf=we((K$,jE)=>{"use strict";F();var vB=Om(),Ul=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new vB(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}};jE.exports=Ul;Ul.default=Ul});var VE=we((X$,WE)=>{"use strict";F();var km="'".charCodeAt(0),qE='"'.charCodeAt(0),eh="\\".charCodeAt(0),GE="/".charCodeAt(0),th=`
`.charCodeAt(0),jl=" ".charCodeAt(0),nh="\f".charCodeAt(0),rh="	".charCodeAt(0),ih="\r".charCodeAt(0),_B="[".charCodeAt(0),wB="]".charCodeAt(0),EB="(".charCodeAt(0),AB=")".charCodeAt(0),SB="{".charCodeAt(0),CB="}".charCodeAt(0),TB=";".charCodeAt(0),xB="*".charCodeAt(0),PB=":".charCodeAt(0),MB="@".charCodeAt(0),sh=/[\t\n\f\r "#'()/;[\\\]{}]/g,oh=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,OB=/.[\r\n"'(/\\]/,zE=/[\da-f]/i;WE.exports=function(e,t={}){let r=e.css.valueOf(),i=t.ignoreErrors,s,o,c,d,u,p,m,b,v,y,h=r.length,l=0,g=[],w=[];function E(){return l}function A(T){throw e.error("Unclosed "+T,l)}function _(){return w.length===0&&l>=h}function C(T){if(w.length)return w.pop();if(l>=h)return;let x=T?T.ignoreUnclosed:!1;switch(s=r.charCodeAt(l),s){case th:case jl:case rh:case ih:case nh:{o=l;do o+=1,s=r.charCodeAt(o);while(s===jl||s===th||s===rh||s===ih||s===nh);y=["space",r.slice(l,o)],l=o-1;break}case _B:case wB:case SB:case CB:case PB:case TB:case AB:{let D=String.fromCharCode(s);y=[D,D,l];break}case EB:{if(b=g.length?g.pop()[1]:"",v=r.charCodeAt(l+1),b==="url"&&v!==km&&v!==qE&&v!==jl&&v!==th&&v!==rh&&v!==nh&&v!==ih){o=l;do{if(p=!1,o=r.indexOf(")",o+1),o===-1)if(i||x){o=l;break}else A("bracket");for(m=o;r.charCodeAt(m-1)===eh;)m-=1,p=!p}while(p);y=["brackets",r.slice(l,o+1),l,o],l=o}else o=r.indexOf(")",l+1),d=r.slice(l,o+1),o===-1||OB.test(d)?y=["(","(",l]:(y=["brackets",d,l,o],l=o);break}case km:case qE:{c=s===km?"'":'"',o=l;do{if(p=!1,o=r.indexOf(c,o+1),o===-1)if(i||x){o=l+1;break}else A("string");for(m=o;r.charCodeAt(m-1)===eh;)m-=1,p=!p}while(p);y=["string",r.slice(l,o+1),l,o],l=o;break}case MB:{sh.lastIndex=l+1,sh.test(r),sh.lastIndex===0?o=r.length-1:o=sh.lastIndex-2,y=["at-word",r.slice(l,o+1),l,o],l=o;break}case eh:{for(o=l,u=!0;r.charCodeAt(o+1)===eh;)o+=1,u=!u;if(s=r.charCodeAt(o+1),u&&s!==GE&&s!==jl&&s!==th&&s!==rh&&s!==ih&&s!==nh&&(o+=1,zE.test(r.charAt(o)))){for(;zE.test(r.charAt(o+1));)o+=1;r.charCodeAt(o+1)===jl&&(o+=1)}y=["word",r.slice(l,o+1),l,o],l=o;break}default:{s===GE&&r.charCodeAt(l+1)===xB?(o=r.indexOf("*/",l+2)+1,o===0&&(i||x?o=r.length:A("comment")),y=["comment",r.slice(l,o+1),l,o],l=o):(oh.lastIndex=l+1,oh.test(r),oh.lastIndex===0?o=r.length-1:o=oh.lastIndex-2,y=["word",r.slice(l,o+1),l,o],g.push(y),l=o);break}}return l++,y}function I(T){w.push(T)}return{back:I,endOfFile:_,nextToken:C,position:E}}});var ah=we((Z$,JE)=>{"use strict";F();var $E=co(),Xa=class extends $E{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};JE.exports=Xa;Xa.default=Xa;$E.registerAtRule(Xa)});var Qa=we((tJ,QE)=>{"use strict";F();var KE=co(),YE,XE,fo=class extends KE{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let i=super.normalize(e);if(t){if(r==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let s of i)s.raws.before=t.raws.before}return i}removeChild(e,t){let r=this.index(e);return!t&&r===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new YE(new XE,this,e).stringify()}};fo.registerLazyResult=n=>{YE=n};fo.registerProcessor=n=>{XE=n};QE.exports=fo;fo.default=fo;KE.registerRoot(fo)});var Rm=we((rJ,ZE)=>{"use strict";F();var ql={comma(n){return ql.split(n,[","],!0)},space(n){let e=[" ",`
`,"	"];return ql.split(n,e)},split(n,e,t){let r=[],i="",s=!1,o=0,c=!1,d="",u=!1;for(let p of n)u?u=!1:p==="\\"?u=!0:c?p===d&&(c=!1):p==='"'||p==="'"?(c=!0,d=p):p==="("?o+=1:p===")"?o>0&&(o-=1):o===0&&e.includes(p)&&(s=!0),s?(i!==""&&r.push(i.trim()),i="",s=!1):i+=p;return(t||i!=="")&&r.push(i.trim()),r}};ZE.exports=ql;ql.default=ql});var uh=we((sJ,t6)=>{"use strict";F();var e6=co(),kB=Rm(),Za=class extends e6{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return kB.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};t6.exports=Za;Za.default=Za;e6.registerRule(Za)});var s6=we((aJ,i6)=>{"use strict";F();var RB=Rl(),LB=VE(),IB=Fl(),NB=ah(),DB=Qa(),n6=uh(),r6={empty:!0,space:!0};function BB(n){for(let e=n.length-1;e>=0;e--){let t=n[e],r=t[3]||t[2];if(r)return r}}var Lm=class{constructor(e){this.input=e,this.root=new DB,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new NB;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let r,i,s,o=!1,c=!1,d=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),r=e[0],r==="("||r==="["?u.push(r==="("?")":"]"):r==="{"&&u.length>0?u.push("}"):r===u[u.length-1]&&u.pop(),u.length===0)if(r===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(r==="{"){c=!0;break}else if(r==="}"){if(d.length>0){for(s=d.length-1,i=d[s];i&&i[0]==="space";)i=d[--s];i&&(t.source.end=this.getPosition(i[3]||i[2]),t.source.end.offset++)}this.end(e);break}else d.push(e);else d.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(d),d.length?(t.raws.afterName=this.spacesAndCommentsFromStart(d),this.raw(t,"params",d),o&&(e=d[d.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),c&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let r=0,i;for(let s=t-1;s>=0&&(i=e[s],!(i[0]!=="space"&&(r+=1,r===2)));s--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}colon(e){let t=0,r,i,s;for(let[o,c]of e.entries()){if(r=c,i=r[0],i==="("&&(t+=1),i===")"&&(t-=1),t===0&&i===":")if(!s)this.doubleColon(r);else{if(s[0]==="word"&&s[1]==="progid")continue;return o}s=r}return!1}comment(e){let t=new IB;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let i=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=i[2],t.raws.left=i[1],t.raws.right=i[3]}}createTokenizer(){this.tokenizer=LB(this.input)}decl(e,t){let r=new RB;this.init(r,e[0][2]);let i=e[e.length-1];for(i[0]===";"&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]||BB(e)),r.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let u=e[0][0];if(u===":"||u==="space"||u==="comment")break;r.prop+=e.shift()[1]}r.raws.between="";let s;for(;e.length;)if(s=e.shift(),s[0]===":"){r.raws.between+=s[1];break}else s[0]==="word"&&/\w/.test(s[1])&&this.unknownWord([s]),r.raws.between+=s[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let o=[],c;for(;e.length&&(c=e[0][0],!(c!=="space"&&c!=="comment"));)o.push(e.shift());this.precheckMissedSemicolon(e);for(let u=e.length-1;u>=0;u--){if(s=e[u],s[1].toLowerCase()==="!important"){r.important=!0;let p=this.stringFrom(e,u);p=this.spacesFromEnd(e)+p,p!==" !important"&&(r.raws.important=p);break}else if(s[1].toLowerCase()==="important"){let p=e.slice(0),m="";for(let b=u;b>0;b--){let v=p[b][0];if(m.trim().indexOf("!")===0&&v!=="space")break;m=p.pop()[1]+m}m.trim().indexOf("!")===0&&(r.important=!0,r.raws.important=m,e=p)}if(s[0]!=="space"&&s[0]!=="comment")break}e.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(r.raws.between+=o.map(u=>u[1]).join(""),o=[]),this.raw(r,"value",o.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new n6;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,r=null,i=!1,s=null,o=[],c=e[1].startsWith("--"),d=[],u=e;for(;u;){if(r=u[0],d.push(u),r==="("||r==="[")s||(s=u),o.push(r==="("?")":"]");else if(c&&i&&r==="{")s||(s=u),o.push("}");else if(o.length===0)if(r===";")if(i){this.decl(d,c);return}else break;else if(r==="{"){this.rule(d);return}else if(r==="}"){this.tokenizer.back(d.pop()),t=!0;break}else r===":"&&(i=!0);else r===o[o.length-1]&&(o.pop(),o.length===0&&(s=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(s),t&&i){if(!c)for(;d.length&&(u=d[d.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(d.pop());this.decl(d,c)}else this.unknownWord(d)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,i){let s,o,c=r.length,d="",u=!0,p,m;for(let b=0;b<c;b+=1)s=r[b],o=s[0],o==="space"&&b===c-1&&!i?u=!1:o==="comment"?(m=r[b-1]?r[b-1][0]:"empty",p=r[b+1]?r[b+1][0]:"empty",!r6[m]&&!r6[p]?d.slice(-1)===","?u=!1:d+=s[1]:u=!1):d+=s[1];if(!u){let b=r.reduce((v,y)=>v+y[1],"");e.raws[t]={raw:b,value:d}}e[t]=d}rule(e){e.pop();let t=new n6;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],t==="space");)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let i=t;i<e.length;i++)r+=e[i][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};i6.exports=Lm});var ch=we((lJ,o6)=>{"use strict";F();var FB=co(),HB=s6(),UB=Dl();function lh(n,e){let t=new UB(n,e),r=new HB(t);try{r.parse()}catch(i){throw i}return r.root}o6.exports=lh;lh.default=lh;FB.registerParse(lh)});var Dm=we((fJ,c6)=>{"use strict";F();var{isClean:ls,my:jB}=Wf(),qB=Tm(),GB=Pl(),zB=co(),WB=Qf(),dJ=Mm(),a6=Zf(),VB=ch(),$B=Qa(),JB={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},KB={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},YB={Once:!0,postcssPlugin:!0,prepare:!0},eu=0;function Gl(n){return typeof n=="object"&&typeof n.then=="function"}function l6(n){let e=!1,t=JB[n.type];return n.type==="decl"?e=n.prop.toLowerCase():n.type==="atrule"&&(e=n.name.toLowerCase()),e&&n.append?[t,t+"-"+e,eu,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:n.append?[t,eu,t+"Exit"]:[t,t+"Exit"]}function u6(n){let e;return n.type==="document"?e=["Document",eu,"DocumentExit"]:n.type==="root"?e=["Root",eu,"RootExit"]:e=l6(n),{eventIndex:0,events:e,iterator:0,node:n,visitorIndex:0,visitors:[]}}function Im(n){return n[ls]=!1,n.nodes&&n.nodes.forEach(e=>Im(e)),n}var Nm={},ho=class n{constructor(e,t,r){this.stringified=!1,this.processed=!1;let i;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))i=Im(t);else if(t instanceof n||t instanceof a6)i=Im(t.root),t.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=t.map);else{let s=VB;r.syntax&&(s=r.syntax.parse),r.parser&&(s=r.parser),s.parse&&(s=s.parse);try{i=s(t,r)}catch(o){this.processed=!0,this.error=o}i&&!i[jB]&&zB.rebuild(i)}this.result=new a6(e,i,r),this.helpers={...Nm,postcss:Nm,result:this.result},this.plugins=this.processor.plugins.map(s=>typeof s=="object"&&s.prepare?{...s,...s.prepare(this.result)}:s)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=r.postcssPlugin,e.setMessage()):r.postcssVersion}catch(i){console&&console.error&&console.error(i)}return e}prepareVisitors(){this.listeners={};let e=(t,r,i)=>{this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push([t,i])};for(let t of this.plugins)if(typeof t=="object")for(let r in t){if(!KB[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!YB[r])if(typeof t[r]=="object")for(let i in t[r])i==="*"?e(t,r,t[r][i]):e(t,r+"-"+i.toLowerCase(),t[r][i]);else typeof t[r]=="function"&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(Gl(r))try{await r}catch(i){throw this.handleError(i)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[ls];){e[ls]=!0;let t=[u6(e)];for(;t.length>0;){let r=this.visitTick(t);if(Gl(r))try{await r}catch(i){let s=t[t.length-1].node;throw this.handleError(i,s)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let i=e.nodes.map(s=>r(s,this.helpers));await Promise.all(i)}else await r(e,this.helpers)}catch(i){throw this.handleError(i)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(r=>e.Once(r,this.helpers));return Gl(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=GB;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let i=new qB(t,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(Gl(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[ls];)e[ls]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,i]of e){this.result.lastPlugin=r;let s;try{s=i(t,this.helpers)}catch(o){throw this.handleError(o,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(Gl(s))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:i}=t;if(r.type!=="root"&&r.type!=="document"&&!r.parent){e.pop();return}if(i.length>0&&t.visitorIndex<i.length){let[o,c]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=o;try{return c(r.toProxy(),this.helpers)}catch(d){throw this.handleError(d,r)}}if(t.iterator!==0){let o=t.iterator,c;for(;c=r.nodes[r.indexes[o]];)if(r.indexes[o]+=1,!c[ls]){c[ls]=!0,e.push(u6(c));return}t.iterator=0,delete r.indexes[o]}let s=t.events;for(;t.eventIndex<s.length;){let o=s[t.eventIndex];if(t.eventIndex+=1,o===eu){r.nodes&&r.nodes.length&&(r[ls]=!0,t.iterator=r.getIterator());return}else if(this.listeners[o]){t.visitors=this.listeners[o];return}}e.pop()}walkSync(e){e[ls]=!0;let t=l6(e);for(let r of t)if(r===eu)e.nodes&&e.each(i=>{i[ls]||this.walkSync(i)});else{let i=this.listeners[r];if(i&&this.visitSync(i,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};ho.registerPostcss=n=>{Nm=n};c6.exports=ho;ho.default=ho;$B.registerLazyResult(ho);WB.registerLazyResult(ho)});var f6=we((gJ,d6)=>{"use strict";F();var XB=Tm(),QB=Pl(),pJ=Mm(),ZB=ch(),eF=Zf(),zl=class{constructor(e,t,r){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;let i,s=QB;this.result=new eF(this._processor,i,this._opts),this.result.css=t;let o=this;Object.defineProperty(this.result,"root",{get(){return o.root}});let c=new XB(s,i,this._opts,t);if(c.isMap()){let[d,u]=c.generate();d&&(this.result.css=d),u&&(this.result.map=u)}}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=ZB;try{e=t(this._css,this._opts)}catch(r){this.error=r}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};d6.exports=zl;zl.default=zl});var p6=we((yJ,h6)=>{"use strict";F();var tF=f6(),nF=Dm(),rF=Qf(),iF=Qa(),Ko=class{constructor(e=[]){this.version="8.4.31",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(r.postcss===!0?r=r():r.postcss&&(r=r.postcss),typeof r=="object"&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if(typeof r=="object"&&r.postcssPlugin)t.push(r);else if(typeof r=="function")t.push(r);else if(!(typeof r=="object"&&(r.parse||r.stringify)))throw new Error(r+" is not a PostCSS plugin");return t}process(e,t={}){return this.plugins.length===0&&typeof t.parser>"u"&&typeof t.stringifier>"u"&&typeof t.syntax>"u"?new tF(this,e,t):new nF(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};h6.exports=Ko;Ko.default=Ko;iF.registerProcessor(Ko);rF.registerProcessor(Ko)});var m6=we((vJ,g6)=>{"use strict";F();var sF=Rl(),oF=_m(),aF=Fl(),uF=ah(),lF=Dl(),cF=Qa(),dF=uh();function Wl(n,e){if(Array.isArray(n))return n.map(i=>Wl(i));let{inputs:t,...r}=n;if(t){e=[];for(let i of t){let s={...i,__proto__:lF.prototype};s.map&&(s.map={...s.map,__proto__:oF.prototype}),e.push(s)}}if(r.nodes&&(r.nodes=n.nodes.map(i=>Wl(i,e))),r.source){let{inputId:i,...s}=r.source;r.source=s,i!=null&&(r.source.input=e[i])}if(r.type==="root")return new cF(r);if(r.type==="decl")return new sF(r);if(r.type==="rule")return new dF(r);if(r.type==="comment")return new aF(r);if(r.type==="atrule")return new uF(r);throw new Error("Unknown node type: "+n.type)}g6.exports=Wl;Wl.default=Wl});var S6=we((wJ,A6)=>{"use strict";F();var fF=zf(),y6=Rl(),hF=Dm(),pF=co(),Bm=p6(),gF=Pl(),mF=m6(),b6=Qf(),yF=Om(),v6=Fl(),_6=ah(),bF=Zf(),vF=Dl(),_F=ch(),wF=Rm(),w6=uh(),E6=Qa(),EF=Ol();function mn(...n){return n.length===1&&Array.isArray(n[0])&&(n=n[0]),new Bm(n)}mn.plugin=function(e,t){let r=!1;function i(...o){console&&console.warn&&!r&&(r=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let c=t(...o);return c.postcssPlugin=e,c.postcssVersion=new Bm().version,c}let s;return Object.defineProperty(i,"postcss",{get(){return s||(s=i()),s}}),i.process=function(o,c,d){return mn([i(d)]).process(o,c)},i};mn.stringify=gF;mn.parse=_F;mn.fromJSON=mF;mn.list=wF;mn.comment=n=>new v6(n);mn.atRule=n=>new _6(n);mn.decl=n=>new y6(n);mn.rule=n=>new w6(n);mn.root=n=>new E6(n);mn.document=n=>new b6(n);mn.CssSyntaxError=fF;mn.Declaration=y6;mn.Container=pF;mn.Processor=Bm;mn.Document=b6;mn.Comment=v6;mn.Warning=yF;mn.AtRule=_6;mn.Result=bF;mn.Input=vF;mn.Rule=w6;mn.Root=E6;mn.Node=EF;hF.registerPostcss(mn);A6.exports=mn;mn.default=mn});var Fm=we((AJ,P6)=>{F();var AF=Gw(),C6=Ww(),{isPlainObject:SF}=$w(),T6=Xw(),CF=Zw(),{parse:TF}=S6(),xF=["img","audio","video","picture","svg","object","map","iframe","embed"],PF=["script","style"];function Vl(n,e){n&&Object.keys(n).forEach(function(t){e(n[t],t)})}function Ns(n,e){return{}.hasOwnProperty.call(n,e)}function x6(n,e){let t=[];return Vl(n,function(r){e(r)&&t.push(r)}),t}function MF(n){for(let e in n)if(Ns(n,e))return!1;return!0}function OF(n){return n.map(function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")}).join(", ")}P6.exports=$l;var kF=/^[^\0\t\n\f\r /<=>]+$/;function $l(n,e,t){if(n==null)return"";typeof n=="number"&&(n=n.toString());let r="",i="";function s(q,X){let Z=this;this.tag=q,this.attribs=X||{},this.tagPosition=r.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(l.length){let $=l[l.length-1];$.text+=Z.text}},this.updateParentNodeMediaChildren=function(){l.length&&xF.includes(this.tag)&&l[l.length-1].mediaChildren.push(this.tag)}}e=Object.assign({},$l.defaults,e),e.parser=Object.assign({},RF,e.parser);let o=function(q){return e.allowedTags===!1||(e.allowedTags||[]).indexOf(q)>-1};PF.forEach(function(q){o(q)&&!e.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${q}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});let c=e.nonTextTags||["script","style","textarea","option"],d,u;e.allowedAttributes&&(d={},u={},Vl(e.allowedAttributes,function(q,X){d[X]=[];let Z=[];q.forEach(function($){typeof $=="string"&&$.indexOf("*")>=0?Z.push(C6($).replace(/\\\*/g,".*")):d[X].push($)}),Z.length&&(u[X]=new RegExp("^("+Z.join("|")+")$"))}));let p={},m={},b={};Vl(e.allowedClasses,function(q,X){if(d&&(Ns(d,X)||(d[X]=[]),d[X].push("class")),p[X]=q,Array.isArray(q)){let Z=[];p[X]=[],b[X]=[],q.forEach(function($){typeof $=="string"&&$.indexOf("*")>=0?Z.push(C6($).replace(/\\\*/g,".*")):$ instanceof RegExp?b[X].push($):p[X].push($)}),Z.length&&(m[X]=new RegExp("^("+Z.join("|")+")$"))}});let v={},y;Vl(e.transformTags,function(q,X){let Z;typeof q=="function"?Z=q:typeof q=="string"&&(Z=$l.simpleTransform(q)),X==="*"?y=Z:v[X]=Z});let h,l,g,w,E,A,_=!1;I();let C=new AF.Parser({onopentag:function(q,X){if(e.enforceHtmlBoundary&&q==="html"&&I(),E){A++;return}let Z=new s(q,X);l.push(Z);let $=!1,ue=!!Z.text,fe;if(Ns(v,q)&&(fe=v[q](q,X),Z.attribs=X=fe.attribs,fe.text!==void 0&&(Z.innerText=fe.text),q!==fe.tagName&&(Z.name=q=fe.tagName,w[h]=fe.tagName)),y&&(fe=y(q,X),Z.attribs=X=fe.attribs,q!==fe.tagName&&(Z.name=q=fe.tagName,w[h]=fe.tagName)),(!o(q)||e.disallowedTagsMode==="recursiveEscape"&&!MF(g)||e.nestingLimit!=null&&h>=e.nestingLimit)&&($=!0,g[h]=!0,e.disallowedTagsMode==="discard"&&c.indexOf(q)!==-1&&(E=!0,A=1),g[h]=!0),h++,$){if(e.disallowedTagsMode==="discard")return;i=r,r=""}r+="<"+q,q==="script"&&(e.allowedScriptHostnames||e.allowedScriptDomains)&&(Z.innerText=""),(!d||Ns(d,q)||d["*"])&&Vl(X,function(he,Se){if(!kF.test(Se)){delete Z.attribs[Se];return}if(he===""&&(e.nonBooleanAttributes.includes(Se)||e.nonBooleanAttributes.includes("*"))){delete Z.attribs[Se];return}let V=!1;if(!d||Ns(d,q)&&d[q].indexOf(Se)!==-1||d["*"]&&d["*"].indexOf(Se)!==-1||Ns(u,q)&&u[q].test(Se)||u["*"]&&u["*"].test(Se))V=!0;else if(d&&d[q]){for(let O of d[q])if(SF(O)&&O.name&&O.name===Se){V=!0;let M="";if(O.multiple===!0){let P=he.split(" ");for(let N of P)O.values.indexOf(N)!==-1&&(M===""?M=N:M+=" "+N)}else O.values.indexOf(he)>=0&&(M=he);he=M}}if(V){if(e.allowedSchemesAppliedToAttributes.indexOf(Se)!==-1&&x(q,he)){delete Z.attribs[Se];return}if(q==="script"&&Se==="src"){let O=!0;try{let M=D(he);if(e.allowedScriptHostnames||e.allowedScriptDomains){let P=(e.allowedScriptHostnames||[]).find(function(U){return U===M.url.hostname}),N=(e.allowedScriptDomains||[]).find(function(U){return M.url.hostname===U||M.url.hostname.endsWith(`.${U}`)});O=P||N}}catch{O=!1}if(!O){delete Z.attribs[Se];return}}if(q==="iframe"&&Se==="src"){let O=!0;try{let M=D(he);if(M.isRelativeUrl)O=Ns(e,"allowIframeRelativeUrls")?e.allowIframeRelativeUrls:!e.allowedIframeHostnames&&!e.allowedIframeDomains;else if(e.allowedIframeHostnames||e.allowedIframeDomains){let P=(e.allowedIframeHostnames||[]).find(function(U){return U===M.url.hostname}),N=(e.allowedIframeDomains||[]).find(function(U){return M.url.hostname===U||M.url.hostname.endsWith(`.${U}`)});O=P||N}}catch{O=!1}if(!O){delete Z.attribs[Se];return}}if(Se==="srcset")try{let O=CF(he);if(O.forEach(function(M){x("srcset",M.url)&&(M.evil=!0)}),O=x6(O,function(M){return!M.evil}),O.length)he=OF(x6(O,function(M){return!M.evil})),Z.attribs[Se]=he;else{delete Z.attribs[Se];return}}catch{delete Z.attribs[Se];return}if(Se==="class"){let O=p[q],M=p["*"],P=m[q],N=b[q],U=m["*"],J=[P,U].concat(N).filter(function(te){return te});if(O&&M?he=j(he,T6(O,M),J):he=j(he,O||M,J),!he.length){delete Z.attribs[Se];return}}if(Se==="style"){if(e.parseStyleAttributes)try{let O=TF(q+" {"+he+"}"),M=L(O,e.allowedStyles);if(he=H(M),he.length===0){delete Z.attribs[Se];return}}catch{typeof window<"u"&&console.warn('Failed to parse "'+q+" {"+he+`}", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547`),delete Z.attribs[Se];return}else if(e.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.")}r+=" "+Se,he&&he.length&&(r+='="'+T(he,!0)+'"')}else delete Z.attribs[Se]}),e.selfClosing.indexOf(q)!==-1?r+=" />":(r+=">",Z.innerText&&!ue&&!e.textFilter&&(r+=T(Z.innerText),_=!0)),$&&(r=i+T(r),i="")},ontext:function(q){if(E)return;let X=l[l.length-1],Z;if(X&&(Z=X.tag,q=X.innerText!==void 0?X.innerText:q),e.disallowedTagsMode==="discard"&&(Z==="script"||Z==="style"))r+=q;else{let $=T(q,!1);e.textFilter&&!_?r+=e.textFilter($,Z):_||(r+=$)}if(l.length){let $=l[l.length-1];$.text+=q}},onclosetag:function(q,X){if(E)if(A--,!A)E=!1;else return;let Z=l.pop();if(!Z)return;if(Z.tag!==q){l.push(Z);return}E=e.enforceHtmlBoundary?q==="html":!1,h--;let $=g[h];if($){if(delete g[h],e.disallowedTagsMode==="discard"){Z.updateParentNodeText();return}i=r,r=""}if(w[h]&&(q=w[h],delete w[h]),e.exclusiveFilter&&e.exclusiveFilter(Z)){r=r.substr(0,Z.tagPosition);return}if(Z.updateParentNodeMediaChildren(),Z.updateParentNodeText(),e.selfClosing.indexOf(q)!==-1||X&&!o(q)&&["escape","recursiveEscape"].indexOf(e.disallowedTagsMode)>=0){$&&(r=i,i="");return}r+="</"+q+">",$&&(r=i+T(r),i=""),_=!1}},e.parser);return C.write(n),C.end(),r;function I(){r="",h=0,l=[],g={},w={},E=!1,A=0}function T(q,X){return typeof q!="string"&&(q=q+""),e.parser.decodeEntities&&(q=q.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),X&&(q=q.replace(/"/g,"&quot;"))),q=q.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),X&&(q=q.replace(/"/g,"&quot;")),q}function x(q,X){for(X=X.replace(/[\x00-\x20]+/g,"");;){let ue=X.indexOf("<!--");if(ue===-1)break;let fe=X.indexOf("-->",ue+4);if(fe===-1)break;X=X.substring(0,ue)+X.substring(fe+3)}let Z=X.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!Z)return X.match(/^[/\\]{2}/)?!e.allowProtocolRelative:!1;let $=Z[1].toLowerCase();return Ns(e.allowedSchemesByTag,q)?e.allowedSchemesByTag[q].indexOf($)===-1:!e.allowedSchemes||e.allowedSchemes.indexOf($)===-1}function D(q){if(q=q.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),q.startsWith("relative:"))throw new Error("relative: exploit attempt");let X="relative://relative-site";for(let ue=0;ue<100;ue++)X+=`/${ue}`;let Z=new URL(q,X);return{isRelativeUrl:Z&&Z.hostname==="relative-site"&&Z.protocol==="relative:",url:Z}}function L(q,X){if(!X)return q;let Z=q.nodes[0],$;return X[Z.selector]&&X["*"]?$=T6(X[Z.selector],X["*"]):$=X[Z.selector]||X["*"],$&&(q.nodes[0].nodes=Z.nodes.reduce(G($),[])),q}function H(q){return q.nodes[0].nodes.reduce(function(X,Z){return X.push(`${Z.prop}:${Z.value}${Z.important?" !important":""}`),X},[]).join(";")}function G(q){return function(X,Z){return Ns(q,Z.prop)&&q[Z.prop].some(function(ue){return ue.test(Z.value)})&&X.push(Z),X}}function j(q,X,Z){return X?(q=q.split(/\s+/),q.filter(function($){return X.indexOf($)!==-1||Z.some(function(ue){return ue.test($)})}).join(" ")):q}}var RF={decodeEntities:!0};$l.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0};$l.simpleTransform=function(n,e,t){return t=t===void 0?!0:t,e=e||{},function(r,i){let s;if(t)for(s in e)i[s]=e[s];else i=e;return{tagName:n,attribs:i}}}});var Pn=we((O6,dh)=>{F();(function(n,e){"use strict";typeof define=="function"&&define.amd?define(e):typeof dh=="object"&&dh.exports?dh.exports=e():n.log=e()})(O6,function(){"use strict";var n=function(){},e="undefined",t=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(y,h){var l=y[h];if(typeof l.bind=="function")return l.bind(y);try{return Function.prototype.bind.call(l,y)}catch{return function(){return Function.prototype.apply.apply(l,[y,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(y){return y==="debug"&&(y="log"),typeof console===e?!1:y==="trace"&&t?s:console[y]!==void 0?i(console,y):console.log!==void 0?i(console,"log"):n}function c(y,h){for(var l=0;l<r.length;l++){var g=r[l];this[g]=l<y?n:this.methodFactory(g,y,h)}this.log=this.debug}function d(y,h,l){return function(){typeof console!==e&&(c.call(this,h,l),this[y].apply(this,arguments))}}function u(y,h,l){return o(y)||d.apply(this,arguments)}function p(y,h,l){var g=this,w;h=h??"WARN";var E="loglevel";typeof y=="string"?E+=":"+y:typeof y=="symbol"&&(E=void 0);function A(T){var x=(r[T]||"silent").toUpperCase();if(!(typeof window===e||!E)){try{window.localStorage[E]=x;return}catch{}try{window.document.cookie=encodeURIComponent(E)+"="+x+";"}catch{}}}function _(){var T;if(!(typeof window===e||!E)){try{T=window.localStorage[E]}catch{}if(typeof T===e)try{var x=window.document.cookie,D=x.indexOf(encodeURIComponent(E)+"=");D!==-1&&(T=/^([^;]+)/.exec(x.slice(D))[1])}catch{}return g.levels[T]===void 0&&(T=void 0),T}}function C(){if(!(typeof window===e||!E)){try{window.localStorage.removeItem(E);return}catch{}try{window.document.cookie=encodeURIComponent(E)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}g.name=y,g.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},g.methodFactory=l||u,g.getLevel=function(){return w},g.setLevel=function(T,x){if(typeof T=="string"&&g.levels[T.toUpperCase()]!==void 0&&(T=g.levels[T.toUpperCase()]),typeof T=="number"&&T>=0&&T<=g.levels.SILENT){if(w=T,x!==!1&&A(T),c.call(g,T,y),typeof console===e&&T<g.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+T},g.setDefaultLevel=function(T){h=T,_()||g.setLevel(T,!1)},g.resetLevel=function(){g.setLevel(h,!1),C()},g.enableAll=function(T){g.setLevel(g.levels.TRACE,T)},g.disableAll=function(T){g.setLevel(g.levels.SILENT,T)};var I=_();I==null&&(I=h),g.setLevel(I,!1)}var m=new p,b={};m.getLogger=function(h){if(typeof h!="symbol"&&typeof h!="string"||h==="")throw new TypeError("You must supply a name when creating a logger.");var l=b[h];return l||(l=b[h]=new p(h,m.getLevel(),m.methodFactory)),l};var v=typeof window!==e?window.log:void 0;return m.noConflict=function(){return typeof window!==e&&window.log===m&&(window.log=v),m},m.getLoggers=function(){return b},m.default=m,m})});var po=we((RJ,R6)=>{F();function Um(n,e,t){var r,i,s,o,c;e==null&&(e=100);function d(){var p=Date.now()-o;p<e&&p>=0?r=setTimeout(d,e-p):(r=null,t||(c=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var p=t&&!r;return r||(r=setTimeout(d,e)),p&&(c=n.apply(s,i),s=i=null),c};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(c=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}Um.debounce=Um;R6.exports=Um});var K6=we((IK,J6)=>{"use strict";F();var WF={},VF=WF.hasOwnProperty,$F=function(e,t){if(!e)return t;var r={};for(var i in t)r[i]=VF.call(e,i)?e[i]:t[i];return r},JF=/[ -,\.\/:-@\[-\^`\{-~]/,KF=/[ -,\.\/:-@\[\]\^`\{-~]/,YF=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,Wm=function n(e,t){t=$F(t,n.options),t.quotes!="single"&&t.quotes!="double"&&(t.quotes="single");for(var r=t.quotes=="double"?'"':"'",i=t.isIdentifier,s=e.charAt(0),o="",c=0,d=e.length;c<d;){var u=e.charAt(c++),p=u.charCodeAt(),m=void 0;if(p<32||p>126){if(p>=55296&&p<=56319&&c<d){var b=e.charCodeAt(c++);(b&64512)==56320?p=((p&1023)<<10)+(b&1023)+65536:c--}m="\\"+p.toString(16).toUpperCase()+" "}else t.escapeEverything?JF.test(u)?m="\\"+u:m="\\"+p.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(u)?m="\\"+p.toString(16).toUpperCase()+" ":u=="\\"||!i&&(u=='"'&&r==u||u=="'"&&r==u)||i&&KF.test(u)?m="\\"+u:m=u;o+=m}return i&&(/^-[-\d]/.test(o)?o="\\-"+o.slice(1):/\d/.test(s)&&(o="\\3"+s+" "+o.slice(1))),o=o.replace(YF,function(v,y,h){return y&&y.length%2?v:(y||"")+h}),!i&&t.wrap?r+o+r:o};Wm.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};Wm.version="3.0.0";J6.exports=Wm});var vh=we((ru,Ql)=>{F();(function(){var n,e="4.17.21",t=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",s="Invalid `variable` option passed into `_.template`",o="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",u=1,p=2,m=4,b=1,v=2,y=1,h=2,l=4,g=8,w=16,E=32,A=64,_=128,C=256,I=512,T=30,x="...",D=800,L=16,H=1,G=2,j=3,q=1/0,X=9007199254740991,Z=17976931348623157e292,$=0/0,ue=4294967295,fe=ue-1,he=ue>>>1,Se=[["ary",_],["bind",y],["bindKey",h],["curry",g],["curryRight",w],["flip",I],["partial",E],["partialRight",A],["rearg",C]],V="[object Arguments]",O="[object Array]",M="[object AsyncFunction]",P="[object Boolean]",N="[object Date]",U="[object DOMException]",J="[object Error]",te="[object Function]",re="[object GeneratorFunction]",pe="[object Map]",ve="[object Number]",Pe="[object Null]",ke="[object Object]",je="[object Promise]",Ne="[object Proxy]",Ye="[object RegExp]",De="[object Set]",ye="[object String]",Te="[object Symbol]",me="[object Undefined]",ae="[object WeakMap]",z="[object WeakSet]",Q="[object ArrayBuffer]",le="[object DataView]",Ee="[object Float32Array]",Be="[object Float64Array]",tt="[object Int8Array]",$e="[object Int16Array]",et="[object Int32Array]",Ge="[object Uint8Array]",Xe="[object Uint8ClampedArray]",ot="[object Uint16Array]",Le="[object Uint32Array]",_e=/\b__p \+= '';/g,se=/\b(__p \+=) '' \+/g,He=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qe=/&(?:amp|lt|gt|quot|#39);/g,Lt=/[&<>"']/g,qt=RegExp(qe.source),Ce=RegExp(Lt.source),Qe=/<%-([\s\S]+?)%>/g,gt=/<%([\s\S]+?)%>/g,nt=/<%=([\s\S]+?)%>/g,bt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vt=/^\w*$/,Ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ze=/[\\^$.*+?()[\]{}|]/g,Pt=RegExp(ze.source),ft=/^\s+/,ie=/\s/,B=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,K=/\{\n\/\* \[wrapped with (.+)\] \*/,ne=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ae=/[()=,{}\[\]\/\s]/,Re=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,at=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,Ct=/^0b[01]+$/i,ht=/^\[object .+?Constructor\]$/,pt=/^0o[0-7]+$/i,wt=/^(?:0|[1-9]\d*)$/,Mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ut=/($^)/,Kt=/['\n\r\u2028\u2029\\]/g,An="\\ud800-\\udfff",bn="\\u0300-\\u036f",Mr="\\ufe20-\\ufe2f",Wi="\\u20d0-\\u20ff",ki=bn+Mr+Wi,Bu="\\u2700-\\u27bf",By="a-z\\xdf-\\xf6\\xf8-\\xff",eT="\\xac\\xb1\\xd7\\xf7",tT="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",nT="\\u2000-\\u206f",rT=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fy="A-Z\\xc0-\\xd6\\xd8-\\xde",Hy="\\ufe0e\\ufe0f",Uy=eT+tT+nT+rT,C0="['\u2019]",iT="["+An+"]",jy="["+Uy+"]",Pc="["+ki+"]",qy="\\d+",sT="["+Bu+"]",Gy="["+By+"]",zy="[^"+An+Uy+qy+Bu+By+Fy+"]",T0="\\ud83c[\\udffb-\\udfff]",oT="(?:"+Pc+"|"+T0+")",Wy="[^"+An+"]",x0="(?:\\ud83c[\\udde6-\\uddff]){2}",P0="[\\ud800-\\udbff][\\udc00-\\udfff]",ca="["+Fy+"]",Vy="\\u200d",$y="(?:"+Gy+"|"+zy+")",aT="(?:"+ca+"|"+zy+")",Jy="(?:"+C0+"(?:d|ll|m|re|s|t|ve))?",Ky="(?:"+C0+"(?:D|LL|M|RE|S|T|VE))?",Yy=oT+"?",Xy="["+Hy+"]?",uT="(?:"+Vy+"(?:"+[Wy,x0,P0].join("|")+")"+Xy+Yy+")*",lT="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",cT="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qy=Xy+Yy+uT,dT="(?:"+[sT,x0,P0].join("|")+")"+Qy,fT="(?:"+[Wy+Pc+"?",Pc,x0,P0,iT].join("|")+")",hT=RegExp(C0,"g"),pT=RegExp(Pc,"g"),M0=RegExp(T0+"(?="+T0+")|"+fT+Qy,"g"),gT=RegExp([ca+"?"+Gy+"+"+Jy+"(?="+[jy,ca,"$"].join("|")+")",aT+"+"+Ky+"(?="+[jy,ca+$y,"$"].join("|")+")",ca+"?"+$y+"+"+Jy,ca+"+"+Ky,cT,lT,qy,dT].join("|"),"g"),mT=RegExp("["+Vy+An+ki+Hy+"]"),yT=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bT=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vT=-1,Sn={};Sn[Ee]=Sn[Be]=Sn[tt]=Sn[$e]=Sn[et]=Sn[Ge]=Sn[Xe]=Sn[ot]=Sn[Le]=!0,Sn[V]=Sn[O]=Sn[Q]=Sn[P]=Sn[le]=Sn[N]=Sn[J]=Sn[te]=Sn[pe]=Sn[ve]=Sn[ke]=Sn[Ye]=Sn[De]=Sn[ye]=Sn[ae]=!1;var En={};En[V]=En[O]=En[Q]=En[le]=En[P]=En[N]=En[Ee]=En[Be]=En[tt]=En[$e]=En[et]=En[pe]=En[ve]=En[ke]=En[Ye]=En[De]=En[ye]=En[Te]=En[Ge]=En[Xe]=En[ot]=En[Le]=!0,En[J]=En[te]=En[ae]=!1;var _T={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},wT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ET={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},AT={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ST=parseFloat,CT=parseInt,Zy=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,TT=typeof self=="object"&&self&&self.Object===Object&&self,$n=Zy||TT||Function("return this")(),O0=typeof ru=="object"&&ru&&!ru.nodeType&&ru,So=O0&&typeof Ql=="object"&&Ql&&!Ql.nodeType&&Ql,eb=So&&So.exports===O0,k0=eb&&Zy.process,fi=function(){try{var xe=So&&So.require&&So.require("util").types;return xe||k0&&k0.binding&&k0.binding("util")}catch{}}(),tb=fi&&fi.isArrayBuffer,nb=fi&&fi.isDate,rb=fi&&fi.isMap,ib=fi&&fi.isRegExp,sb=fi&&fi.isSet,ob=fi&&fi.isTypedArray;function Vr(xe,Ve,Ue){switch(Ue.length){case 0:return xe.call(Ve);case 1:return xe.call(Ve,Ue[0]);case 2:return xe.call(Ve,Ue[0],Ue[1]);case 3:return xe.call(Ve,Ue[0],Ue[1],Ue[2])}return xe.apply(Ve,Ue)}function xT(xe,Ve,Ue,_t){for(var jt=-1,dn=xe==null?0:xe.length;++jt<dn;){var jn=xe[jt];Ve(_t,jn,Ue(jn),xe)}return _t}function hi(xe,Ve){for(var Ue=-1,_t=xe==null?0:xe.length;++Ue<_t&&Ve(xe[Ue],Ue,xe)!==!1;);return xe}function PT(xe,Ve){for(var Ue=xe==null?0:xe.length;Ue--&&Ve(xe[Ue],Ue,xe)!==!1;);return xe}function ab(xe,Ve){for(var Ue=-1,_t=xe==null?0:xe.length;++Ue<_t;)if(!Ve(xe[Ue],Ue,xe))return!1;return!0}function Vs(xe,Ve){for(var Ue=-1,_t=xe==null?0:xe.length,jt=0,dn=[];++Ue<_t;){var jn=xe[Ue];Ve(jn,Ue,xe)&&(dn[jt++]=jn)}return dn}function Mc(xe,Ve){var Ue=xe==null?0:xe.length;return!!Ue&&da(xe,Ve,0)>-1}function R0(xe,Ve,Ue){for(var _t=-1,jt=xe==null?0:xe.length;++_t<jt;)if(Ue(Ve,xe[_t]))return!0;return!1}function On(xe,Ve){for(var Ue=-1,_t=xe==null?0:xe.length,jt=Array(_t);++Ue<_t;)jt[Ue]=Ve(xe[Ue],Ue,xe);return jt}function $s(xe,Ve){for(var Ue=-1,_t=Ve.length,jt=xe.length;++Ue<_t;)xe[jt+Ue]=Ve[Ue];return xe}function L0(xe,Ve,Ue,_t){var jt=-1,dn=xe==null?0:xe.length;for(_t&&dn&&(Ue=xe[++jt]);++jt<dn;)Ue=Ve(Ue,xe[jt],jt,xe);return Ue}function MT(xe,Ve,Ue,_t){var jt=xe==null?0:xe.length;for(_t&&jt&&(Ue=xe[--jt]);jt--;)Ue=Ve(Ue,xe[jt],jt,xe);return Ue}function I0(xe,Ve){for(var Ue=-1,_t=xe==null?0:xe.length;++Ue<_t;)if(Ve(xe[Ue],Ue,xe))return!0;return!1}var OT=N0("length");function kT(xe){return xe.split("")}function RT(xe){return xe.match(de)||[]}function ub(xe,Ve,Ue){var _t;return Ue(xe,function(jt,dn,jn){if(Ve(jt,dn,jn))return _t=dn,!1}),_t}function Oc(xe,Ve,Ue,_t){for(var jt=xe.length,dn=Ue+(_t?1:-1);_t?dn--:++dn<jt;)if(Ve(xe[dn],dn,xe))return dn;return-1}function da(xe,Ve,Ue){return Ve===Ve?zT(xe,Ve,Ue):Oc(xe,lb,Ue)}function LT(xe,Ve,Ue,_t){for(var jt=Ue-1,dn=xe.length;++jt<dn;)if(_t(xe[jt],Ve))return jt;return-1}function lb(xe){return xe!==xe}function cb(xe,Ve){var Ue=xe==null?0:xe.length;return Ue?B0(xe,Ve)/Ue:$}function N0(xe){return function(Ve){return Ve==null?n:Ve[xe]}}function D0(xe){return function(Ve){return xe==null?n:xe[Ve]}}function db(xe,Ve,Ue,_t,jt){return jt(xe,function(dn,jn,_n){Ue=_t?(_t=!1,dn):Ve(Ue,dn,jn,_n)}),Ue}function IT(xe,Ve){var Ue=xe.length;for(xe.sort(Ve);Ue--;)xe[Ue]=xe[Ue].value;return xe}function B0(xe,Ve){for(var Ue,_t=-1,jt=xe.length;++_t<jt;){var dn=Ve(xe[_t]);dn!==n&&(Ue=Ue===n?dn:Ue+dn)}return Ue}function F0(xe,Ve){for(var Ue=-1,_t=Array(xe);++Ue<xe;)_t[Ue]=Ve(Ue);return _t}function NT(xe,Ve){return On(Ve,function(Ue){return[Ue,xe[Ue]]})}function fb(xe){return xe&&xe.slice(0,mb(xe)+1).replace(ft,"")}function $r(xe){return function(Ve){return xe(Ve)}}function H0(xe,Ve){return On(Ve,function(Ue){return xe[Ue]})}function Fu(xe,Ve){return xe.has(Ve)}function hb(xe,Ve){for(var Ue=-1,_t=xe.length;++Ue<_t&&da(Ve,xe[Ue],0)>-1;);return Ue}function pb(xe,Ve){for(var Ue=xe.length;Ue--&&da(Ve,xe[Ue],0)>-1;);return Ue}function DT(xe,Ve){for(var Ue=xe.length,_t=0;Ue--;)xe[Ue]===Ve&&++_t;return _t}var BT=D0(_T),FT=D0(wT);function HT(xe){return"\\"+AT[xe]}function UT(xe,Ve){return xe==null?n:xe[Ve]}function fa(xe){return mT.test(xe)}function jT(xe){return yT.test(xe)}function qT(xe){for(var Ve,Ue=[];!(Ve=xe.next()).done;)Ue.push(Ve.value);return Ue}function U0(xe){var Ve=-1,Ue=Array(xe.size);return xe.forEach(function(_t,jt){Ue[++Ve]=[jt,_t]}),Ue}function gb(xe,Ve){return function(Ue){return xe(Ve(Ue))}}function Js(xe,Ve){for(var Ue=-1,_t=xe.length,jt=0,dn=[];++Ue<_t;){var jn=xe[Ue];(jn===Ve||jn===d)&&(xe[Ue]=d,dn[jt++]=Ue)}return dn}function kc(xe){var Ve=-1,Ue=Array(xe.size);return xe.forEach(function(_t){Ue[++Ve]=_t}),Ue}function GT(xe){var Ve=-1,Ue=Array(xe.size);return xe.forEach(function(_t){Ue[++Ve]=[_t,_t]}),Ue}function zT(xe,Ve,Ue){for(var _t=Ue-1,jt=xe.length;++_t<jt;)if(xe[_t]===Ve)return _t;return-1}function WT(xe,Ve,Ue){for(var _t=Ue+1;_t--;)if(xe[_t]===Ve)return _t;return _t}function ha(xe){return fa(xe)?$T(xe):OT(xe)}function Ri(xe){return fa(xe)?JT(xe):kT(xe)}function mb(xe){for(var Ve=xe.length;Ve--&&ie.test(xe.charAt(Ve)););return Ve}var VT=D0(ET);function $T(xe){for(var Ve=M0.lastIndex=0;M0.test(xe);)++Ve;return Ve}function JT(xe){return xe.match(M0)||[]}function KT(xe){return xe.match(gT)||[]}var YT=function xe(Ve){Ve=Ve==null?$n:Ks.defaults($n.Object(),Ve,Ks.pick($n,bT));var Ue=Ve.Array,_t=Ve.Date,jt=Ve.Error,dn=Ve.Function,jn=Ve.Math,_n=Ve.Object,j0=Ve.RegExp,XT=Ve.String,pi=Ve.TypeError,Rc=Ue.prototype,QT=dn.prototype,pa=_n.prototype,Lc=Ve["__core-js_shared__"],Ic=QT.toString,pn=pa.hasOwnProperty,ZT=0,yb=function(){var a=/[^.]+$/.exec(Lc&&Lc.keys&&Lc.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Nc=pa.toString,ex=Ic.call(_n),tx=$n._,nx=j0("^"+Ic.call(pn).replace(ze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dc=eb?Ve.Buffer:n,Ys=Ve.Symbol,Bc=Ve.Uint8Array,bb=Dc?Dc.allocUnsafe:n,Fc=gb(_n.getPrototypeOf,_n),vb=_n.create,_b=pa.propertyIsEnumerable,Hc=Rc.splice,wb=Ys?Ys.isConcatSpreadable:n,Hu=Ys?Ys.iterator:n,Co=Ys?Ys.toStringTag:n,Uc=function(){try{var a=Oo(_n,"defineProperty");return a({},"",{}),a}catch{}}(),rx=Ve.clearTimeout!==$n.clearTimeout&&Ve.clearTimeout,ix=_t&&_t.now!==$n.Date.now&&_t.now,sx=Ve.setTimeout!==$n.setTimeout&&Ve.setTimeout,jc=jn.ceil,qc=jn.floor,q0=_n.getOwnPropertySymbols,ox=Dc?Dc.isBuffer:n,Eb=Ve.isFinite,ax=Rc.join,ux=gb(_n.keys,_n),qn=jn.max,hr=jn.min,lx=_t.now,cx=Ve.parseInt,Ab=jn.random,dx=Rc.reverse,G0=Oo(Ve,"DataView"),Uu=Oo(Ve,"Map"),z0=Oo(Ve,"Promise"),ga=Oo(Ve,"Set"),ju=Oo(Ve,"WeakMap"),qu=Oo(_n,"create"),Gc=ju&&new ju,ma={},fx=ko(G0),hx=ko(Uu),px=ko(z0),gx=ko(ga),mx=ko(ju),zc=Ys?Ys.prototype:n,Gu=zc?zc.valueOf:n,Sb=zc?zc.toString:n;function Y(a){if(Ln(a)&&!Gt(a)&&!(a instanceof tn)){if(a instanceof gi)return a;if(pn.call(a,"__wrapped__"))return Cv(a)}return new gi(a)}var ya=function(){function a(){}return function(f){if(!kn(f))return{};if(vb)return vb(f);a.prototype=f;var S=new a;return a.prototype=n,S}}();function Wc(){}function gi(a,f){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=n}Y.templateSettings={escape:Qe,evaluate:gt,interpolate:nt,variable:"",imports:{_:Y}},Y.prototype=Wc.prototype,Y.prototype.constructor=Y,gi.prototype=ya(Wc.prototype),gi.prototype.constructor=gi;function tn(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function yx(){var a=new tn(this.__wrapped__);return a.__actions__=Or(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Or(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Or(this.__views__),a}function bx(){if(this.__filtered__){var a=new tn(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function vx(){var a=this.__wrapped__.value(),f=this.__dir__,S=Gt(a),R=f<0,W=S?a.length:0,ee=kP(0,W,this.__views__),ce=ee.start,be=ee.end,Oe=be-ce,Je=R?be:ce-1,Ke=this.__iteratees__,rt=Ke.length,mt=0,Tt=hr(Oe,this.__takeCount__);if(!S||!R&&W==Oe&&Tt==Oe)return Jb(a,this.__actions__);var It=[];e:for(;Oe--&&mt<Tt;){Je+=f;for(var Vt=-1,Nt=a[Je];++Vt<rt;){var Xt=Ke[Vt],sn=Xt.iteratee,Yr=Xt.type,wr=sn(Nt);if(Yr==G)Nt=wr;else if(!wr){if(Yr==H)continue e;break e}}It[mt++]=Nt}return It}tn.prototype=ya(Wc.prototype),tn.prototype.constructor=tn;function To(a){var f=-1,S=a==null?0:a.length;for(this.clear();++f<S;){var R=a[f];this.set(R[0],R[1])}}function _x(){this.__data__=qu?qu(null):{},this.size=0}function wx(a){var f=this.has(a)&&delete this.__data__[a];return this.size-=f?1:0,f}function Ex(a){var f=this.__data__;if(qu){var S=f[a];return S===o?n:S}return pn.call(f,a)?f[a]:n}function Ax(a){var f=this.__data__;return qu?f[a]!==n:pn.call(f,a)}function Sx(a,f){var S=this.__data__;return this.size+=this.has(a)?0:1,S[a]=qu&&f===n?o:f,this}To.prototype.clear=_x,To.prototype.delete=wx,To.prototype.get=Ex,To.prototype.has=Ax,To.prototype.set=Sx;function ps(a){var f=-1,S=a==null?0:a.length;for(this.clear();++f<S;){var R=a[f];this.set(R[0],R[1])}}function Cx(){this.__data__=[],this.size=0}function Tx(a){var f=this.__data__,S=Vc(f,a);if(S<0)return!1;var R=f.length-1;return S==R?f.pop():Hc.call(f,S,1),--this.size,!0}function xx(a){var f=this.__data__,S=Vc(f,a);return S<0?n:f[S][1]}function Px(a){return Vc(this.__data__,a)>-1}function Mx(a,f){var S=this.__data__,R=Vc(S,a);return R<0?(++this.size,S.push([a,f])):S[R][1]=f,this}ps.prototype.clear=Cx,ps.prototype.delete=Tx,ps.prototype.get=xx,ps.prototype.has=Px,ps.prototype.set=Mx;function gs(a){var f=-1,S=a==null?0:a.length;for(this.clear();++f<S;){var R=a[f];this.set(R[0],R[1])}}function Ox(){this.size=0,this.__data__={hash:new To,map:new(Uu||ps),string:new To}}function kx(a){var f=id(this,a).delete(a);return this.size-=f?1:0,f}function Rx(a){return id(this,a).get(a)}function Lx(a){return id(this,a).has(a)}function Ix(a,f){var S=id(this,a),R=S.size;return S.set(a,f),this.size+=S.size==R?0:1,this}gs.prototype.clear=Ox,gs.prototype.delete=kx,gs.prototype.get=Rx,gs.prototype.has=Lx,gs.prototype.set=Ix;function xo(a){var f=-1,S=a==null?0:a.length;for(this.__data__=new gs;++f<S;)this.add(a[f])}function Nx(a){return this.__data__.set(a,o),this}function Dx(a){return this.__data__.has(a)}xo.prototype.add=xo.prototype.push=Nx,xo.prototype.has=Dx;function Li(a){var f=this.__data__=new ps(a);this.size=f.size}function Bx(){this.__data__=new ps,this.size=0}function Fx(a){var f=this.__data__,S=f.delete(a);return this.size=f.size,S}function Hx(a){return this.__data__.get(a)}function Ux(a){return this.__data__.has(a)}function jx(a,f){var S=this.__data__;if(S instanceof ps){var R=S.__data__;if(!Uu||R.length<t-1)return R.push([a,f]),this.size=++S.size,this;S=this.__data__=new gs(R)}return S.set(a,f),this.size=S.size,this}Li.prototype.clear=Bx,Li.prototype.delete=Fx,Li.prototype.get=Hx,Li.prototype.has=Ux,Li.prototype.set=jx;function Cb(a,f){var S=Gt(a),R=!S&&Ro(a),W=!S&&!R&&to(a),ee=!S&&!R&&!W&&wa(a),ce=S||R||W||ee,be=ce?F0(a.length,XT):[],Oe=be.length;for(var Je in a)(f||pn.call(a,Je))&&!(ce&&(Je=="length"||W&&(Je=="offset"||Je=="parent")||ee&&(Je=="buffer"||Je=="byteLength"||Je=="byteOffset")||vs(Je,Oe)))&&be.push(Je);return be}function Tb(a){var f=a.length;return f?a[tp(0,f-1)]:n}function qx(a,f){return sd(Or(a),Po(f,0,a.length))}function Gx(a){return sd(Or(a))}function W0(a,f,S){(S!==n&&!Ii(a[f],S)||S===n&&!(f in a))&&ms(a,f,S)}function zu(a,f,S){var R=a[f];(!(pn.call(a,f)&&Ii(R,S))||S===n&&!(f in a))&&ms(a,f,S)}function Vc(a,f){for(var S=a.length;S--;)if(Ii(a[S][0],f))return S;return-1}function zx(a,f,S,R){return Xs(a,function(W,ee,ce){f(R,W,S(W),ce)}),R}function xb(a,f){return a&&$i(f,Jn(f),a)}function Wx(a,f){return a&&$i(f,Rr(f),a)}function ms(a,f,S){f=="__proto__"&&Uc?Uc(a,f,{configurable:!0,enumerable:!0,value:S,writable:!0}):a[f]=S}function V0(a,f){for(var S=-1,R=f.length,W=Ue(R),ee=a==null;++S<R;)W[S]=ee?n:Tp(a,f[S]);return W}function Po(a,f,S){return a===a&&(S!==n&&(a=a<=S?a:S),f!==n&&(a=a>=f?a:f)),a}function mi(a,f,S,R,W,ee){var ce,be=f&u,Oe=f&p,Je=f&m;if(S&&(ce=W?S(a,R,W,ee):S(a)),ce!==n)return ce;if(!kn(a))return a;var Ke=Gt(a);if(Ke){if(ce=LP(a),!be)return Or(a,ce)}else{var rt=pr(a),mt=rt==te||rt==re;if(to(a))return Xb(a,be);if(rt==ke||rt==V||mt&&!W){if(ce=Oe||mt?{}:mv(a),!be)return Oe?EP(a,Wx(ce,a)):wP(a,xb(ce,a))}else{if(!En[rt])return W?a:{};ce=IP(a,rt,be)}}ee||(ee=new Li);var Tt=ee.get(a);if(Tt)return Tt;ee.set(a,ce),Wv(a)?a.forEach(function(Nt){ce.add(mi(Nt,f,S,Nt,a,ee))}):Gv(a)&&a.forEach(function(Nt,Xt){ce.set(Xt,mi(Nt,f,S,Xt,a,ee))});var It=Je?Oe?fp:dp:Oe?Rr:Jn,Vt=Ke?n:It(a);return hi(Vt||a,function(Nt,Xt){Vt&&(Xt=Nt,Nt=a[Xt]),zu(ce,Xt,mi(Nt,f,S,Xt,a,ee))}),ce}function Vx(a){var f=Jn(a);return function(S){return Pb(S,a,f)}}function Pb(a,f,S){var R=S.length;if(a==null)return!R;for(a=_n(a);R--;){var W=S[R],ee=f[W],ce=a[W];if(ce===n&&!(W in a)||!ee(ce))return!1}return!0}function Mb(a,f,S){if(typeof a!="function")throw new pi(i);return Xu(function(){a.apply(n,S)},f)}function Wu(a,f,S,R){var W=-1,ee=Mc,ce=!0,be=a.length,Oe=[],Je=f.length;if(!be)return Oe;S&&(f=On(f,$r(S))),R?(ee=R0,ce=!1):f.length>=t&&(ee=Fu,ce=!1,f=new xo(f));e:for(;++W<be;){var Ke=a[W],rt=S==null?Ke:S(Ke);if(Ke=R||Ke!==0?Ke:0,ce&&rt===rt){for(var mt=Je;mt--;)if(f[mt]===rt)continue e;Oe.push(Ke)}else ee(f,rt,R)||Oe.push(Ke)}return Oe}var Xs=nv(Vi),Ob=nv(J0,!0);function $x(a,f){var S=!0;return Xs(a,function(R,W,ee){return S=!!f(R,W,ee),S}),S}function $c(a,f,S){for(var R=-1,W=a.length;++R<W;){var ee=a[R],ce=f(ee);if(ce!=null&&(be===n?ce===ce&&!Kr(ce):S(ce,be)))var be=ce,Oe=ee}return Oe}function Jx(a,f,S,R){var W=a.length;for(S=zt(S),S<0&&(S=-S>W?0:W+S),R=R===n||R>W?W:zt(R),R<0&&(R+=W),R=S>R?0:$v(R);S<R;)a[S++]=f;return a}function kb(a,f){var S=[];return Xs(a,function(R,W,ee){f(R,W,ee)&&S.push(R)}),S}function nr(a,f,S,R,W){var ee=-1,ce=a.length;for(S||(S=DP),W||(W=[]);++ee<ce;){var be=a[ee];f>0&&S(be)?f>1?nr(be,f-1,S,R,W):$s(W,be):R||(W[W.length]=be)}return W}var $0=rv(),Rb=rv(!0);function Vi(a,f){return a&&$0(a,f,Jn)}function J0(a,f){return a&&Rb(a,f,Jn)}function Jc(a,f){return Vs(f,function(S){return _s(a[S])})}function Mo(a,f){f=Zs(f,a);for(var S=0,R=f.length;a!=null&&S<R;)a=a[Ji(f[S++])];return S&&S==R?a:n}function Lb(a,f,S){var R=f(a);return Gt(a)?R:$s(R,S(a))}function vr(a){return a==null?a===n?me:Pe:Co&&Co in _n(a)?OP(a):GP(a)}function K0(a,f){return a>f}function Kx(a,f){return a!=null&&pn.call(a,f)}function Yx(a,f){return a!=null&&f in _n(a)}function Xx(a,f,S){return a>=hr(f,S)&&a<qn(f,S)}function Y0(a,f,S){for(var R=S?R0:Mc,W=a[0].length,ee=a.length,ce=ee,be=Ue(ee),Oe=1/0,Je=[];ce--;){var Ke=a[ce];ce&&f&&(Ke=On(Ke,$r(f))),Oe=hr(Ke.length,Oe),be[ce]=!S&&(f||W>=120&&Ke.length>=120)?new xo(ce&&Ke):n}Ke=a[0];var rt=-1,mt=be[0];e:for(;++rt<W&&Je.length<Oe;){var Tt=Ke[rt],It=f?f(Tt):Tt;if(Tt=S||Tt!==0?Tt:0,!(mt?Fu(mt,It):R(Je,It,S))){for(ce=ee;--ce;){var Vt=be[ce];if(!(Vt?Fu(Vt,It):R(a[ce],It,S)))continue e}mt&&mt.push(It),Je.push(Tt)}}return Je}function Qx(a,f,S,R){return Vi(a,function(W,ee,ce){f(R,S(W),ee,ce)}),R}function Vu(a,f,S){f=Zs(f,a),a=_v(a,f);var R=a==null?a:a[Ji(bi(f))];return R==null?n:Vr(R,a,S)}function Ib(a){return Ln(a)&&vr(a)==V}function Zx(a){return Ln(a)&&vr(a)==Q}function eP(a){return Ln(a)&&vr(a)==N}function $u(a,f,S,R,W){return a===f?!0:a==null||f==null||!Ln(a)&&!Ln(f)?a!==a&&f!==f:tP(a,f,S,R,$u,W)}function tP(a,f,S,R,W,ee){var ce=Gt(a),be=Gt(f),Oe=ce?O:pr(a),Je=be?O:pr(f);Oe=Oe==V?ke:Oe,Je=Je==V?ke:Je;var Ke=Oe==ke,rt=Je==ke,mt=Oe==Je;if(mt&&to(a)){if(!to(f))return!1;ce=!0,Ke=!1}if(mt&&!Ke)return ee||(ee=new Li),ce||wa(a)?hv(a,f,S,R,W,ee):PP(a,f,Oe,S,R,W,ee);if(!(S&b)){var Tt=Ke&&pn.call(a,"__wrapped__"),It=rt&&pn.call(f,"__wrapped__");if(Tt||It){var Vt=Tt?a.value():a,Nt=It?f.value():f;return ee||(ee=new Li),W(Vt,Nt,S,R,ee)}}return mt?(ee||(ee=new Li),MP(a,f,S,R,W,ee)):!1}function nP(a){return Ln(a)&&pr(a)==pe}function X0(a,f,S,R){var W=S.length,ee=W,ce=!R;if(a==null)return!ee;for(a=_n(a);W--;){var be=S[W];if(ce&&be[2]?be[1]!==a[be[0]]:!(be[0]in a))return!1}for(;++W<ee;){be=S[W];var Oe=be[0],Je=a[Oe],Ke=be[1];if(ce&&be[2]){if(Je===n&&!(Oe in a))return!1}else{var rt=new Li;if(R)var mt=R(Je,Ke,Oe,a,f,rt);if(!(mt===n?$u(Ke,Je,b|v,R,rt):mt))return!1}}return!0}function Nb(a){if(!kn(a)||FP(a))return!1;var f=_s(a)?nx:ht;return f.test(ko(a))}function rP(a){return Ln(a)&&vr(a)==Ye}function iP(a){return Ln(a)&&pr(a)==De}function sP(a){return Ln(a)&&dd(a.length)&&!!Sn[vr(a)]}function Db(a){return typeof a=="function"?a:a==null?Lr:typeof a=="object"?Gt(a)?Hb(a[0],a[1]):Fb(a):i2(a)}function Q0(a){if(!Yu(a))return ux(a);var f=[];for(var S in _n(a))pn.call(a,S)&&S!="constructor"&&f.push(S);return f}function oP(a){if(!kn(a))return qP(a);var f=Yu(a),S=[];for(var R in a)R=="constructor"&&(f||!pn.call(a,R))||S.push(R);return S}function Z0(a,f){return a<f}function Bb(a,f){var S=-1,R=kr(a)?Ue(a.length):[];return Xs(a,function(W,ee,ce){R[++S]=f(W,ee,ce)}),R}function Fb(a){var f=pp(a);return f.length==1&&f[0][2]?bv(f[0][0],f[0][1]):function(S){return S===a||X0(S,a,f)}}function Hb(a,f){return mp(a)&&yv(f)?bv(Ji(a),f):function(S){var R=Tp(S,a);return R===n&&R===f?xp(S,a):$u(f,R,b|v)}}function Kc(a,f,S,R,W){a!==f&&$0(f,function(ee,ce){if(W||(W=new Li),kn(ee))aP(a,f,ce,S,Kc,R,W);else{var be=R?R(bp(a,ce),ee,ce+"",a,f,W):n;be===n&&(be=ee),W0(a,ce,be)}},Rr)}function aP(a,f,S,R,W,ee,ce){var be=bp(a,S),Oe=bp(f,S),Je=ce.get(Oe);if(Je){W0(a,S,Je);return}var Ke=ee?ee(be,Oe,S+"",a,f,ce):n,rt=Ke===n;if(rt){var mt=Gt(Oe),Tt=!mt&&to(Oe),It=!mt&&!Tt&&wa(Oe);Ke=Oe,mt||Tt||It?Gt(be)?Ke=be:Nn(be)?Ke=Or(be):Tt?(rt=!1,Ke=Xb(Oe,!0)):It?(rt=!1,Ke=Qb(Oe,!0)):Ke=[]:Qu(Oe)||Ro(Oe)?(Ke=be,Ro(be)?Ke=Jv(be):(!kn(be)||_s(be))&&(Ke=mv(Oe))):rt=!1}rt&&(ce.set(Oe,Ke),W(Ke,Oe,R,ee,ce),ce.delete(Oe)),W0(a,S,Ke)}function Ub(a,f){var S=a.length;if(S)return f+=f<0?S:0,vs(f,S)?a[f]:n}function jb(a,f,S){f.length?f=On(f,function(ee){return Gt(ee)?function(ce){return Mo(ce,ee.length===1?ee[0]:ee)}:ee}):f=[Lr];var R=-1;f=On(f,$r(kt()));var W=Bb(a,function(ee,ce,be){var Oe=On(f,function(Je){return Je(ee)});return{criteria:Oe,index:++R,value:ee}});return IT(W,function(ee,ce){return _P(ee,ce,S)})}function uP(a,f){return qb(a,f,function(S,R){return xp(a,R)})}function qb(a,f,S){for(var R=-1,W=f.length,ee={};++R<W;){var ce=f[R],be=Mo(a,ce);S(be,ce)&&Ju(ee,Zs(ce,a),be)}return ee}function lP(a){return function(f){return Mo(f,a)}}function ep(a,f,S,R){var W=R?LT:da,ee=-1,ce=f.length,be=a;for(a===f&&(f=Or(f)),S&&(be=On(a,$r(S)));++ee<ce;)for(var Oe=0,Je=f[ee],Ke=S?S(Je):Je;(Oe=W(be,Ke,Oe,R))>-1;)be!==a&&Hc.call(be,Oe,1),Hc.call(a,Oe,1);return a}function Gb(a,f){for(var S=a?f.length:0,R=S-1;S--;){var W=f[S];if(S==R||W!==ee){var ee=W;vs(W)?Hc.call(a,W,1):ip(a,W)}}return a}function tp(a,f){return a+qc(Ab()*(f-a+1))}function cP(a,f,S,R){for(var W=-1,ee=qn(jc((f-a)/(S||1)),0),ce=Ue(ee);ee--;)ce[R?ee:++W]=a,a+=S;return ce}function np(a,f){var S="";if(!a||f<1||f>X)return S;do f%2&&(S+=a),f=qc(f/2),f&&(a+=a);while(f);return S}function Jt(a,f){return vp(vv(a,f,Lr),a+"")}function dP(a){return Tb(Ea(a))}function fP(a,f){var S=Ea(a);return sd(S,Po(f,0,S.length))}function Ju(a,f,S,R){if(!kn(a))return a;f=Zs(f,a);for(var W=-1,ee=f.length,ce=ee-1,be=a;be!=null&&++W<ee;){var Oe=Ji(f[W]),Je=S;if(Oe==="__proto__"||Oe==="constructor"||Oe==="prototype")return a;if(W!=ce){var Ke=be[Oe];Je=R?R(Ke,Oe,be):n,Je===n&&(Je=kn(Ke)?Ke:vs(f[W+1])?[]:{})}zu(be,Oe,Je),be=be[Oe]}return a}var zb=Gc?function(a,f){return Gc.set(a,f),a}:Lr,hP=Uc?function(a,f){return Uc(a,"toString",{configurable:!0,enumerable:!1,value:Mp(f),writable:!0})}:Lr;function pP(a){return sd(Ea(a))}function yi(a,f,S){var R=-1,W=a.length;f<0&&(f=-f>W?0:W+f),S=S>W?W:S,S<0&&(S+=W),W=f>S?0:S-f>>>0,f>>>=0;for(var ee=Ue(W);++R<W;)ee[R]=a[R+f];return ee}function gP(a,f){var S;return Xs(a,function(R,W,ee){return S=f(R,W,ee),!S}),!!S}function Yc(a,f,S){var R=0,W=a==null?R:a.length;if(typeof f=="number"&&f===f&&W<=he){for(;R<W;){var ee=R+W>>>1,ce=a[ee];ce!==null&&!Kr(ce)&&(S?ce<=f:ce<f)?R=ee+1:W=ee}return W}return rp(a,f,Lr,S)}function rp(a,f,S,R){var W=0,ee=a==null?0:a.length;if(ee===0)return 0;f=S(f);for(var ce=f!==f,be=f===null,Oe=Kr(f),Je=f===n;W<ee;){var Ke=qc((W+ee)/2),rt=S(a[Ke]),mt=rt!==n,Tt=rt===null,It=rt===rt,Vt=Kr(rt);if(ce)var Nt=R||It;else Je?Nt=It&&(R||mt):be?Nt=It&&mt&&(R||!Tt):Oe?Nt=It&&mt&&!Tt&&(R||!Vt):Tt||Vt?Nt=!1:Nt=R?rt<=f:rt<f;Nt?W=Ke+1:ee=Ke}return hr(ee,fe)}function Wb(a,f){for(var S=-1,R=a.length,W=0,ee=[];++S<R;){var ce=a[S],be=f?f(ce):ce;if(!S||!Ii(be,Oe)){var Oe=be;ee[W++]=ce===0?0:ce}}return ee}function Vb(a){return typeof a=="number"?a:Kr(a)?$:+a}function Jr(a){if(typeof a=="string")return a;if(Gt(a))return On(a,Jr)+"";if(Kr(a))return Sb?Sb.call(a):"";var f=a+"";return f=="0"&&1/a==-q?"-0":f}function Qs(a,f,S){var R=-1,W=Mc,ee=a.length,ce=!0,be=[],Oe=be;if(S)ce=!1,W=R0;else if(ee>=t){var Je=f?null:TP(a);if(Je)return kc(Je);ce=!1,W=Fu,Oe=new xo}else Oe=f?[]:be;e:for(;++R<ee;){var Ke=a[R],rt=f?f(Ke):Ke;if(Ke=S||Ke!==0?Ke:0,ce&&rt===rt){for(var mt=Oe.length;mt--;)if(Oe[mt]===rt)continue e;f&&Oe.push(rt),be.push(Ke)}else W(Oe,rt,S)||(Oe!==be&&Oe.push(rt),be.push(Ke))}return be}function ip(a,f){return f=Zs(f,a),a=_v(a,f),a==null||delete a[Ji(bi(f))]}function $b(a,f,S,R){return Ju(a,f,S(Mo(a,f)),R)}function Xc(a,f,S,R){for(var W=a.length,ee=R?W:-1;(R?ee--:++ee<W)&&f(a[ee],ee,a););return S?yi(a,R?0:ee,R?ee+1:W):yi(a,R?ee+1:0,R?W:ee)}function Jb(a,f){var S=a;return S instanceof tn&&(S=S.value()),L0(f,function(R,W){return W.func.apply(W.thisArg,$s([R],W.args))},S)}function sp(a,f,S){var R=a.length;if(R<2)return R?Qs(a[0]):[];for(var W=-1,ee=Ue(R);++W<R;)for(var ce=a[W],be=-1;++be<R;)be!=W&&(ee[W]=Wu(ee[W]||ce,a[be],f,S));return Qs(nr(ee,1),f,S)}function Kb(a,f,S){for(var R=-1,W=a.length,ee=f.length,ce={};++R<W;){var be=R<ee?f[R]:n;S(ce,a[R],be)}return ce}function op(a){return Nn(a)?a:[]}function ap(a){return typeof a=="function"?a:Lr}function Zs(a,f){return Gt(a)?a:mp(a,f)?[a]:Sv(fn(a))}var mP=Jt;function eo(a,f,S){var R=a.length;return S=S===n?R:S,!f&&S>=R?a:yi(a,f,S)}var Yb=rx||function(a){return $n.clearTimeout(a)};function Xb(a,f){if(f)return a.slice();var S=a.length,R=bb?bb(S):new a.constructor(S);return a.copy(R),R}function up(a){var f=new a.constructor(a.byteLength);return new Bc(f).set(new Bc(a)),f}function yP(a,f){var S=f?up(a.buffer):a.buffer;return new a.constructor(S,a.byteOffset,a.byteLength)}function bP(a){var f=new a.constructor(a.source,at.exec(a));return f.lastIndex=a.lastIndex,f}function vP(a){return Gu?_n(Gu.call(a)):{}}function Qb(a,f){var S=f?up(a.buffer):a.buffer;return new a.constructor(S,a.byteOffset,a.length)}function Zb(a,f){if(a!==f){var S=a!==n,R=a===null,W=a===a,ee=Kr(a),ce=f!==n,be=f===null,Oe=f===f,Je=Kr(f);if(!be&&!Je&&!ee&&a>f||ee&&ce&&Oe&&!be&&!Je||R&&ce&&Oe||!S&&Oe||!W)return 1;if(!R&&!ee&&!Je&&a<f||Je&&S&&W&&!R&&!ee||be&&S&&W||!ce&&W||!Oe)return-1}return 0}function _P(a,f,S){for(var R=-1,W=a.criteria,ee=f.criteria,ce=W.length,be=S.length;++R<ce;){var Oe=Zb(W[R],ee[R]);if(Oe){if(R>=be)return Oe;var Je=S[R];return Oe*(Je=="desc"?-1:1)}}return a.index-f.index}function ev(a,f,S,R){for(var W=-1,ee=a.length,ce=S.length,be=-1,Oe=f.length,Je=qn(ee-ce,0),Ke=Ue(Oe+Je),rt=!R;++be<Oe;)Ke[be]=f[be];for(;++W<ce;)(rt||W<ee)&&(Ke[S[W]]=a[W]);for(;Je--;)Ke[be++]=a[W++];return Ke}function tv(a,f,S,R){for(var W=-1,ee=a.length,ce=-1,be=S.length,Oe=-1,Je=f.length,Ke=qn(ee-be,0),rt=Ue(Ke+Je),mt=!R;++W<Ke;)rt[W]=a[W];for(var Tt=W;++Oe<Je;)rt[Tt+Oe]=f[Oe];for(;++ce<be;)(mt||W<ee)&&(rt[Tt+S[ce]]=a[W++]);return rt}function Or(a,f){var S=-1,R=a.length;for(f||(f=Ue(R));++S<R;)f[S]=a[S];return f}function $i(a,f,S,R){var W=!S;S||(S={});for(var ee=-1,ce=f.length;++ee<ce;){var be=f[ee],Oe=R?R(S[be],a[be],be,S,a):n;Oe===n&&(Oe=a[be]),W?ms(S,be,Oe):zu(S,be,Oe)}return S}function wP(a,f){return $i(a,gp(a),f)}function EP(a,f){return $i(a,pv(a),f)}function Qc(a,f){return function(S,R){var W=Gt(S)?xT:zx,ee=f?f():{};return W(S,a,kt(R,2),ee)}}function ba(a){return Jt(function(f,S){var R=-1,W=S.length,ee=W>1?S[W-1]:n,ce=W>2?S[2]:n;for(ee=a.length>3&&typeof ee=="function"?(W--,ee):n,ce&&_r(S[0],S[1],ce)&&(ee=W<3?n:ee,W=1),f=_n(f);++R<W;){var be=S[R];be&&a(f,be,R,ee)}return f})}function nv(a,f){return function(S,R){if(S==null)return S;if(!kr(S))return a(S,R);for(var W=S.length,ee=f?W:-1,ce=_n(S);(f?ee--:++ee<W)&&R(ce[ee],ee,ce)!==!1;);return S}}function rv(a){return function(f,S,R){for(var W=-1,ee=_n(f),ce=R(f),be=ce.length;be--;){var Oe=ce[a?be:++W];if(S(ee[Oe],Oe,ee)===!1)break}return f}}function AP(a,f,S){var R=f&y,W=Ku(a);function ee(){var ce=this&&this!==$n&&this instanceof ee?W:a;return ce.apply(R?S:this,arguments)}return ee}function iv(a){return function(f){f=fn(f);var S=fa(f)?Ri(f):n,R=S?S[0]:f.charAt(0),W=S?eo(S,1).join(""):f.slice(1);return R[a]()+W}}function va(a){return function(f){return L0(n2(t2(f).replace(hT,"")),a,"")}}function Ku(a){return function(){var f=arguments;switch(f.length){case 0:return new a;case 1:return new a(f[0]);case 2:return new a(f[0],f[1]);case 3:return new a(f[0],f[1],f[2]);case 4:return new a(f[0],f[1],f[2],f[3]);case 5:return new a(f[0],f[1],f[2],f[3],f[4]);case 6:return new a(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new a(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var S=ya(a.prototype),R=a.apply(S,f);return kn(R)?R:S}}function SP(a,f,S){var R=Ku(a);function W(){for(var ee=arguments.length,ce=Ue(ee),be=ee,Oe=_a(W);be--;)ce[be]=arguments[be];var Je=ee<3&&ce[0]!==Oe&&ce[ee-1]!==Oe?[]:Js(ce,Oe);if(ee-=Je.length,ee<S)return lv(a,f,Zc,W.placeholder,n,ce,Je,n,n,S-ee);var Ke=this&&this!==$n&&this instanceof W?R:a;return Vr(Ke,this,ce)}return W}function sv(a){return function(f,S,R){var W=_n(f);if(!kr(f)){var ee=kt(S,3);f=Jn(f),S=function(be){return ee(W[be],be,W)}}var ce=a(f,S,R);return ce>-1?W[ee?f[ce]:ce]:n}}function ov(a){return bs(function(f){var S=f.length,R=S,W=gi.prototype.thru;for(a&&f.reverse();R--;){var ee=f[R];if(typeof ee!="function")throw new pi(i);if(W&&!ce&&rd(ee)=="wrapper")var ce=new gi([],!0)}for(R=ce?R:S;++R<S;){ee=f[R];var be=rd(ee),Oe=be=="wrapper"?hp(ee):n;Oe&&yp(Oe[0])&&Oe[1]==(_|g|E|C)&&!Oe[4].length&&Oe[9]==1?ce=ce[rd(Oe[0])].apply(ce,Oe[3]):ce=ee.length==1&&yp(ee)?ce[be]():ce.thru(ee)}return function(){var Je=arguments,Ke=Je[0];if(ce&&Je.length==1&&Gt(Ke))return ce.plant(Ke).value();for(var rt=0,mt=S?f[rt].apply(this,Je):Ke;++rt<S;)mt=f[rt].call(this,mt);return mt}})}function Zc(a,f,S,R,W,ee,ce,be,Oe,Je){var Ke=f&_,rt=f&y,mt=f&h,Tt=f&(g|w),It=f&I,Vt=mt?n:Ku(a);function Nt(){for(var Xt=arguments.length,sn=Ue(Xt),Yr=Xt;Yr--;)sn[Yr]=arguments[Yr];if(Tt)var wr=_a(Nt),Xr=DT(sn,wr);if(R&&(sn=ev(sn,R,W,Tt)),ee&&(sn=tv(sn,ee,ce,Tt)),Xt-=Xr,Tt&&Xt<Je){var Dn=Js(sn,wr);return lv(a,f,Zc,Nt.placeholder,S,sn,Dn,be,Oe,Je-Xt)}var Ni=rt?S:this,Es=mt?Ni[a]:a;return Xt=sn.length,be?sn=zP(sn,be):It&&Xt>1&&sn.reverse(),Ke&&Oe<Xt&&(sn.length=Oe),this&&this!==$n&&this instanceof Nt&&(Es=Vt||Ku(Es)),Es.apply(Ni,sn)}return Nt}function av(a,f){return function(S,R){return Qx(S,a,f(R),{})}}function ed(a,f){return function(S,R){var W;if(S===n&&R===n)return f;if(S!==n&&(W=S),R!==n){if(W===n)return R;typeof S=="string"||typeof R=="string"?(S=Jr(S),R=Jr(R)):(S=Vb(S),R=Vb(R)),W=a(S,R)}return W}}function lp(a){return bs(function(f){return f=On(f,$r(kt())),Jt(function(S){var R=this;return a(f,function(W){return Vr(W,R,S)})})})}function td(a,f){f=f===n?" ":Jr(f);var S=f.length;if(S<2)return S?np(f,a):f;var R=np(f,jc(a/ha(f)));return fa(f)?eo(Ri(R),0,a).join(""):R.slice(0,a)}function CP(a,f,S,R){var W=f&y,ee=Ku(a);function ce(){for(var be=-1,Oe=arguments.length,Je=-1,Ke=R.length,rt=Ue(Ke+Oe),mt=this&&this!==$n&&this instanceof ce?ee:a;++Je<Ke;)rt[Je]=R[Je];for(;Oe--;)rt[Je++]=arguments[++be];return Vr(mt,W?S:this,rt)}return ce}function uv(a){return function(f,S,R){return R&&typeof R!="number"&&_r(f,S,R)&&(S=R=n),f=ws(f),S===n?(S=f,f=0):S=ws(S),R=R===n?f<S?1:-1:ws(R),cP(f,S,R,a)}}function nd(a){return function(f,S){return typeof f=="string"&&typeof S=="string"||(f=vi(f),S=vi(S)),a(f,S)}}function lv(a,f,S,R,W,ee,ce,be,Oe,Je){var Ke=f&g,rt=Ke?ce:n,mt=Ke?n:ce,Tt=Ke?ee:n,It=Ke?n:ee;f|=Ke?E:A,f&=~(Ke?A:E),f&l||(f&=~(y|h));var Vt=[a,f,W,Tt,rt,It,mt,be,Oe,Je],Nt=S.apply(n,Vt);return yp(a)&&wv(Nt,Vt),Nt.placeholder=R,Ev(Nt,a,f)}function cp(a){var f=jn[a];return function(S,R){if(S=vi(S),R=R==null?0:hr(zt(R),292),R&&Eb(S)){var W=(fn(S)+"e").split("e"),ee=f(W[0]+"e"+(+W[1]+R));return W=(fn(ee)+"e").split("e"),+(W[0]+"e"+(+W[1]-R))}return f(S)}}var TP=ga&&1/kc(new ga([,-0]))[1]==q?function(a){return new ga(a)}:Rp;function cv(a){return function(f){var S=pr(f);return S==pe?U0(f):S==De?GT(f):NT(f,a(f))}}function ys(a,f,S,R,W,ee,ce,be){var Oe=f&h;if(!Oe&&typeof a!="function")throw new pi(i);var Je=R?R.length:0;if(Je||(f&=~(E|A),R=W=n),ce=ce===n?ce:qn(zt(ce),0),be=be===n?be:zt(be),Je-=W?W.length:0,f&A){var Ke=R,rt=W;R=W=n}var mt=Oe?n:hp(a),Tt=[a,f,S,R,W,Ke,rt,ee,ce,be];if(mt&&jP(Tt,mt),a=Tt[0],f=Tt[1],S=Tt[2],R=Tt[3],W=Tt[4],be=Tt[9]=Tt[9]===n?Oe?0:a.length:qn(Tt[9]-Je,0),!be&&f&(g|w)&&(f&=~(g|w)),!f||f==y)var It=AP(a,f,S);else f==g||f==w?It=SP(a,f,be):(f==E||f==(y|E))&&!W.length?It=CP(a,f,S,R):It=Zc.apply(n,Tt);var Vt=mt?zb:wv;return Ev(Vt(It,Tt),a,f)}function dv(a,f,S,R){return a===n||Ii(a,pa[S])&&!pn.call(R,S)?f:a}function fv(a,f,S,R,W,ee){return kn(a)&&kn(f)&&(ee.set(f,a),Kc(a,f,n,fv,ee),ee.delete(f)),a}function xP(a){return Qu(a)?n:a}function hv(a,f,S,R,W,ee){var ce=S&b,be=a.length,Oe=f.length;if(be!=Oe&&!(ce&&Oe>be))return!1;var Je=ee.get(a),Ke=ee.get(f);if(Je&&Ke)return Je==f&&Ke==a;var rt=-1,mt=!0,Tt=S&v?new xo:n;for(ee.set(a,f),ee.set(f,a);++rt<be;){var It=a[rt],Vt=f[rt];if(R)var Nt=ce?R(Vt,It,rt,f,a,ee):R(It,Vt,rt,a,f,ee);if(Nt!==n){if(Nt)continue;mt=!1;break}if(Tt){if(!I0(f,function(Xt,sn){if(!Fu(Tt,sn)&&(It===Xt||W(It,Xt,S,R,ee)))return Tt.push(sn)})){mt=!1;break}}else if(!(It===Vt||W(It,Vt,S,R,ee))){mt=!1;break}}return ee.delete(a),ee.delete(f),mt}function PP(a,f,S,R,W,ee,ce){switch(S){case le:if(a.byteLength!=f.byteLength||a.byteOffset!=f.byteOffset)return!1;a=a.buffer,f=f.buffer;case Q:return!(a.byteLength!=f.byteLength||!ee(new Bc(a),new Bc(f)));case P:case N:case ve:return Ii(+a,+f);case J:return a.name==f.name&&a.message==f.message;case Ye:case ye:return a==f+"";case pe:var be=U0;case De:var Oe=R&b;if(be||(be=kc),a.size!=f.size&&!Oe)return!1;var Je=ce.get(a);if(Je)return Je==f;R|=v,ce.set(a,f);var Ke=hv(be(a),be(f),R,W,ee,ce);return ce.delete(a),Ke;case Te:if(Gu)return Gu.call(a)==Gu.call(f)}return!1}function MP(a,f,S,R,W,ee){var ce=S&b,be=dp(a),Oe=be.length,Je=dp(f),Ke=Je.length;if(Oe!=Ke&&!ce)return!1;for(var rt=Oe;rt--;){var mt=be[rt];if(!(ce?mt in f:pn.call(f,mt)))return!1}var Tt=ee.get(a),It=ee.get(f);if(Tt&&It)return Tt==f&&It==a;var Vt=!0;ee.set(a,f),ee.set(f,a);for(var Nt=ce;++rt<Oe;){mt=be[rt];var Xt=a[mt],sn=f[mt];if(R)var Yr=ce?R(sn,Xt,mt,f,a,ee):R(Xt,sn,mt,a,f,ee);if(!(Yr===n?Xt===sn||W(Xt,sn,S,R,ee):Yr)){Vt=!1;break}Nt||(Nt=mt=="constructor")}if(Vt&&!Nt){var wr=a.constructor,Xr=f.constructor;wr!=Xr&&"constructor"in a&&"constructor"in f&&!(typeof wr=="function"&&wr instanceof wr&&typeof Xr=="function"&&Xr instanceof Xr)&&(Vt=!1)}return ee.delete(a),ee.delete(f),Vt}function bs(a){return vp(vv(a,n,Pv),a+"")}function dp(a){return Lb(a,Jn,gp)}function fp(a){return Lb(a,Rr,pv)}var hp=Gc?function(a){return Gc.get(a)}:Rp;function rd(a){for(var f=a.name+"",S=ma[f],R=pn.call(ma,f)?S.length:0;R--;){var W=S[R],ee=W.func;if(ee==null||ee==a)return W.name}return f}function _a(a){var f=pn.call(Y,"placeholder")?Y:a;return f.placeholder}function kt(){var a=Y.iteratee||Op;return a=a===Op?Db:a,arguments.length?a(arguments[0],arguments[1]):a}function id(a,f){var S=a.__data__;return BP(f)?S[typeof f=="string"?"string":"hash"]:S.map}function pp(a){for(var f=Jn(a),S=f.length;S--;){var R=f[S],W=a[R];f[S]=[R,W,yv(W)]}return f}function Oo(a,f){var S=UT(a,f);return Nb(S)?S:n}function OP(a){var f=pn.call(a,Co),S=a[Co];try{a[Co]=n;var R=!0}catch{}var W=Nc.call(a);return R&&(f?a[Co]=S:delete a[Co]),W}var gp=q0?function(a){return a==null?[]:(a=_n(a),Vs(q0(a),function(f){return _b.call(a,f)}))}:Lp,pv=q0?function(a){for(var f=[];a;)$s(f,gp(a)),a=Fc(a);return f}:Lp,pr=vr;(G0&&pr(new G0(new ArrayBuffer(1)))!=le||Uu&&pr(new Uu)!=pe||z0&&pr(z0.resolve())!=je||ga&&pr(new ga)!=De||ju&&pr(new ju)!=ae)&&(pr=function(a){var f=vr(a),S=f==ke?a.constructor:n,R=S?ko(S):"";if(R)switch(R){case fx:return le;case hx:return pe;case px:return je;case gx:return De;case mx:return ae}return f});function kP(a,f,S){for(var R=-1,W=S.length;++R<W;){var ee=S[R],ce=ee.size;switch(ee.type){case"drop":a+=ce;break;case"dropRight":f-=ce;break;case"take":f=hr(f,a+ce);break;case"takeRight":a=qn(a,f-ce);break}}return{start:a,end:f}}function RP(a){var f=a.match(K);return f?f[1].split(ne):[]}function gv(a,f,S){f=Zs(f,a);for(var R=-1,W=f.length,ee=!1;++R<W;){var ce=Ji(f[R]);if(!(ee=a!=null&&S(a,ce)))break;a=a[ce]}return ee||++R!=W?ee:(W=a==null?0:a.length,!!W&&dd(W)&&vs(ce,W)&&(Gt(a)||Ro(a)))}function LP(a){var f=a.length,S=new a.constructor(f);return f&&typeof a[0]=="string"&&pn.call(a,"index")&&(S.index=a.index,S.input=a.input),S}function mv(a){return typeof a.constructor=="function"&&!Yu(a)?ya(Fc(a)):{}}function IP(a,f,S){var R=a.constructor;switch(f){case Q:return up(a);case P:case N:return new R(+a);case le:return yP(a,S);case Ee:case Be:case tt:case $e:case et:case Ge:case Xe:case ot:case Le:return Qb(a,S);case pe:return new R;case ve:case ye:return new R(a);case Ye:return bP(a);case De:return new R;case Te:return vP(a)}}function NP(a,f){var S=f.length;if(!S)return a;var R=S-1;return f[R]=(S>1?"& ":"")+f[R],f=f.join(S>2?", ":" "),a.replace(B,`{
/* [wrapped with `+f+`] */
`)}function DP(a){return Gt(a)||Ro(a)||!!(wb&&a&&a[wb])}function vs(a,f){var S=typeof a;return f=f??X,!!f&&(S=="number"||S!="symbol"&&wt.test(a))&&a>-1&&a%1==0&&a<f}function _r(a,f,S){if(!kn(S))return!1;var R=typeof f;return(R=="number"?kr(S)&&vs(f,S.length):R=="string"&&f in S)?Ii(S[f],a):!1}function mp(a,f){if(Gt(a))return!1;var S=typeof a;return S=="number"||S=="symbol"||S=="boolean"||a==null||Kr(a)?!0:vt.test(a)||!bt.test(a)||f!=null&&a in _n(f)}function BP(a){var f=typeof a;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?a!=="__proto__":a===null}function yp(a){var f=rd(a),S=Y[f];if(typeof S!="function"||!(f in tn.prototype))return!1;if(a===S)return!0;var R=hp(S);return!!R&&a===R[0]}function FP(a){return!!yb&&yb in a}var HP=Lc?_s:Ip;function Yu(a){var f=a&&a.constructor,S=typeof f=="function"&&f.prototype||pa;return a===S}function yv(a){return a===a&&!kn(a)}function bv(a,f){return function(S){return S==null?!1:S[a]===f&&(f!==n||a in _n(S))}}function UP(a){var f=ld(a,function(R){return S.size===c&&S.clear(),R}),S=f.cache;return f}function jP(a,f){var S=a[1],R=f[1],W=S|R,ee=W<(y|h|_),ce=R==_&&S==g||R==_&&S==C&&a[7].length<=f[8]||R==(_|C)&&f[7].length<=f[8]&&S==g;if(!(ee||ce))return a;R&y&&(a[2]=f[2],W|=S&y?0:l);var be=f[3];if(be){var Oe=a[3];a[3]=Oe?ev(Oe,be,f[4]):be,a[4]=Oe?Js(a[3],d):f[4]}return be=f[5],be&&(Oe=a[5],a[5]=Oe?tv(Oe,be,f[6]):be,a[6]=Oe?Js(a[5],d):f[6]),be=f[7],be&&(a[7]=be),R&_&&(a[8]=a[8]==null?f[8]:hr(a[8],f[8])),a[9]==null&&(a[9]=f[9]),a[0]=f[0],a[1]=W,a}function qP(a){var f=[];if(a!=null)for(var S in _n(a))f.push(S);return f}function GP(a){return Nc.call(a)}function vv(a,f,S){return f=qn(f===n?a.length-1:f,0),function(){for(var R=arguments,W=-1,ee=qn(R.length-f,0),ce=Ue(ee);++W<ee;)ce[W]=R[f+W];W=-1;for(var be=Ue(f+1);++W<f;)be[W]=R[W];return be[f]=S(ce),Vr(a,this,be)}}function _v(a,f){return f.length<2?a:Mo(a,yi(f,0,-1))}function zP(a,f){for(var S=a.length,R=hr(f.length,S),W=Or(a);R--;){var ee=f[R];a[R]=vs(ee,S)?W[ee]:n}return a}function bp(a,f){if(!(f==="constructor"&&typeof a[f]=="function")&&f!="__proto__")return a[f]}var wv=Av(zb),Xu=sx||function(a,f){return $n.setTimeout(a,f)},vp=Av(hP);function Ev(a,f,S){var R=f+"";return vp(a,NP(R,WP(RP(R),S)))}function Av(a){var f=0,S=0;return function(){var R=lx(),W=L-(R-S);if(S=R,W>0){if(++f>=D)return arguments[0]}else f=0;return a.apply(n,arguments)}}function sd(a,f){var S=-1,R=a.length,W=R-1;for(f=f===n?R:f;++S<f;){var ee=tp(S,W),ce=a[ee];a[ee]=a[S],a[S]=ce}return a.length=f,a}var Sv=UP(function(a){var f=[];return a.charCodeAt(0)===46&&f.push(""),a.replace(Ht,function(S,R,W,ee){f.push(W?ee.replace(Re,"$1"):R||S)}),f});function Ji(a){if(typeof a=="string"||Kr(a))return a;var f=a+"";return f=="0"&&1/a==-q?"-0":f}function ko(a){if(a!=null){try{return Ic.call(a)}catch{}try{return a+""}catch{}}return""}function WP(a,f){return hi(Se,function(S){var R="_."+S[0];f&S[1]&&!Mc(a,R)&&a.push(R)}),a.sort()}function Cv(a){if(a instanceof tn)return a.clone();var f=new gi(a.__wrapped__,a.__chain__);return f.__actions__=Or(a.__actions__),f.__index__=a.__index__,f.__values__=a.__values__,f}function VP(a,f,S){(S?_r(a,f,S):f===n)?f=1:f=qn(zt(f),0);var R=a==null?0:a.length;if(!R||f<1)return[];for(var W=0,ee=0,ce=Ue(jc(R/f));W<R;)ce[ee++]=yi(a,W,W+=f);return ce}function $P(a){for(var f=-1,S=a==null?0:a.length,R=0,W=[];++f<S;){var ee=a[f];ee&&(W[R++]=ee)}return W}function JP(){var a=arguments.length;if(!a)return[];for(var f=Ue(a-1),S=arguments[0],R=a;R--;)f[R-1]=arguments[R];return $s(Gt(S)?Or(S):[S],nr(f,1))}var KP=Jt(function(a,f){return Nn(a)?Wu(a,nr(f,1,Nn,!0)):[]}),YP=Jt(function(a,f){var S=bi(f);return Nn(S)&&(S=n),Nn(a)?Wu(a,nr(f,1,Nn,!0),kt(S,2)):[]}),XP=Jt(function(a,f){var S=bi(f);return Nn(S)&&(S=n),Nn(a)?Wu(a,nr(f,1,Nn,!0),n,S):[]});function QP(a,f,S){var R=a==null?0:a.length;return R?(f=S||f===n?1:zt(f),yi(a,f<0?0:f,R)):[]}function ZP(a,f,S){var R=a==null?0:a.length;return R?(f=S||f===n?1:zt(f),f=R-f,yi(a,0,f<0?0:f)):[]}function e7(a,f){return a&&a.length?Xc(a,kt(f,3),!0,!0):[]}function t7(a,f){return a&&a.length?Xc(a,kt(f,3),!0):[]}function n7(a,f,S,R){var W=a==null?0:a.length;return W?(S&&typeof S!="number"&&_r(a,f,S)&&(S=0,R=W),Jx(a,f,S,R)):[]}function Tv(a,f,S){var R=a==null?0:a.length;if(!R)return-1;var W=S==null?0:zt(S);return W<0&&(W=qn(R+W,0)),Oc(a,kt(f,3),W)}function xv(a,f,S){var R=a==null?0:a.length;if(!R)return-1;var W=R-1;return S!==n&&(W=zt(S),W=S<0?qn(R+W,0):hr(W,R-1)),Oc(a,kt(f,3),W,!0)}function Pv(a){var f=a==null?0:a.length;return f?nr(a,1):[]}function r7(a){var f=a==null?0:a.length;return f?nr(a,q):[]}function i7(a,f){var S=a==null?0:a.length;return S?(f=f===n?1:zt(f),nr(a,f)):[]}function s7(a){for(var f=-1,S=a==null?0:a.length,R={};++f<S;){var W=a[f];R[W[0]]=W[1]}return R}function Mv(a){return a&&a.length?a[0]:n}function o7(a,f,S){var R=a==null?0:a.length;if(!R)return-1;var W=S==null?0:zt(S);return W<0&&(W=qn(R+W,0)),da(a,f,W)}function a7(a){var f=a==null?0:a.length;return f?yi(a,0,-1):[]}var u7=Jt(function(a){var f=On(a,op);return f.length&&f[0]===a[0]?Y0(f):[]}),l7=Jt(function(a){var f=bi(a),S=On(a,op);return f===bi(S)?f=n:S.pop(),S.length&&S[0]===a[0]?Y0(S,kt(f,2)):[]}),c7=Jt(function(a){var f=bi(a),S=On(a,op);return f=typeof f=="function"?f:n,f&&S.pop(),S.length&&S[0]===a[0]?Y0(S,n,f):[]});function d7(a,f){return a==null?"":ax.call(a,f)}function bi(a){var f=a==null?0:a.length;return f?a[f-1]:n}function f7(a,f,S){var R=a==null?0:a.length;if(!R)return-1;var W=R;return S!==n&&(W=zt(S),W=W<0?qn(R+W,0):hr(W,R-1)),f===f?WT(a,f,W):Oc(a,lb,W,!0)}function h7(a,f){return a&&a.length?Ub(a,zt(f)):n}var p7=Jt(Ov);function Ov(a,f){return a&&a.length&&f&&f.length?ep(a,f):a}function g7(a,f,S){return a&&a.length&&f&&f.length?ep(a,f,kt(S,2)):a}function m7(a,f,S){return a&&a.length&&f&&f.length?ep(a,f,n,S):a}var y7=bs(function(a,f){var S=a==null?0:a.length,R=V0(a,f);return Gb(a,On(f,function(W){return vs(W,S)?+W:W}).sort(Zb)),R});function b7(a,f){var S=[];if(!(a&&a.length))return S;var R=-1,W=[],ee=a.length;for(f=kt(f,3);++R<ee;){var ce=a[R];f(ce,R,a)&&(S.push(ce),W.push(R))}return Gb(a,W),S}function _p(a){return a==null?a:dx.call(a)}function v7(a,f,S){var R=a==null?0:a.length;return R?(S&&typeof S!="number"&&_r(a,f,S)?(f=0,S=R):(f=f==null?0:zt(f),S=S===n?R:zt(S)),yi(a,f,S)):[]}function _7(a,f){return Yc(a,f)}function w7(a,f,S){return rp(a,f,kt(S,2))}function E7(a,f){var S=a==null?0:a.length;if(S){var R=Yc(a,f);if(R<S&&Ii(a[R],f))return R}return-1}function A7(a,f){return Yc(a,f,!0)}function S7(a,f,S){return rp(a,f,kt(S,2),!0)}function C7(a,f){var S=a==null?0:a.length;if(S){var R=Yc(a,f,!0)-1;if(Ii(a[R],f))return R}return-1}function T7(a){return a&&a.length?Wb(a):[]}function x7(a,f){return a&&a.length?Wb(a,kt(f,2)):[]}function P7(a){var f=a==null?0:a.length;return f?yi(a,1,f):[]}function M7(a,f,S){return a&&a.length?(f=S||f===n?1:zt(f),yi(a,0,f<0?0:f)):[]}function O7(a,f,S){var R=a==null?0:a.length;return R?(f=S||f===n?1:zt(f),f=R-f,yi(a,f<0?0:f,R)):[]}function k7(a,f){return a&&a.length?Xc(a,kt(f,3),!1,!0):[]}function R7(a,f){return a&&a.length?Xc(a,kt(f,3)):[]}var L7=Jt(function(a){return Qs(nr(a,1,Nn,!0))}),I7=Jt(function(a){var f=bi(a);return Nn(f)&&(f=n),Qs(nr(a,1,Nn,!0),kt(f,2))}),N7=Jt(function(a){var f=bi(a);return f=typeof f=="function"?f:n,Qs(nr(a,1,Nn,!0),n,f)});function D7(a){return a&&a.length?Qs(a):[]}function B7(a,f){return a&&a.length?Qs(a,kt(f,2)):[]}function F7(a,f){return f=typeof f=="function"?f:n,a&&a.length?Qs(a,n,f):[]}function wp(a){if(!(a&&a.length))return[];var f=0;return a=Vs(a,function(S){if(Nn(S))return f=qn(S.length,f),!0}),F0(f,function(S){return On(a,N0(S))})}function kv(a,f){if(!(a&&a.length))return[];var S=wp(a);return f==null?S:On(S,function(R){return Vr(f,n,R)})}var H7=Jt(function(a,f){return Nn(a)?Wu(a,f):[]}),U7=Jt(function(a){return sp(Vs(a,Nn))}),j7=Jt(function(a){var f=bi(a);return Nn(f)&&(f=n),sp(Vs(a,Nn),kt(f,2))}),q7=Jt(function(a){var f=bi(a);return f=typeof f=="function"?f:n,sp(Vs(a,Nn),n,f)}),G7=Jt(wp);function z7(a,f){return Kb(a||[],f||[],zu)}function W7(a,f){return Kb(a||[],f||[],Ju)}var V7=Jt(function(a){var f=a.length,S=f>1?a[f-1]:n;return S=typeof S=="function"?(a.pop(),S):n,kv(a,S)});function Rv(a){var f=Y(a);return f.__chain__=!0,f}function $7(a,f){return f(a),a}function od(a,f){return f(a)}var J7=bs(function(a){var f=a.length,S=f?a[0]:0,R=this.__wrapped__,W=function(ee){return V0(ee,a)};return f>1||this.__actions__.length||!(R instanceof tn)||!vs(S)?this.thru(W):(R=R.slice(S,+S+(f?1:0)),R.__actions__.push({func:od,args:[W],thisArg:n}),new gi(R,this.__chain__).thru(function(ee){return f&&!ee.length&&ee.push(n),ee}))});function K7(){return Rv(this)}function Y7(){return new gi(this.value(),this.__chain__)}function X7(){this.__values__===n&&(this.__values__=Vv(this.value()));var a=this.__index__>=this.__values__.length,f=a?n:this.__values__[this.__index__++];return{done:a,value:f}}function Q7(){return this}function Z7(a){for(var f,S=this;S instanceof Wc;){var R=Cv(S);R.__index__=0,R.__values__=n,f?W.__wrapped__=R:f=R;var W=R;S=S.__wrapped__}return W.__wrapped__=a,f}function eM(){var a=this.__wrapped__;if(a instanceof tn){var f=a;return this.__actions__.length&&(f=new tn(this)),f=f.reverse(),f.__actions__.push({func:od,args:[_p],thisArg:n}),new gi(f,this.__chain__)}return this.thru(_p)}function tM(){return Jb(this.__wrapped__,this.__actions__)}var nM=Qc(function(a,f,S){pn.call(a,S)?++a[S]:ms(a,S,1)});function rM(a,f,S){var R=Gt(a)?ab:$x;return S&&_r(a,f,S)&&(f=n),R(a,kt(f,3))}function iM(a,f){var S=Gt(a)?Vs:kb;return S(a,kt(f,3))}var sM=sv(Tv),oM=sv(xv);function aM(a,f){return nr(ad(a,f),1)}function uM(a,f){return nr(ad(a,f),q)}function lM(a,f,S){return S=S===n?1:zt(S),nr(ad(a,f),S)}function Lv(a,f){var S=Gt(a)?hi:Xs;return S(a,kt(f,3))}function Iv(a,f){var S=Gt(a)?PT:Ob;return S(a,kt(f,3))}var cM=Qc(function(a,f,S){pn.call(a,S)?a[S].push(f):ms(a,S,[f])});function dM(a,f,S,R){a=kr(a)?a:Ea(a),S=S&&!R?zt(S):0;var W=a.length;return S<0&&(S=qn(W+S,0)),fd(a)?S<=W&&a.indexOf(f,S)>-1:!!W&&da(a,f,S)>-1}var fM=Jt(function(a,f,S){var R=-1,W=typeof f=="function",ee=kr(a)?Ue(a.length):[];return Xs(a,function(ce){ee[++R]=W?Vr(f,ce,S):Vu(ce,f,S)}),ee}),hM=Qc(function(a,f,S){ms(a,S,f)});function ad(a,f){var S=Gt(a)?On:Bb;return S(a,kt(f,3))}function pM(a,f,S,R){return a==null?[]:(Gt(f)||(f=f==null?[]:[f]),S=R?n:S,Gt(S)||(S=S==null?[]:[S]),jb(a,f,S))}var gM=Qc(function(a,f,S){a[S?0:1].push(f)},function(){return[[],[]]});function mM(a,f,S){var R=Gt(a)?L0:db,W=arguments.length<3;return R(a,kt(f,4),S,W,Xs)}function yM(a,f,S){var R=Gt(a)?MT:db,W=arguments.length<3;return R(a,kt(f,4),S,W,Ob)}function bM(a,f){var S=Gt(a)?Vs:kb;return S(a,cd(kt(f,3)))}function vM(a){var f=Gt(a)?Tb:dP;return f(a)}function _M(a,f,S){(S?_r(a,f,S):f===n)?f=1:f=zt(f);var R=Gt(a)?qx:fP;return R(a,f)}function wM(a){var f=Gt(a)?Gx:pP;return f(a)}function EM(a){if(a==null)return 0;if(kr(a))return fd(a)?ha(a):a.length;var f=pr(a);return f==pe||f==De?a.size:Q0(a).length}function AM(a,f,S){var R=Gt(a)?I0:gP;return S&&_r(a,f,S)&&(f=n),R(a,kt(f,3))}var SM=Jt(function(a,f){if(a==null)return[];var S=f.length;return S>1&&_r(a,f[0],f[1])?f=[]:S>2&&_r(f[0],f[1],f[2])&&(f=[f[0]]),jb(a,nr(f,1),[])}),ud=ix||function(){return $n.Date.now()};function CM(a,f){if(typeof f!="function")throw new pi(i);return a=zt(a),function(){if(--a<1)return f.apply(this,arguments)}}function Nv(a,f,S){return f=S?n:f,f=a&&f==null?a.length:f,ys(a,_,n,n,n,n,f)}function Dv(a,f){var S;if(typeof f!="function")throw new pi(i);return a=zt(a),function(){return--a>0&&(S=f.apply(this,arguments)),a<=1&&(f=n),S}}var Ep=Jt(function(a,f,S){var R=y;if(S.length){var W=Js(S,_a(Ep));R|=E}return ys(a,R,f,S,W)}),Bv=Jt(function(a,f,S){var R=y|h;if(S.length){var W=Js(S,_a(Bv));R|=E}return ys(f,R,a,S,W)});function Fv(a,f,S){f=S?n:f;var R=ys(a,g,n,n,n,n,n,f);return R.placeholder=Fv.placeholder,R}function Hv(a,f,S){f=S?n:f;var R=ys(a,w,n,n,n,n,n,f);return R.placeholder=Hv.placeholder,R}function Uv(a,f,S){var R,W,ee,ce,be,Oe,Je=0,Ke=!1,rt=!1,mt=!0;if(typeof a!="function")throw new pi(i);f=vi(f)||0,kn(S)&&(Ke=!!S.leading,rt="maxWait"in S,ee=rt?qn(vi(S.maxWait)||0,f):ee,mt="trailing"in S?!!S.trailing:mt);function Tt(Dn){var Ni=R,Es=W;return R=W=n,Je=Dn,ce=a.apply(Es,Ni),ce}function It(Dn){return Je=Dn,be=Xu(Xt,f),Ke?Tt(Dn):ce}function Vt(Dn){var Ni=Dn-Oe,Es=Dn-Je,s2=f-Ni;return rt?hr(s2,ee-Es):s2}function Nt(Dn){var Ni=Dn-Oe,Es=Dn-Je;return Oe===n||Ni>=f||Ni<0||rt&&Es>=ee}function Xt(){var Dn=ud();if(Nt(Dn))return sn(Dn);be=Xu(Xt,Vt(Dn))}function sn(Dn){return be=n,mt&&R?Tt(Dn):(R=W=n,ce)}function Yr(){be!==n&&Yb(be),Je=0,R=Oe=W=be=n}function wr(){return be===n?ce:sn(ud())}function Xr(){var Dn=ud(),Ni=Nt(Dn);if(R=arguments,W=this,Oe=Dn,Ni){if(be===n)return It(Oe);if(rt)return Yb(be),be=Xu(Xt,f),Tt(Oe)}return be===n&&(be=Xu(Xt,f)),ce}return Xr.cancel=Yr,Xr.flush=wr,Xr}var TM=Jt(function(a,f){return Mb(a,1,f)}),xM=Jt(function(a,f,S){return Mb(a,vi(f)||0,S)});function PM(a){return ys(a,I)}function ld(a,f){if(typeof a!="function"||f!=null&&typeof f!="function")throw new pi(i);var S=function(){var R=arguments,W=f?f.apply(this,R):R[0],ee=S.cache;if(ee.has(W))return ee.get(W);var ce=a.apply(this,R);return S.cache=ee.set(W,ce)||ee,ce};return S.cache=new(ld.Cache||gs),S}ld.Cache=gs;function cd(a){if(typeof a!="function")throw new pi(i);return function(){var f=arguments;switch(f.length){case 0:return!a.call(this);case 1:return!a.call(this,f[0]);case 2:return!a.call(this,f[0],f[1]);case 3:return!a.call(this,f[0],f[1],f[2])}return!a.apply(this,f)}}function MM(a){return Dv(2,a)}var OM=mP(function(a,f){f=f.length==1&&Gt(f[0])?On(f[0],$r(kt())):On(nr(f,1),$r(kt()));var S=f.length;return Jt(function(R){for(var W=-1,ee=hr(R.length,S);++W<ee;)R[W]=f[W].call(this,R[W]);return Vr(a,this,R)})}),Ap=Jt(function(a,f){var S=Js(f,_a(Ap));return ys(a,E,n,f,S)}),jv=Jt(function(a,f){var S=Js(f,_a(jv));return ys(a,A,n,f,S)}),kM=bs(function(a,f){return ys(a,C,n,n,n,f)});function RM(a,f){if(typeof a!="function")throw new pi(i);return f=f===n?f:zt(f),Jt(a,f)}function LM(a,f){if(typeof a!="function")throw new pi(i);return f=f==null?0:qn(zt(f),0),Jt(function(S){var R=S[f],W=eo(S,0,f);return R&&$s(W,R),Vr(a,this,W)})}function IM(a,f,S){var R=!0,W=!0;if(typeof a!="function")throw new pi(i);return kn(S)&&(R="leading"in S?!!S.leading:R,W="trailing"in S?!!S.trailing:W),Uv(a,f,{leading:R,maxWait:f,trailing:W})}function NM(a){return Nv(a,1)}function DM(a,f){return Ap(ap(f),a)}function BM(){if(!arguments.length)return[];var a=arguments[0];return Gt(a)?a:[a]}function FM(a){return mi(a,m)}function HM(a,f){return f=typeof f=="function"?f:n,mi(a,m,f)}function UM(a){return mi(a,u|m)}function jM(a,f){return f=typeof f=="function"?f:n,mi(a,u|m,f)}function qM(a,f){return f==null||Pb(a,f,Jn(f))}function Ii(a,f){return a===f||a!==a&&f!==f}var GM=nd(K0),zM=nd(function(a,f){return a>=f}),Ro=Ib(function(){return arguments}())?Ib:function(a){return Ln(a)&&pn.call(a,"callee")&&!_b.call(a,"callee")},Gt=Ue.isArray,WM=tb?$r(tb):Zx;function kr(a){return a!=null&&dd(a.length)&&!_s(a)}function Nn(a){return Ln(a)&&kr(a)}function VM(a){return a===!0||a===!1||Ln(a)&&vr(a)==P}var to=ox||Ip,$M=nb?$r(nb):eP;function JM(a){return Ln(a)&&a.nodeType===1&&!Qu(a)}function KM(a){if(a==null)return!0;if(kr(a)&&(Gt(a)||typeof a=="string"||typeof a.splice=="function"||to(a)||wa(a)||Ro(a)))return!a.length;var f=pr(a);if(f==pe||f==De)return!a.size;if(Yu(a))return!Q0(a).length;for(var S in a)if(pn.call(a,S))return!1;return!0}function YM(a,f){return $u(a,f)}function XM(a,f,S){S=typeof S=="function"?S:n;var R=S?S(a,f):n;return R===n?$u(a,f,n,S):!!R}function Sp(a){if(!Ln(a))return!1;var f=vr(a);return f==J||f==U||typeof a.message=="string"&&typeof a.name=="string"&&!Qu(a)}function QM(a){return typeof a=="number"&&Eb(a)}function _s(a){if(!kn(a))return!1;var f=vr(a);return f==te||f==re||f==M||f==Ne}function qv(a){return typeof a=="number"&&a==zt(a)}function dd(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=X}function kn(a){var f=typeof a;return a!=null&&(f=="object"||f=="function")}function Ln(a){return a!=null&&typeof a=="object"}var Gv=rb?$r(rb):nP;function ZM(a,f){return a===f||X0(a,f,pp(f))}function e9(a,f,S){return S=typeof S=="function"?S:n,X0(a,f,pp(f),S)}function t9(a){return zv(a)&&a!=+a}function n9(a){if(HP(a))throw new jt(r);return Nb(a)}function r9(a){return a===null}function i9(a){return a==null}function zv(a){return typeof a=="number"||Ln(a)&&vr(a)==ve}function Qu(a){if(!Ln(a)||vr(a)!=ke)return!1;var f=Fc(a);if(f===null)return!0;var S=pn.call(f,"constructor")&&f.constructor;return typeof S=="function"&&S instanceof S&&Ic.call(S)==ex}var Cp=ib?$r(ib):rP;function s9(a){return qv(a)&&a>=-X&&a<=X}var Wv=sb?$r(sb):iP;function fd(a){return typeof a=="string"||!Gt(a)&&Ln(a)&&vr(a)==ye}function Kr(a){return typeof a=="symbol"||Ln(a)&&vr(a)==Te}var wa=ob?$r(ob):sP;function o9(a){return a===n}function a9(a){return Ln(a)&&pr(a)==ae}function u9(a){return Ln(a)&&vr(a)==z}var l9=nd(Z0),c9=nd(function(a,f){return a<=f});function Vv(a){if(!a)return[];if(kr(a))return fd(a)?Ri(a):Or(a);if(Hu&&a[Hu])return qT(a[Hu]());var f=pr(a),S=f==pe?U0:f==De?kc:Ea;return S(a)}function ws(a){if(!a)return a===0?a:0;if(a=vi(a),a===q||a===-q){var f=a<0?-1:1;return f*Z}return a===a?a:0}function zt(a){var f=ws(a),S=f%1;return f===f?S?f-S:f:0}function $v(a){return a?Po(zt(a),0,ue):0}function vi(a){if(typeof a=="number")return a;if(Kr(a))return $;if(kn(a)){var f=typeof a.valueOf=="function"?a.valueOf():a;a=kn(f)?f+"":f}if(typeof a!="string")return a===0?a:+a;a=fb(a);var S=Ct.test(a);return S||pt.test(a)?CT(a.slice(2),S?2:8):it.test(a)?$:+a}function Jv(a){return $i(a,Rr(a))}function d9(a){return a?Po(zt(a),-X,X):a===0?a:0}function fn(a){return a==null?"":Jr(a)}var f9=ba(function(a,f){if(Yu(f)||kr(f)){$i(f,Jn(f),a);return}for(var S in f)pn.call(f,S)&&zu(a,S,f[S])}),Kv=ba(function(a,f){$i(f,Rr(f),a)}),hd=ba(function(a,f,S,R){$i(f,Rr(f),a,R)}),h9=ba(function(a,f,S,R){$i(f,Jn(f),a,R)}),p9=bs(V0);function g9(a,f){var S=ya(a);return f==null?S:xb(S,f)}var m9=Jt(function(a,f){a=_n(a);var S=-1,R=f.length,W=R>2?f[2]:n;for(W&&_r(f[0],f[1],W)&&(R=1);++S<R;)for(var ee=f[S],ce=Rr(ee),be=-1,Oe=ce.length;++be<Oe;){var Je=ce[be],Ke=a[Je];(Ke===n||Ii(Ke,pa[Je])&&!pn.call(a,Je))&&(a[Je]=ee[Je])}return a}),y9=Jt(function(a){return a.push(n,fv),Vr(Yv,n,a)});function b9(a,f){return ub(a,kt(f,3),Vi)}function v9(a,f){return ub(a,kt(f,3),J0)}function _9(a,f){return a==null?a:$0(a,kt(f,3),Rr)}function w9(a,f){return a==null?a:Rb(a,kt(f,3),Rr)}function E9(a,f){return a&&Vi(a,kt(f,3))}function A9(a,f){return a&&J0(a,kt(f,3))}function S9(a){return a==null?[]:Jc(a,Jn(a))}function C9(a){return a==null?[]:Jc(a,Rr(a))}function Tp(a,f,S){var R=a==null?n:Mo(a,f);return R===n?S:R}function T9(a,f){return a!=null&&gv(a,f,Kx)}function xp(a,f){return a!=null&&gv(a,f,Yx)}var x9=av(function(a,f,S){f!=null&&typeof f.toString!="function"&&(f=Nc.call(f)),a[f]=S},Mp(Lr)),P9=av(function(a,f,S){f!=null&&typeof f.toString!="function"&&(f=Nc.call(f)),pn.call(a,f)?a[f].push(S):a[f]=[S]},kt),M9=Jt(Vu);function Jn(a){return kr(a)?Cb(a):Q0(a)}function Rr(a){return kr(a)?Cb(a,!0):oP(a)}function O9(a,f){var S={};return f=kt(f,3),Vi(a,function(R,W,ee){ms(S,f(R,W,ee),R)}),S}function k9(a,f){var S={};return f=kt(f,3),Vi(a,function(R,W,ee){ms(S,W,f(R,W,ee))}),S}var R9=ba(function(a,f,S){Kc(a,f,S)}),Yv=ba(function(a,f,S,R){Kc(a,f,S,R)}),L9=bs(function(a,f){var S={};if(a==null)return S;var R=!1;f=On(f,function(ee){return ee=Zs(ee,a),R||(R=ee.length>1),ee}),$i(a,fp(a),S),R&&(S=mi(S,u|p|m,xP));for(var W=f.length;W--;)ip(S,f[W]);return S});function I9(a,f){return Xv(a,cd(kt(f)))}var N9=bs(function(a,f){return a==null?{}:uP(a,f)});function Xv(a,f){if(a==null)return{};var S=On(fp(a),function(R){return[R]});return f=kt(f),qb(a,S,function(R,W){return f(R,W[0])})}function D9(a,f,S){f=Zs(f,a);var R=-1,W=f.length;for(W||(W=1,a=n);++R<W;){var ee=a==null?n:a[Ji(f[R])];ee===n&&(R=W,ee=S),a=_s(ee)?ee.call(a):ee}return a}function B9(a,f,S){return a==null?a:Ju(a,f,S)}function F9(a,f,S,R){return R=typeof R=="function"?R:n,a==null?a:Ju(a,f,S,R)}var Qv=cv(Jn),Zv=cv(Rr);function H9(a,f,S){var R=Gt(a),W=R||to(a)||wa(a);if(f=kt(f,4),S==null){var ee=a&&a.constructor;W?S=R?new ee:[]:kn(a)?S=_s(ee)?ya(Fc(a)):{}:S={}}return(W?hi:Vi)(a,function(ce,be,Oe){return f(S,ce,be,Oe)}),S}function U9(a,f){return a==null?!0:ip(a,f)}function j9(a,f,S){return a==null?a:$b(a,f,ap(S))}function q9(a,f,S,R){return R=typeof R=="function"?R:n,a==null?a:$b(a,f,ap(S),R)}function Ea(a){return a==null?[]:H0(a,Jn(a))}function G9(a){return a==null?[]:H0(a,Rr(a))}function z9(a,f,S){return S===n&&(S=f,f=n),S!==n&&(S=vi(S),S=S===S?S:0),f!==n&&(f=vi(f),f=f===f?f:0),Po(vi(a),f,S)}function W9(a,f,S){return f=ws(f),S===n?(S=f,f=0):S=ws(S),a=vi(a),Xx(a,f,S)}function V9(a,f,S){if(S&&typeof S!="boolean"&&_r(a,f,S)&&(f=S=n),S===n&&(typeof f=="boolean"?(S=f,f=n):typeof a=="boolean"&&(S=a,a=n)),a===n&&f===n?(a=0,f=1):(a=ws(a),f===n?(f=a,a=0):f=ws(f)),a>f){var R=a;a=f,f=R}if(S||a%1||f%1){var W=Ab();return hr(a+W*(f-a+ST("1e-"+((W+"").length-1))),f)}return tp(a,f)}var $9=va(function(a,f,S){return f=f.toLowerCase(),a+(S?e2(f):f)});function e2(a){return Pp(fn(a).toLowerCase())}function t2(a){return a=fn(a),a&&a.replace(Mt,BT).replace(pT,"")}function J9(a,f,S){a=fn(a),f=Jr(f);var R=a.length;S=S===n?R:Po(zt(S),0,R);var W=S;return S-=f.length,S>=0&&a.slice(S,W)==f}function K9(a){return a=fn(a),a&&Ce.test(a)?a.replace(Lt,FT):a}function Y9(a){return a=fn(a),a&&Pt.test(a)?a.replace(ze,"\\$&"):a}var X9=va(function(a,f,S){return a+(S?"-":"")+f.toLowerCase()}),Q9=va(function(a,f,S){return a+(S?" ":"")+f.toLowerCase()}),Z9=iv("toLowerCase");function eO(a,f,S){a=fn(a),f=zt(f);var R=f?ha(a):0;if(!f||R>=f)return a;var W=(f-R)/2;return td(qc(W),S)+a+td(jc(W),S)}function tO(a,f,S){a=fn(a),f=zt(f);var R=f?ha(a):0;return f&&R<f?a+td(f-R,S):a}function nO(a,f,S){a=fn(a),f=zt(f);var R=f?ha(a):0;return f&&R<f?td(f-R,S)+a:a}function rO(a,f,S){return S||f==null?f=0:f&&(f=+f),cx(fn(a).replace(ft,""),f||0)}function iO(a,f,S){return(S?_r(a,f,S):f===n)?f=1:f=zt(f),np(fn(a),f)}function sO(){var a=arguments,f=fn(a[0]);return a.length<3?f:f.replace(a[1],a[2])}var oO=va(function(a,f,S){return a+(S?"_":"")+f.toLowerCase()});function aO(a,f,S){return S&&typeof S!="number"&&_r(a,f,S)&&(f=S=n),S=S===n?ue:S>>>0,S?(a=fn(a),a&&(typeof f=="string"||f!=null&&!Cp(f))&&(f=Jr(f),!f&&fa(a))?eo(Ri(a),0,S):a.split(f,S)):[]}var uO=va(function(a,f,S){return a+(S?" ":"")+Pp(f)});function lO(a,f,S){return a=fn(a),S=S==null?0:Po(zt(S),0,a.length),f=Jr(f),a.slice(S,S+f.length)==f}function cO(a,f,S){var R=Y.templateSettings;S&&_r(a,f,S)&&(f=n),a=fn(a),f=hd({},f,R,dv);var W=hd({},f.imports,R.imports,dv),ee=Jn(W),ce=H0(W,ee),be,Oe,Je=0,Ke=f.interpolate||Ut,rt="__p += '",mt=j0((f.escape||Ut).source+"|"+Ke.source+"|"+(Ke===nt?We:Ut).source+"|"+(f.evaluate||Ut).source+"|$","g"),Tt="//# sourceURL="+(pn.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++vT+"]")+`
`;a.replace(mt,function(Nt,Xt,sn,Yr,wr,Xr){return sn||(sn=Yr),rt+=a.slice(Je,Xr).replace(Kt,HT),Xt&&(be=!0,rt+=`' +
__e(`+Xt+`) +
'`),wr&&(Oe=!0,rt+=`';
`+wr+`;
__p += '`),sn&&(rt+=`' +
((__t = (`+sn+`)) == null ? '' : __t) +
'`),Je=Xr+Nt.length,Nt}),rt+=`';
`;var It=pn.call(f,"variable")&&f.variable;if(!It)rt=`with (obj) {
`+rt+`
}
`;else if(Ae.test(It))throw new jt(s);rt=(Oe?rt.replace(_e,""):rt).replace(se,"$1").replace(He,"$1;"),rt="function("+(It||"obj")+`) {
`+(It?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(be?", __e = _.escape":"")+(Oe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+rt+`return __p
}`;var Vt=r2(function(){return dn(ee,Tt+"return "+rt).apply(n,ce)});if(Vt.source=rt,Sp(Vt))throw Vt;return Vt}function dO(a){return fn(a).toLowerCase()}function fO(a){return fn(a).toUpperCase()}function hO(a,f,S){if(a=fn(a),a&&(S||f===n))return fb(a);if(!a||!(f=Jr(f)))return a;var R=Ri(a),W=Ri(f),ee=hb(R,W),ce=pb(R,W)+1;return eo(R,ee,ce).join("")}function pO(a,f,S){if(a=fn(a),a&&(S||f===n))return a.slice(0,mb(a)+1);if(!a||!(f=Jr(f)))return a;var R=Ri(a),W=pb(R,Ri(f))+1;return eo(R,0,W).join("")}function gO(a,f,S){if(a=fn(a),a&&(S||f===n))return a.replace(ft,"");if(!a||!(f=Jr(f)))return a;var R=Ri(a),W=hb(R,Ri(f));return eo(R,W).join("")}function mO(a,f){var S=T,R=x;if(kn(f)){var W="separator"in f?f.separator:W;S="length"in f?zt(f.length):S,R="omission"in f?Jr(f.omission):R}a=fn(a);var ee=a.length;if(fa(a)){var ce=Ri(a);ee=ce.length}if(S>=ee)return a;var be=S-ha(R);if(be<1)return R;var Oe=ce?eo(ce,0,be).join(""):a.slice(0,be);if(W===n)return Oe+R;if(ce&&(be+=Oe.length-be),Cp(W)){if(a.slice(be).search(W)){var Je,Ke=Oe;for(W.global||(W=j0(W.source,fn(at.exec(W))+"g")),W.lastIndex=0;Je=W.exec(Ke);)var rt=Je.index;Oe=Oe.slice(0,rt===n?be:rt)}}else if(a.indexOf(Jr(W),be)!=be){var mt=Oe.lastIndexOf(W);mt>-1&&(Oe=Oe.slice(0,mt))}return Oe+R}function yO(a){return a=fn(a),a&&qt.test(a)?a.replace(qe,VT):a}var bO=va(function(a,f,S){return a+(S?" ":"")+f.toUpperCase()}),Pp=iv("toUpperCase");function n2(a,f,S){return a=fn(a),f=S?n:f,f===n?jT(a)?KT(a):RT(a):a.match(f)||[]}var r2=Jt(function(a,f){try{return Vr(a,n,f)}catch(S){return Sp(S)?S:new jt(S)}}),vO=bs(function(a,f){return hi(f,function(S){S=Ji(S),ms(a,S,Ep(a[S],a))}),a});function _O(a){var f=a==null?0:a.length,S=kt();return a=f?On(a,function(R){if(typeof R[1]!="function")throw new pi(i);return[S(R[0]),R[1]]}):[],Jt(function(R){for(var W=-1;++W<f;){var ee=a[W];if(Vr(ee[0],this,R))return Vr(ee[1],this,R)}})}function wO(a){return Vx(mi(a,u))}function Mp(a){return function(){return a}}function EO(a,f){return a==null||a!==a?f:a}var AO=ov(),SO=ov(!0);function Lr(a){return a}function Op(a){return Db(typeof a=="function"?a:mi(a,u))}function CO(a){return Fb(mi(a,u))}function TO(a,f){return Hb(a,mi(f,u))}var xO=Jt(function(a,f){return function(S){return Vu(S,a,f)}}),PO=Jt(function(a,f){return function(S){return Vu(a,S,f)}});function kp(a,f,S){var R=Jn(f),W=Jc(f,R);S==null&&!(kn(f)&&(W.length||!R.length))&&(S=f,f=a,a=this,W=Jc(f,Jn(f)));var ee=!(kn(S)&&"chain"in S)||!!S.chain,ce=_s(a);return hi(W,function(be){var Oe=f[be];a[be]=Oe,ce&&(a.prototype[be]=function(){var Je=this.__chain__;if(ee||Je){var Ke=a(this.__wrapped__),rt=Ke.__actions__=Or(this.__actions__);return rt.push({func:Oe,args:arguments,thisArg:a}),Ke.__chain__=Je,Ke}return Oe.apply(a,$s([this.value()],arguments))})}),a}function MO(){return $n._===this&&($n._=tx),this}function Rp(){}function OO(a){return a=zt(a),Jt(function(f){return Ub(f,a)})}var kO=lp(On),RO=lp(ab),LO=lp(I0);function i2(a){return mp(a)?N0(Ji(a)):lP(a)}function IO(a){return function(f){return a==null?n:Mo(a,f)}}var NO=uv(),DO=uv(!0);function Lp(){return[]}function Ip(){return!1}function BO(){return{}}function FO(){return""}function HO(){return!0}function UO(a,f){if(a=zt(a),a<1||a>X)return[];var S=ue,R=hr(a,ue);f=kt(f),a-=ue;for(var W=F0(R,f);++S<a;)f(S);return W}function jO(a){return Gt(a)?On(a,Ji):Kr(a)?[a]:Or(Sv(fn(a)))}function qO(a){var f=++ZT;return fn(a)+f}var GO=ed(function(a,f){return a+f},0),zO=cp("ceil"),WO=ed(function(a,f){return a/f},1),VO=cp("floor");function $O(a){return a&&a.length?$c(a,Lr,K0):n}function JO(a,f){return a&&a.length?$c(a,kt(f,2),K0):n}function KO(a){return cb(a,Lr)}function YO(a,f){return cb(a,kt(f,2))}function XO(a){return a&&a.length?$c(a,Lr,Z0):n}function QO(a,f){return a&&a.length?$c(a,kt(f,2),Z0):n}var ZO=ed(function(a,f){return a*f},1),ek=cp("round"),tk=ed(function(a,f){return a-f},0);function nk(a){return a&&a.length?B0(a,Lr):0}function rk(a,f){return a&&a.length?B0(a,kt(f,2)):0}return Y.after=CM,Y.ary=Nv,Y.assign=f9,Y.assignIn=Kv,Y.assignInWith=hd,Y.assignWith=h9,Y.at=p9,Y.before=Dv,Y.bind=Ep,Y.bindAll=vO,Y.bindKey=Bv,Y.castArray=BM,Y.chain=Rv,Y.chunk=VP,Y.compact=$P,Y.concat=JP,Y.cond=_O,Y.conforms=wO,Y.constant=Mp,Y.countBy=nM,Y.create=g9,Y.curry=Fv,Y.curryRight=Hv,Y.debounce=Uv,Y.defaults=m9,Y.defaultsDeep=y9,Y.defer=TM,Y.delay=xM,Y.difference=KP,Y.differenceBy=YP,Y.differenceWith=XP,Y.drop=QP,Y.dropRight=ZP,Y.dropRightWhile=e7,Y.dropWhile=t7,Y.fill=n7,Y.filter=iM,Y.flatMap=aM,Y.flatMapDeep=uM,Y.flatMapDepth=lM,Y.flatten=Pv,Y.flattenDeep=r7,Y.flattenDepth=i7,Y.flip=PM,Y.flow=AO,Y.flowRight=SO,Y.fromPairs=s7,Y.functions=S9,Y.functionsIn=C9,Y.groupBy=cM,Y.initial=a7,Y.intersection=u7,Y.intersectionBy=l7,Y.intersectionWith=c7,Y.invert=x9,Y.invertBy=P9,Y.invokeMap=fM,Y.iteratee=Op,Y.keyBy=hM,Y.keys=Jn,Y.keysIn=Rr,Y.map=ad,Y.mapKeys=O9,Y.mapValues=k9,Y.matches=CO,Y.matchesProperty=TO,Y.memoize=ld,Y.merge=R9,Y.mergeWith=Yv,Y.method=xO,Y.methodOf=PO,Y.mixin=kp,Y.negate=cd,Y.nthArg=OO,Y.omit=L9,Y.omitBy=I9,Y.once=MM,Y.orderBy=pM,Y.over=kO,Y.overArgs=OM,Y.overEvery=RO,Y.overSome=LO,Y.partial=Ap,Y.partialRight=jv,Y.partition=gM,Y.pick=N9,Y.pickBy=Xv,Y.property=i2,Y.propertyOf=IO,Y.pull=p7,Y.pullAll=Ov,Y.pullAllBy=g7,Y.pullAllWith=m7,Y.pullAt=y7,Y.range=NO,Y.rangeRight=DO,Y.rearg=kM,Y.reject=bM,Y.remove=b7,Y.rest=RM,Y.reverse=_p,Y.sampleSize=_M,Y.set=B9,Y.setWith=F9,Y.shuffle=wM,Y.slice=v7,Y.sortBy=SM,Y.sortedUniq=T7,Y.sortedUniqBy=x7,Y.split=aO,Y.spread=LM,Y.tail=P7,Y.take=M7,Y.takeRight=O7,Y.takeRightWhile=k7,Y.takeWhile=R7,Y.tap=$7,Y.throttle=IM,Y.thru=od,Y.toArray=Vv,Y.toPairs=Qv,Y.toPairsIn=Zv,Y.toPath=jO,Y.toPlainObject=Jv,Y.transform=H9,Y.unary=NM,Y.union=L7,Y.unionBy=I7,Y.unionWith=N7,Y.uniq=D7,Y.uniqBy=B7,Y.uniqWith=F7,Y.unset=U9,Y.unzip=wp,Y.unzipWith=kv,Y.update=j9,Y.updateWith=q9,Y.values=Ea,Y.valuesIn=G9,Y.without=H7,Y.words=n2,Y.wrap=DM,Y.xor=U7,Y.xorBy=j7,Y.xorWith=q7,Y.zip=G7,Y.zipObject=z7,Y.zipObjectDeep=W7,Y.zipWith=V7,Y.entries=Qv,Y.entriesIn=Zv,Y.extend=Kv,Y.extendWith=hd,kp(Y,Y),Y.add=GO,Y.attempt=r2,Y.camelCase=$9,Y.capitalize=e2,Y.ceil=zO,Y.clamp=z9,Y.clone=FM,Y.cloneDeep=UM,Y.cloneDeepWith=jM,Y.cloneWith=HM,Y.conformsTo=qM,Y.deburr=t2,Y.defaultTo=EO,Y.divide=WO,Y.endsWith=J9,Y.eq=Ii,Y.escape=K9,Y.escapeRegExp=Y9,Y.every=rM,Y.find=sM,Y.findIndex=Tv,Y.findKey=b9,Y.findLast=oM,Y.findLastIndex=xv,Y.findLastKey=v9,Y.floor=VO,Y.forEach=Lv,Y.forEachRight=Iv,Y.forIn=_9,Y.forInRight=w9,Y.forOwn=E9,Y.forOwnRight=A9,Y.get=Tp,Y.gt=GM,Y.gte=zM,Y.has=T9,Y.hasIn=xp,Y.head=Mv,Y.identity=Lr,Y.includes=dM,Y.indexOf=o7,Y.inRange=W9,Y.invoke=M9,Y.isArguments=Ro,Y.isArray=Gt,Y.isArrayBuffer=WM,Y.isArrayLike=kr,Y.isArrayLikeObject=Nn,Y.isBoolean=VM,Y.isBuffer=to,Y.isDate=$M,Y.isElement=JM,Y.isEmpty=KM,Y.isEqual=YM,Y.isEqualWith=XM,Y.isError=Sp,Y.isFinite=QM,Y.isFunction=_s,Y.isInteger=qv,Y.isLength=dd,Y.isMap=Gv,Y.isMatch=ZM,Y.isMatchWith=e9,Y.isNaN=t9,Y.isNative=n9,Y.isNil=i9,Y.isNull=r9,Y.isNumber=zv,Y.isObject=kn,Y.isObjectLike=Ln,Y.isPlainObject=Qu,Y.isRegExp=Cp,Y.isSafeInteger=s9,Y.isSet=Wv,Y.isString=fd,Y.isSymbol=Kr,Y.isTypedArray=wa,Y.isUndefined=o9,Y.isWeakMap=a9,Y.isWeakSet=u9,Y.join=d7,Y.kebabCase=X9,Y.last=bi,Y.lastIndexOf=f7,Y.lowerCase=Q9,Y.lowerFirst=Z9,Y.lt=l9,Y.lte=c9,Y.max=$O,Y.maxBy=JO,Y.mean=KO,Y.meanBy=YO,Y.min=XO,Y.minBy=QO,Y.stubArray=Lp,Y.stubFalse=Ip,Y.stubObject=BO,Y.stubString=FO,Y.stubTrue=HO,Y.multiply=ZO,Y.nth=h7,Y.noConflict=MO,Y.noop=Rp,Y.now=ud,Y.pad=eO,Y.padEnd=tO,Y.padStart=nO,Y.parseInt=rO,Y.random=V9,Y.reduce=mM,Y.reduceRight=yM,Y.repeat=iO,Y.replace=sO,Y.result=D9,Y.round=ek,Y.runInContext=xe,Y.sample=vM,Y.size=EM,Y.snakeCase=oO,Y.some=AM,Y.sortedIndex=_7,Y.sortedIndexBy=w7,Y.sortedIndexOf=E7,Y.sortedLastIndex=A7,Y.sortedLastIndexBy=S7,Y.sortedLastIndexOf=C7,Y.startCase=uO,Y.startsWith=lO,Y.subtract=tk,Y.sum=nk,Y.sumBy=rk,Y.template=cO,Y.times=UO,Y.toFinite=ws,Y.toInteger=zt,Y.toLength=$v,Y.toLower=dO,Y.toNumber=vi,Y.toSafeInteger=d9,Y.toString=fn,Y.toUpper=fO,Y.trim=hO,Y.trimEnd=pO,Y.trimStart=gO,Y.truncate=mO,Y.unescape=yO,Y.uniqueId=qO,Y.upperCase=bO,Y.upperFirst=Pp,Y.each=Lv,Y.eachRight=Iv,Y.first=Mv,kp(Y,function(){var a={};return Vi(Y,function(f,S){pn.call(Y.prototype,S)||(a[S]=f)}),a}(),{chain:!1}),Y.VERSION=e,hi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){Y[a].placeholder=Y}),hi(["drop","take"],function(a,f){tn.prototype[a]=function(S){S=S===n?1:qn(zt(S),0);var R=this.__filtered__&&!f?new tn(this):this.clone();return R.__filtered__?R.__takeCount__=hr(S,R.__takeCount__):R.__views__.push({size:hr(S,ue),type:a+(R.__dir__<0?"Right":"")}),R},tn.prototype[a+"Right"]=function(S){return this.reverse()[a](S).reverse()}}),hi(["filter","map","takeWhile"],function(a,f){var S=f+1,R=S==H||S==j;tn.prototype[a]=function(W){var ee=this.clone();return ee.__iteratees__.push({iteratee:kt(W,3),type:S}),ee.__filtered__=ee.__filtered__||R,ee}}),hi(["head","last"],function(a,f){var S="take"+(f?"Right":"");tn.prototype[a]=function(){return this[S](1).value()[0]}}),hi(["initial","tail"],function(a,f){var S="drop"+(f?"":"Right");tn.prototype[a]=function(){return this.__filtered__?new tn(this):this[S](1)}}),tn.prototype.compact=function(){return this.filter(Lr)},tn.prototype.find=function(a){return this.filter(a).head()},tn.prototype.findLast=function(a){return this.reverse().find(a)},tn.prototype.invokeMap=Jt(function(a,f){return typeof a=="function"?new tn(this):this.map(function(S){return Vu(S,a,f)})}),tn.prototype.reject=function(a){return this.filter(cd(kt(a)))},tn.prototype.slice=function(a,f){a=zt(a);var S=this;return S.__filtered__&&(a>0||f<0)?new tn(S):(a<0?S=S.takeRight(-a):a&&(S=S.drop(a)),f!==n&&(f=zt(f),S=f<0?S.dropRight(-f):S.take(f-a)),S)},tn.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},tn.prototype.toArray=function(){return this.take(ue)},Vi(tn.prototype,function(a,f){var S=/^(?:filter|find|map|reject)|While$/.test(f),R=/^(?:head|last)$/.test(f),W=Y[R?"take"+(f=="last"?"Right":""):f],ee=R||/^find/.test(f);W&&(Y.prototype[f]=function(){var ce=this.__wrapped__,be=R?[1]:arguments,Oe=ce instanceof tn,Je=be[0],Ke=Oe||Gt(ce),rt=function(Xt){var sn=W.apply(Y,$s([Xt],be));return R&&mt?sn[0]:sn};Ke&&S&&typeof Je=="function"&&Je.length!=1&&(Oe=Ke=!1);var mt=this.__chain__,Tt=!!this.__actions__.length,It=ee&&!mt,Vt=Oe&&!Tt;if(!ee&&Ke){ce=Vt?ce:new tn(this);var Nt=a.apply(ce,be);return Nt.__actions__.push({func:od,args:[rt],thisArg:n}),new gi(Nt,mt)}return It&&Vt?a.apply(this,be):(Nt=this.thru(rt),It?R?Nt.value()[0]:Nt.value():Nt)})}),hi(["pop","push","shift","sort","splice","unshift"],function(a){var f=Rc[a],S=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",R=/^(?:pop|shift)$/.test(a);Y.prototype[a]=function(){var W=arguments;if(R&&!this.__chain__){var ee=this.value();return f.apply(Gt(ee)?ee:[],W)}return this[S](function(ce){return f.apply(Gt(ce)?ce:[],W)})}}),Vi(tn.prototype,function(a,f){var S=Y[f];if(S){var R=S.name+"";pn.call(ma,R)||(ma[R]=[]),ma[R].push({name:f,func:S})}}),ma[Zc(n,h).name]=[{name:"wrapper",func:n}],tn.prototype.clone=yx,tn.prototype.reverse=bx,tn.prototype.value=vx,Y.prototype.at=J7,Y.prototype.chain=K7,Y.prototype.commit=Y7,Y.prototype.next=X7,Y.prototype.plant=Z7,Y.prototype.reverse=eM,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=tM,Y.prototype.first=Y.prototype.head,Hu&&(Y.prototype[Hu]=Q7),Y},Ks=YT();typeof define=="function"&&typeof define.amd=="object"&&define.amd?($n._=Ks,define(function(){return Ks})):So?((So.exports=Ks)._=Ks,O0._=Ks):$n._=Ks}).call(ru)});var i1=we((aY,r1)=>{F();var sA=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);sA?(t1=new Uint8Array(16),r1.exports=function(){return sA(t1),t1}):(n1=new Array(16),r1.exports=function(){for(var e=0,t;e<16;e++)e&3||(t=Math.random()*4294967296),n1[e]=t>>>((e&3)<<3)&255;return n1});var t1,n1});var s1=we((lY,aA)=>{F();var oA=[];for(nc=0;nc<256;++nc)oA[nc]=(nc+256).toString(16).substr(1);var nc;function lH(n,e){var t=e||0,r=oA;return[r[n[t++]],r[n[t++]],r[n[t++]],r[n[t++]],"-",r[n[t++]],r[n[t++]],"-",r[n[t++]],r[n[t++]],"-",r[n[t++]],r[n[t++]],"-",r[n[t++]],r[n[t++]],r[n[t++]],r[n[t++]],r[n[t++]],r[n[t++]]].join("")}aA.exports=lH});var cA=we((dY,lA)=>{F();var cH=i1(),dH=s1(),uA,o1,a1=0,u1=0;function fH(n,e,t){var r=e&&t||0,i=e||[];n=n||{};var s=n.node||uA,o=n.clockseq!==void 0?n.clockseq:o1;if(s==null||o==null){var c=cH();s==null&&(s=uA=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),o==null&&(o=o1=(c[6]<<8|c[7])&16383)}var d=n.msecs!==void 0?n.msecs:new Date().getTime(),u=n.nsecs!==void 0?n.nsecs:u1+1,p=d-a1+(u-u1)/1e4;if(p<0&&n.clockseq===void 0&&(o=o+1&16383),(p<0||d>a1)&&n.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a1=d,u1=u,o1=o,d+=122192928e5;var m=((d&268435455)*1e4+u)%4294967296;i[r++]=m>>>24&255,i[r++]=m>>>16&255,i[r++]=m>>>8&255,i[r++]=m&255;var b=d/4294967296*1e4&268435455;i[r++]=b>>>8&255,i[r++]=b&255,i[r++]=b>>>24&15|16,i[r++]=b>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var v=0;v<6;++v)i[r+v]=s[v];return e||dH(i)}lA.exports=fH});var fA=we((hY,dA)=>{F();var hH=i1(),pH=s1();function gH(n,e,t){var r=e&&t||0;typeof n=="string"&&(e=n==="binary"?new Array(16):null,n=null),n=n||{};var i=n.random||(n.rng||hH)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e)for(var s=0;s<16;++s)e[r+s]=i[s];return e||pH(i)}dA.exports=gH});var c1=we((gY,pA)=>{F();var mH=cA(),hA=fA(),l1=hA;l1.v1=mH;l1.v4=hA;pA.exports=l1});var vA=we(ea=>{"use strict";F();var f1;Object.defineProperty(ea,"__esModule",{value:!0});ea.MediaOverlayNode=ea.timeStrToSeconds=void 0;var Fs=(Ei(),Qr(wi)),yo=ir(),vH=ro();function _H(n){if(!n)return 0;n=n.replace("npt=","");let e=0,t=0,r=0;try{let i=n.indexOf("min");if(i>0){let s=n.substr(0,i);t=parseFloat(s)}else{let s=n.indexOf("ms");if(s>0){let o=n.substr(0,s);r=parseFloat(o)/1e3}else{let o=n.indexOf("s");if(o>0){let c=n.substr(0,o);r=parseFloat(c)}else{let c=n.indexOf("h");if(c>0){let d=n.substr(0,c);e=parseFloat(d)}else{let d=n.split(":");d.length===1?r=parseFloat(d[0]):d.length===2?(t=parseFloat(d[0]),r=parseFloat(d[1])):d.length===3?(e=parseFloat(d[0]),t=parseFloat(d[1]),r=parseFloat(d[2])):(console.log("SMIL TIME CLOCK SYNTAX PARSING ERROR ??"),console.log(n))}}}}}catch(i){return console.log(i),console.log("SMIL TIME CLOCK SYNTAX PARSING ERROR!"),console.log(n),0}return e*3600+t*60+r}ea.timeStrToSeconds=_H;var lu=ea.MediaOverlayNode=f1=class{constructor(){this.initialized=!1}};Fs.__decorate([(0,yo.JsonProperty)("text"),Fs.__metadata("design:type",String)],lu.prototype,"Text",void 0);Fs.__decorate([(0,yo.JsonProperty)("audio"),Fs.__metadata("design:type",String)],lu.prototype,"Audio",void 0);Fs.__decorate([(0,yo.JsonProperty)("role"),(0,yo.JsonConverter)(vH.JsonStringConverter),(0,yo.JsonElementType)(String),Fs.__metadata("design:type",Array)],lu.prototype,"Role",void 0);Fs.__decorate([(0,yo.JsonProperty)("narration"),(0,yo.JsonElementType)(f1),Fs.__metadata("design:type",Array)],lu.prototype,"Children",void 0);ea.MediaOverlayNode=lu=f1=Fs.__decorate([(0,yo.JsonObject)()],lu)});var AA=we((rc,g1)=>{F();(function(n,e){typeof rc=="object"&&typeof g1=="object"?g1.exports=e():typeof define=="function"&&define.amd?define([],e):typeof rc=="object"?rc.devtoolsDetector=e():n.devtoolsDetector=e()})(typeof self<"u"?self:rc,function(){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(r,i,s){t.o(r,i)||Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:s})},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=3)}([function(n,e,t){"use strict";t.d(e,"j",function(){return p}),t.d(e,"e",function(){return m}),t.d(e,"f",function(){return b}),t.d(e,"d",function(){return v}),t.d(e,"i",function(){return y}),t.d(e,"g",function(){return h}),t.d(e,"c",function(){return l}),t.d(e,"h",function(){return g}),e.a=function(){for(var E,A=[],_=0;_<arguments.length;_++)A[_]=arguments[_];return u!=null&&u.document?(E=u.document).createElement.apply(E,A):{}},t.d(e,"b",function(){return w});var r,i,s,o,c,d=t(1),u=Object(d.a)(),p=((r=u==null?void 0:u.navigator)===null||r===void 0?void 0:r.userAgent)||"unknown",m="InstallTrigger"in((u==null?void 0:u.window)||{})||/firefox/i.test(p),b=/trident/i.test(p)||/msie/i.test(p),v=/edge/i.test(p),y=/webkit/i.test(p)&&!v,h=/IqiyiApp/.test(p),l=((i=u==null?void 0:u.window)===null||i===void 0?void 0:i.chrome)!==void 0||/chrome/i.test(p)||/CriOS/i.test(p),g=(((o=(s=u==null?void 0:u.window)===null||s===void 0?void 0:s.safari)===null||o===void 0?void 0:o.pushNotification)||!1).toString()==="[object SafariRemoteNotification]"||/safari/i.test(p)&&!l,w=typeof((c=u.document)===null||c===void 0?void 0:c.createElement)=="function"},function(n,e,t){"use strict";(function(r){e.c=function(){return typeof performance<"u"?performance.now():Date.now()},e.b=function(o){o===void 0&&(o={});for(var c=o.includes,d=c===void 0?[]:c,u=o.excludes,p=u===void 0?[]:u,m=!1,b=!1,v=0,y=d;v<y.length;v++){var h=y[v];if(h===!0){m=!0;break}}for(var l=0,g=p;l<g.length;l++){var h=g[l];if(h===!0){b=!0;break}}return m&&!b},e.d=function(o,c,d){var u=s.a[o];return u===void 0?!1:Object(i.compare)(u,c,d)},e.a=function(){return typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:this};var i=t(8),s=(t.n(i),t(4))}).call(e,t(7))},function(n,e,t){"use strict";t.d(e,"b",function(){return s}),t.d(e,"c",function(){return o}),t.d(e,"a",function(){return c});var r=t(0);function i(d){if(console){if(!r.f&&!r.d)return console[d];if(d==="log"||d==="clear")return function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];console[d].apply(console,u)}}return function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p]}}var s=i("log"),o=i("table"),c=i("clear")},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addListener=function(m){p.addListener(m)},e.removeListener=function(m){p.removeListener(m)},e.isLaunch=function(){return p.isLaunch()},e.launch=function(){p.launch()},e.stop=function(){p.stop()},e.setDetectDelay=function(m){p.setDetectDelay(m)};var r=t(6),i=t(9);t.d(e,"DevtoolsDetector",function(){return r.a}),t.d(e,"checkers",function(){return i});var s=t(1);t.d(e,"match",function(){return s.b}),t.d(e,"specificVersionMatch",function(){return s.d});var o=t(0);t.d(e,"userAgent",function(){return o.j}),t.d(e,"isFirefox",function(){return o.e}),t.d(e,"isIE",function(){return o.f}),t.d(e,"isEdge",function(){return o.d}),t.d(e,"isWebkit",function(){return o.i}),t.d(e,"isIqiyiApp",function(){return o.g}),t.d(e,"isChrome",function(){return o.c}),t.d(e,"isSafari",function(){return o.h}),t.d(e,"createElement",function(){return o.a}),t.d(e,"inBrowser",function(){return o.b});var c=t(2);t.d(e,"log",function(){return c.b}),t.d(e,"table",function(){return c.c}),t.d(e,"clear",function(){return c.a});var d=t(4);t.d(e,"versionMap",function(){return d.a});var u=t(5);t.d(e,"isMac",function(){return u.d}),t.d(e,"isIpad",function(){return u.b}),t.d(e,"isIphone",function(){return u.c}),t.d(e,"isAndroid",function(){return u.a}),t.d(e,"isWindows",function(){return u.e});var p=new r.a({checkers:[i.erudaChecker,i.elementIdChecker,i.regToStringChecker,i.functionToStringChecker,i.depRegToStringChecker,i.dateToStringChecker,i.performanceChecker,i.debuggerChecker]});e.default=p},function(n,e,t){"use strict";t.d(e,"a",function(){return r});for(var r={},i=0,s=(t(0).j||"").match(/\w+\/(\d|\.)+(\s|$)/gi)||[];i<s.length;i++){var o=s[i].split("/"),c=o[0],d=o[1];r[c]=d}},function(n,e,t){"use strict";t.d(e,"d",function(){return i}),t.d(e,"b",function(){return s}),t.d(e,"c",function(){return o}),t.d(e,"a",function(){return c}),t.d(e,"e",function(){return d});var r=t(0),i=/macintosh/i.test(r.j),s=/ipad/i.test(r.j)||i&&navigator.maxTouchPoints>1,o=/iphone/i.test(r.j),c=/android/i.test(r.j),d=/windows/i.test(r.j)},function(n,e,t){"use strict";t.d(e,"a",function(){return o});var r=t(0),i=this&&this.__awaiter||function(c,d,u,p){return new(u||(u=Promise))(function(m,b){function v(l){try{h(p.next(l))}catch(g){b(g)}}function y(l){try{h(p.throw(l))}catch(g){b(g)}}function h(l){l.done?m(l.value):function(g){return g instanceof u?g:new u(function(w){w(g)})}(l.value).then(v,y)}h((p=p.apply(c,d||[])).next())})},s=this&&this.__generator||function(c,d){var u,p,m,b,v={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return b={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function y(h){return function(l){return function(g){if(u)throw new TypeError("Generator is already executing.");for(;v;)try{if(u=1,p&&(m=2&g[0]?p.return:g[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,g[1])).done)return m;switch(p=0,m&&(g=[2&g[0],m.value]),g[0]){case 0:case 1:m=g;break;case 4:return v.label++,{value:g[1],done:!1};case 5:v.label++,p=g[1],g=[0];continue;case 7:g=v.ops.pop(),v.trys.pop();continue;default:if(!(m=(m=v.trys).length>0&&m[m.length-1])&&(g[0]===6||g[0]===2)){v=0;continue}if(g[0]===3&&(!m||g[1]>m[0]&&g[1]<m[3])){v.label=g[1];break}if(g[0]===6&&v.label<m[1]){v.label=m[1],m=g;break}if(m&&v.label<m[2]){v.label=m[2],v.ops.push(g);break}m[2]&&v.ops.pop(),v.trys.pop();continue}g=d.call(c,v)}catch(w){g=[6,w],p=0}finally{u=m=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([h,l])}}},o=function(){function c(d){var u=d.checkers;this._listeners=[],this._isOpen=!1,this._detectLoopStopped=!0,this._detectLoopDelay=500,this._checkers=u.slice()}return c.prototype.launch=function(){r.b&&(this._detectLoopDelay<=0&&this.setDetectDelay(500),this._detectLoopStopped&&(this._detectLoopStopped=!1,this._detectLoop()))},c.prototype.stop=function(){this._detectLoopStopped||(this._detectLoopStopped=!0,clearTimeout(this._timer))},c.prototype.isLaunch=function(){return!this._detectLoopStopped},c.prototype.setDetectDelay=function(d){this._detectLoopDelay=d},c.prototype.addListener=function(d){this._listeners.push(d)},c.prototype.removeListener=function(d){this._listeners=this._listeners.filter(function(u){return u!==d})},c.prototype._broadcast=function(d){for(var u=0,p=this._listeners;u<p.length;u++){var m=p[u];try{m(d.isOpen,d)}catch{}}},c.prototype._detectLoop=function(){return i(this,void 0,void 0,function(){var d,u,p,m,b,v=this;return s(this,function(y){switch(y.label){case 0:d=!1,u="",p=0,m=this._checkers,y.label=1;case 1:return p<m.length?[4,(b=m[p]).isEnable()]:[3,6];case 2:return y.sent()?(u=b.name,[4,b.isOpen()]):[3,4];case 3:d=y.sent(),y.label=4;case 4:if(d)return[3,6];y.label=5;case 5:return p++,[3,1];case 6:return d!=this._isOpen&&(this._isOpen=d,this._broadcast({isOpen:d,checkerName:u})),this._detectLoopDelay>0&&!this._detectLoopStopped?this._timer=setTimeout(function(){return v._detectLoop()},this._detectLoopDelay):this.stop(),[2]}})})},c}()},function(n,e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(t=window)}n.exports=t},function(n,e,t){var r,i,s;(function(o,c){i=[],(s=typeof(r=c)=="function"?r.apply(e,i):r)===void 0||(n.exports=s)})(0,function(){var o=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function c(v){var y=v.replace(/^v/,"").replace(/\+.*$/,""),h=function(g,w){return g.indexOf(w)===-1?g.length:g.indexOf(w)}(y,"-"),l=y.substring(0,h).split(".");return l.push(y.substring(h+1)),l}function d(v){return isNaN(Number(v))?v:Number(v)}function u(v){if(typeof v!="string")throw new TypeError("Invalid argument expected string");if(!o.test(v))throw new Error("Invalid argument not valid semver ('"+v+"' received)")}function p(v,y){[v,y].forEach(u);for(var h=c(v),l=c(y),g=0;g<Math.max(h.length-1,l.length-1);g++){var w=parseInt(h[g]||0,10),E=parseInt(l[g]||0,10);if(w>E)return 1;if(E>w)return-1}var A=h[h.length-1],_=l[l.length-1];if(A&&_){var C=A.split(".").map(d),I=_.split(".").map(d);for(g=0;g<Math.max(C.length,I.length);g++){if(C[g]===void 0||typeof I[g]=="string"&&typeof C[g]=="number")return-1;if(I[g]===void 0||typeof C[g]=="string"&&typeof I[g]=="number"||C[g]>I[g])return 1;if(I[g]>C[g])return-1}}else if(A||_)return A?-1:1;return 0}var m=[">",">=","=","<","<="],b={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return p.validate=function(v){return typeof v=="string"&&o.test(v)},p.compare=function(v,y,h){(function(g){if(typeof g!="string")throw new TypeError("Invalid operator type, expected string but got "+typeof g);if(m.indexOf(g)===-1)throw new TypeError("Invalid operator, expected one of "+m.join("|"))})(h);var l=p(v,y);return b[h].indexOf(l)>-1},p})},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(10);t.d(e,"depRegToStringChecker",function(){return r.a});var i=t(11);t.d(e,"elementIdChecker",function(){return i.a});var s=t(12);t.d(e,"functionToStringChecker",function(){return s.a});var o=t(13);t.d(e,"regToStringChecker",function(){return o.a});var c=t(14);t.d(e,"debuggerChecker",function(){return c.a});var d=t(15);t.d(e,"dateToStringChecker",function(){return d.a});var u=t(16);t.d(e,"performanceChecker",function(){return u.a});var p=t(17);t.d(e,"erudaChecker",function(){return p.a})},function(n,e,t){"use strict";t.d(e,"a",function(){return p});var r=t(0),i=t(2),s=t(1),o=this&&this.__awaiter||function(m,b,v,y){return new(v||(v=Promise))(function(h,l){function g(A){try{E(y.next(A))}catch(_){l(_)}}function w(A){try{E(y.throw(A))}catch(_){l(_)}}function E(A){A.done?h(A.value):function(_){return _ instanceof v?_:new v(function(C){C(_)})}(A.value).then(g,w)}E((y=y.apply(m,b||[])).next())})},c=this&&this.__generator||function(m,b){var v,y,h,l,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return l={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function w(E){return function(A){return function(_){if(v)throw new TypeError("Generator is already executing.");for(;g;)try{if(v=1,y&&(h=2&_[0]?y.return:_[0]?y.throw||((h=y.return)&&h.call(y),0):y.next)&&!(h=h.call(y,_[1])).done)return h;switch(y=0,h&&(_=[2&_[0],h.value]),_[0]){case 0:case 1:h=_;break;case 4:return g.label++,{value:_[1],done:!1};case 5:g.label++,y=_[1],_=[0];continue;case 7:_=g.ops.pop(),g.trys.pop();continue;default:if(!(h=(h=g.trys).length>0&&h[h.length-1])&&(_[0]===6||_[0]===2)){g=0;continue}if(_[0]===3&&(!h||_[1]>h[0]&&_[1]<h[3])){g.label=_[1];break}if(_[0]===6&&g.label<h[1]){g.label=h[1],h=_;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(_);break}h[2]&&g.ops.pop(),g.trys.pop();continue}_=b.call(m,g)}catch(C){_=[6,C],y=0}finally{v=h=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([E,A])}}},d=/ /,u=!1;d.toString=function(){return u=!0,p.name};var p={name:"dep-reg-to-string",isOpen:function(){return o(this,void 0,void 0,function(){return c(this,function(m){return u=!1,Object(i.c)({dep:d}),Object(i.a)(),[2,u]})})},isEnable:function(){return o(this,void 0,void 0,function(){return c(this,function(m){return[2,Object(s.b)({includes:[!0],excludes:[r.e,r.f]})]})})}}},function(n,e,t){"use strict";t.d(e,"a",function(){return p});var r=t(0),i=t(2),s=t(1),o=this&&this.__awaiter||function(m,b,v,y){return new(v||(v=Promise))(function(h,l){function g(A){try{E(y.next(A))}catch(_){l(_)}}function w(A){try{E(y.throw(A))}catch(_){l(_)}}function E(A){A.done?h(A.value):function(_){return _ instanceof v?_:new v(function(C){C(_)})}(A.value).then(g,w)}E((y=y.apply(m,b||[])).next())})},c=this&&this.__generator||function(m,b){var v,y,h,l,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return l={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function w(E){return function(A){return function(_){if(v)throw new TypeError("Generator is already executing.");for(;g;)try{if(v=1,y&&(h=2&_[0]?y.return:_[0]?y.throw||((h=y.return)&&h.call(y),0):y.next)&&!(h=h.call(y,_[1])).done)return h;switch(y=0,h&&(_=[2&_[0],h.value]),_[0]){case 0:case 1:h=_;break;case 4:return g.label++,{value:_[1],done:!1};case 5:g.label++,y=_[1],_=[0];continue;case 7:_=g.ops.pop(),g.trys.pop();continue;default:if(!(h=(h=g.trys).length>0&&h[h.length-1])&&(_[0]===6||_[0]===2)){g=0;continue}if(_[0]===3&&(!h||_[1]>h[0]&&_[1]<h[3])){g.label=_[1];break}if(_[0]===6&&g.label<h[1]){g.label=h[1],h=_;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(_);break}h[2]&&g.ops.pop(),g.trys.pop();continue}_=b.call(m,g)}catch(C){_=[6,C],y=0}finally{v=h=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([E,A])}}},d=Object(r.a)("div"),u=!1;Object.defineProperty(d,"id",{get:function(){return u=!0,p.name},configurable:!0});var p={name:"element-id",isOpen:function(){return o(this,void 0,void 0,function(){return c(this,function(m){return u=!1,Object(i.b)(d),Object(i.a)(),[2,u]})})},isEnable:function(){return o(this,void 0,void 0,function(){return c(this,function(m){return[2,Object(s.b)({includes:[!0],excludes:[r.f,r.d,r.e]})]})})}}},function(n,e,t){"use strict";t.d(e,"a",function(){return m});var r=t(0),i=t(2),s=t(5),o=t(1),c=this&&this.__awaiter||function(b,v,y,h){return new(y||(y=Promise))(function(l,g){function w(_){try{A(h.next(_))}catch(C){g(C)}}function E(_){try{A(h.throw(_))}catch(C){g(C)}}function A(_){_.done?l(_.value):function(C){return C instanceof y?C:new y(function(I){I(C)})}(_.value).then(w,E)}A((h=h.apply(b,v||[])).next())})},d=this&&this.__generator||function(b,v){var y,h,l,g,w={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return g={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function E(A){return function(_){return function(C){if(y)throw new TypeError("Generator is already executing.");for(;w;)try{if(y=1,h&&(l=2&C[0]?h.return:C[0]?h.throw||((l=h.return)&&l.call(h),0):h.next)&&!(l=l.call(h,C[1])).done)return l;switch(h=0,l&&(C=[2&C[0],l.value]),C[0]){case 0:case 1:l=C;break;case 4:return w.label++,{value:C[1],done:!1};case 5:w.label++,h=C[1],C=[0];continue;case 7:C=w.ops.pop(),w.trys.pop();continue;default:if(!(l=(l=w.trys).length>0&&l[l.length-1])&&(C[0]===6||C[0]===2)){w=0;continue}if(C[0]===3&&(!l||C[1]>l[0]&&C[1]<l[3])){w.label=C[1];break}if(C[0]===6&&w.label<l[1]){w.label=l[1],l=C;break}if(l&&w.label<l[2]){w.label=l[2],w.ops.push(C);break}l[2]&&w.ops.pop(),w.trys.pop();continue}C=v.call(b,w)}catch(I){C=[6,I],h=0}finally{y=l=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([A,_])}}};function u(){}var p=0;u.toString=function(){return p++,""};var m={name:"function-to-string",isOpen:function(){return c(this,void 0,void 0,function(){return d(this,function(b){return p=0,Object(i.b)(u),Object(i.a)(),[2,p===2]})})},isEnable:function(){return c(this,void 0,void 0,function(){return d(this,function(b){return[2,Object(o.b)({includes:[!0],excludes:[r.g,r.e,(s.b||s.c)&&r.c]})]})})}}},function(n,e,t){"use strict";t.d(e,"a",function(){return p});var r=t(2),i=t(0),s=t(1),o=this&&this.__awaiter||function(m,b,v,y){return new(v||(v=Promise))(function(h,l){function g(A){try{E(y.next(A))}catch(_){l(_)}}function w(A){try{E(y.throw(A))}catch(_){l(_)}}function E(A){A.done?h(A.value):function(_){return _ instanceof v?_:new v(function(C){C(_)})}(A.value).then(g,w)}E((y=y.apply(m,b||[])).next())})},c=this&&this.__generator||function(m,b){var v,y,h,l,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return l={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function w(E){return function(A){return function(_){if(v)throw new TypeError("Generator is already executing.");for(;g;)try{if(v=1,y&&(h=2&_[0]?y.return:_[0]?y.throw||((h=y.return)&&h.call(y),0):y.next)&&!(h=h.call(y,_[1])).done)return h;switch(y=0,h&&(_=[2&_[0],h.value]),_[0]){case 0:case 1:h=_;break;case 4:return g.label++,{value:_[1],done:!1};case 5:g.label++,y=_[1],_=[0];continue;case 7:_=g.ops.pop(),g.trys.pop();continue;default:if(!(h=(h=g.trys).length>0&&h[h.length-1])&&(_[0]===6||_[0]===2)){g=0;continue}if(_[0]===3&&(!h||_[1]>h[0]&&_[1]<h[3])){g.label=_[1];break}if(_[0]===6&&g.label<h[1]){g.label=h[1],h=_;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(_);break}h[2]&&g.ops.pop(),g.trys.pop();continue}_=b.call(m,g)}catch(C){_=[6,C],y=0}finally{v=h=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([E,A])}}},d=/ /,u=!1;d.toString=function(){return u=!0,p.name};var p={name:"reg-to-string",isOpen:function(){return o(this,void 0,void 0,function(){return c(this,function(m){return u=!1,Object(r.b)(d),Object(r.a)(),[2,u]})})},isEnable:function(){return o(this,void 0,void 0,function(){return c(this,function(m){return[2,Object(s.b)({includes:[!0],excludes:[i.i]})]})})}}},function(n,e,t){"use strict";t.d(e,"a",function(){return o});var r=t(1),i=this&&this.__awaiter||function(c,d,u,p){return new(u||(u=Promise))(function(m,b){function v(l){try{h(p.next(l))}catch(g){b(g)}}function y(l){try{h(p.throw(l))}catch(g){b(g)}}function h(l){l.done?m(l.value):function(g){return g instanceof u?g:new u(function(w){w(g)})}(l.value).then(v,y)}h((p=p.apply(c,d||[])).next())})},s=this&&this.__generator||function(c,d){var u,p,m,b,v={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return b={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function y(h){return function(l){return function(g){if(u)throw new TypeError("Generator is already executing.");for(;v;)try{if(u=1,p&&(m=2&g[0]?p.return:g[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,g[1])).done)return m;switch(p=0,m&&(g=[2&g[0],m.value]),g[0]){case 0:case 1:m=g;break;case 4:return v.label++,{value:g[1],done:!1};case 5:v.label++,p=g[1],g=[0];continue;case 7:g=v.ops.pop(),v.trys.pop();continue;default:if(!(m=(m=v.trys).length>0&&m[m.length-1])&&(g[0]===6||g[0]===2)){v=0;continue}if(g[0]===3&&(!m||g[1]>m[0]&&g[1]<m[3])){v.label=g[1];break}if(g[0]===6&&v.label<m[1]){v.label=m[1],m=g;break}if(m&&v.label<m[2]){v.label=m[2],v.ops.push(g);break}m[2]&&v.ops.pop(),v.trys.pop();continue}g=d.call(c,v)}catch(w){g=[6,w],p=0}finally{u=m=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([h,l])}}},o={name:"debugger-checker",isOpen:function(){return i(this,void 0,void 0,function(){var c;return s(this,function(d){return c=Object(r.c)(),(function(){}).constructor("debugger")(),[2,Object(r.c)()-c>100]})})},isEnable:function(){return i(this,void 0,void 0,function(){return s(this,function(c){return[2,!0]})})}}},function(n,e,t){"use strict";t.d(e,"a",function(){return m});var r=t(0),i=t(2),s=t(1),o=t(3),c=this&&this.__awaiter||function(b,v,y,h){return new(y||(y=Promise))(function(l,g){function w(_){try{A(h.next(_))}catch(C){g(C)}}function E(_){try{A(h.throw(_))}catch(C){g(C)}}function A(_){_.done?l(_.value):function(C){return C instanceof y?C:new y(function(I){I(C)})}(_.value).then(w,E)}A((h=h.apply(b,v||[])).next())})},d=this&&this.__generator||function(b,v){var y,h,l,g,w={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return g={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function E(A){return function(_){return function(C){if(y)throw new TypeError("Generator is already executing.");for(;w;)try{if(y=1,h&&(l=2&C[0]?h.return:C[0]?h.throw||((l=h.return)&&l.call(h),0):h.next)&&!(l=l.call(h,C[1])).done)return l;switch(h=0,l&&(C=[2&C[0],l.value]),C[0]){case 0:case 1:l=C;break;case 4:return w.label++,{value:C[1],done:!1};case 5:w.label++,h=C[1],C=[0];continue;case 7:C=w.ops.pop(),w.trys.pop();continue;default:if(!(l=(l=w.trys).length>0&&l[l.length-1])&&(C[0]===6||C[0]===2)){w=0;continue}if(C[0]===3&&(!l||C[1]>l[0]&&C[1]<l[3])){w.label=C[1];break}if(C[0]===6&&w.label<l[1]){w.label=l[1],l=C;break}if(l&&w.label<l[2]){w.label=l[2],w.ops.push(C);break}l[2]&&w.ops.pop(),w.trys.pop();continue}C=v.call(b,w)}catch(I){C=[6,I],h=0}finally{y=l=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([A,_])}}},u=new Date,p=0;u.toString=function(){return p++,""};var m={name:"date-to-string",isOpen:function(){return c(this,void 0,void 0,function(){return d(this,function(b){return p=0,Object(i.b)(u),Object(i.a)(),[2,p===2]})})},isEnable:function(){return c(this,void 0,void 0,function(){return d(this,function(b){return[2,Object(s.b)({includes:[r.c],excludes:[(o.isIpad||o.isIphone)&&r.c]})]})})}}},function(n,e,t){"use strict";t.d(e,"a",function(){return p});var r=t(0),i=t(2),s=t(1),o=this&&this.__awaiter||function(m,b,v,y){return new(v||(v=Promise))(function(h,l){function g(A){try{E(y.next(A))}catch(_){l(_)}}function w(A){try{E(y.throw(A))}catch(_){l(_)}}function E(A){A.done?h(A.value):function(_){return _ instanceof v?_:new v(function(C){C(_)})}(A.value).then(g,w)}E((y=y.apply(m,b||[])).next())})},c=this&&this.__generator||function(m,b){var v,y,h,l,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return l={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function w(E){return function(A){return function(_){if(v)throw new TypeError("Generator is already executing.");for(;g;)try{if(v=1,y&&(h=2&_[0]?y.return:_[0]?y.throw||((h=y.return)&&h.call(y),0):y.next)&&!(h=h.call(y,_[1])).done)return h;switch(y=0,h&&(_=[2&_[0],h.value]),_[0]){case 0:case 1:h=_;break;case 4:return g.label++,{value:_[1],done:!1};case 5:g.label++,y=_[1],_=[0];continue;case 7:_=g.ops.pop(),g.trys.pop();continue;default:if(!(h=(h=g.trys).length>0&&h[h.length-1])&&(_[0]===6||_[0]===2)){g=0;continue}if(_[0]===3&&(!h||_[1]>h[0]&&_[1]<h[3])){g.label=_[1];break}if(_[0]===6&&g.label<h[1]){g.label=h[1],h=_;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(_);break}h[2]&&g.ops.pop(),g.trys.pop();continue}_=b.call(m,g)}catch(C){_=[6,C],y=0}finally{v=h=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([E,A])}}},d=null,u=0,p={name:"performance",isOpen:function(){return o(this,void 0,void 0,function(){var m,b;return c(this,function(v){return d===null&&(d=function(){for(var y=function(){for(var g={},w=0;w<500;w++)g["".concat(w)]="".concat(w);return g}(),h=[],l=0;l<50;l++)h.push(y);return h}()),m=function(){var y=Object(s.c)();return Object(i.c)(d),Object(s.c)()-y}(),b=function(){var y=Object(s.c)();return Object(i.b)(d),Object(s.c)()-y}(),u=Math.max(u,b),Object(i.a)(),m===0?[2,!1]:u===0?[2,!1]:[2,m>10*u]})})},isEnable:function(){return o(this,void 0,void 0,function(){return c(this,function(m){return[2,Object(s.b)({includes:[r.c],excludes:[]})]})})}}},function(n,e,t){"use strict";t.d(e,"a",function(){return s});var r=this&&this.__awaiter||function(o,c,d,u){return new(d||(d=Promise))(function(p,m){function b(h){try{y(u.next(h))}catch(l){m(l)}}function v(h){try{y(u.throw(h))}catch(l){m(l)}}function y(h){h.done?p(h.value):function(l){return l instanceof d?l:new d(function(g){g(l)})}(h.value).then(b,v)}y((u=u.apply(o,c||[])).next())})},i=this&&this.__generator||function(o,c){var d,u,p,m,b={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(h){return function(l){if(d)throw new TypeError("Generator is already executing.");for(;b;)try{if(d=1,u&&(p=2&l[0]?u.return:l[0]?u.throw||((p=u.return)&&p.call(u),0):u.next)&&!(p=p.call(u,l[1])).done)return p;switch(u=0,p&&(l=[2&l[0],p.value]),l[0]){case 0:case 1:p=l;break;case 4:return b.label++,{value:l[1],done:!1};case 5:b.label++,u=l[1],l=[0];continue;case 7:l=b.ops.pop(),b.trys.pop();continue;default:if(!(p=(p=b.trys).length>0&&p[p.length-1])&&(l[0]===6||l[0]===2)){b=0;continue}if(l[0]===3&&(!p||l[1]>p[0]&&l[1]<p[3])){b.label=l[1];break}if(l[0]===6&&b.label<p[1]){b.label=p[1],p=l;break}if(p&&b.label<p[2]){b.label=p[2],b.ops.push(l);break}p[2]&&b.ops.pop(),b.trys.pop();continue}l=c.call(o,b)}catch(g){l=[6,g],u=0}finally{d=p=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([y,h])}}},s={name:"eruda",isOpen:function(){var o;return r(this,void 0,void 0,function(){return i(this,function(c){return typeof eruda<"u"?[2,((o=eruda==null?void 0:eruda._devTools)===null||o===void 0?void 0:o._isShow)===!0]:[2,!1]})})},isEnable:function(){return r(this,void 0,void 0,function(){return i(this,function(o){return[2,!0]})})}}}])})});var SA=we((CX,EH)=>{EH.exports=[{name:"nodejs",version:"0.2.0",date:"2011-08-26",lts:!1,security:!1,v8:"2.3.8.0"},{name:"nodejs",version:"0.3.0",date:"2011-08-26",lts:!1,security:!1,v8:"2.5.1.0"},{name:"nodejs",version:"0.4.0",date:"2011-08-26",lts:!1,security:!1,v8:"3.1.2.0"},{name:"nodejs",version:"0.5.0",date:"2011-08-26",lts:!1,security:!1,v8:"3.1.8.25"},{name:"nodejs",version:"0.6.0",date:"2011-11-04",lts:!1,security:!1,v8:"3.6.6.6"},{name:"nodejs",version:"0.7.0",date:"2012-01-17",lts:!1,security:!1,v8:"3.8.6.0"},{name:"nodejs",version:"0.8.0",date:"2012-06-22",lts:!1,security:!1,v8:"3.11.10.10"},{name:"nodejs",version:"0.9.0",date:"2012-07-20",lts:!1,security:!1,v8:"3.11.10.15"},{name:"nodejs",version:"0.10.0",date:"2013-03-11",lts:!1,security:!1,v8:"3.14.5.8"},{name:"nodejs",version:"0.11.0",date:"2013-03-28",lts:!1,security:!1,v8:"3.17.13.0"},{name:"nodejs",version:"0.12.0",date:"2015-02-06",lts:!1,security:!1,v8:"3.28.73.0"},{name:"nodejs",version:"4.0.0",date:"2015-09-08",lts:!1,security:!1,v8:"4.5.103.30"},{name:"nodejs",version:"4.1.0",date:"2015-09-17",lts:!1,security:!1,v8:"4.5.103.33"},{name:"nodejs",version:"4.2.0",date:"2015-10-12",lts:"Argon",security:!1,v8:"4.5.103.35"},{name:"nodejs",version:"4.3.0",date:"2016-02-09",lts:"Argon",security:!1,v8:"4.5.103.35"},{name:"nodejs",version:"4.4.0",date:"2016-03-08",lts:"Argon",security:!1,v8:"4.5.103.35"},{name:"nodejs",version:"4.5.0",date:"2016-08-16",lts:"Argon",security:!1,v8:"4.5.103.37"},{name:"nodejs",version:"4.6.0",date:"2016-09-27",lts:"Argon",security:!0,v8:"4.5.103.37"},{name:"nodejs",version:"4.7.0",date:"2016-12-06",lts:"Argon",security:!1,v8:"4.5.103.43"},{name:"nodejs",version:"4.8.0",date:"2017-02-21",lts:"Argon",security:!1,v8:"4.5.103.45"},{name:"nodejs",version:"4.9.0",date:"2018-03-28",lts:"Argon",security:!0,v8:"4.5.103.53"},{name:"nodejs",version:"5.0.0",date:"2015-10-29",lts:!1,security:!1,v8:"4.6.85.28"},{name:"nodejs",version:"5.1.0",date:"2015-11-17",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.2.0",date:"2015-12-09",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.3.0",date:"2015-12-15",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.4.0",date:"2016-01-06",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.5.0",date:"2016-01-21",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.6.0",date:"2016-02-09",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.7.0",date:"2016-02-23",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.8.0",date:"2016-03-09",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.9.0",date:"2016-03-16",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.10.0",date:"2016-04-01",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.11.0",date:"2016-04-21",lts:!1,security:!1,v8:"4.6.85.31"},{name:"nodejs",version:"5.12.0",date:"2016-06-23",lts:!1,security:!1,v8:"4.6.85.32"},{name:"nodejs",version:"6.0.0",date:"2016-04-26",lts:!1,security:!1,v8:"5.0.71.35"},{name:"nodejs",version:"6.1.0",date:"2016-05-05",lts:!1,security:!1,v8:"5.0.71.35"},{name:"nodejs",version:"6.2.0",date:"2016-05-17",lts:!1,security:!1,v8:"5.0.71.47"},{name:"nodejs",version:"6.3.0",date:"2016-07-06",lts:!1,security:!1,v8:"5.0.71.52"},{name:"nodejs",version:"6.4.0",date:"2016-08-12",lts:!1,security:!1,v8:"5.0.71.60"},{name:"nodejs",version:"6.5.0",date:"2016-08-26",lts:!1,security:!1,v8:"5.1.281.81"},{name:"nodejs",version:"6.6.0",date:"2016-09-14",lts:!1,security:!1,v8:"5.1.281.83"},{name:"nodejs",version:"6.7.0",date:"2016-09-27",lts:!1,security:!0,v8:"5.1.281.83"},{name:"nodejs",version:"6.8.0",date:"2016-10-12",lts:!1,security:!1,v8:"5.1.281.84"},{name:"nodejs",version:"6.9.0",date:"2016-10-18",lts:"Boron",security:!1,v8:"5.1.281.84"},{name:"nodejs",version:"6.10.0",date:"2017-02-21",lts:"Boron",security:!1,v8:"5.1.281.93"},{name:"nodejs",version:"6.11.0",date:"2017-06-06",lts:"Boron",security:!1,v8:"5.1.281.102"},{name:"nodejs",version:"6.12.0",date:"2017-11-06",lts:"Boron",security:!1,v8:"5.1.281.108"},{name:"nodejs",version:"6.13.0",date:"2018-02-10",lts:"Boron",security:!1,v8:"5.1.281.111"},{name:"nodejs",version:"6.14.0",date:"2018-03-28",lts:"Boron",security:!0,v8:"5.1.281.111"},{name:"nodejs",version:"6.15.0",date:"2018-11-27",lts:"Boron",security:!0,v8:"5.1.281.111"},{name:"nodejs",version:"6.16.0",date:"2018-12-26",lts:"Boron",security:!1,v8:"5.1.281.111"},{name:"nodejs",version:"6.17.0",date:"2019-02-28",lts:"Boron",security:!0,v8:"5.1.281.111"},{name:"nodejs",version:"7.0.0",date:"2016-10-25",lts:!1,security:!1,v8:"5.4.500.36"},{name:"nodejs",version:"7.1.0",date:"2016-11-08",lts:!1,security:!1,v8:"5.4.500.36"},{name:"nodejs",version:"7.2.0",date:"2016-11-22",lts:!1,security:!1,v8:"5.4.500.43"},{name:"nodejs",version:"7.3.0",date:"2016-12-20",lts:!1,security:!1,v8:"5.4.500.45"},{name:"nodejs",version:"7.4.0",date:"2017-01-04",lts:!1,security:!1,v8:"5.4.500.45"},{name:"nodejs",version:"7.5.0",date:"2017-01-31",lts:!1,security:!1,v8:"5.4.500.48"},{name:"nodejs",version:"7.6.0",date:"2017-02-21",lts:!1,security:!1,v8:"5.5.372.40"},{name:"nodejs",version:"7.7.0",date:"2017-02-28",lts:!1,security:!1,v8:"5.5.372.41"},{name:"nodejs",version:"7.8.0",date:"2017-03-29",lts:!1,security:!1,v8:"5.5.372.43"},{name:"nodejs",version:"7.9.0",date:"2017-04-11",lts:!1,security:!1,v8:"5.5.372.43"},{name:"nodejs",version:"7.10.0",date:"2017-05-02",lts:!1,security:!1,v8:"5.5.372.43"},{name:"nodejs",version:"8.0.0",date:"2017-05-30",lts:!1,security:!1,v8:"5.8.283.41"},{name:"nodejs",version:"8.1.0",date:"2017-06-08",lts:!1,security:!1,v8:"5.8.283.41"},{name:"nodejs",version:"8.2.0",date:"2017-07-19",lts:!1,security:!1,v8:"5.8.283.41"},{name:"nodejs",version:"8.3.0",date:"2017-08-08",lts:!1,security:!1,v8:"6.0.286.52"},{name:"nodejs",version:"8.4.0",date:"2017-08-15",lts:!1,security:!1,v8:"6.0.286.52"},{name:"nodejs",version:"8.5.0",date:"2017-09-12",lts:!1,security:!1,v8:"6.0.287.53"},{name:"nodejs",version:"8.6.0",date:"2017-09-26",lts:!1,security:!1,v8:"6.0.287.53"},{name:"nodejs",version:"8.7.0",date:"2017-10-11",lts:!1,security:!1,v8:"6.1.534.42"},{name:"nodejs",version:"8.8.0",date:"2017-10-24",lts:!1,security:!1,v8:"6.1.534.42"},{name:"nodejs",version:"8.9.0",date:"2017-10-31",lts:"Carbon",security:!1,v8:"6.1.534.46"},{name:"nodejs",version:"8.10.0",date:"2018-03-06",lts:"Carbon",security:!1,v8:"6.2.414.50"},{name:"nodejs",version:"8.11.0",date:"2018-03-28",lts:"Carbon",security:!0,v8:"6.2.414.50"},{name:"nodejs",version:"8.12.0",date:"2018-09-10",lts:"Carbon",security:!1,v8:"6.2.414.66"},{name:"nodejs",version:"8.13.0",date:"2018-11-20",lts:"Carbon",security:!1,v8:"6.2.414.72"},{name:"nodejs",version:"8.14.0",date:"2018-11-27",lts:"Carbon",security:!0,v8:"6.2.414.72"},{name:"nodejs",version:"8.15.0",date:"2018-12-26",lts:"Carbon",security:!1,v8:"6.2.414.75"},{name:"nodejs",version:"8.16.0",date:"2019-04-16",lts:"Carbon",security:!1,v8:"6.2.414.77"},{name:"nodejs",version:"8.17.0",date:"2019-12-17",lts:"Carbon",security:!0,v8:"6.2.414.78"},{name:"nodejs",version:"9.0.0",date:"2017-10-31",lts:!1,security:!1,v8:"6.2.414.32"},{name:"nodejs",version:"9.1.0",date:"2017-11-07",lts:!1,security:!1,v8:"6.2.414.32"},{name:"nodejs",version:"9.2.0",date:"2017-11-14",lts:!1,security:!1,v8:"6.2.414.44"},{name:"nodejs",version:"9.3.0",date:"2017-12-12",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"9.4.0",date:"2018-01-10",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"9.5.0",date:"2018-01-31",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"9.6.0",date:"2018-02-21",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"9.7.0",date:"2018-03-01",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"9.8.0",date:"2018-03-07",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"9.9.0",date:"2018-03-21",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"9.10.0",date:"2018-03-28",lts:!1,security:!0,v8:"6.2.414.46"},{name:"nodejs",version:"9.11.0",date:"2018-04-04",lts:!1,security:!1,v8:"6.2.414.46"},{name:"nodejs",version:"10.0.0",date:"2018-04-24",lts:!1,security:!1,v8:"6.6.346.24"},{name:"nodejs",version:"10.1.0",date:"2018-05-08",lts:!1,security:!1,v8:"6.6.346.27"},{name:"nodejs",version:"10.2.0",date:"2018-05-23",lts:!1,security:!1,v8:"6.6.346.32"},{name:"nodejs",version:"10.3.0",date:"2018-05-29",lts:!1,security:!1,v8:"6.6.346.32"},{name:"nodejs",version:"10.4.0",date:"2018-06-06",lts:!1,security:!1,v8:"6.7.288.43"},{name:"nodejs",version:"10.5.0",date:"2018-06-20",lts:!1,security:!1,v8:"6.7.288.46"},{name:"nodejs",version:"10.6.0",date:"2018-07-04",lts:!1,security:!1,v8:"6.7.288.46"},{name:"nodejs",version:"10.7.0",date:"2018-07-18",lts:!1,security:!1,v8:"6.7.288.49"},{name:"nodejs",version:"10.8.0",date:"2018-08-01",lts:!1,security:!1,v8:"6.7.288.49"},{name:"nodejs",version:"10.9.0",date:"2018-08-15",lts:!1,security:!1,v8:"6.8.275.24"},{name:"nodejs",version:"10.10.0",date:"2018-09-06",lts:!1,security:!1,v8:"6.8.275.30"},{name:"nodejs",version:"10.11.0",date:"2018-09-19",lts:!1,security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.12.0",date:"2018-10-10",lts:!1,security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.13.0",date:"2018-10-30",lts:"Dubnium",security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.14.0",date:"2018-11-27",lts:"Dubnium",security:!0,v8:"6.8.275.32"},{name:"nodejs",version:"10.15.0",date:"2018-12-26",lts:"Dubnium",security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.16.0",date:"2019-05-28",lts:"Dubnium",security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.17.0",date:"2019-10-22",lts:"Dubnium",security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.18.0",date:"2019-12-17",lts:"Dubnium",security:!0,v8:"6.8.275.32"},{name:"nodejs",version:"10.19.0",date:"2020-02-05",lts:"Dubnium",security:!0,v8:"6.8.275.32"},{name:"nodejs",version:"10.20.0",date:"2020-03-26",lts:"Dubnium",security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.21.0",date:"2020-06-02",lts:"Dubnium",security:!0,v8:"6.8.275.32"},{name:"nodejs",version:"10.22.0",date:"2020-07-21",lts:"Dubnium",security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.23.0",date:"2020-10-27",lts:"Dubnium",security:!1,v8:"6.8.275.32"},{name:"nodejs",version:"10.24.0",date:"2021-02-23",lts:"Dubnium",security:!0,v8:"6.8.275.32"},{name:"nodejs",version:"11.0.0",date:"2018-10-23",lts:!1,security:!1,v8:"7.0.276.28"},{name:"nodejs",version:"11.1.0",date:"2018-10-30",lts:!1,security:!1,v8:"7.0.276.32"},{name:"nodejs",version:"11.2.0",date:"2018-11-15",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.3.0",date:"2018-11-27",lts:!1,security:!0,v8:"7.0.276.38"},{name:"nodejs",version:"11.4.0",date:"2018-12-07",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.5.0",date:"2018-12-18",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.6.0",date:"2018-12-26",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.7.0",date:"2019-01-17",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.8.0",date:"2019-01-24",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.9.0",date:"2019-01-30",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.10.0",date:"2019-02-14",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.11.0",date:"2019-03-05",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.12.0",date:"2019-03-14",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.13.0",date:"2019-03-28",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.14.0",date:"2019-04-10",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"11.15.0",date:"2019-04-30",lts:!1,security:!1,v8:"7.0.276.38"},{name:"nodejs",version:"12.0.0",date:"2019-04-23",lts:!1,security:!1,v8:"7.4.288.21"},{name:"nodejs",version:"12.1.0",date:"2019-04-29",lts:!1,security:!1,v8:"7.4.288.21"},{name:"nodejs",version:"12.2.0",date:"2019-05-07",lts:!1,security:!1,v8:"7.4.288.21"},{name:"nodejs",version:"12.3.0",date:"2019-05-21",lts:!1,security:!1,v8:"7.4.288.27"},{name:"nodejs",version:"12.4.0",date:"2019-06-04",lts:!1,security:!1,v8:"7.4.288.27"},{name:"nodejs",version:"12.5.0",date:"2019-06-26",lts:!1,security:!1,v8:"7.5.288.22"},{name:"nodejs",version:"12.6.0",date:"2019-07-03",lts:!1,security:!1,v8:"7.5.288.22"},{name:"nodejs",version:"12.7.0",date:"2019-07-23",lts:!1,security:!1,v8:"7.5.288.22"},{name:"nodejs",version:"12.8.0",date:"2019-08-06",lts:!1,security:!1,v8:"7.5.288.22"},{name:"nodejs",version:"12.9.0",date:"2019-08-20",lts:!1,security:!1,v8:"7.6.303.29"},{name:"nodejs",version:"12.10.0",date:"2019-09-04",lts:!1,security:!1,v8:"7.6.303.29"},{name:"nodejs",version:"12.11.0",date:"2019-09-25",lts:!1,security:!1,v8:"7.7.299.11"},{name:"nodejs",version:"12.12.0",date:"2019-10-11",lts:!1,security:!1,v8:"7.7.299.13"},{name:"nodejs",version:"12.13.0",date:"2019-10-21",lts:"Erbium",security:!1,v8:"7.7.299.13"},{name:"nodejs",version:"12.14.0",date:"2019-12-17",lts:"Erbium",security:!0,v8:"7.7.299.13"},{name:"nodejs",version:"12.15.0",date:"2020-02-05",lts:"Erbium",security:!0,v8:"7.7.299.13"},{name:"nodejs",version:"12.16.0",date:"2020-02-11",lts:"Erbium",security:!1,v8:"7.8.279.23"},{name:"nodejs",version:"12.17.0",date:"2020-05-26",lts:"Erbium",security:!1,v8:"7.8.279.23"},{name:"nodejs",version:"12.18.0",date:"2020-06-02",lts:"Erbium",security:!0,v8:"7.8.279.23"},{name:"nodejs",version:"12.19.0",date:"2020-10-06",lts:"Erbium",security:!1,v8:"7.8.279.23"},{name:"nodejs",version:"12.20.0",date:"2020-11-24",lts:"Erbium",security:!1,v8:"7.8.279.23"},{name:"nodejs",version:"12.21.0",date:"2021-02-23",lts:"Erbium",security:!0,v8:"7.8.279.23"},{name:"nodejs",version:"12.22.0",date:"2021-03-30",lts:"Erbium",security:!1,v8:"7.8.279.23"},{name:"nodejs",version:"13.0.0",date:"2019-10-22",lts:!1,security:!1,v8:"7.8.279.17"},{name:"nodejs",version:"13.1.0",date:"2019-11-05",lts:!1,security:!1,v8:"7.8.279.17"},{name:"nodejs",version:"13.2.0",date:"2019-11-21",lts:!1,security:!1,v8:"7.9.317.23"},{name:"nodejs",version:"13.3.0",date:"2019-12-03",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.4.0",date:"2019-12-17",lts:!1,security:!0,v8:"7.9.317.25"},{name:"nodejs",version:"13.5.0",date:"2019-12-18",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.6.0",date:"2020-01-07",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.7.0",date:"2020-01-21",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.8.0",date:"2020-02-05",lts:!1,security:!0,v8:"7.9.317.25"},{name:"nodejs",version:"13.9.0",date:"2020-02-18",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.10.0",date:"2020-03-04",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.11.0",date:"2020-03-12",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.12.0",date:"2020-03-26",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.13.0",date:"2020-04-14",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"13.14.0",date:"2020-04-29",lts:!1,security:!1,v8:"7.9.317.25"},{name:"nodejs",version:"14.0.0",date:"2020-04-21",lts:!1,security:!1,v8:"8.1.307.30"},{name:"nodejs",version:"14.1.0",date:"2020-04-29",lts:!1,security:!1,v8:"8.1.307.31"},{name:"nodejs",version:"14.2.0",date:"2020-05-05",lts:!1,security:!1,v8:"8.1.307.31"},{name:"nodejs",version:"14.3.0",date:"2020-05-19",lts:!1,security:!1,v8:"8.1.307.31"},{name:"nodejs",version:"14.4.0",date:"2020-06-02",lts:!1,security:!0,v8:"8.1.307.31"},{name:"nodejs",version:"14.5.0",date:"2020-06-30",lts:!1,security:!1,v8:"8.3.110.9"},{name:"nodejs",version:"14.6.0",date:"2020-07-20",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.7.0",date:"2020-07-29",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.8.0",date:"2020-08-11",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.9.0",date:"2020-08-27",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.10.0",date:"2020-09-08",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.11.0",date:"2020-09-15",lts:!1,security:!0,v8:"8.4.371.19"},{name:"nodejs",version:"14.12.0",date:"2020-09-22",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.13.0",date:"2020-09-29",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.14.0",date:"2020-10-15",lts:!1,security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.15.0",date:"2020-10-27",lts:"Fermium",security:!1,v8:"8.4.371.19"},{name:"nodejs",version:"14.16.0",date:"2021-02-23",lts:"Fermium",security:!0,v8:"8.4.371.19"},{name:"nodejs",version:"14.17.0",date:"2021-05-11",lts:"Fermium",security:!1,v8:"8.4.371.23"},{name:"nodejs",version:"14.18.0",date:"2021-09-28",lts:"Fermium",security:!1,v8:"8.4.371.23"},{name:"nodejs",version:"14.19.0",date:"2022-02-01",lts:"Fermium",security:!1,v8:"8.4.371.23"},{name:"nodejs",version:"14.20.0",date:"2022-07-07",lts:"Fermium",security:!0,v8:"8.4.371.23"},{name:"nodejs",version:"14.21.0",date:"2022-11-01",lts:"Fermium",security:!1,v8:"8.4.371.23"},{name:"nodejs",version:"15.0.0",date:"2020-10-20",lts:!1,security:!1,v8:"8.6.395.16"},{name:"nodejs",version:"15.1.0",date:"2020-11-04",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.2.0",date:"2020-11-10",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.3.0",date:"2020-11-24",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.4.0",date:"2020-12-09",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.5.0",date:"2020-12-22",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.6.0",date:"2021-01-14",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.7.0",date:"2021-01-25",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.8.0",date:"2021-02-02",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.9.0",date:"2021-02-18",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.10.0",date:"2021-02-23",lts:!1,security:!0,v8:"8.6.395.17"},{name:"nodejs",version:"15.11.0",date:"2021-03-03",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.12.0",date:"2021-03-17",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.13.0",date:"2021-03-31",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"15.14.0",date:"2021-04-06",lts:!1,security:!1,v8:"8.6.395.17"},{name:"nodejs",version:"16.0.0",date:"2021-04-20",lts:!1,security:!1,v8:"9.0.257.17"},{name:"nodejs",version:"16.1.0",date:"2021-05-04",lts:!1,security:!1,v8:"9.0.257.24"},{name:"nodejs",version:"16.2.0",date:"2021-05-19",lts:!1,security:!1,v8:"9.0.257.25"},{name:"nodejs",version:"16.3.0",date:"2021-06-03",lts:!1,security:!1,v8:"9.0.257.25"},{name:"nodejs",version:"16.4.0",date:"2021-06-23",lts:!1,security:!1,v8:"9.1.269.36"},{name:"nodejs",version:"16.5.0",date:"2021-07-14",lts:!1,security:!1,v8:"9.1.269.38"},{name:"nodejs",version:"16.6.0",date:"2021-07-29",lts:!1,security:!0,v8:"9.2.230.21"},{name:"nodejs",version:"16.7.0",date:"2021-08-18",lts:!1,security:!1,v8:"9.2.230.21"},{name:"nodejs",version:"16.8.0",date:"2021-08-25",lts:!1,security:!1,v8:"9.2.230.21"},{name:"nodejs",version:"16.9.0",date:"2021-09-07",lts:!1,security:!1,v8:"9.3.345.16"},{name:"nodejs",version:"16.10.0",date:"2021-09-22",lts:!1,security:!1,v8:"9.3.345.19"},{name:"nodejs",version:"16.11.0",date:"2021-10-08",lts:!1,security:!1,v8:"9.4.146.19"},{name:"nodejs",version:"16.12.0",date:"2021-10-20",lts:!1,security:!1,v8:"9.4.146.19"},{name:"nodejs",version:"16.13.0",date:"2021-10-26",lts:"Gallium",security:!1,v8:"9.4.146.19"},{name:"nodejs",version:"16.14.0",date:"2022-02-08",lts:"Gallium",security:!1,v8:"9.4.146.24"},{name:"nodejs",version:"16.15.0",date:"2022-04-26",lts:"Gallium",security:!1,v8:"9.4.146.24"},{name:"nodejs",version:"16.16.0",date:"2022-07-07",lts:"Gallium",security:!0,v8:"9.4.146.24"},{name:"nodejs",version:"16.17.0",date:"2022-08-16",lts:"Gallium",security:!1,v8:"9.4.146.26"},{name:"nodejs",version:"16.18.0",date:"2022-10-12",lts:"Gallium",security:!1,v8:"9.4.146.26"},{name:"nodejs",version:"16.19.0",date:"2022-12-13",lts:"Gallium",security:!1,v8:"9.4.146.26"},{name:"nodejs",version:"16.20.0",date:"2023-03-28",lts:"Gallium",security:!1,v8:"9.4.146.26"},{name:"nodejs",version:"17.0.0",date:"2021-10-19",lts:!1,security:!1,v8:"9.5.172.21"},{name:"nodejs",version:"17.1.0",date:"2021-11-09",lts:!1,security:!1,v8:"9.5.172.25"},{name:"nodejs",version:"17.2.0",date:"2021-11-30",lts:!1,security:!1,v8:"9.6.180.14"},{name:"nodejs",version:"17.3.0",date:"2021-12-17",lts:!1,security:!1,v8:"9.6.180.15"},{name:"nodejs",version:"17.4.0",date:"2022-01-18",lts:!1,security:!1,v8:"9.6.180.15"},{name:"nodejs",version:"17.5.0",date:"2022-02-10",lts:!1,security:!1,v8:"9.6.180.15"},{name:"nodejs",version:"17.6.0",date:"2022-02-22",lts:!1,security:!1,v8:"9.6.180.15"},{name:"nodejs",version:"17.7.0",date:"2022-03-09",lts:!1,security:!1,v8:"9.6.180.15"},{name:"nodejs",version:"17.8.0",date:"2022-03-22",lts:!1,security:!1,v8:"9.6.180.15"},{name:"nodejs",version:"17.9.0",date:"2022-04-07",lts:!1,security:!1,v8:"9.6.180.15"},{name:"nodejs",version:"18.0.0",date:"2022-04-18",lts:!1,security:!1,v8:"10.1.124.8"},{name:"nodejs",version:"18.1.0",date:"2022-05-03",lts:!1,security:!1,v8:"10.1.124.8"},{name:"nodejs",version:"18.2.0",date:"2022-05-17",lts:!1,security:!1,v8:"10.1.124.8"},{name:"nodejs",version:"18.3.0",date:"2022-06-02",lts:!1,security:!1,v8:"10.2.154.4"},{name:"nodejs",version:"18.4.0",date:"2022-06-16",lts:!1,security:!1,v8:"10.2.154.4"},{name:"nodejs",version:"18.5.0",date:"2022-07-06",lts:!1,security:!0,v8:"10.2.154.4"},{name:"nodejs",version:"18.6.0",date:"2022-07-13",lts:!1,security:!1,v8:"10.2.154.13"},{name:"nodejs",version:"18.7.0",date:"2022-07-26",lts:!1,security:!1,v8:"10.2.154.13"},{name:"nodejs",version:"18.8.0",date:"2022-08-24",lts:!1,security:!1,v8:"10.2.154.13"},{name:"nodejs",version:"18.9.0",date:"2022-09-07",lts:!1,security:!1,v8:"10.2.154.15"},{name:"nodejs",version:"18.10.0",date:"2022-09-28",lts:!1,security:!1,v8:"10.2.154.15"},{name:"nodejs",version:"18.11.0",date:"2022-10-13",lts:!1,security:!1,v8:"10.2.154.15"},{name:"nodejs",version:"18.12.0",date:"2022-10-25",lts:"Hydrogen",security:!1,v8:"10.2.154.15"},{name:"nodejs",version:"18.13.0",date:"2023-01-05",lts:"Hydrogen",security:!1,v8:"10.2.154.23"},{name:"nodejs",version:"18.14.0",date:"2023-02-01",lts:"Hydrogen",security:!1,v8:"10.2.154.23"},{name:"nodejs",version:"18.15.0",date:"2023-03-05",lts:"Hydrogen",security:!1,v8:"10.2.154.26"},{name:"nodejs",version:"18.16.0",date:"2023-04-12",lts:"Hydrogen",security:!1,v8:"10.2.154.26"},{name:"nodejs",version:"19.0.0",date:"2022-10-17",lts:!1,security:!1,v8:"10.7.193.13"},{name:"nodejs",version:"19.1.0",date:"2022-11-14",lts:!1,security:!1,v8:"10.7.193.20"},{name:"nodejs",version:"19.2.0",date:"2022-11-29",lts:!1,security:!1,v8:"10.8.168.20"},{name:"nodejs",version:"19.3.0",date:"2022-12-14",lts:!1,security:!1,v8:"10.8.168.21"},{name:"nodejs",version:"19.4.0",date:"2023-01-05",lts:!1,security:!1,v8:"10.8.168.25"},{name:"nodejs",version:"19.5.0",date:"2023-01-24",lts:!1,security:!1,v8:"10.8.168.25"},{name:"nodejs",version:"19.6.0",date:"2023-02-01",lts:!1,security:!1,v8:"10.8.168.25"},{name:"nodejs",version:"19.7.0",date:"2023-02-21",lts:!1,security:!1,v8:"10.8.168.25"},{name:"nodejs",version:"19.8.0",date:"2023-03-14",lts:!1,security:!1,v8:"10.8.168.25"},{name:"nodejs",version:"19.9.0",date:"2023-04-10",lts:!1,security:!1,v8:"10.8.168.25"},{name:"nodejs",version:"20.0.0",date:"2023-04-17",lts:!1,security:!1,v8:"11.3.244.4"},{name:"nodejs",version:"20.1.0",date:"2023-05-03",lts:!1,security:!1,v8:"11.3.244.8"},{name:"nodejs",version:"20.2.0",date:"2023-05-16",lts:!1,security:!1,v8:"11.3.244.8"},{name:"nodejs",version:"20.3.0",date:"2023-06-08",lts:!1,security:!1,v8:"11.3.244.8"},{name:"nodejs",version:"20.4.0",date:"2023-07-04",lts:!1,security:!1,v8:"11.3.244.8"}]});var TA=we((TX,CA)=>{F();CA.exports={A:"ie",B:"edge",C:"firefox",D:"chrome",E:"safari",F:"opera",G:"ios_saf",H:"op_mini",I:"android",J:"bb",K:"op_mob",L:"and_chr",M:"and_ff",N:"ie_mob",O:"and_uc",P:"samsung",Q:"and_qq",R:"baidu",S:"kaios"}});var PA=we((PX,xA)=>{F();xA.exports.browsers=TA()});var OA=we((OX,MA)=>{F();MA.exports={0:"113",1:"114",2:"115",3:"116",4:"5",5:"19",6:"23",7:"24",8:"25",9:"26",A:"10",B:"11",C:"12",D:"117",E:"7",F:"8",G:"9",H:"15",I:"4",J:"6",K:"13",L:"14",M:"16",N:"17",O:"18",P:"79",Q:"80",R:"81",S:"83",T:"84",U:"85",V:"86",W:"87",X:"88",Y:"89",Z:"90",a:"91",b:"92",c:"93",d:"94",e:"95",f:"96",g:"97",h:"98",i:"99",j:"100",k:"101",l:"102",m:"20",n:"21",o:"22",p:"73",q:"103",r:"104",s:"105",t:"106",u:"107",v:"108",w:"109",x:"110",y:"111",z:"112",AB:"27",BB:"28",CB:"29",DB:"30",EB:"31",FB:"32",GB:"33",HB:"34",IB:"35",JB:"36",KB:"37",LB:"38",MB:"39",NB:"40",OB:"41",PB:"42",QB:"43",RB:"44",SB:"45",TB:"46",UB:"47",VB:"48",WB:"49",XB:"50",YB:"51",ZB:"52",aB:"53",bB:"54",cB:"55",dB:"56",eB:"57",fB:"58",gB:"60",hB:"62",iB:"63",jB:"64",kB:"65",lB:"66",mB:"67",nB:"68",oB:"69",pB:"70",qB:"71",rB:"72",sB:"74",tB:"75",uB:"76",vB:"77",wB:"78",xB:"11.1",yB:"12.1",zB:"15.5","0B":"16.0","1B":"17.0","2B":"3","3B":"59","4B":"61","5B":"82","6B":"118","7B":"119","8B":"120","9B":"3.2",AC:"10.1",BC:"13.1",CC:"15.2-15.3",DC:"15.4",EC:"16.1",FC:"16.2",GC:"16.3",HC:"16.4",IC:"16.5",JC:"16.6",KC:"17.1",LC:"11.5",MC:"4.2-4.3",NC:"5.5",OC:"2",PC:"3.5",QC:"3.6",RC:"3.1",SC:"5.1",TC:"6.1",UC:"7.1",VC:"9.1",WC:"14.1",XC:"15.1",YC:"15.6",ZC:"TP",aC:"9.5-9.6",bC:"10.0-10.1",cC:"10.5",dC:"10.6",eC:"11.6",fC:"4.0-4.1",gC:"5.0-5.1",hC:"6.0-6.1",iC:"7.0-7.1",jC:"8.1-8.4",kC:"9.0-9.2",lC:"9.3",mC:"10.0-10.2",nC:"10.3",oC:"11.0-11.2",pC:"11.3-11.4",qC:"12.0-12.1",rC:"12.2-12.5",sC:"13.0-13.1",tC:"13.2",uC:"13.3",vC:"13.4-13.7",wC:"14.0-14.4",xC:"14.5-14.8",yC:"15.0-15.1",zC:"15.6-15.7","0C":"all","1C":"2.1","2C":"2.2","3C":"2.3","4C":"4.1","5C":"4.4","6C":"4.4.3-4.4.4","7C":"5.0-5.4","8C":"6.2-6.4","9C":"7.2-7.4",AD:"8.2",BD:"9.2",CD:"11.1-11.2",DD:"12.0",ED:"13.0",FD:"14.0",GD:"15.0",HD:"18.0",ID:"19.0",JD:"13.18",KD:"2.5",LD:"3.0-3.1"}});var RA=we((RX,kA)=>{F();kA.exports.browserVersions=OA()});var IA=we((IX,LA)=>{F();LA.exports={A:{A:{J:0,E:0,F:.0268696,G:.0537391,A:0,B:.416478,NC:0},B:"ms",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","NC","J","E","F","G","A","B","","",""],E:"IE",F:{NC:962323200,J:998870400,E:1161129600,F:1237420800,G:1300060800,A:1346716800,B:1381968e3}},B:{A:{0:.035192,1:.607062,2:3.20687,3:1.03376,C:.004399,K:.004399,L:.004399,H:.004399,M:0,N:.004399,O:.008798,P:0,Q:.004399,R:.004399,S:.004399,T:.008798,U:.004399,V:.008798,W:.004399,X:.004399,Y:.004399,Z:.008798,a:0,b:.013197,c:0,d:0,e:0,f:0,g:0,h:0,i:.017596,j:0,k:0,l:0,q:0,r:0,s:0,t:0,u:.008798,v:.013197,w:.083581,x:.013197,y:.092379,z:.096778,D:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","C","K","L","H","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","q","r","s","t","u","v","w","x","y","z","0","1","2","3","D","","",""],E:"Edge",F:{0:1683158400,1:1685664e3,2:1689897600,3:1692576e3,C:1438128e3,K:1447286400,L:1470096e3,H:1491868800,M:1508198400,N:1525046400,O:1542067200,P:1579046400,Q:1581033600,R:1586736e3,S:1590019200,T:1594857600,U:1598486400,V:1602201600,W:1605830400,X:161136e4,Y:1614816e3,Z:1618358400,a:1622073600,b:1626912e3,c:1630627200,d:1632441600,e:1634774400,f:1637539200,g:1641427200,h:1643932800,i:1646265600,j:1649635200,k:1651190400,l:1653955200,q:1655942400,r:1659657600,s:1661990400,t:1664755200,u:1666915200,v:1670198400,w:1673481600,x:1675900800,y:1678665600,z:1680825600,D:1694649600},D:{C:"ms",K:"ms",L:"ms",H:"ms",M:"ms",N:"ms",O:"ms"}},C:{A:{0:.026394,1:.030793,2:.580668,3:1.39008,4:0,5:0,6:0,7:0,8:0,9:0,OC:0,"2B":0,I:0,J:0,E:0,F:0,G:0,A:0,B:.008798,C:0,K:0,L:0,H:0,M:0,N:0,O:0,m:0,n:0,o:0,AB:0,BB:0,CB:0,DB:0,EB:0,FB:0,GB:0,HB:0,IB:0,JB:0,KB:0,LB:0,MB:0,NB:0,OB:0,PB:0,QB:.008798,RB:.004399,SB:0,TB:0,UB:0,VB:.004399,WB:0,XB:.008798,YB:0,ZB:.052788,aB:.004399,bB:.004399,cB:0,dB:.008798,eB:0,fB:0,"3B":.004399,gB:0,"4B":0,hB:0,iB:0,jB:0,kB:0,lB:0,mB:0,nB:0,oB:0,pB:0,qB:0,rB:.030793,p:0,sB:0,tB:0,uB:0,vB:0,wB:.039591,P:0,Q:0,R:0,"5B":0,S:.008798,T:0,U:0,V:0,W:0,X:.004399,Y:0,Z:.004399,a:.008798,b:0,c:0,d:.013197,e:0,f:0,g:0,h:0,i:0,j:0,k:0,l:.118773,q:.017596,r:0,s:.004399,t:.004399,u:.004399,v:.008798,w:.008798,x:.008798,y:.013197,z:.065985,D:.052788,"6B":0,"7B":0,"8B":0,PC:0,QC:0},B:"moz",C:["OC","2B","PC","QC","I","4","J","E","F","G","A","B","C","K","L","H","M","N","O","5","m","n","o","6","7","8","9","AB","BB","CB","DB","EB","FB","GB","HB","IB","JB","KB","LB","MB","NB","OB","PB","QB","RB","SB","TB","UB","VB","WB","XB","YB","ZB","aB","bB","cB","dB","eB","fB","3B","gB","4B","hB","iB","jB","kB","lB","mB","nB","oB","pB","qB","rB","p","sB","tB","uB","vB","wB","P","Q","R","5B","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","q","r","s","t","u","v","w","x","y","z","0","1","2","3","D","6B","7B","8B"],E:"Firefox",F:{0:1683590400,1:1686009600,2:1688428800,3:1690848e3,4:1308614400,5:1357603200,6:1372118400,7:1375747200,8:1379376e3,9:1386633600,OC:1161648e3,"2B":1213660800,PC:124632e4,QC:1264032e3,I:1300752e3,J:1313452800,E:1317081600,F:1317081600,G:1320710400,A:1324339200,B:1327968e3,C:1331596800,K:1335225600,L:1338854400,H:1342483200,M:1346112e3,N:1349740800,O:1353628800,m:1361232e3,n:1364860800,o:1368489600,AB:1391472e3,BB:1395100800,CB:1398729600,DB:1402358400,EB:1405987200,FB:1409616e3,GB:1413244800,HB:1417392e3,IB:1421107200,JB:1424736e3,KB:1428278400,LB:1431475200,MB:1435881600,NB:1439251200,OB:144288e4,PB:1446508800,QB:1450137600,RB:1453852800,SB:1457395200,TB:1461628800,UB:1465257600,VB:1470096e3,WB:1474329600,XB:1479168e3,YB:1485216e3,ZB:1488844800,aB:149256e4,bB:1497312e3,cB:1502150400,dB:1506556800,eB:1510617600,fB:1516665600,"3B":1520985600,gB:1525824e3,"4B":1529971200,hB:1536105600,iB:1540252800,jB:1544486400,kB:154872e4,lB:1552953600,mB:1558396800,nB:1562630400,oB:1567468800,pB:1571788800,qB:1575331200,rB:1578355200,p:1581379200,sB:1583798400,tB:1586304e3,uB:1588636800,vB:1591056e3,wB:1593475200,P:1595894400,Q:1598313600,R:1600732800,"5B":1603152e3,S:1605571200,T:1607990400,U:1611619200,V:1614038400,W:1616457600,X:1618790400,Y:1622505600,Z:1626134400,a:1628553600,b:1630972800,c:1633392e3,d:1635811200,e:1638835200,f:1641859200,g:1644364800,h:1646697600,i:1649116800,j:1651536e3,k:1653955200,l:1656374400,q:1658793600,r:1661212800,s:1663632e3,t:1666051200,u:1668470400,v:1670889600,w:1673913600,x:1676332800,y:1678752e3,z:1681171200,D:1693267200,"6B":null,"7B":null,"8B":null}},D:{A:{0:.255142,1:2.10712,2:12.8099,3:5.7231,4:0,5:0,6:0,7:0,8:0,9:0,I:0,J:0,E:0,F:0,G:0,A:0,B:0,C:0,K:0,L:0,H:0,M:0,N:0,O:0,m:0,n:0,o:0,AB:0,BB:0,CB:0,DB:0,EB:0,FB:0,GB:0,HB:.004399,IB:0,JB:0,KB:0,LB:.013197,MB:0,NB:0,OB:0,PB:0,QB:0,RB:0,SB:0,TB:0,UB:.004399,VB:.017596,WB:.030793,XB:.013197,YB:0,ZB:0,aB:.008798,bB:0,cB:.004399,dB:.048389,eB:.004399,fB:0,"3B":0,gB:.021995,"4B":.004399,hB:.004399,iB:.008798,jB:0,kB:.008798,lB:.026394,mB:.004399,nB:.039591,oB:.065985,pB:.039591,qB:.021995,rB:.026394,p:.030793,sB:.048389,tB:.048389,uB:.096778,vB:.026394,wB:.039591,P:.202354,Q:.079182,R:.057187,S:.114374,T:.030793,U:.083581,V:.092379,W:.08798,X:.048389,Y:.039591,Z:.048389,a:.061586,b:.035192,c:.127571,d:.030793,e:.017596,f:.026394,g:.026394,h:.061586,i:.04399,j:.035192,k:.035192,l:.039591,q:.211152,r:.052788,s:.048389,t:.052788,u:.123172,v:.180359,w:1.83878,x:.149566,y:.285935,z:.228748,D:.017596,"6B":.004399,"7B":0,"8B":0},B:"webkit",C:["","","","","","I","4","J","E","F","G","A","B","C","K","L","H","M","N","O","5","m","n","o","6","7","8","9","AB","BB","CB","DB","EB","FB","GB","HB","IB","JB","KB","LB","MB","NB","OB","PB","QB","RB","SB","TB","UB","VB","WB","XB","YB","ZB","aB","bB","cB","dB","eB","fB","3B","gB","4B","hB","iB","jB","kB","lB","mB","nB","oB","pB","qB","rB","p","sB","tB","uB","vB","wB","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","q","r","s","t","u","v","w","x","y","z","0","1","2","3","D","6B","7B","8B"],E:"Chrome",F:{0:1682985600,1:1685404800,2:1689724800,3:1692057600,4:1274745600,5:1332892800,6:1348531200,7:1352246400,8:1357862400,9:1361404800,I:1264377600,J:1283385600,E:1287619200,F:1291248e3,G:1296777600,A:1299542400,B:1303862400,C:1307404800,K:1312243200,L:1316131200,H:1316131200,M:1319500800,N:1323734400,O:1328659200,m:133704e4,n:1340668800,o:1343692800,AB:1364428800,BB:1369094400,CB:1374105600,DB:1376956800,EB:1384214400,FB:1389657600,GB:1392940800,HB:1397001600,IB:1400544e3,JB:1405468800,KB:1409011200,LB:141264e4,MB:1416268800,NB:1421798400,OB:1425513600,PB:1429401600,QB:143208e4,RB:1437523200,SB:1441152e3,TB:1444780800,UB:1449014400,VB:1453248e3,WB:1456963200,XB:1460592e3,YB:1464134400,ZB:1469059200,aB:1472601600,bB:1476230400,cB:1480550400,dB:1485302400,eB:1489017600,fB:149256e4,"3B":1496707200,gB:1500940800,"4B":1504569600,hB:1508198400,iB:1512518400,jB:1516752e3,kB:1520294400,lB:1523923200,mB:1527552e3,nB:1532390400,oB:1536019200,pB:1539648e3,qB:1543968e3,rB:154872e4,p:1552348800,sB:1555977600,tB:1559606400,uB:1564444800,vB:1568073600,wB:1571702400,P:1575936e3,Q:1580860800,R:1586304e3,S:1589846400,T:1594684800,U:1598313600,V:1601942400,W:1605571200,X:1611014400,Y:1614556800,Z:1618272e3,a:1621987200,b:1626739200,c:1630368e3,d:1632268800,e:1634601600,f:1637020800,g:1641340800,h:1643673600,i:1646092800,j:1648512e3,k:1650931200,l:1653350400,q:1655769600,r:1659398400,s:1661817600,t:1664236800,u:1666656e3,v:166968e4,w:1673308800,x:1675728e3,y:1678147200,z:1680566400,D:1694476800,"6B":null,"7B":null,"8B":null}},E:{A:{4:0,I:0,J:0,E:0,F:0,G:0,A:0,B:0,C:0,K:.017596,L:.105576,H:.017596,RC:0,"9B":0,SC:.008798,TC:0,UC:0,VC:.140768,AC:0,xB:.004399,yB:.030793,BC:.136369,WC:.255142,XC:.039591,CC:.035192,DC:.070384,zB:.123172,YC:.576269,"0B":.171561,EC:.180359,FC:.184758,GC:.422304,HC:.189157,IC:1.15254,JC:1.65402,"1B":.026394,KC:0,ZC:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","RC","9B","I","4","SC","J","TC","E","UC","F","G","VC","A","AC","B","xB","C","yB","K","BC","L","WC","H","XC","CC","DC","zB","YC","0B","EC","FC","GC","HC","IC","JC","1B","KC","ZC"],E:"Safari",F:{4:1275868800,RC:1205798400,"9B":1226534400,I:1244419200,SC:131112e4,J:1343174400,TC:13824e5,E:13824e5,UC:1410998400,F:1413417600,G:1443657600,VC:1458518400,A:1474329600,AC:1490572800,B:1505779200,xB:1522281600,C:1537142400,yB:1553472e3,K:1568851200,BC:1585008e3,L:1600214400,WC:1619395200,H:1632096e3,XC:1635292800,CC:1639353600,DC:1647216e3,zB:1652745600,YC:1658275200,"0B":1662940800,EC:1666569600,FC:1670889600,GC:1674432e3,HC:1679875200,IC:1684368e3,JC:1690156800,"1B":null,KC:null,ZC:null}},F:{A:{5:0,6:0,7:0,8:0,9:0,G:0,B:0,C:0,H:0,M:0,N:0,O:0,m:0,n:0,o:0,AB:0,BB:.004399,CB:0,DB:0,EB:0,FB:0,GB:0,HB:0,IB:0,JB:0,KB:0,LB:0,MB:0,NB:0,OB:0,PB:0,QB:0,RB:0,SB:0,TB:.013197,UB:0,VB:0,WB:0,XB:0,YB:0,ZB:0,aB:0,bB:0,cB:0,dB:0,eB:0,fB:0,gB:0,hB:0,iB:0,jB:0,kB:0,lB:0,mB:0,nB:0,oB:0,pB:0,qB:0,rB:0,p:0,sB:0,tB:0,uB:0,vB:0,wB:0,P:0,Q:0,R:0,"5B":0,S:0,T:0,U:.004399,V:0,W:0,X:0,Y:0,Z:0,a:0,b:0,c:0,d:0,e:.057187,f:0,g:.079182,h:0,i:.030793,j:.83581,k:.466294,l:.008798,aC:0,bC:0,cC:0,dC:0,xB:0,LC:0,eC:0,yB:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","G","aC","bC","cC","dC","B","xB","LC","eC","C","yB","H","M","N","O","5","m","n","o","6","7","8","9","AB","BB","CB","DB","EB","FB","GB","HB","IB","JB","KB","LB","MB","NB","OB","PB","QB","RB","SB","TB","UB","VB","WB","XB","YB","ZB","aB","bB","cB","dB","eB","fB","gB","hB","iB","jB","kB","lB","mB","nB","oB","pB","qB","rB","p","sB","tB","uB","vB","wB","P","Q","R","5B","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","","",""],E:"Opera",F:{5:1390867200,6:1405987200,7:1409616e3,8:1413331200,9:1417132800,G:1150761600,aC:1223424e3,bC:1251763200,cC:1267488e3,dC:1277942400,B:1292457600,xB:1302566400,LC:1309219200,eC:1323129600,C:1323129600,yB:1352073600,H:1372723200,M:1377561600,N:1381104e3,O:1386288e3,m:1393891200,n:1399334400,o:1401753600,AB:1422316800,BB:1425945600,CB:1430179200,DB:1433808e3,EB:1438646400,FB:1442448e3,GB:1445904e3,HB:1449100800,IB:1454371200,JB:1457308800,KB:146232e4,LB:1465344e3,MB:1470096e3,NB:1474329600,OB:1477267200,PB:1481587200,QB:1486425600,RB:1490054400,SB:1494374400,TB:1498003200,UB:1502236800,VB:1506470400,WB:1510099200,XB:1515024e3,YB:1517961600,ZB:1521676800,aB:1525910400,bB:1530144e3,cB:1534982400,dB:1537833600,eB:1543363200,fB:1548201600,gB:1554768e3,hB:1561593600,iB:1566259200,jB:1570406400,kB:1573689600,lB:1578441600,mB:1583971200,nB:1587513600,oB:1592956800,pB:1595894400,qB:1600128e3,rB:1603238400,p:161352e4,sB:1612224e3,tB:1616544e3,uB:1619568e3,vB:1623715200,wB:1627948800,P:1631577600,Q:1633392e3,R:1635984e3,"5B":1638403200,S:1642550400,T:1644969600,U:1647993600,V:1650412800,W:1652745600,X:1654646400,Y:1657152e3,Z:1660780800,a:1663113600,b:1668816e3,c:1668643200,d:1671062400,e:1675209600,f:1677024e3,g:1679529600,h:1681948800,i:1684195200,j:1687219200,k:1690329600,l:1692748800},D:{G:"o",B:"o",C:"o",aC:"o",bC:"o",cC:"o",dC:"o",xB:"o",LC:"o",eC:"o",yB:"o"}},G:{A:{F:0,"9B":0,fC:0,MC:.00279764,gC:.00419646,hC:.00279764,iC:.0125894,jC:.00419646,kC:.00839291,lC:.0391669,mC:.00279764,nC:.0545539,oC:.0223811,pC:.0195835,qC:.015387,rC:.257383,sC:.00699409,tC:.0111905,uC:.0181846,vC:.0573516,wC:.149674,xC:.257383,yC:.0965185,CC:.10631,DC:.120298,zB:.170656,zC:1.13864,"0B":.43783,EC:.863071,FC:.440628,GC:.879857,HC:.211222,IC:2.6032,JC:5.87084,"1B":.0965185,KC:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","9B","fC","MC","gC","hC","iC","F","jC","kC","lC","mC","nC","oC","pC","qC","rC","sC","tC","uC","vC","wC","xC","yC","CC","DC","zB","zC","0B","EC","FC","GC","HC","IC","JC","1B","KC","",""],E:"Safari on iOS",F:{"9B":1270252800,fC:1283904e3,MC:1299628800,gC:1331078400,hC:1359331200,iC:1394409600,F:1410912e3,jC:1413763200,kC:1442361600,lC:1458518400,mC:1473724800,nC:1490572800,oC:1505779200,pC:1522281600,qC:1537142400,rC:1553472e3,sC:1568851200,tC:1572220800,uC:1580169600,vC:1585008e3,wC:1600214400,xC:1619395200,yC:1632096e3,CC:1639353600,DC:1647216e3,zB:1652659200,zC:1658275200,"0B":1662940800,EC:1666569600,FC:1670889600,GC:1674432e3,HC:1679875200,IC:1684368e3,JC:1690156800,"1B":1694995200,KC:null}},H:{A:{"0C":1.08194},B:"o",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","0C","","",""],E:"Opera Mini",F:{"0C":1426464e3}},I:{A:{"2B":0,I:.0136938,D:0,"1C":0,"2C":.00684689,"3C":0,"4C":.0273876,MC:.0479282,"5C":0,"6C":.212254},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","1C","2C","3C","2B","I","4C","MC","5C","6C","D","","",""],E:"Android Browser",F:{"1C":1256515200,"2C":1274313600,"3C":1291593600,"2B":1298332800,I:1318896e3,"4C":1341792e3,MC:1374624e3,"5C":1386547200,"6C":1401667200,D:1694476800}},J:{A:{E:0,A:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","E","A","","",""],E:"Blackberry Browser",F:{E:1325376e3,A:1359504e3}},K:{A:{A:0,B:0,C:0,p:0,xB:0,LC:0,yB:0},B:"o",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","A","B","xB","LC","C","yB","p","","",""],E:"Opera Mobile",F:{A:1287100800,B:1300752e3,xB:1314835200,LC:1318291200,C:1330300800,yB:1349740800,p:1673827200},D:{p:"webkit"}},L:{A:{D:37.5486},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","D","","",""],E:"Chrome for Android",F:{D:1694476800}},M:{A:{D:.263294},B:"moz",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","D","","",""],E:"Firefox for Android",F:{D:1693267200}},N:{A:{A:0,B:0},B:"ms",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","A","B","","",""],E:"IE Mobile",F:{A:1340150400,B:1353456e3}},O:{A:{zB:1.00276},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","zB","","",""],E:"UC Browser for Android",F:{zB:1687132800},D:{zB:"webkit"}},P:{A:{I:.115947,m:.0843248,n:.210812,o:0,"7C":0,"8C":0,"9C":.0421624,AD:0,BD:0,AC:0,CD:.0105406,DD:0,ED:.0210812,FD:.0210812,GD:0,"0B":.0316218,"1B":.0316218,HD:.0316218,ID:.052703},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","I","7C","8C","9C","AD","BD","AC","CD","DD","ED","FD","GD","0B","1B","HD","ID","m","n","o","","",""],E:"Samsung Internet",F:{I:1461024e3,"7C":1481846400,"8C":1509408e3,"9C":1528329600,AD:1546128e3,BD:1554163200,AC:1567900800,CD:1582588800,DD:1593475200,ED:1605657600,FD:1618531200,GD:1629072e3,"0B":1640736e3,"1B":1651708800,HD:1659657600,ID:1667260800,m:1677369600,n:1684454400,o:1689292800}},Q:{A:{BC:.173662},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","BC","","",""],E:"QQ Browser",F:{BC:1663718400}},R:{A:{JD:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","JD","","",""],E:"Baidu Browser",F:{JD:1663027200}},S:{A:{KD:.05602,LD:0},B:"moz",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","KD","LD","","",""],E:"KaiOS Browser",F:{KD:1527811200,LD:1631664e3}}}});var FA=we((DX,BA)=>{"use strict";F();var AH=PA().browsers,m1=RA().browserVersions,NA=IA();function DA(n){return Object.keys(n).reduce((e,t)=>(e[m1[t]]=n[t],e),{})}BA.exports.agents=Object.keys(NA).reduce((n,e)=>{let t=NA[e];return n[AH[e]]=Object.keys(t).reduce((r,i)=>(i==="A"?r.usage_global=DA(t[i]):i==="C"?r.versions=t[i].reduce((s,o)=>(o===""?s.push(null):s.push(m1[o]),s),[]):i==="D"?r.prefix_exceptions=DA(t[i]):i==="E"?r.browser=t[i]:i==="F"?r.release_date=Object.keys(t[i]).reduce((s,o)=>(s[m1[o]]=t[i][o],s),{}):r.prefix=t[i],r),{}),n},{})});var HA=we((FX,SH)=>{SH.exports={"v0.8":{start:"2012-06-25",end:"2014-07-31"},"v0.10":{start:"2013-03-11",end:"2016-10-31"},"v0.12":{start:"2015-02-06",end:"2016-12-31"},v4:{start:"2015-09-08",lts:"2015-10-12",maintenance:"2017-04-01",end:"2018-04-30",codename:"Argon"},v5:{start:"2015-10-29",maintenance:"2016-04-30",end:"2016-06-30"},v6:{start:"2016-04-26",lts:"2016-10-18",maintenance:"2018-04-30",end:"2019-04-30",codename:"Boron"},v7:{start:"2016-10-25",maintenance:"2017-04-30",end:"2017-06-30"},v8:{start:"2017-05-30",lts:"2017-10-31",maintenance:"2019-01-01",end:"2019-12-31",codename:"Carbon"},v9:{start:"2017-10-01",maintenance:"2018-04-01",end:"2018-06-30"},v10:{start:"2018-04-24",lts:"2018-10-30",maintenance:"2020-05-19",end:"2021-04-30",codename:"Dubnium"},v11:{start:"2018-10-23",maintenance:"2019-04-22",end:"2019-06-01"},v12:{start:"2019-04-23",lts:"2019-10-21",maintenance:"2020-11-30",end:"2022-04-30",codename:"Erbium"},v13:{start:"2019-10-22",maintenance:"2020-04-01",end:"2020-06-01"},v14:{start:"2020-04-21",lts:"2020-10-27",maintenance:"2021-10-19",end:"2023-04-30",codename:"Fermium"},v15:{start:"2020-10-20",maintenance:"2021-04-01",end:"2021-06-01"},v16:{start:"2021-04-20",lts:"2021-10-26",maintenance:"2022-10-18",end:"2023-09-11",codename:"Gallium"},v17:{start:"2021-10-19",maintenance:"2022-04-01",end:"2022-06-01"},v18:{start:"2022-04-19",lts:"2022-10-25",maintenance:"2023-10-18",end:"2025-04-30",codename:"Hydrogen"},v19:{start:"2022-10-18",maintenance:"2023-04-01",end:"2023-06-01"},v20:{start:"2023-04-18",lts:"2023-10-24",maintenance:"2024-10-22",end:"2026-04-30",codename:""}}});var jA=we((HX,UA)=>{F();UA.exports={"0.20":"39","0.21":"41","0.22":"41","0.23":"41","0.24":"41","0.25":"42","0.26":"42","0.27":"43","0.28":"43","0.29":"43","0.30":"44","0.31":"45","0.32":"45","0.33":"45","0.34":"45","0.35":"45","0.36":"47","0.37":"49","1.0":"49","1.1":"50","1.2":"51","1.3":"52","1.4":"53","1.5":"54","1.6":"56","1.7":"58","1.8":"59","2.0":"61","2.1":"61","3.0":"66","3.1":"66","4.0":"69","4.1":"69","4.2":"69","5.0":"73","6.0":"76","6.1":"76","7.0":"78","7.1":"78","7.2":"78","7.3":"78","8.0":"80","8.1":"80","8.2":"80","8.3":"80","8.4":"80","8.5":"80","9.0":"83","9.1":"83","9.2":"83","9.3":"83","9.4":"83","10.0":"85","10.1":"85","10.2":"85","10.3":"85","10.4":"85","11.0":"87","11.1":"87","11.2":"87","11.3":"87","11.4":"87","11.5":"87","12.0":"89","12.1":"89","12.2":"89","13.0":"91","13.1":"91","13.2":"91","13.3":"91","13.4":"91","13.5":"91","13.6":"91","14.0":"93","14.1":"93","14.2":"93","15.0":"94","15.1":"94","15.2":"94","15.3":"94","15.4":"94","15.5":"94","16.0":"96","16.1":"96","16.2":"96","17.0":"98","17.1":"98","17.2":"98","17.3":"98","17.4":"98","18.0":"100","18.1":"100","18.2":"100","18.3":"100","19.0":"102","19.1":"102","20.0":"104","20.1":"104","20.2":"104","20.3":"104","21.0":"106","21.1":"106","21.2":"106","21.3":"106","21.4":"106","22.0":"108","22.1":"108","22.2":"108","22.3":"108","23.0":"110","23.1":"110","23.2":"110","23.3":"110","24.0":"112","24.1":"112","24.2":"112","24.3":"112","24.4":"112","24.5":"112","24.6":"112","24.7":"112","24.8":"112","25.0":"114","25.1":"114","25.2":"114","25.3":"114","25.4":"114","25.5":"114","25.6":"114","25.7":"114","25.8":"114","26.0":"116","26.1":"116","26.2":"116","27.0":"118"}});var b1=we((jX,qA)=>{F();function y1(n){this.name="BrowserslistError",this.message=n,this.browserslist=!0,Error.captureStackTrace&&Error.captureStackTrace(this,y1)}y1.prototype=Error.prototype;qA.exports=y1});var $A=we((GX,VA)=>{F();var GA=/^\s+and\s+(.*)/i,zA=/^(?:,\s*|\s+or\s+)(.*)/i;function WA(n){return Array.isArray(n)?n.reduce(function(e,t){return e.concat(WA(t))},[]):[n]}function CH(n,e){for(var t=1,r=n.length;t<=r;t++){var i=n.substr(-t,t);if(e(i,t,r))return n.slice(0,-t)}return""}function v1(n,e){var t={query:e};e.indexOf("not ")===0&&(t.not=!0,e=e.slice(4));for(var r in n){var i=n[r],s=e.match(i.regexp);if(s){t.type=r;for(var o=0;o<i.matches.length;o++)t[i.matches[o]]=s[o+1];return t}}return t.type="unknown",t}function TH(n,e,t){var r;return CH(e,function(i,s,o){return GA.test(i)?(r=v1(n,i.match(GA)[1]),r.compose="and",t.unshift(r),!0):zA.test(i)?(r=v1(n,i.match(zA)[1]),r.compose="or",t.unshift(r),!0):s===o?(r=v1(n,i.trim()),r.compose="or",t.unshift(r),!0):!1})}VA.exports=function(e,t){return Array.isArray(t)||(t=[t]),WA(t.map(function(r){var i=[];do r=TH(e,r,i);while(r);return i}))}});var KA=we((WX,JA)=>{F();var wh=b1();function ic(){}JA.exports={loadQueries:function(){throw new wh("Sharable configs are not supported in client-side build of Browserslist")},getStat:function(e){return e.stats},loadConfig:function(e){if(e.config)throw new wh("Browserslist config are not supported in client-side build")},loadCountry:function(){throw new wh("Country statistics are not supported in client-side build of Browserslist")},loadFeature:function(){throw new wh("Supports queries are not available in client-side build of Browserslist")},currentNode:function(e,t){return e(["maintained node versions"],t)[0]},parseConfig:ic,readConfig:ic,findConfig:ic,clearCaches:ic,oldDataWarning:ic,env:{}}});var hS=we(($X,fS)=>{F();var xH=SA(),Hs=FA().agents,_1=HA(),xh=Ll(),qi=jA(),qr=b1(),iS=$A(),yr=KA(),PH=365.259641*24*60*60*1e3,sS="37",MH=14;function oS(n,e){return(n+".").indexOf(e+".")===0}function OH(n){var e=n.slice(1);return St.nodeVersions.some(function(t){return oS(t,e)})}function YA(n){return n.filter(function(e){return typeof e=="string"})}function Eh(n){var e=n;return n.split(".").length===3&&(e=n.split(".").slice(0,-1).join(".")),e}function bo(n){return function(t){return n+" "+t}}function S1(n){return parseInt(n.split(".")[0])}function Ah(n,e){if(n.length===0)return[];var t=aS(n.map(S1)),r=t[t.length-e];if(!r)return n;for(var i=[],s=n.length-1;s>=0&&!(r>S1(n[s]));s--)i.unshift(n[s]);return i}function aS(n){for(var e=[],t=0;t<n.length;t++)e.indexOf(n[t])===-1&&e.push(n[t]);return e}function Ph(n,e,t){for(var r in t)n[e+" "+r]=t[r]}function XA(n,e){return e=parseFloat(e),n===">"?function(t){return parseFloat(t)>e}:n===">="?function(t){return parseFloat(t)>=e}:n==="<"?function(t){return parseFloat(t)<e}:function(t){return parseFloat(t)<=e}}function kH(n,e){return e=e.split(".").map(vo),e[1]=e[1]||0,e[2]=e[2]||0,n===">"?function(t){return t=t.split(".").map(vo),sc(t,e)>0}:n===">="?function(t){return t=t.split(".").map(vo),sc(t,e)>=0}:n==="<"?function(t){return t=t.split(".").map(vo),sc(e,t)>0}:function(t){return t=t.split(".").map(vo),sc(e,t)>=0}}function vo(n){return parseInt(n)}function Th(n,e){return n<e?-1:n>e?1:0}function sc(n,e){return Th(parseInt(n[0]),parseInt(e[0]))||Th(parseInt(n[1]||"0"),parseInt(e[1]||"0"))||Th(parseInt(n[2]||"0"),parseInt(e[2]||"0"))}function QA(n,e){switch(e=e.split(".").map(vo),typeof e[1]>"u"&&(e[1]="x"),n){case"<=":return function(t){return t=t.split(".").map(vo),ZA(t,e)<=0};case">=":default:return function(t){return t=t.split(".").map(vo),ZA(t,e)>=0}}}function ZA(n,e){return n[0]!==e[0]?n[0]<e[0]?-1:1:e[1]==="x"?0:n[1]!==e[1]?n[1]<e[1]?-1:1:0}function RH(n,e){return n.versions.indexOf(e)!==-1?e:St.versionAliases[n.name][e]?St.versionAliases[n.name][e]:!1}function Sh(n,e){var t=RH(n,e);return t||(n.versions.length===1?n.versions[0]:!1)}function uS(n,e){return n=n/1e3,Object.keys(Hs).reduce(function(t,r){var i=_o(r,e);if(!i)return t;var s=Object.keys(i.releaseDate).filter(function(o){var c=i.releaseDate[o];return c!==null&&c>=n});return t.concat(s.map(bo(i.name)))},[])}function eS(n){return{name:n.name,versions:n.versions,released:n.released,releaseDate:n.releaseDate}}function _o(n,e){if(n=n.toLowerCase(),n=St.aliases[n]||n,e.mobileToDesktop&&St.desktopNames[n]){var t=St.data[St.desktopNames[n]];if(n==="android")return LH(eS(St.data[n]),t);var r=eS(t);return r.name=n,r}return St.data[n]}function tS(n,e){var t=e.indexOf(sS);return n.filter(function(r){return/^(?:[2-4]\.|[34]$)/.test(r)}).concat(e.slice(t))}function LH(n,e){return n.released=tS(n.released,e.released),n.versions=tS(n.versions,e.versions),n.released.forEach(function(t){n.releaseDate[t]===void 0&&(n.releaseDate[t]=e.releaseDate[t])}),n}function fu(n,e){var t=_o(n,e);if(!t)throw new qr("Unknown browser "+n);return t}function IH(n){return new qr("Unknown browser query `"+n+"`. Maybe you are using old Browserslist or made typo in query.")}function Ch(n,e,t,r){var i=1;switch(e){case"android":if(r.mobileToDesktop)return n;var s=St.data.chrome.released;i=s.length-s.indexOf(sS);break;case"op_mob":var o=St.data.op_mob.released.slice(-1)[0];i=S1(o)-MH+1;break;default:return n}return t<=i?n.slice(-1):n.slice(i-1-t)}function nS(n){return typeof n=="string"&&(n.indexOf("y")>=0||n.indexOf("a")>=0)}function hu(n,e){return iS(C1,n).reduce(function(t,r,i){if(r.not&&i===0)throw new qr("Write any browsers query (for instance, `defaults`) before `"+r.query+"`");var s=C1[r.type],o=s.select.call(St,e,r).map(function(d){var u=d.split(" ");return u[1]==="0"?u[0]+" "+_o(u[0],e).versions[0]:d});if(r.compose==="and")return r.not?t.filter(function(d){return o.indexOf(d)===-1}):t.filter(function(d){return o.indexOf(d)!==-1});if(r.not){var c={};return o.forEach(function(d){c[d]=!0}),t.filter(function(d){return!c[d]})}return t.concat(o)},[])}function lS(n){return typeof n>"u"&&(n={}),typeof n.path>"u"&&(n.path=xh.resolve?xh.resolve("."):"."),n}function cS(n,e){if(typeof n>"u"||n===null){var t=St.loadConfig(e);t?n=t:n=St.defaults}return n}function dS(n){if(!(typeof n=="string"||Array.isArray(n)))throw new qr("Browser queries must be an array or string. Got "+typeof n+".")}var w1={};function St(n,e){e=lS(e),n=cS(n,e),dS(n);var t={ignoreUnknownVersions:e.ignoreUnknownVersions,dangerousExtend:e.dangerousExtend,mobileToDesktop:e.mobileToDesktop,path:e.path,env:e.env};yr.oldDataWarning(St.data);var r=yr.getStat(e,St.data);if(r){t.customUsage={};for(var i in r)Ph(t.customUsage,i,r[i])}var s=JSON.stringify([n,t]);if(w1[s])return w1[s];var o=aS(hu(n,t)).sort(function(c,d){if(c=c.split(" "),d=d.split(" "),c[0]===d[0]){var u=c[1].split("-")[0],p=d[1].split("-")[0];return sc(p.split("."),u.split("."))}else return Th(c[0],d[0])});return yr.env.BROWSERSLIST_DISABLE_CACHE||(w1[s]=o),o}St.parse=function(n,e){return e=lS(e),n=cS(n,e),dS(n),iS(C1,n)};St.cache={};St.data={};St.usage={global:{},custom:null};St.defaults=["> 0.5%","last 2 versions","Firefox ESR","not dead"];St.aliases={fx:"firefox",ff:"firefox",ios:"ios_saf",explorer:"ie",blackberry:"bb",explorermobile:"ie_mob",operamini:"op_mini",operamobile:"op_mob",chromeandroid:"and_chr",firefoxandroid:"and_ff",ucandroid:"and_uc",qqandroid:"and_qq"};St.desktopNames={and_chr:"chrome",and_ff:"firefox",ie_mob:"ie",android:"chrome"};St.versionAliases={};St.clearCaches=yr.clearCaches;St.parseConfig=yr.parseConfig;St.readConfig=yr.readConfig;St.findConfig=yr.findConfig;St.loadConfig=yr.loadConfig;St.coverage=function(n,e){var t;if(typeof e>"u")t=St.usage.global;else if(e==="my stats"){var r={};r.path=xh.resolve?xh.resolve("."):".";var i=yr.getStat(r);if(!i)throw new qr("Custom usage statistics was not provided");t={};for(var s in i)Ph(t,s,i[s])}else if(typeof e=="string")e.length>2?e=e.toLowerCase():e=e.toUpperCase(),yr.loadCountry(St.usage,e,St.data),t=St.usage[e];else{"dataByBrowser"in e&&(e=e.dataByBrowser),t={};for(var o in e)for(var c in e[o])t[o+" "+c]=e[o][c]}return n.reduce(function(d,u){var p=t[u];return p===void 0&&(p=t[u.replace(/ \S+$/," 0")]),d+(p||0)},0)};function E1(n,e){var t=St.nodeVersions.filter(function(r){return oS(r,e.version)});if(t.length===0){if(n.ignoreUnknownVersions)return[];throw new qr("Unknown version "+e.version+" of Node.js")}return["node "+t[t.length-1]]}function A1(n,e){var t=parseInt(e.year),r=parseInt(e.month||"01")-1,i=parseInt(e.day||"01");return uS(Date.UTC(t,r,i,0,0,0),n)}function rS(n,e){var t=parseFloat(e.coverage),r=St.usage.global;if(e.place)if(e.place.match(/^my\s+stats$/i)){if(!n.customUsage)throw new qr("Custom usage statistics was not provided");r=n.customUsage}else{var i;e.place.length===2?i=e.place.toUpperCase():i=e.place.toLowerCase(),yr.loadCountry(St.usage,i,St.data),r=St.usage[i]}for(var s=Object.keys(r).sort(function(p,m){return r[m]-r[p]}),o=0,c=[],d,u=0;u<s.length&&(d=s[u],!(r[d]===0||(o+=r[d],c.push(d),o>=t)));u++);return c}var C1={last_major_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+major\s+versions?$/i,select:function(n,e){return Object.keys(Hs).reduce(function(t,r){var i=_o(r,n);if(!i)return t;var s=Ah(i.released,e.versions);return s=s.map(bo(i.name)),s=Ch(s,i.name,e.versions,n),t.concat(s)},[])}},last_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+versions?$/i,select:function(n,e){return Object.keys(Hs).reduce(function(t,r){var i=_o(r,n);if(!i)return t;var s=i.released.slice(-e.versions);return s=s.map(bo(i.name)),s=Ch(s,i.name,e.versions,n),t.concat(s)},[])}},last_electron_major_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+electron\s+major\s+versions?$/i,select:function(n,e){var t=Ah(Object.keys(qi),e.versions);return t.map(function(r){return"chrome "+qi[r]})}},last_node_major_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+node\s+major\s+versions?$/i,select:function(n,e){return Ah(St.nodeVersions,e.versions).map(function(t){return"node "+t})}},last_browser_major_versions:{matches:["versions","browser"],regexp:/^last\s+(\d+)\s+(\w+)\s+major\s+versions?$/i,select:function(n,e){var t=fu(e.browser,n),r=Ah(t.released,e.versions),i=r.map(bo(t.name));return i=Ch(i,t.name,e.versions,n),i}},last_electron_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+electron\s+versions?$/i,select:function(n,e){return Object.keys(qi).slice(-e.versions).map(function(t){return"chrome "+qi[t]})}},last_node_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+node\s+versions?$/i,select:function(n,e){return St.nodeVersions.slice(-e.versions).map(function(t){return"node "+t})}},last_browser_versions:{matches:["versions","browser"],regexp:/^last\s+(\d+)\s+(\w+)\s+versions?$/i,select:function(n,e){var t=fu(e.browser,n),r=t.released.slice(-e.versions).map(bo(t.name));return r=Ch(r,t.name,e.versions,n),r}},unreleased_versions:{matches:[],regexp:/^unreleased\s+versions$/i,select:function(n){return Object.keys(Hs).reduce(function(e,t){var r=_o(t,n);if(!r)return e;var i=r.versions.filter(function(s){return r.released.indexOf(s)===-1});return i=i.map(bo(r.name)),e.concat(i)},[])}},unreleased_electron_versions:{matches:[],regexp:/^unreleased\s+electron\s+versions?$/i,select:function(){return[]}},unreleased_browser_versions:{matches:["browser"],regexp:/^unreleased\s+(\w+)\s+versions?$/i,select:function(n,e){var t=fu(e.browser,n);return t.versions.filter(function(r){return t.released.indexOf(r)===-1}).map(bo(t.name))}},last_years:{matches:["years"],regexp:/^last\s+(\d*.?\d+)\s+years?$/i,select:function(n,e){return uS(Date.now()-PH*e.years,n)}},since_y:{matches:["year"],regexp:/^since (\d+)$/i,select:A1},since_y_m:{matches:["year","month"],regexp:/^since (\d+)-(\d+)$/i,select:A1},since_y_m_d:{matches:["year","month","day"],regexp:/^since (\d+)-(\d+)-(\d+)$/i,select:A1},popularity:{matches:["sign","popularity"],regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%$/,select:function(n,e){var t=parseFloat(e.popularity),r=St.usage.global;return Object.keys(r).reduce(function(i,s){return e.sign===">"?r[s]>t&&i.push(s):e.sign==="<"?r[s]<t&&i.push(s):e.sign==="<="?r[s]<=t&&i.push(s):r[s]>=t&&i.push(s),i},[])}},popularity_in_my_stats:{matches:["sign","popularity"],regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%\s+in\s+my\s+stats$/,select:function(n,e){var t=parseFloat(e.popularity);if(!n.customUsage)throw new qr("Custom usage statistics was not provided");var r=n.customUsage;return Object.keys(r).reduce(function(i,s){var o=r[s];return o==null||(e.sign===">"?o>t&&i.push(s):e.sign==="<"?o<t&&i.push(s):e.sign==="<="?o<=t&&i.push(s):o>=t&&i.push(s)),i},[])}},popularity_in_config_stats:{matches:["sign","popularity","config"],regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%\s+in\s+(\S+)\s+stats$/,select:function(n,e){var t=parseFloat(e.popularity),r=yr.loadStat(n,e.config,St.data);if(r){n.customUsage={};for(var i in r)Ph(n.customUsage,i,r[i])}if(!n.customUsage)throw new qr("Custom usage statistics was not provided");var s=n.customUsage;return Object.keys(s).reduce(function(o,c){var d=s[c];return d==null||(e.sign===">"?d>t&&o.push(c):e.sign==="<"?d<t&&o.push(c):e.sign==="<="?d<=t&&o.push(c):d>=t&&o.push(c)),o},[])}},popularity_in_place:{matches:["sign","popularity","place"],regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%\s+in\s+((alt-)?\w\w)$/,select:function(n,e){var t=parseFloat(e.popularity),r=e.place;r.length===2?r=r.toUpperCase():r=r.toLowerCase(),yr.loadCountry(St.usage,r,St.data);var i=St.usage[r];return Object.keys(i).reduce(function(s,o){var c=i[o];return c==null||(e.sign===">"?c>t&&s.push(o):e.sign==="<"?c<t&&s.push(o):e.sign==="<="?c<=t&&s.push(o):c>=t&&s.push(o)),s},[])}},cover:{matches:["coverage"],regexp:/^cover\s+(\d+|\d+\.\d+|\.\d+)%$/i,select:rS},cover_in:{matches:["coverage","place"],regexp:/^cover\s+(\d+|\d+\.\d+|\.\d+)%\s+in\s+(my\s+stats|(alt-)?\w\w)$/i,select:rS},supports:{matches:["feature"],regexp:/^supports\s+([\w-]+)$/,select:function(n,e){yr.loadFeature(St.cache,e.feature);var t=St.cache[e.feature],r=[];for(var i in t){var s=_o(i,n),o=n.mobileToDesktop&&i in St.desktopNames&&nS(t[i][s.released.slice(-1)[0]]);s.versions.forEach(function(c){var d=t[i][c];d===void 0&&o&&(d=t[St.desktopNames[i]][c]),nS(d)&&r.push(i+" "+c)})}return r}},electron_range:{matches:["from","to"],regexp:/^electron\s+([\d.]+)\s*-\s*([\d.]+)$/i,select:function(n,e){var t=Eh(e.from),r=Eh(e.to),i=parseFloat(e.from),s=parseFloat(e.to);if(!qi[t])throw new qr("Unknown version "+i+" of electron");if(!qi[r])throw new qr("Unknown version "+s+" of electron");return Object.keys(qi).filter(function(o){var c=parseFloat(o);return c>=i&&c<=s}).map(function(o){return"chrome "+qi[o]})}},node_range:{matches:["from","to"],regexp:/^node\s+([\d.]+)\s*-\s*([\d.]+)$/i,select:function(n,e){return St.nodeVersions.filter(QA(">=",e.from)).filter(QA("<=",e.to)).map(function(t){return"node "+t})}},browser_range:{matches:["browser","from","to"],regexp:/^(\w+)\s+([\d.]+)\s*-\s*([\d.]+)$/i,select:function(n,e){var t=fu(e.browser,n),r=parseFloat(Sh(t,e.from)||e.from),i=parseFloat(Sh(t,e.to)||e.to);function s(o){var c=parseFloat(o);return c>=r&&c<=i}return t.released.filter(s).map(bo(t.name))}},electron_ray:{matches:["sign","version"],regexp:/^electron\s*(>=?|<=?)\s*([\d.]+)$/i,select:function(n,e){var t=Eh(e.version);return Object.keys(qi).filter(XA(e.sign,t)).map(function(r){return"chrome "+qi[r]})}},node_ray:{matches:["sign","version"],regexp:/^node\s*(>=?|<=?)\s*([\d.]+)$/i,select:function(n,e){return St.nodeVersions.filter(kH(e.sign,e.version)).map(function(t){return"node "+t})}},browser_ray:{matches:["browser","sign","version"],regexp:/^(\w+)\s*(>=?|<=?)\s*([\d.]+)$/,select:function(n,e){var t=e.version,r=fu(e.browser,n),i=St.versionAliases[r.name][t];return i&&(t=i),r.released.filter(XA(e.sign,t)).map(function(s){return r.name+" "+s})}},firefox_esr:{matches:[],regexp:/^(firefox|ff|fx)\s+esr$/i,select:function(){return["firefox 102","firefox 115"]}},opera_mini_all:{matches:[],regexp:/(operamini|op_mini)\s+all/i,select:function(){return["op_mini all"]}},electron_version:{matches:["version"],regexp:/^electron\s+([\d.]+)$/i,select:function(n,e){var t=Eh(e.version),r=qi[t];if(!r)throw new qr("Unknown version "+e.version+" of electron");return["chrome "+r]}},node_major_version:{matches:["version"],regexp:/^node\s+(\d+)$/i,select:E1},node_minor_version:{matches:["version"],regexp:/^node\s+(\d+\.\d+)$/i,select:E1},node_patch_version:{matches:["version"],regexp:/^node\s+(\d+\.\d+\.\d+)$/i,select:E1},current_node:{matches:[],regexp:/^current\s+node$/i,select:function(n){return[yr.currentNode(hu,n)]}},maintained_node:{matches:[],regexp:/^maintained\s+node\s+versions$/i,select:function(n){var e=Date.now(),t=Object.keys(_1).filter(function(r){return e<Date.parse(_1[r].end)&&e>Date.parse(_1[r].start)&&OH(r)}).map(function(r){return"node "+r.slice(1)});return hu(t,n)}},phantomjs_1_9:{matches:[],regexp:/^phantomjs\s+1.9$/i,select:function(){return["safari 5"]}},phantomjs_2_1:{matches:[],regexp:/^phantomjs\s+2.1$/i,select:function(){return["safari 6"]}},browser_version:{matches:["browser","version"],regexp:/^(\w+)\s+(tp|[\d.]+)$/i,select:function(n,e){var t=e.version;/^tp$/i.test(t)&&(t="TP");var r=fu(e.browser,n),i=Sh(r,t);if(i)t=i;else if(t.indexOf(".")===-1?i=t+".0":i=t.replace(/\.0$/,""),i=Sh(r,i),i)t=i;else{if(n.ignoreUnknownVersions)return[];throw new qr("Unknown version "+t+" of "+e.browser)}return[r.name+" "+t]}},browserslist_config:{matches:[],regexp:/^browserslist config$/i,select:function(n){return St(void 0,n)}},extends:{matches:["config"],regexp:/^extends (.+)$/i,select:function(n,e){return hu(yr.loadQueries(n,e.config),n)}},defaults:{matches:[],regexp:/^defaults$/i,select:function(n){return hu(St.defaults,n)}},dead:{matches:[],regexp:/^dead$/i,select:function(n){var e=["Baidu >= 0","ie <= 11","ie_mob <= 11","bb <= 10","op_mob <= 12.1","samsung 4"];return hu(e,n)}},unknown:{matches:[],regexp:/^(\w+)$/i,select:function(n,e){throw _o(e.query,n)?new qr("Specify versions in Browserslist query for browser "+e.query):IH(e.query)}}};(function(){for(var n in Hs){var e=Hs[n];St.data[n]={name:n,versions:YA(Hs[n].versions),released:YA(Hs[n].versions.slice(0,-3)),releaseDate:Hs[n].release_date},Ph(St.usage.global,n,e.usage_global),St.versionAliases[n]={};for(var t=0;t<e.versions.length;t++){var r=e.versions[t];if(r&&r.indexOf("-")!==-1)for(var i=r.split("-"),s=0;s<i.length;s++)St.versionAliases[n][i[s]]=r}}St.nodeVersions=xH.map(function(o){return o.version})})();fS.exports=St});var gS=we((KX,pS)=>{"use strict";F();pS.exports={_hasUFlag:!1,shouldRun:function(e){var t=e.flags.includes("s");return t?(e.flags=e.flags.replace("s",""),this._hasUFlag=e.flags.includes("u"),!0):!1},Char:function(e){var t=e.node;if(!(t.kind!=="meta"||t.value!==".")){var r="\\uFFFF",i="\uFFFF";this._hasUFlag&&(r="\\u{10FFFF}",i="\u{10FFFF}"),e.replace({type:"CharacterClass",expressions:[{type:"ClassRange",from:{type:"Char",value:"\\0",kind:"decimal",symbol:"\0"},to:{type:"Char",value:r,kind:"unicode",symbol:i}}]})}}}});var yS=we((XX,mS)=>{"use strict";F();mS.exports={_groupNames:{},init:function(){this._groupNames={}},getExtra:function(){return this._groupNames},Group:function(e){var t=e.node;t.name&&(this._groupNames[t.name]=t.number,delete t.name,delete t.nameRaw)},Backreference:function(e){var t=e.node;t.kind==="name"&&(t.kind="number",t.reference=t.number,delete t.referenceRaw)}}});var vS=we((ZX,bS)=>{"use strict";F();bS.exports={RegExp:function(e){var t=e.node;t.flags.includes("x")&&(t.flags=t.flags.replace("x",""))}}});var wS=we((tQ,_S)=>{"use strict";F();_S.exports={dotAll:gS(),namedCapturingGroups:yS(),xFlag:vS()}});var T1=we((rQ,ES)=>{"use strict";F();function ci(n){return n?NH[n.type](n):""}var NH={RegExp:function(e){return"/"+ci(e.body)+"/"+e.flags},Alternative:function(e){return(e.expressions||[]).map(ci).join("")},Disjunction:function(e){return ci(e.left)+"|"+ci(e.right)},Group:function(e){var t=ci(e.expression);return e.capturing?e.name?"(?<"+(e.nameRaw||e.name)+">"+t+")":"("+t+")":"(?:"+t+")"},Backreference:function(e){switch(e.kind){case"number":return"\\"+e.reference;case"name":return"\\k<"+(e.referenceRaw||e.reference)+">";default:throw new TypeError("Unknown Backreference kind: "+e.kind)}},Assertion:function(e){switch(e.kind){case"^":case"$":case"\\b":case"\\B":return e.kind;case"Lookahead":{var t=ci(e.assertion);return e.negative?"(?!"+t+")":"(?="+t+")"}case"Lookbehind":{var r=ci(e.assertion);return e.negative?"(?<!"+r+")":"(?<="+r+")"}default:throw new TypeError("Unknown Assertion kind: "+e.kind)}},CharacterClass:function(e){var t=e.expressions.map(ci).join("");return e.negative?"[^"+t+"]":"["+t+"]"},ClassRange:function(e){return ci(e.from)+"-"+ci(e.to)},Repetition:function(e){return""+ci(e.expression)+ci(e.quantifier)},Quantifier:function(e){var t=void 0,r=e.greedy?"":"?";switch(e.kind){case"+":case"?":case"*":t=e.kind;break;case"Range":e.from===e.to?t="{"+e.from+"}":e.to?t="{"+e.from+","+e.to+"}":t="{"+e.from+",}";break;default:throw new TypeError("Unknown Quantifier kind: "+e.kind)}return""+t+r},Char:function(e){var t=e.value;switch(e.kind){case"simple":return e.escaped?"\\"+t:t;case"hex":case"unicode":case"oct":case"decimal":case"control":case"meta":return t;default:throw new TypeError("Unknown Char kind: "+e.kind)}},UnicodeProperty:function(e){var t=e.negative?"P":"p",r=void 0;return!e.shorthand&&!e.binary?r=e.name+"=":r="","\\"+t+"{"+r+e.value+"}"}};ES.exports={generate:ci}});var TS=we((sQ,CS)=>{"use strict";F();var x1={General_Category:"gc",Script:"sc",Script_Extensions:"scx"},oc=Rh(x1),kh={ASCII:"ASCII",ASCII_Hex_Digit:"AHex",Alphabetic:"Alpha",Any:"Any",Assigned:"Assigned",Bidi_Control:"Bidi_C",Bidi_Mirrored:"Bidi_M",Case_Ignorable:"CI",Cased:"Cased",Changes_When_Casefolded:"CWCF",Changes_When_Casemapped:"CWCM",Changes_When_Lowercased:"CWL",Changes_When_NFKC_Casefolded:"CWKCF",Changes_When_Titlecased:"CWT",Changes_When_Uppercased:"CWU",Dash:"Dash",Default_Ignorable_Code_Point:"DI",Deprecated:"Dep",Diacritic:"Dia",Emoji:"Emoji",Emoji_Component:"Emoji_Component",Emoji_Modifier:"Emoji_Modifier",Emoji_Modifier_Base:"Emoji_Modifier_Base",Emoji_Presentation:"Emoji_Presentation",Extended_Pictographic:"Extended_Pictographic",Extender:"Ext",Grapheme_Base:"Gr_Base",Grapheme_Extend:"Gr_Ext",Hex_Digit:"Hex",IDS_Binary_Operator:"IDSB",IDS_Trinary_Operator:"IDST",ID_Continue:"IDC",ID_Start:"IDS",Ideographic:"Ideo",Join_Control:"Join_C",Logical_Order_Exception:"LOE",Lowercase:"Lower",Math:"Math",Noncharacter_Code_Point:"NChar",Pattern_Syntax:"Pat_Syn",Pattern_White_Space:"Pat_WS",Quotation_Mark:"QMark",Radical:"Radical",Regional_Indicator:"RI",Sentence_Terminal:"STerm",Soft_Dotted:"SD",Terminal_Punctuation:"Term",Unified_Ideograph:"UIdeo",Uppercase:"Upper",Variation_Selector:"VS",White_Space:"space",XID_Continue:"XIDC",XID_Start:"XIDS"},wo=Rh(kh),P1={Cased_Letter:"LC",Close_Punctuation:"Pe",Connector_Punctuation:"Pc",Control:["Cc","cntrl"],Currency_Symbol:"Sc",Dash_Punctuation:"Pd",Decimal_Number:["Nd","digit"],Enclosing_Mark:"Me",Final_Punctuation:"Pf",Format:"Cf",Initial_Punctuation:"Pi",Letter:"L",Letter_Number:"Nl",Line_Separator:"Zl",Lowercase_Letter:"Ll",Mark:["M","Combining_Mark"],Math_Symbol:"Sm",Modifier_Letter:"Lm",Modifier_Symbol:"Sk",Nonspacing_Mark:"Mn",Number:"N",Open_Punctuation:"Ps",Other:"C",Other_Letter:"Lo",Other_Number:"No",Other_Punctuation:"Po",Other_Symbol:"So",Paragraph_Separator:"Zp",Private_Use:"Co",Punctuation:["P","punct"],Separator:"Z",Space_Separator:"Zs",Spacing_Mark:"Mc",Surrogate:"Cs",Symbol:"S",Titlecase_Letter:"Lt",Unassigned:"Cn",Uppercase_Letter:"Lu"},Mh=Rh(P1),M1={Adlam:"Adlm",Ahom:"Ahom",Anatolian_Hieroglyphs:"Hluw",Arabic:"Arab",Armenian:"Armn",Avestan:"Avst",Balinese:"Bali",Bamum:"Bamu",Bassa_Vah:"Bass",Batak:"Batk",Bengali:"Beng",Bhaiksuki:"Bhks",Bopomofo:"Bopo",Brahmi:"Brah",Braille:"Brai",Buginese:"Bugi",Buhid:"Buhd",Canadian_Aboriginal:"Cans",Carian:"Cari",Caucasian_Albanian:"Aghb",Chakma:"Cakm",Cham:"Cham",Cherokee:"Cher",Common:"Zyyy",Coptic:["Copt","Qaac"],Cuneiform:"Xsux",Cypriot:"Cprt",Cyrillic:"Cyrl",Deseret:"Dsrt",Devanagari:"Deva",Dogra:"Dogr",Duployan:"Dupl",Egyptian_Hieroglyphs:"Egyp",Elbasan:"Elba",Ethiopic:"Ethi",Georgian:"Geor",Glagolitic:"Glag",Gothic:"Goth",Grantha:"Gran",Greek:"Grek",Gujarati:"Gujr",Gunjala_Gondi:"Gong",Gurmukhi:"Guru",Han:"Hani",Hangul:"Hang",Hanifi_Rohingya:"Rohg",Hanunoo:"Hano",Hatran:"Hatr",Hebrew:"Hebr",Hiragana:"Hira",Imperial_Aramaic:"Armi",Inherited:["Zinh","Qaai"],Inscriptional_Pahlavi:"Phli",Inscriptional_Parthian:"Prti",Javanese:"Java",Kaithi:"Kthi",Kannada:"Knda",Katakana:"Kana",Kayah_Li:"Kali",Kharoshthi:"Khar",Khmer:"Khmr",Khojki:"Khoj",Khudawadi:"Sind",Lao:"Laoo",Latin:"Latn",Lepcha:"Lepc",Limbu:"Limb",Linear_A:"Lina",Linear_B:"Linb",Lisu:"Lisu",Lycian:"Lyci",Lydian:"Lydi",Mahajani:"Mahj",Makasar:"Maka",Malayalam:"Mlym",Mandaic:"Mand",Manichaean:"Mani",Marchen:"Marc",Medefaidrin:"Medf",Masaram_Gondi:"Gonm",Meetei_Mayek:"Mtei",Mende_Kikakui:"Mend",Meroitic_Cursive:"Merc",Meroitic_Hieroglyphs:"Mero",Miao:"Plrd",Modi:"Modi",Mongolian:"Mong",Mro:"Mroo",Multani:"Mult",Myanmar:"Mymr",Nabataean:"Nbat",New_Tai_Lue:"Talu",Newa:"Newa",Nko:"Nkoo",Nushu:"Nshu",Ogham:"Ogam",Ol_Chiki:"Olck",Old_Hungarian:"Hung",Old_Italic:"Ital",Old_North_Arabian:"Narb",Old_Permic:"Perm",Old_Persian:"Xpeo",Old_Sogdian:"Sogo",Old_South_Arabian:"Sarb",Old_Turkic:"Orkh",Oriya:"Orya",Osage:"Osge",Osmanya:"Osma",Pahawh_Hmong:"Hmng",Palmyrene:"Palm",Pau_Cin_Hau:"Pauc",Phags_Pa:"Phag",Phoenician:"Phnx",Psalter_Pahlavi:"Phlp",Rejang:"Rjng",Runic:"Runr",Samaritan:"Samr",Saurashtra:"Saur",Sharada:"Shrd",Shavian:"Shaw",Siddham:"Sidd",SignWriting:"Sgnw",Sinhala:"Sinh",Sogdian:"Sogd",Sora_Sompeng:"Sora",Soyombo:"Soyo",Sundanese:"Sund",Syloti_Nagri:"Sylo",Syriac:"Syrc",Tagalog:"Tglg",Tagbanwa:"Tagb",Tai_Le:"Tale",Tai_Tham:"Lana",Tai_Viet:"Tavt",Takri:"Takr",Tamil:"Taml",Tangut:"Tang",Telugu:"Telu",Thaana:"Thaa",Thai:"Thai",Tibetan:"Tibt",Tifinagh:"Tfng",Tirhuta:"Tirh",Ugaritic:"Ugar",Vai:"Vaii",Warang_Citi:"Wara",Yi:"Yiii",Zanabazar_Square:"Zanb"},Oh=Rh(M1);function Rh(n){var e={};for(var t in n)if(n.hasOwnProperty(t)){var r=n[t];if(Array.isArray(r))for(var i=0;i<r.length;i++)e[r[i]]=t;else e[r]=t}return e}function DH(n){return x1.hasOwnProperty(n)||oc.hasOwnProperty(n)||kh.hasOwnProperty(n)||wo.hasOwnProperty(n)}function BH(n,e){return HH(n)?AS(e):UH(n)?SS(e):!1}function FH(n){return oc.hasOwnProperty(n)||wo.hasOwnProperty(n)}function HH(n){return n==="General_Category"||n=="gc"}function UH(n){return n==="Script"||n==="Script_Extensions"||n==="sc"||n==="scx"}function AS(n){return P1.hasOwnProperty(n)||Mh.hasOwnProperty(n)}function SS(n){return M1.hasOwnProperty(n)||Oh.hasOwnProperty(n)}function jH(n){return kh.hasOwnProperty(n)||wo.hasOwnProperty(n)}function qH(n){return oc.hasOwnProperty(n)?oc[n]:wo.hasOwnProperty(n)?wo[n]:null}function GH(n){return Mh.hasOwnProperty(n)?Mh[n]:Oh.hasOwnProperty(n)?Oh[n]:wo.hasOwnProperty(n)?wo[n]:null}CS.exports={isAlias:FH,isValidName:DH,isValidValue:BH,isGeneralCategoryValue:AS,isScriptCategoryValue:SS,isBinaryPropertyName:jH,getCanonicalName:qH,getCanonicalValue:GH,NON_BINARY_PROP_NAMES_TO_ALIASES:x1,NON_BINARY_ALIASES_TO_PROP_NAMES:oc,BINARY_PROP_NAMES_TO_ALIASES:kh,BINARY_ALIASES_TO_PROP_NAMES:wo,GENERAL_CATEGORY_VALUE_TO_ALIASES:P1,GENERAL_CATEGORY_VALUE_ALIASES_TO_VALUES:Mh,SCRIPT_VALUE_TO_ALIASES:M1,SCRIPT_VALUE_ALIASES_TO_VALUE:Oh}});var HS=we((aQ,FS)=>{"use strict";F();var zH=function(){function n(e,t){var r=[],i=!0,s=!1,o=void 0;try{for(var c=e[Symbol.iterator](),d;!(i=(d=c.next()).done)&&(r.push(d.value),!(t&&r.length===t));i=!0);}catch(u){s=!0,o=u}finally{try{!i&&c.return&&c.return()}finally{if(s)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function RS(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var hs=void 0,LS=void 0,Hn={},yt=void 0,ct=void 0;function At(n,e){return Hn.options.captureLocations?!n||!e?n||e:{startOffset:n.startOffset,endOffset:e.endOffset,startLine:n.startLine,endLine:e.endLine,startColumn:n.startColumn,endColumn:e.endColumn}:null}var IS="$",WH=[[-1,1,function(n,e){ct=At(e,e),yt=n}],[0,4,function(n,e,t,r,i,s,o,c){ct=At(i,c),yt=Rn({type:"RegExp",body:e,flags:YH(r)},Lh(i,c||o))}],[1,1,function(n,e){ct=At(e,e),yt=n}],[1,0,function(){ct=null,yt=""}],[2,1,function(n,e){ct=At(e,e),yt=n}],[2,2,function(n,e,t,r){ct=At(t,r),yt=n+e}],[3,1,function(n,e){ct=At(e,e),yt=n}],[4,1,function(n,e){ct=At(e,e),yt=n}],[4,3,function(n,e,t,r,i,s){ct=At(r,s);var o=null;i&&(o=Lh(r||i,s||i)),yt=Rn({type:"Disjunction",left:n,right:t},o)}],[5,1,function(n,e){if(ct=At(e,e),n.length===0){yt=null;return}n.length===1?yt=Rn(n[0],ct):yt=Rn({type:"Alternative",expressions:n},ct)}],[6,0,function(){ct=null,yt=[]}],[6,2,function(n,e,t,r){ct=At(t,r),yt=n.concat(e)}],[7,1,function(n,e){ct=At(e,e),yt=Rn(Object.assign({type:"Assertion"},n),ct)}],[7,2,function(n,e,t,r){ct=At(t,r),yt=n,e&&(yt=Rn({type:"Repetition",expression:n,quantifier:e},ct))}],[8,1,function(n,e){ct=At(e,e),yt={kind:"^"}}],[8,1,function(n,e){ct=At(e,e),yt={kind:"$"}}],[8,1,function(n,e){ct=At(e,e),yt={kind:"\\b"}}],[8,1,function(n,e){ct=At(e,e),yt={kind:"\\B"}}],[8,3,function(n,e,t,r,i,s){ct=At(r,s),yt={kind:"Lookahead",assertion:e}}],[8,3,function(n,e,t,r,i,s){ct=At(r,s),yt={kind:"Lookahead",negative:!0,assertion:e}}],[8,3,function(n,e,t,r,i,s){ct=At(r,s),yt={kind:"Lookbehind",assertion:e}}],[8,3,function(n,e,t,r,i,s){ct=At(r,s),yt={kind:"Lookbehind",negative:!0,assertion:e}}],[9,1,function(n,e){ct=At(e,e),yt=n}],[9,1,function(n,e){ct=At(e,e),yt=n}],[9,1,function(n,e){ct=At(e,e),yt=n}],[10,1,function(n,e){ct=At(e,e),yt=xr(n,"simple",ct)}],[10,1,function(n,e){ct=At(e,e),yt=xr(n.slice(1),"simple",ct),yt.escaped=!0}],[10,1,function(n,e){ct=At(e,e),yt=xr(n,"unicode",ct),yt.isSurrogatePair=!0}],[10,1,function(n,e){ct=At(e,e),yt=xr(n,"unicode",ct)}],[10,1,function(n,e){ct=At(e,e),yt=JH(n,ct)}],[10,1,function(n,e){ct=At(e,e),yt=xr(n,"control",ct)}],[10,1,function(n,e){ct=At(e,e),yt=xr(n,"hex",ct)}],[10,1,function(n,e){ct=At(e,e),yt=xr(n,"oct",ct)}],[10,1,function(n,e){ct=At(e,e),yt=XH(n,ct)}],[10,1,function(n,e){ct=At(e,e),yt=xr(n,"meta",ct)}],[10,1,function(n,e){ct=At(e,e),yt=xr(n,"meta",ct)}],[10,1,function(n,e){ct=At(e,e),yt=nU(n,e)}],[11,1,function(n,e){ct=At(e,e),yt=n}],[11,0],[12,1,function(n,e){ct=At(e,e),yt=n}],[12,2,function(n,e,t,r){ct=At(t,r),n.greedy=!1,yt=n}],[13,1,function(n,e){ct=At(e,e),yt=Rn({type:"Quantifier",kind:n,greedy:!0},ct)}],[13,1,function(n,e){ct=At(e,e),yt=Rn({type:"Quantifier",kind:n,greedy:!0},ct)}],[13,1,function(n,e){ct=At(e,e),yt=Rn({type:"Quantifier",kind:n,greedy:!0},ct)}],[13,1,function(n,e){ct=At(e,e);var t=k1(n);yt=Rn({type:"Quantifier",kind:"Range",from:t[0],to:t[0],greedy:!0},ct)}],[13,1,function(n,e){ct=At(e,e),yt=Rn({type:"Quantifier",kind:"Range",from:k1(n)[0],greedy:!0},ct)}],[13,1,function(n,e){ct=At(e,e);var t=k1(n);yt=Rn({type:"Quantifier",kind:"Range",from:t[0],to:t[1],greedy:!0},ct)}],[14,1,function(n,e){ct=At(e,e),yt=n}],[14,1,function(n,e){ct=At(e,e),yt=n}],[15,3,function(n,e,t,r,i,s){ct=At(r,s);var o=String(n),c=DS(o);if(!Hn.options.allowGroupNameDuplicates&&ac.hasOwnProperty(c))throw new SyntaxError('Duplicate of the named group "'+c+'".');ac[c]=n.groupNumber,yt=Rn({type:"Group",capturing:!0,name:c,nameRaw:o,number:n.groupNumber,expression:e},ct)}],[15,3,function(n,e,t,r,i,s){ct=At(r,s),yt=Rn({type:"Group",capturing:!0,number:n.groupNumber,expression:e},ct)}],[16,3,function(n,e,t,r,i,s){ct=At(r,s),yt=Rn({type:"Group",capturing:!1,expression:e},ct)}],[17,3,function(n,e,t,r,i,s){ct=At(r,s),yt=Rn({type:"CharacterClass",negative:!0,expressions:e},ct)}],[17,3,function(n,e,t,r,i,s){ct=At(r,s),yt=Rn({type:"CharacterClass",expressions:e},ct)}],[18,0,function(){ct=null,yt=[]}],[18,1,function(n,e){ct=At(e,e),yt=n}],[19,1,function(n,e){ct=At(e,e),yt=[n]}],[19,2,function(n,e,t,r){ct=At(t,r),yt=[n].concat(e)}],[19,4,function(n,e,t,r,i,s,o,c){ct=At(i,c),MS(n,t),yt=[Rn({type:"ClassRange",from:n,to:t},Lh(i,o))],r&&(yt=yt.concat(r))}],[20,1,function(n,e){ct=At(e,e),yt=n}],[20,2,function(n,e,t,r){ct=At(t,r),yt=[n].concat(e)}],[20,4,function(n,e,t,r,i,s,o,c){ct=At(i,c),MS(n,t),yt=[Rn({type:"ClassRange",from:n,to:t},Lh(i,o))],r&&(yt=yt.concat(r))}],[21,1,function(n,e){ct=At(e,e),yt=xr(n,"simple",ct)}],[21,1,function(n,e){ct=At(e,e),yt=n}],[22,1,function(n,e){ct=At(e,e),yt=n}],[22,1,function(n,e){ct=At(e,e),yt=xr(n,"meta",ct)}]],xS={SLASH:"23",CHAR:"24",BAR:"25",BOS:"26",EOS:"27",ESC_b:"28",ESC_B:"29",POS_LA_ASSERT:"30",R_PAREN:"31",NEG_LA_ASSERT:"32",POS_LB_ASSERT:"33",NEG_LB_ASSERT:"34",ESC_CHAR:"35",U_CODE_SURROGATE:"36",U_CODE:"37",U_PROP_VALUE_EXP:"38",CTRL_CH:"39",HEX_CODE:"40",OCT_CODE:"41",DEC_CODE:"42",META_CHAR:"43",ANY:"44",NAMED_GROUP_REF:"45",Q_MARK:"46",STAR:"47",PLUS:"48",RANGE_EXACT:"49",RANGE_OPEN:"50",RANGE_CLOSED:"51",NAMED_CAPTURE_GROUP:"52",L_PAREN:"53",NON_CAPTURE_GROUP:"54",NEG_CLASS:"55",R_BRACKET:"56",L_BRACKET:"57",DASH:"58",$:"59"},O1=[{0:1,23:"s2"},{59:"acc"},{3:3,4:4,5:5,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"s7"},{23:"r6",25:"s12"},{23:"r7",25:"r7",31:"r7"},{7:14,8:15,9:16,10:25,14:27,15:42,16:43,17:26,23:"r9",24:"s28",25:"r9",26:"s17",27:"s18",28:"s19",29:"s20",30:"s21",31:"r9",32:"s22",33:"s23",34:"s24",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",52:"s44",53:"s45",54:"s46",55:"s40",57:"s41"},{1:8,2:9,24:"s10",59:"r3"},{59:"r1"},{24:"s11",59:"r2"},{24:"r4",59:"r4"},{24:"r5",59:"r5"},{5:13,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r8",25:"r8",31:"r8"},{23:"r11",24:"r11",25:"r11",26:"r11",27:"r11",28:"r11",29:"r11",30:"r11",31:"r11",32:"r11",33:"r11",34:"r11",35:"r11",36:"r11",37:"r11",38:"r11",39:"r11",40:"r11",41:"r11",42:"r11",43:"r11",44:"r11",45:"r11",52:"r11",53:"r11",54:"r11",55:"r11",57:"r11"},{23:"r12",24:"r12",25:"r12",26:"r12",27:"r12",28:"r12",29:"r12",30:"r12",31:"r12",32:"r12",33:"r12",34:"r12",35:"r12",36:"r12",37:"r12",38:"r12",39:"r12",40:"r12",41:"r12",42:"r12",43:"r12",44:"r12",45:"r12",52:"r12",53:"r12",54:"r12",55:"r12",57:"r12"},{11:47,12:48,13:49,23:"r38",24:"r38",25:"r38",26:"r38",27:"r38",28:"r38",29:"r38",30:"r38",31:"r38",32:"r38",33:"r38",34:"r38",35:"r38",36:"r38",37:"r38",38:"r38",39:"r38",40:"r38",41:"r38",42:"r38",43:"r38",44:"r38",45:"r38",46:"s52",47:"s50",48:"s51",49:"s53",50:"s54",51:"s55",52:"r38",53:"r38",54:"r38",55:"r38",57:"r38"},{23:"r14",24:"r14",25:"r14",26:"r14",27:"r14",28:"r14",29:"r14",30:"r14",31:"r14",32:"r14",33:"r14",34:"r14",35:"r14",36:"r14",37:"r14",38:"r14",39:"r14",40:"r14",41:"r14",42:"r14",43:"r14",44:"r14",45:"r14",52:"r14",53:"r14",54:"r14",55:"r14",57:"r14"},{23:"r15",24:"r15",25:"r15",26:"r15",27:"r15",28:"r15",29:"r15",30:"r15",31:"r15",32:"r15",33:"r15",34:"r15",35:"r15",36:"r15",37:"r15",38:"r15",39:"r15",40:"r15",41:"r15",42:"r15",43:"r15",44:"r15",45:"r15",52:"r15",53:"r15",54:"r15",55:"r15",57:"r15"},{23:"r16",24:"r16",25:"r16",26:"r16",27:"r16",28:"r16",29:"r16",30:"r16",31:"r16",32:"r16",33:"r16",34:"r16",35:"r16",36:"r16",37:"r16",38:"r16",39:"r16",40:"r16",41:"r16",42:"r16",43:"r16",44:"r16",45:"r16",52:"r16",53:"r16",54:"r16",55:"r16",57:"r16"},{23:"r17",24:"r17",25:"r17",26:"r17",27:"r17",28:"r17",29:"r17",30:"r17",31:"r17",32:"r17",33:"r17",34:"r17",35:"r17",36:"r17",37:"r17",38:"r17",39:"r17",40:"r17",41:"r17",42:"r17",43:"r17",44:"r17",45:"r17",52:"r17",53:"r17",54:"r17",55:"r17",57:"r17"},{4:57,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:59,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:61,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:63,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r22",24:"r22",25:"r22",26:"r22",27:"r22",28:"r22",29:"r22",30:"r22",31:"r22",32:"r22",33:"r22",34:"r22",35:"r22",36:"r22",37:"r22",38:"r22",39:"r22",40:"r22",41:"r22",42:"r22",43:"r22",44:"r22",45:"r22",46:"r22",47:"r22",48:"r22",49:"r22",50:"r22",51:"r22",52:"r22",53:"r22",54:"r22",55:"r22",57:"r22"},{23:"r23",24:"r23",25:"r23",26:"r23",27:"r23",28:"r23",29:"r23",30:"r23",31:"r23",32:"r23",33:"r23",34:"r23",35:"r23",36:"r23",37:"r23",38:"r23",39:"r23",40:"r23",41:"r23",42:"r23",43:"r23",44:"r23",45:"r23",46:"r23",47:"r23",48:"r23",49:"r23",50:"r23",51:"r23",52:"r23",53:"r23",54:"r23",55:"r23",57:"r23"},{23:"r24",24:"r24",25:"r24",26:"r24",27:"r24",28:"r24",29:"r24",30:"r24",31:"r24",32:"r24",33:"r24",34:"r24",35:"r24",36:"r24",37:"r24",38:"r24",39:"r24",40:"r24",41:"r24",42:"r24",43:"r24",44:"r24",45:"r24",46:"r24",47:"r24",48:"r24",49:"r24",50:"r24",51:"r24",52:"r24",53:"r24",54:"r24",55:"r24",57:"r24"},{23:"r25",24:"r25",25:"r25",26:"r25",27:"r25",28:"r25",29:"r25",30:"r25",31:"r25",32:"r25",33:"r25",34:"r25",35:"r25",36:"r25",37:"r25",38:"r25",39:"r25",40:"r25",41:"r25",42:"r25",43:"r25",44:"r25",45:"r25",46:"r25",47:"r25",48:"r25",49:"r25",50:"r25",51:"r25",52:"r25",53:"r25",54:"r25",55:"r25",56:"r25",57:"r25",58:"r25"},{23:"r26",24:"r26",25:"r26",26:"r26",27:"r26",28:"r26",29:"r26",30:"r26",31:"r26",32:"r26",33:"r26",34:"r26",35:"r26",36:"r26",37:"r26",38:"r26",39:"r26",40:"r26",41:"r26",42:"r26",43:"r26",44:"r26",45:"r26",46:"r26",47:"r26",48:"r26",49:"r26",50:"r26",51:"r26",52:"r26",53:"r26",54:"r26",55:"r26",56:"r26",57:"r26",58:"r26"},{23:"r27",24:"r27",25:"r27",26:"r27",27:"r27",28:"r27",29:"r27",30:"r27",31:"r27",32:"r27",33:"r27",34:"r27",35:"r27",36:"r27",37:"r27",38:"r27",39:"r27",40:"r27",41:"r27",42:"r27",43:"r27",44:"r27",45:"r27",46:"r27",47:"r27",48:"r27",49:"r27",50:"r27",51:"r27",52:"r27",53:"r27",54:"r27",55:"r27",56:"r27",57:"r27",58:"r27"},{23:"r28",24:"r28",25:"r28",26:"r28",27:"r28",28:"r28",29:"r28",30:"r28",31:"r28",32:"r28",33:"r28",34:"r28",35:"r28",36:"r28",37:"r28",38:"r28",39:"r28",40:"r28",41:"r28",42:"r28",43:"r28",44:"r28",45:"r28",46:"r28",47:"r28",48:"r28",49:"r28",50:"r28",51:"r28",52:"r28",53:"r28",54:"r28",55:"r28",56:"r28",57:"r28",58:"r28"},{23:"r29",24:"r29",25:"r29",26:"r29",27:"r29",28:"r29",29:"r29",30:"r29",31:"r29",32:"r29",33:"r29",34:"r29",35:"r29",36:"r29",37:"r29",38:"r29",39:"r29",40:"r29",41:"r29",42:"r29",43:"r29",44:"r29",45:"r29",46:"r29",47:"r29",48:"r29",49:"r29",50:"r29",51:"r29",52:"r29",53:"r29",54:"r29",55:"r29",56:"r29",57:"r29",58:"r29"},{23:"r30",24:"r30",25:"r30",26:"r30",27:"r30",28:"r30",29:"r30",30:"r30",31:"r30",32:"r30",33:"r30",34:"r30",35:"r30",36:"r30",37:"r30",38:"r30",39:"r30",40:"r30",41:"r30",42:"r30",43:"r30",44:"r30",45:"r30",46:"r30",47:"r30",48:"r30",49:"r30",50:"r30",51:"r30",52:"r30",53:"r30",54:"r30",55:"r30",56:"r30",57:"r30",58:"r30"},{23:"r31",24:"r31",25:"r31",26:"r31",27:"r31",28:"r31",29:"r31",30:"r31",31:"r31",32:"r31",33:"r31",34:"r31",35:"r31",36:"r31",37:"r31",38:"r31",39:"r31",40:"r31",41:"r31",42:"r31",43:"r31",44:"r31",45:"r31",46:"r31",47:"r31",48:"r31",49:"r31",50:"r31",51:"r31",52:"r31",53:"r31",54:"r31",55:"r31",56:"r31",57:"r31",58:"r31"},{23:"r32",24:"r32",25:"r32",26:"r32",27:"r32",28:"r32",29:"r32",30:"r32",31:"r32",32:"r32",33:"r32",34:"r32",35:"r32",36:"r32",37:"r32",38:"r32",39:"r32",40:"r32",41:"r32",42:"r32",43:"r32",44:"r32",45:"r32",46:"r32",47:"r32",48:"r32",49:"r32",50:"r32",51:"r32",52:"r32",53:"r32",54:"r32",55:"r32",56:"r32",57:"r32",58:"r32"},{23:"r33",24:"r33",25:"r33",26:"r33",27:"r33",28:"r33",29:"r33",30:"r33",31:"r33",32:"r33",33:"r33",34:"r33",35:"r33",36:"r33",37:"r33",38:"r33",39:"r33",40:"r33",41:"r33",42:"r33",43:"r33",44:"r33",45:"r33",46:"r33",47:"r33",48:"r33",49:"r33",50:"r33",51:"r33",52:"r33",53:"r33",54:"r33",55:"r33",56:"r33",57:"r33",58:"r33"},{23:"r34",24:"r34",25:"r34",26:"r34",27:"r34",28:"r34",29:"r34",30:"r34",31:"r34",32:"r34",33:"r34",34:"r34",35:"r34",36:"r34",37:"r34",38:"r34",39:"r34",40:"r34",41:"r34",42:"r34",43:"r34",44:"r34",45:"r34",46:"r34",47:"r34",48:"r34",49:"r34",50:"r34",51:"r34",52:"r34",53:"r34",54:"r34",55:"r34",56:"r34",57:"r34",58:"r34"},{23:"r35",24:"r35",25:"r35",26:"r35",27:"r35",28:"r35",29:"r35",30:"r35",31:"r35",32:"r35",33:"r35",34:"r35",35:"r35",36:"r35",37:"r35",38:"r35",39:"r35",40:"r35",41:"r35",42:"r35",43:"r35",44:"r35",45:"r35",46:"r35",47:"r35",48:"r35",49:"r35",50:"r35",51:"r35",52:"r35",53:"r35",54:"r35",55:"r35",56:"r35",57:"r35",58:"r35"},{23:"r36",24:"r36",25:"r36",26:"r36",27:"r36",28:"r36",29:"r36",30:"r36",31:"r36",32:"r36",33:"r36",34:"r36",35:"r36",36:"r36",37:"r36",38:"r36",39:"r36",40:"r36",41:"r36",42:"r36",43:"r36",44:"r36",45:"r36",46:"r36",47:"r36",48:"r36",49:"r36",50:"r36",51:"r36",52:"r36",53:"r36",54:"r36",55:"r36",56:"r36",57:"r36",58:"r36"},{10:70,18:65,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{10:70,18:83,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{23:"r47",24:"r47",25:"r47",26:"r47",27:"r47",28:"r47",29:"r47",30:"r47",31:"r47",32:"r47",33:"r47",34:"r47",35:"r47",36:"r47",37:"r47",38:"r47",39:"r47",40:"r47",41:"r47",42:"r47",43:"r47",44:"r47",45:"r47",46:"r47",47:"r47",48:"r47",49:"r47",50:"r47",51:"r47",52:"r47",53:"r47",54:"r47",55:"r47",57:"r47"},{23:"r48",24:"r48",25:"r48",26:"r48",27:"r48",28:"r48",29:"r48",30:"r48",31:"r48",32:"r48",33:"r48",34:"r48",35:"r48",36:"r48",37:"r48",38:"r48",39:"r48",40:"r48",41:"r48",42:"r48",43:"r48",44:"r48",45:"r48",46:"r48",47:"r48",48:"r48",49:"r48",50:"r48",51:"r48",52:"r48",53:"r48",54:"r48",55:"r48",57:"r48"},{4:85,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:87,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:89,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r13",24:"r13",25:"r13",26:"r13",27:"r13",28:"r13",29:"r13",30:"r13",31:"r13",32:"r13",33:"r13",34:"r13",35:"r13",36:"r13",37:"r13",38:"r13",39:"r13",40:"r13",41:"r13",42:"r13",43:"r13",44:"r13",45:"r13",52:"r13",53:"r13",54:"r13",55:"r13",57:"r13"},{23:"r37",24:"r37",25:"r37",26:"r37",27:"r37",28:"r37",29:"r37",30:"r37",31:"r37",32:"r37",33:"r37",34:"r37",35:"r37",36:"r37",37:"r37",38:"r37",39:"r37",40:"r37",41:"r37",42:"r37",43:"r37",44:"r37",45:"r37",52:"r37",53:"r37",54:"r37",55:"r37",57:"r37"},{23:"r39",24:"r39",25:"r39",26:"r39",27:"r39",28:"r39",29:"r39",30:"r39",31:"r39",32:"r39",33:"r39",34:"r39",35:"r39",36:"r39",37:"r39",38:"r39",39:"r39",40:"r39",41:"r39",42:"r39",43:"r39",44:"r39",45:"r39",46:"s56",52:"r39",53:"r39",54:"r39",55:"r39",57:"r39"},{23:"r41",24:"r41",25:"r41",26:"r41",27:"r41",28:"r41",29:"r41",30:"r41",31:"r41",32:"r41",33:"r41",34:"r41",35:"r41",36:"r41",37:"r41",38:"r41",39:"r41",40:"r41",41:"r41",42:"r41",43:"r41",44:"r41",45:"r41",46:"r41",52:"r41",53:"r41",54:"r41",55:"r41",57:"r41"},{23:"r42",24:"r42",25:"r42",26:"r42",27:"r42",28:"r42",29:"r42",30:"r42",31:"r42",32:"r42",33:"r42",34:"r42",35:"r42",36:"r42",37:"r42",38:"r42",39:"r42",40:"r42",41:"r42",42:"r42",43:"r42",44:"r42",45:"r42",46:"r42",52:"r42",53:"r42",54:"r42",55:"r42",57:"r42"},{23:"r43",24:"r43",25:"r43",26:"r43",27:"r43",28:"r43",29:"r43",30:"r43",31:"r43",32:"r43",33:"r43",34:"r43",35:"r43",36:"r43",37:"r43",38:"r43",39:"r43",40:"r43",41:"r43",42:"r43",43:"r43",44:"r43",45:"r43",46:"r43",52:"r43",53:"r43",54:"r43",55:"r43",57:"r43"},{23:"r44",24:"r44",25:"r44",26:"r44",27:"r44",28:"r44",29:"r44",30:"r44",31:"r44",32:"r44",33:"r44",34:"r44",35:"r44",36:"r44",37:"r44",38:"r44",39:"r44",40:"r44",41:"r44",42:"r44",43:"r44",44:"r44",45:"r44",46:"r44",52:"r44",53:"r44",54:"r44",55:"r44",57:"r44"},{23:"r45",24:"r45",25:"r45",26:"r45",27:"r45",28:"r45",29:"r45",30:"r45",31:"r45",32:"r45",33:"r45",34:"r45",35:"r45",36:"r45",37:"r45",38:"r45",39:"r45",40:"r45",41:"r45",42:"r45",43:"r45",44:"r45",45:"r45",46:"r45",52:"r45",53:"r45",54:"r45",55:"r45",57:"r45"},{23:"r46",24:"r46",25:"r46",26:"r46",27:"r46",28:"r46",29:"r46",30:"r46",31:"r46",32:"r46",33:"r46",34:"r46",35:"r46",36:"r46",37:"r46",38:"r46",39:"r46",40:"r46",41:"r46",42:"r46",43:"r46",44:"r46",45:"r46",46:"r46",52:"r46",53:"r46",54:"r46",55:"r46",57:"r46"},{23:"r40",24:"r40",25:"r40",26:"r40",27:"r40",28:"r40",29:"r40",30:"r40",31:"r40",32:"r40",33:"r40",34:"r40",35:"r40",36:"r40",37:"r40",38:"r40",39:"r40",40:"r40",41:"r40",42:"r40",43:"r40",44:"r40",45:"r40",52:"r40",53:"r40",54:"r40",55:"r40",57:"r40"},{25:"s12",31:"s58"},{23:"r18",24:"r18",25:"r18",26:"r18",27:"r18",28:"r18",29:"r18",30:"r18",31:"r18",32:"r18",33:"r18",34:"r18",35:"r18",36:"r18",37:"r18",38:"r18",39:"r18",40:"r18",41:"r18",42:"r18",43:"r18",44:"r18",45:"r18",52:"r18",53:"r18",54:"r18",55:"r18",57:"r18"},{25:"s12",31:"s60"},{23:"r19",24:"r19",25:"r19",26:"r19",27:"r19",28:"r19",29:"r19",30:"r19",31:"r19",32:"r19",33:"r19",34:"r19",35:"r19",36:"r19",37:"r19",38:"r19",39:"r19",40:"r19",41:"r19",42:"r19",43:"r19",44:"r19",45:"r19",52:"r19",53:"r19",54:"r19",55:"r19",57:"r19"},{25:"s12",31:"s62"},{23:"r20",24:"r20",25:"r20",26:"r20",27:"r20",28:"r20",29:"r20",30:"r20",31:"r20",32:"r20",33:"r20",34:"r20",35:"r20",36:"r20",37:"r20",38:"r20",39:"r20",40:"r20",41:"r20",42:"r20",43:"r20",44:"r20",45:"r20",52:"r20",53:"r20",54:"r20",55:"r20",57:"r20"},{25:"s12",31:"s64"},{23:"r21",24:"r21",25:"r21",26:"r21",27:"r21",28:"r21",29:"r21",30:"r21",31:"r21",32:"r21",33:"r21",34:"r21",35:"r21",36:"r21",37:"r21",38:"r21",39:"r21",40:"r21",41:"r21",42:"r21",43:"r21",44:"r21",45:"r21",52:"r21",53:"r21",54:"r21",55:"r21",57:"r21"},{56:"s72"},{56:"r55"},{10:70,20:73,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r56",58:"s74"},{24:"r62",28:"r62",35:"r62",36:"r62",37:"r62",38:"r62",39:"r62",40:"r62",41:"r62",42:"r62",43:"r62",44:"r62",45:"r62",56:"r62",58:"r62"},{24:"r63",28:"r63",35:"r63",36:"r63",37:"r63",38:"r63",39:"r63",40:"r63",41:"r63",42:"r63",43:"r63",44:"r63",45:"r63",56:"r63",58:"r63"},{24:"r64",28:"r64",35:"r64",36:"r64",37:"r64",38:"r64",39:"r64",40:"r64",41:"r64",42:"r64",43:"r64",44:"r64",45:"r64",56:"r64",58:"r64"},{24:"r65",28:"r65",35:"r65",36:"r65",37:"r65",38:"r65",39:"r65",40:"r65",41:"r65",42:"r65",43:"r65",44:"r65",45:"r65",56:"r65",58:"r65"},{23:"r52",24:"r52",25:"r52",26:"r52",27:"r52",28:"r52",29:"r52",30:"r52",31:"r52",32:"r52",33:"r52",34:"r52",35:"r52",36:"r52",37:"r52",38:"r52",39:"r52",40:"r52",41:"r52",42:"r52",43:"r52",44:"r52",45:"r52",46:"r52",47:"r52",48:"r52",49:"r52",50:"r52",51:"r52",52:"r52",53:"r52",54:"r52",55:"r52",57:"r52"},{56:"r57"},{10:70,21:77,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{56:"r59"},{10:70,20:79,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r63",58:"s80"},{10:70,18:78,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r58"},{56:"r60"},{10:70,21:81,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{10:70,18:82,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r61"},{56:"s84"},{23:"r53",24:"r53",25:"r53",26:"r53",27:"r53",28:"r53",29:"r53",30:"r53",31:"r53",32:"r53",33:"r53",34:"r53",35:"r53",36:"r53",37:"r53",38:"r53",39:"r53",40:"r53",41:"r53",42:"r53",43:"r53",44:"r53",45:"r53",46:"r53",47:"r53",48:"r53",49:"r53",50:"r53",51:"r53",52:"r53",53:"r53",54:"r53",55:"r53",57:"r53"},{25:"s12",31:"s86"},{23:"r49",24:"r49",25:"r49",26:"r49",27:"r49",28:"r49",29:"r49",30:"r49",31:"r49",32:"r49",33:"r49",34:"r49",35:"r49",36:"r49",37:"r49",38:"r49",39:"r49",40:"r49",41:"r49",42:"r49",43:"r49",44:"r49",45:"r49",46:"r49",47:"r49",48:"r49",49:"r49",50:"r49",51:"r49",52:"r49",53:"r49",54:"r49",55:"r49",57:"r49"},{25:"s12",31:"s88"},{23:"r50",24:"r50",25:"r50",26:"r50",27:"r50",28:"r50",29:"r50",30:"r50",31:"r50",32:"r50",33:"r50",34:"r50",35:"r50",36:"r50",37:"r50",38:"r50",39:"r50",40:"r50",41:"r50",42:"r50",43:"r50",44:"r50",45:"r50",46:"r50",47:"r50",48:"r50",49:"r50",50:"r50",51:"r50",52:"r50",53:"r50",54:"r50",55:"r50",57:"r50"},{25:"s12",31:"s90"},{23:"r51",24:"r51",25:"r51",26:"r51",27:"r51",28:"r51",29:"r51",30:"r51",31:"r51",32:"r51",33:"r51",34:"r51",35:"r51",36:"r51",37:"r51",38:"r51",39:"r51",40:"r51",41:"r51",42:"r51",43:"r51",44:"r51",45:"r51",46:"r51",47:"r51",48:"r51",49:"r51",50:"r51",51:"r51",52:"r51",53:"r51",54:"r51",55:"r51",57:"r51"}],Tr=[],di=void 0,VH=[[/^#[^\n]+/,function(){}],[/^\s+/,function(){}],[/^-/,function(){return"DASH"}],[/^\//,function(){return"CHAR"}],[/^#/,function(){return"CHAR"}],[/^\|/,function(){return"CHAR"}],[/^\./,function(){return"CHAR"}],[/^\{/,function(){return"CHAR"}],[/^\{\d+\}/,function(){return"RANGE_EXACT"}],[/^\{\d+,\}/,function(){return"RANGE_OPEN"}],[/^\{\d+,\d+\}/,function(){return"RANGE_CLOSED"}],[/^\\k<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){var n=hs.slice(3,-1);return OS(n,this.getCurrentState()),"NAMED_GROUP_REF"}],[/^\\b/,function(){return"ESC_b"}],[/^\\B/,function(){return"ESC_B"}],[/^\\c[a-zA-Z]/,function(){return"CTRL_CH"}],[/^\\0\d{1,2}/,function(){return"OCT_CODE"}],[/^\\0/,function(){return"DEC_CODE"}],[/^\\\d{1,3}/,function(){return"DEC_CODE"}],[/^\\u[dD][89abAB][0-9a-fA-F]{2}\\u[dD][c-fC-F][0-9a-fA-F]{2}/,function(){return"U_CODE_SURROGATE"}],[/^\\u\{[0-9a-fA-F]{1,}\}/,function(){return"U_CODE"}],[/^\\u[0-9a-fA-F]{4}/,function(){return"U_CODE"}],[/^\\[pP]\{\w+(?:=\w+)?\}/,function(){return"U_PROP_VALUE_EXP"}],[/^\\x[0-9a-fA-F]{2}/,function(){return"HEX_CODE"}],[/^\\[tnrdDsSwWvf]/,function(){return"META_CHAR"}],[/^\\\//,function(){return"ESC_CHAR"}],[/^\\[ #]/,function(){return"ESC_CHAR"}],[/^\\[\^\$\.\*\+\?\(\)\\\[\]\{\}\|\/]/,function(){return"ESC_CHAR"}],[/^\\[^*?+\[()\\|]/,function(){var n=this.getCurrentState();if(n==="u_class"&&hs==="\\-")return"ESC_CHAR";if(n==="u"||n==="xu"||n==="u_class")throw new SyntaxError("invalid Unicode escape "+hs);return"ESC_CHAR"}],[/^\(/,function(){return"CHAR"}],[/^\)/,function(){return"CHAR"}],[/^\(\?=/,function(){return"POS_LA_ASSERT"}],[/^\(\?!/,function(){return"NEG_LA_ASSERT"}],[/^\(\?<=/,function(){return"POS_LB_ASSERT"}],[/^\(\?<!/,function(){return"NEG_LB_ASSERT"}],[/^\(\?:/,function(){return"NON_CAPTURE_GROUP"}],[/^\(\?<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){return hs=hs.slice(3,-1),OS(hs,this.getCurrentState()),"NAMED_CAPTURE_GROUP"}],[/^\(/,function(){return"L_PAREN"}],[/^\)/,function(){return"R_PAREN"}],[/^[*?+[^$]/,function(){return"CHAR"}],[/^\\\]/,function(){return"ESC_CHAR"}],[/^\]/,function(){return this.popState(),"R_BRACKET"}],[/^\^/,function(){return"BOS"}],[/^\$/,function(){return"EOS"}],[/^\*/,function(){return"STAR"}],[/^\?/,function(){return"Q_MARK"}],[/^\+/,function(){return"PLUS"}],[/^\|/,function(){return"BAR"}],[/^\./,function(){return"ANY"}],[/^\//,function(){return"SLASH"}],[/^[^*?+\[()\\|]/,function(){return"CHAR"}],[/^\[\^/,function(){var n=this.getCurrentState();return this.pushState(n==="u"||n==="xu"?"u_class":"class"),"NEG_CLASS"}],[/^\[/,function(){var n=this.getCurrentState();return this.pushState(n==="u"||n==="xu"?"u_class":"class"),"L_BRACKET"}]],$H={INITIAL:[8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u:[8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],xu:[0,1,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],x:[0,1,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u_class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]},PS={type:IS,value:""};di={initString:function(e){return this._string=e,this._cursor=0,this._states=["INITIAL"],this._tokensQueue=[],this._currentLine=1,this._currentColumn=0,this._currentLineBeginOffset=0,this._tokenStartOffset=0,this._tokenEndOffset=0,this._tokenStartLine=1,this._tokenEndLine=1,this._tokenStartColumn=0,this._tokenEndColumn=0,this},getStates:function(){return this._states},getCurrentState:function(){return this._states[this._states.length-1]},pushState:function(e){this._states.push(e)},begin:function(e){this.pushState(e)},popState:function(){return this._states.length>1?this._states.pop():this._states[0]},getNextToken:function(){if(this._tokensQueue.length>0)return this.onToken(this._toToken(this._tokensQueue.shift()));if(!this.hasMoreTokens())return this.onToken(PS);for(var e=this._string.slice(this._cursor),t=$H[this.getCurrentState()],r=0;r<t.length;r++){var i=t[r],s=VH[i],o=this._match(e,s[0]);if(e===""&&o===""&&this._cursor++,o!==null){hs=o,LS=hs.length;var c=s[1].call(this);if(!c)return this.getNextToken();if(Array.isArray(c)){var d=c.slice(1);if(c=c[0],d.length>0){var u;(u=this._tokensQueue).unshift.apply(u,RS(d))}}return this.onToken(this._toToken(c,hs))}}if(this.isEOF())return this._cursor++,PS;this.throwUnexpectedToken(e[0],this._currentLine,this._currentColumn)},throwUnexpectedToken:function(e,t,r){var i=this._string.split(`
`)[t-1],s="";if(i){var o=" ".repeat(r);s=`

`+i+`
`+o+`^
`}throw new SyntaxError(s+'Unexpected token: "'+e+'" '+("at "+t+":"+r+"."))},getCursor:function(){return this._cursor},getCurrentLine:function(){return this._currentLine},getCurrentColumn:function(){return this._currentColumn},_captureLocation:function(e){var t=/\n/g;this._tokenStartOffset=this._cursor,this._tokenStartLine=this._currentLine,this._tokenStartColumn=this._tokenStartOffset-this._currentLineBeginOffset;for(var r=void 0;(r=t.exec(e))!==null;)this._currentLine++,this._currentLineBeginOffset=this._tokenStartOffset+r.index+1;this._tokenEndOffset=this._cursor+e.length,this._tokenEndLine=this._currentLine,this._tokenEndColumn=this._currentColumn=this._tokenEndOffset-this._currentLineBeginOffset},_toToken:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return{type:e,value:t,startOffset:this._tokenStartOffset,endOffset:this._tokenEndOffset,startLine:this._tokenStartLine,endLine:this._tokenEndLine,startColumn:this._tokenStartColumn,endColumn:this._tokenEndColumn}},isEOF:function(){return this._cursor===this._string.length},hasMoreTokens:function(){return this._cursor<=this._string.length},_match:function(e,t){var r=e.match(t);return r?(this._captureLocation(r[0]),this._cursor+=r[0].length,r[0]):null},onToken:function(e){return e}};Hn.lexer=di;Hn.tokenizer=di;Hn.options={captureLocations:!0};var ta={setOptions:function(e){return Hn.options=e,this},getOptions:function(){return Hn.options},parse:function(e,t){if(!di)throw new Error("Tokenizer instance wasn't specified.");di.initString(e);var r=Hn.options;t&&(Hn.options=Object.assign({},Hn.options,t)),ta.onParseBegin(e,di,Hn.options),Tr.length=0,Tr.push(0);var i=di.getNextToken(),s=null;do{i||(Hn.options=r,BS());var o=Tr[Tr.length-1],c=xS[i.type];O1[o].hasOwnProperty(c)||(Hn.options=r,kS(i));var d=O1[o][c];if(d[0]==="s"){var u=null;Hn.options.captureLocations&&(u={startOffset:i.startOffset,endOffset:i.endOffset,startLine:i.startLine,endLine:i.endLine,startColumn:i.startColumn,endColumn:i.endColumn}),s=this.onShift(i),Tr.push({symbol:xS[s.type],semanticValue:s.value,loc:u},Number(d.slice(1))),i=di.getNextToken()}else if(d[0]==="r"){var p=d.slice(1),m=WH[p],b=typeof m[2]=="function",v=b?[]:null,y=b&&Hn.options.captureLocations?[]:null;if(m[1]!==0)for(var h=m[1];h-- >0;){Tr.pop();var l=Tr.pop();b&&(v.unshift(l.semanticValue),y&&y.unshift(l.loc))}var g={symbol:m[0]};if(b){hs=s?s.value:null,LS=s?s.value.length:null;var w=y!==null?v.concat(y):v;m[2].apply(m,RS(w)),g.semanticValue=yt,y&&(g.loc=ct)}var E=Tr[Tr.length-1],A=m[0];Tr.push(g,O1[E][A])}else if(d==="acc"){Tr.pop();var _=Tr.pop();return(Tr.length!==1||Tr[0]!==0||di.hasMoreTokens())&&(Hn.options=r,kS(i)),_.hasOwnProperty("semanticValue")?(Hn.options=r,ta.onParseEnd(_.semanticValue),_.semanticValue):(ta.onParseEnd(),Hn.options=r,!0)}}while(di.hasMoreTokens()||Tr.length>1)},setTokenizer:function(e){return di=e,ta},getTokenizer:function(){return di},onParseBegin:function(e,t,r){},onParseEnd:function(e){},onShift:function(e){return e}},R1=0,ac={},NS="";ta.onParseBegin=function(n,e){NS=n,R1=0,ac={};var t=n.lastIndexOf("/"),r=n.slice(t);r.includes("x")&&r.includes("u")?e.pushState("xu"):(r.includes("x")&&e.pushState("x"),r.includes("u")&&e.pushState("u"))};ta.onShift=function(n){return(n.type==="L_PAREN"||n.type==="NAMED_CAPTURE_GROUP")&&(n.value=new String(n.value),n.value.groupNumber=++R1),n};function k1(n){var e=n.match(/\d+/g).map(Number);if(Number.isFinite(e[1])&&e[1]<e[0])throw new SyntaxError("Numbers out of order in "+n+" quantifier");return e}function MS(n,e){if(n.kind==="control"||e.kind==="control"||!isNaN(n.codePoint)&&!isNaN(e.codePoint)&&n.codePoint>e.codePoint)throw new SyntaxError("Range "+n.value+"-"+e.value+" out of order in character class")}var pu=TS();function JH(n,e){var t=n[1]==="P",r=n.indexOf("="),i=n.slice(3,r!==-1?r:-1),s=void 0,o=r===-1&&pu.isGeneralCategoryValue(i),c=r===-1&&pu.isBinaryPropertyName(i);if(o)s=i,i="General_Category";else if(c)s=i;else{if(!pu.isValidName(i))throw new SyntaxError("Invalid unicode property name: "+i+".");if(s=n.slice(r+1,-1),!pu.isValidValue(i,s))throw new SyntaxError("Invalid "+i+" unicode property value: "+s+".")}return Rn({type:"UnicodeProperty",name:i,value:s,negative:t,shorthand:o,binary:c,canonicalName:pu.getCanonicalName(i)||i,canonicalValue:pu.getCanonicalValue(s)||s},e)}function xr(n,e,t){var r=void 0,i=void 0;switch(e){case"decimal":{i=Number(n.slice(1)),r=String.fromCodePoint(i);break}case"oct":{i=parseInt(n.slice(1),8),r=String.fromCodePoint(i);break}case"hex":case"unicode":{if(n.lastIndexOf("\\u")>0){var s=n.split("\\u").slice(1),o=zH(s,2),c=o[0],d=o[1];c=parseInt(c,16),d=parseInt(d,16),i=(c-55296)*1024+(d-56320)+65536,r=String.fromCodePoint(i)}else{var u=n.slice(2).replace("{","");if(i=parseInt(u,16),i>1114111)throw new SyntaxError("Bad character escape sequence: "+n);r=String.fromCodePoint(i)}break}case"meta":{switch(n){case"\\t":r="	",i=r.codePointAt(0);break;case"\\n":r=`
`,i=r.codePointAt(0);break;case"\\r":r="\r",i=r.codePointAt(0);break;case"\\v":r="\v",i=r.codePointAt(0);break;case"\\f":r="\f",i=r.codePointAt(0);break;case"\\b":r="\b",i=r.codePointAt(0);case"\\0":r="\0",i=0;case".":r=".",i=NaN;break;default:i=NaN}break}case"simple":{r=n,i=r.codePointAt(0);break}}return Rn({type:"Char",value:n,kind:e,symbol:r,codePoint:i},t)}var KH="gimsuxy";function YH(n){var e=new Set,t=!0,r=!1,i=void 0;try{for(var s=n[Symbol.iterator](),o;!(t=(o=s.next()).done);t=!0){var c=o.value;if(e.has(c)||!KH.includes(c))throw new SyntaxError("Invalid flags: "+n);e.add(c)}}catch(d){r=!0,i=d}finally{try{!t&&s.return&&s.return()}finally{if(r)throw i}}return n.split("").sort().join("")}function XH(n,e){var t=Number(n.slice(1));return t>0&&t<=R1?Rn({type:"Backreference",kind:"number",number:t,reference:t},e):xr(n,"decimal",e)}var QH=/^\\u[0-9a-fA-F]{4}/,ZH=/^\\u\{[0-9a-fA-F]{1,}\}/,eU=/\\u\{[0-9a-fA-F]{1,}\}/;function OS(n,e){var t=eU.test(n),r=e==="u"||e==="xu"||e==="u_class";if(t&&!r)throw new SyntaxError('invalid group Unicode name "'+n+'", use `u` flag.');return n}var tU=/\\u(?:([dD][89aAbB][0-9a-fA-F]{2})\\u([dD][c-fC-F][0-9a-fA-F]{2})|([dD][89aAbB][0-9a-fA-F]{2})|([dD][c-fC-F][0-9a-fA-F]{2})|([0-9a-ce-fA-CE-F][0-9a-fA-F]{3}|[dD][0-7][0-9a-fA-F]{2})|\{(0*(?:[0-9a-fA-F]{1,5}|10[0-9a-fA-F]{4}))\})/;function DS(n){return n.replace(new RegExp(tU,"g"),function(e,t,r,i,s,o,c){return t?String.fromCodePoint(parseInt(t,16),parseInt(r,16)):i?String.fromCodePoint(parseInt(i,16)):s?String.fromCodePoint(parseInt(s,16)):o?String.fromCodePoint(parseInt(o,16)):c?String.fromCodePoint(parseInt(c,16)):e})}function nU(n,e){var t=n.slice(3,-1),r=DS(t);if(ac.hasOwnProperty(r))return Rn({type:"Backreference",kind:"name",number:ac[r],reference:r,referenceRaw:t},e);var i=null,s=null,o=null,c=null;e&&(i=e.startOffset,s=e.startLine,o=e.endLine,c=e.startColumn);var d=/^[\w$<>]/,u=void 0,p=[xr(n.slice(1,2),"simple",i?{startLine:s,endLine:o,startColumn:c,startOffset:i,endOffset:i+=2,endColumn:c+=2}:null)];for(p[0].escaped=!0,n=n.slice(2);n.length>0;){var m=null;(m=n.match(QH))||(m=n.match(ZH))?(i&&(u={startLine:s,endLine:o,startColumn:c,startOffset:i,endOffset:i+=m[0].length,endColumn:c+=m[0].length}),p.push(xr(m[0],"unicode",u)),n=n.slice(m[0].length)):(m=n.match(d))&&(i&&(u={startLine:s,endLine:o,startColumn:c,startOffset:i,endOffset:++i,endColumn:++c}),p.push(xr(m[0],"simple",u)),n=n.slice(1))}return p}function Rn(n,e){return Hn.options.captureLocations&&(n.loc={source:NS.slice(e.startOffset,e.endOffset),start:{line:e.startLine,column:e.startColumn,offset:e.startOffset},end:{line:e.endLine,column:e.endColumn,offset:e.endOffset}}),n}function Lh(n,e){return Hn.options.captureLocations?{startOffset:n.startOffset,endOffset:e.endOffset,startLine:n.startLine,endLine:e.endLine,startColumn:n.startColumn,endColumn:e.endColumn}:null}function kS(n){n.type===IS&&BS(),di.throwUnexpectedToken(n.value,n.startLine,n.startColumn)}function BS(){rU("Unexpected end of input.")}function rU(n){throw new SyntaxError(n)}FS.exports=ta});var lc=we((lQ,US)=>{"use strict";F();var uc=HS(),iU=uc.parse.bind(uc);uc.parse=function(n,e){return iU(""+n,e)};uc.setOptions({captureLocations:!1});US.exports=uc});var Nh=we((dQ,qS)=>{"use strict";F();var sU=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function oU(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Ih="expressions",jS="expression",I1=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;oU(this,n),this.node=e,this.parentPath=t,this.parent=t?t.node:null,this.property=r,this.index=i}return sU(n,[{key:"_enforceProp",value:function(t){if(!this.node.hasOwnProperty(t))throw new Error("Node of type "+this.node.type+` doesn't have "`+t+'" collection.')}},{key:"setChild",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=void 0;return r!=null?(i||(i=Ih),this._enforceProp(i),this.node[i][r]=t,s=n.getForNode(t,this,i,r)):(i||(i=jS),this._enforceProp(i),this.node[i]=t,s=n.getForNode(t,this,i,null)),s}},{key:"appendChild",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;r||(r=Ih),this._enforceProp(r);var i=this.node[r].length;return this.setChild(t,i,r)}},{key:"insertChildAt",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ih;this._enforceProp(i),this.node[i].splice(r,0,t),r<=n.getTraversingIndex()&&n.updateTraversingIndex(1),this._rebuildIndex(this.node,i)}},{key:"remove",value:function(){if(!this.isRemoved()&&(n.registry.delete(this.node),this.node=null,!!this.parent)){if(this.index!==null){this.parent[this.property].splice(this.index,1),this.index<=n.getTraversingIndex()&&n.updateTraversingIndex(-1),this._rebuildIndex(this.parent,this.property),this.index=null,this.property=null;return}delete this.parent[this.property],this.property=null}}},{key:"_rebuildIndex",value:function(t,r){for(var i=n.getForNode(t),s=0;s<t[r].length;s++){var o=n.getForNode(t[r][s],i,r,s);o.index=s}}},{key:"isRemoved",value:function(){return this.node===null}},{key:"replace",value:function(t){return n.registry.delete(this.node),this.node=t,this.parent?(this.index!==null?this.parent[this.property][this.index]=t:this.parent[this.property]=t,n.getForNode(t,this.parentPath,this.property,this.index)):null}},{key:"update",value:function(t){Object.assign(this.node,t)}},{key:"getParent",value:function(){return this.parentPath}},{key:"getChild",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.node.expressions?n.getForNode(this.node.expressions[t],this,Ih,t):this.node.expression&&t==0?n.getForNode(this.node.expression,this,jS):null}},{key:"hasEqualSource",value:function(t){return JSON.stringify(this.node,L1)===JSON.stringify(t.node,L1)}},{key:"jsonEncode",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.format,i=t.useLoc;return JSON.stringify(this.node,i?null:L1,r)}},{key:"getPreviousSibling",value:function(){return!this.parent||this.index==null?null:n.getForNode(this.parent[this.property][this.index-1],n.getForNode(this.parent),this.property,this.index-1)}},{key:"getNextSibling",value:function(){return!this.parent||this.index==null?null:n.getForNode(this.parent[this.property][this.index+1],n.getForNode(this.parent),this.property,this.index+1)}}],[{key:"getForNode",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1;if(!t)return null;n.registry.has(t)||n.registry.set(t,new n(t,r,i,s==-1?null:s));var o=n.registry.get(t);return r!==null&&(o.parentPath=r,o.parent=o.parentPath.node),i!==null&&(o.property=i),s>=0&&(o.index=s),o}},{key:"initRegistry",value:function(){n.registry||(n.registry=new Map),n.registry.clear()}},{key:"updateTraversingIndex",value:function(t){return n.traversingIndexStack[n.traversingIndexStack.length-1]+=t}},{key:"getTraversingIndex",value:function(){return n.traversingIndexStack[n.traversingIndexStack.length-1]}}]),n}();I1.initRegistry();I1.traversingIndexStack=[];function L1(n,e){if(n!=="loc")return e}qS.exports=I1});var N1=we((hQ,GS)=>{"use strict";F();var gu=Nh();function aU(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.pre,r=e.post,i=e.skipProperty;function s(o,c,d,u){if(!(!o||typeof o.type!="string")){var p=void 0;if(t&&(p=t(o,c,d,u)),p!==!1){c&&c[d]&&(isNaN(u)?o=c[d]:o=c[d][u]);for(var m in o)if(o.hasOwnProperty(m)){if(i?i(m,o):m[0]==="$")continue;var b=o[m];if(Array.isArray(b)){var v=0;for(gu.traversingIndexStack.push(v);v<b.length;)s(b[v],o,m,v),v=gu.updateTraversingIndex(1);gu.traversingIndexStack.pop()}else s(b,o,m)}}r&&r(o,c,d,u)}}s(n,null)}GS.exports={traverse:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{asNodes:!1};Array.isArray(t)||(t=[t]),t=t.filter(function(s){return typeof s.shouldRun!="function"?!0:s.shouldRun(e)}),gu.initRegistry(),t.forEach(function(s){typeof s.init=="function"&&s.init(e)});function i(s,o,c,d){var u=gu.getForNode(o),p=gu.getForNode(s,u,c,d);return p}aU(e,{pre:function(o,c,d,u){var p=void 0;r.asNodes||(p=i(o,c,d,u));var m=!0,b=!1,v=void 0;try{for(var y=t[Symbol.iterator](),h;!(m=(h=y.next()).done);m=!0){var l=h.value;if(typeof l["*"]=="function")if(p){if(!p.isRemoved()){var g=l["*"](p);if(g===!1)return!1}}else l["*"](o,c,d,u);var w=void 0;if(typeof l[o.type]=="function"?w=l[o.type]:typeof l[o.type]=="object"&&typeof l[o.type].pre=="function"&&(w=l[o.type].pre),w)if(p){if(!p.isRemoved()){var E=w.call(l,p);if(E===!1)return!1}}else w.call(l,o,c,d,u)}}catch(A){b=!0,v=A}finally{try{!m&&y.return&&y.return()}finally{if(b)throw v}}},post:function(o,c,d,u){if(o){var p=void 0;r.asNodes||(p=i(o,c,d,u));var m=!0,b=!1,v=void 0;try{for(var y=t[Symbol.iterator](),h;!(m=(h=y.next()).done);m=!0){var l=h.value,g=void 0;if(typeof l[o.type]=="object"&&typeof l[o.type].post=="function"&&(g=l[o.type].post),g)if(p){if(!p.isRemoved()){var w=g.call(l,p);if(w===!1)return!1}}else g.call(l,o,c,d,u)}}catch(E){b=!0,v=E}finally{try{!m&&y.return&&y.return()}finally{if(b)throw v}}}},skipProperty:function(o){return o==="loc"}})}}});var Dh=we((gQ,VS)=>{"use strict";F();var uU=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function lU(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var zS=T1(),cU=lc(),dU=N1(),WS=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;lU(this,n),this._ast=e,this._source=null,this._string=null,this._regexp=null,this._extra=t}return uU(n,[{key:"getAST",value:function(){return this._ast}},{key:"setExtra",value:function(t){this._extra=t}},{key:"getExtra",value:function(){return this._extra}},{key:"toRegExp",value:function(){return this._regexp||(this._regexp=new RegExp(this.getSource(),this._ast.flags)),this._regexp}},{key:"getSource",value:function(){return this._source||(this._source=zS.generate(this._ast.body)),this._source}},{key:"getFlags",value:function(){return this._ast.flags}},{key:"toString",value:function(){return this._string||(this._string=zS.generate(this._ast)),this._string}}]),n}();VS.exports={TransformResult:WS,transform:function(e,t){var r=e;return e instanceof RegExp&&(e=""+e),typeof e=="string"&&(r=cU.parse(e,{captureLocations:!0})),dU.traverse(r,t),new WS(r)}}});var JS=we((yQ,$S)=>{"use strict";F();var Bh=wS(),fU=Dh();$S.exports={transform:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=t.length>0?t:Object.keys(Bh),i=void 0,s={};return r.forEach(function(o){if(!Bh.hasOwnProperty(o))throw new Error("Unknown compat-transform: "+o+". Available transforms are: "+Object.keys(Bh).join(", "));var c=Bh[o];i=fU.transform(e,c),e=i.getAST(),typeof c.getExtra=="function"&&(s[o]=c.getExtra())}),i.setExtra(s),i}}});var YS=we((vQ,KS)=>{"use strict";F();KS.exports=function n(e){if(e===null||typeof e!="object")return e;var t=void 0;Array.isArray(e)?t=[]:t={};for(var r in e)t[r]=n(e[r]);return t}});var QS=we((wQ,XS)=>{"use strict";F();XS.exports={shouldRun:function(e){return e.flags.includes("u")},Char:function(e){var t=e.node;t.kind!=="unicode"||!t.isSurrogatePair||isNaN(t.codePoint)||(t.value="\\u{"+t.codePoint.toString(16)+"}",delete t.isSurrogatePair)}}});var o8=we((AQ,s8)=>{"use strict";F();var ZS="A".codePointAt(0),e8="Z".codePointAt(0),t8="a".codePointAt(0),n8="z".codePointAt(0),r8="0".codePointAt(0),i8="9".codePointAt(0);s8.exports={Char:function(e){var t=e.node,r=e.parent;if(!(isNaN(t.codePoint)||t.kind==="simple")&&!(r.type==="ClassRange"&&!hU(r))&&pU(t.codePoint)){var i=String.fromCodePoint(t.codePoint),s={type:"Char",kind:"simple",value:i,symbol:i,codePoint:t.codePoint};gU(i,r.type)&&(s.escaped=!0),e.replace(s)}}};function hU(n){var e=n.from,t=n.to;return e.codePoint>=r8&&e.codePoint<=i8&&t.codePoint>=r8&&t.codePoint<=i8||e.codePoint>=ZS&&e.codePoint<=e8&&t.codePoint>=ZS&&t.codePoint<=e8||e.codePoint>=t8&&e.codePoint<=n8&&t.codePoint>=t8&&t.codePoint<=n8}function pU(n){return n>=32&&n<=126}function gU(n,e){return e==="ClassRange"||e==="CharacterClass"?/[\]\\^-]/.test(n):/[*[()+?^$./\\|{}]/.test(n)}});var c8=we((CQ,l8)=>{"use strict";F();var a8="A".codePointAt(0),u8="Z".codePointAt(0);l8.exports={_AZClassRanges:null,_hasUFlag:!1,init:function(e){this._AZClassRanges=new Set,this._hasUFlag=e.flags.includes("u")},shouldRun:function(e){return e.flags.includes("i")},Char:function(e){var t=e.node,r=e.parent;if(!isNaN(t.codePoint)&&!(!this._hasUFlag&&t.codePoint>=4096)){if(r.type==="ClassRange"){if(!this._AZClassRanges.has(r)&&!mU(r))return;this._AZClassRanges.add(r)}var i=t.symbol.toLowerCase();i!==t.symbol&&(t.value=yU(i,t),t.symbol=i,t.codePoint=i.codePointAt(0))}}};function mU(n){var e=n.from,t=n.to;return e.codePoint>=a8&&e.codePoint<=u8&&t.codePoint>=a8&&t.codePoint<=u8}function yU(n,e){var t=n.codePointAt(0);if(e.kind==="decimal")return"\\"+t;if(e.kind==="oct")return"\\0"+t.toString(8);if(e.kind==="hex")return"\\x"+t.toString(16);if(e.kind==="unicode")if(e.isSurrogatePair){var r=bU(t),i=r.lead,s=r.trail;return"\\u"+"0".repeat(4-i.length)+i+"\\u"+"0".repeat(4-s.length)+s}else{if(e.value.includes("{"))return"\\u{"+t.toString(16)+"}";var o=t.toString(16);return"\\u"+"0".repeat(4-o.length)+o}return n}function bU(n){var e=Math.floor((n-65536)/1024)+55296,t=(n-65536)%1024+56320;return{lead:e.toString(16),trail:t.toString(16)}}});var f8=we((xQ,d8)=>{"use strict";F();d8.exports={CharacterClass:function(e){for(var t=e.node,r={},i=0;i<t.expressions.length;i++){var s=e.getChild(i),o=s.jsonEncode();r.hasOwnProperty(o)&&(s.remove(),i--),r[o]=!0}}}});var Fh=we((MQ,p8)=>{"use strict";F();function vU(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}function h8(n){if(n.type!=="Disjunction")throw new TypeError('Expected "Disjunction" node, got "'+n.type+'"');var e=[];return n.left&&n.left.type==="Disjunction"?e.push.apply(e,vU(h8(n.left)).concat([n.right])):e.push(n.left,n.right),e}function _U(n){return n.reduce(function(e,t){return{type:"Disjunction",left:e,right:t}})}function wU(n){n.kind==="*"?n.kind="+":n.kind==="+"?(n.kind="Range",n.from=2,delete n.to):n.kind==="?"?(n.kind="Range",n.from=1,n.to=2):n.kind==="Range"&&(n.from+=1,n.to&&(n.to+=1))}p8.exports={disjunctionToList:h8,listToDisjunction:_U,increaseQuantifierByOne:wU}});var y8=we((kQ,m8)=>{"use strict";F();var EU=Fh(),AU=EU.increaseQuantifierByOne;m8.exports={Repetition:function(e){var t=e.node,r=e.parent;if(!(r.type!=="Alternative"||!e.index)){var i=e.getPreviousSibling();if(i)if(i.node.type==="Repetition"){if(!i.getChild().hasEqualSource(e.getChild()))return;var s=g8(i.node.quantifier),o=s.from,c=s.to,d=g8(t.quantifier),u=d.from,p=d.to;if(i.node.quantifier.greedy!==t.quantifier.greedy&&!Hh(i.node.quantifier)&&!Hh(t.quantifier))return;t.quantifier.kind="Range",t.quantifier.from=o+u,c&&p?t.quantifier.to=c+p:delete t.quantifier.to,(Hh(i.node.quantifier)||Hh(t.quantifier))&&(t.quantifier.greedy=!0),i.remove()}else{if(!i.hasEqualSource(e.getChild()))return;AU(t.quantifier),i.remove()}}}};function Hh(n){return n.greedy&&(n.kind==="+"||n.kind==="*"||n.kind==="Range"&&!n.to)}function g8(n){var e=void 0,t=void 0;return n.kind==="*"?e=0:n.kind==="+"?e=1:n.kind==="?"?(e=0,t=1):(e=n.from,n.to&&(t=n.to)),{from:e,to:t}}});var v8=we((LQ,b8)=>{"use strict";F();b8.exports={Quantifier:function(e){var t=e.node;t.kind==="Range"&&(SU(e),CU(e),TU(e))}};function SU(n){var e=n.node;e.from!==0||e.to||(e.kind="*",delete e.from)}function CU(n){var e=n.node;e.from!==1||e.to||(e.kind="+",delete e.from)}function TU(n){var e=n.node;e.from!==1||e.to!==1||n.parentPath.replace(n.parentPath.node.expression)}});var w8=we((NQ,_8)=>{"use strict";F();_8.exports={ClassRange:function(e){var t=e.node;t.from.codePoint===t.to.codePoint?e.replace(t.from):t.from.codePoint===t.to.codePoint-1&&(e.getParent().insertChildAt(t.to,e.index+1),e.replace(t.from))}}});var C8=we((BQ,S8)=>{"use strict";F();function E8(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}S8.exports={_hasIFlag:!1,_hasUFlag:!1,init:function(e){this._hasIFlag=e.flags.includes("i"),this._hasUFlag=e.flags.includes("u")},CharacterClass:function(e){xU(e),PU(e,this._hasIFlag,this._hasUFlag),MU(e)}};function xU(n){var e=n.node;e.expressions.forEach(function(t,r){OU(t)&&n.getChild(r).replace({type:"Char",value:"\\d",kind:"meta"})})}function PU(n,e,t){var r=n.node,i=null,s=null,o=null,c=null,d=null,u=null;r.expressions.forEach(function(p,m){B1(p,"\\d")?i=n.getChild(m):kU(p)?s=n.getChild(m):RU(p)?o=n.getChild(m):LU(p)?c=n.getChild(m):e&&t&&cc(p,383)?d=n.getChild(m):e&&t&&cc(p,8490)&&(u=n.getChild(m))}),i&&(s&&o||e&&(s||o))&&c&&(!t||!e||d&&u)&&(i.replace({type:"Char",value:"\\w",kind:"meta"}),s&&s.remove(),o&&o.remove(),c.remove(),d&&d.remove(),u&&u.remove())}var D1=[function(n){return A8(n," ")}].concat(E8(["\\f","\\n","\\r","\\t","\\v"].map(function(n){return function(e){return B1(e,n)}})),E8([160,5760,8232,8233,8239,8287,12288,65279].map(function(n){return function(e){return cc(e,n)}})),[function(n){return n.type==="ClassRange"&&cc(n.from,8192)&&cc(n.to,8202)}]);function MU(n){var e=n.node;if(!(e.expressions.length<D1.length||!D1.every(function(r){return e.expressions.some(function(i){return r(i)})}))){var t=e.expressions.find(function(r){return B1(r,"\\n")});t.value="\\s",t.symbol=void 0,t.codePoint=NaN,e.expressions.map(function(r,i){return D1.some(function(s){return s(r)})?n.getChild(i):void 0}).filter(Boolean).forEach(function(r){return r.remove()})}}function OU(n){return n.type==="ClassRange"&&n.from.value==="0"&&n.to.value==="9"}function A8(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"simple";return n.type==="Char"&&n.value===e&&n.kind===t}function B1(n,e){return A8(n,e,"meta")}function kU(n){return n.type==="ClassRange"&&n.from.value==="a"&&n.to.value==="z"}function RU(n){return n.type==="ClassRange"&&n.from.value==="A"&&n.to.value==="Z"}function LU(n){return n.type==="Char"&&n.value==="_"&&n.kind==="simple"}function cc(n,e){return n.type==="Char"&&n.kind==="unicode"&&n.codePoint===e}});var x8=we((HQ,T8)=>{"use strict";F();T8.exports={CharacterClass:function(e){var t=e.node;if(!(t.expressions.length!==1||!BU(e)||!IU(t.expressions[0]))){var r=t.expressions[0],i=r.value,s=r.kind,o=r.escaped;if(t.negative){if(!NU(i))return;i=DU(i)}e.replace({type:"Char",value:i,kind:s,escaped:o||FU(i)})}}};function IU(n){return n.type==="Char"&&n.value!=="\\b"}function NU(n){return/^\\[dwsDWS]$/.test(n)}function DU(n){return/[dws]/.test(n)?n.toUpperCase():n.toLowerCase()}function BU(n){var e=n.parent,t=n.index;if(e.type!=="Alternative")return!0;var r=e.expressions[t-1];return r==null?!0:!(r.type==="Backreference"&&r.kind==="number"||r.type==="Char"&&r.kind==="decimal")}function FU(n){return/[*[()+?$./{}|]/.test(n)}});var M8=we((jQ,P8)=>{"use strict";F();P8.exports={_hasXFlag:!1,init:function(e){this._hasXFlag=e.flags.includes("x")},Char:function(e){var t=e.node;t.escaped&&HU(e,this._hasXFlag)&&delete t.escaped}};function HU(n,e){var t=n.node.value,r=n.index,i=n.parent;return i.type!=="CharacterClass"&&i.type!=="ClassRange"?!jU(t,r,i,e):!UU(t,r,i)}function UU(n,e,t){return n==="^"?e===0&&!t.negative:n==="-"?!0:/[\]\\]/.test(n)}function jU(n,e,t,r){return n==="{"?qU(e,t):n==="}"?GU(e,t):r&&/[ #]/.test(n)?!0:/[*[()+?^$./\\|]/.test(n)}function Uh(n,e,t){for(var r=n,i=(t?r>=0:r<e.expressions.length)&&e.expressions[r];i&&i.type==="Char"&&i.kind==="simple"&&!i.escaped&&/\d/.test(i.value);)t?r--:r++,i=(t?r>=0:r<e.expressions.length)&&e.expressions[r];return Math.abs(n-r)}function mu(n,e){return n&&n.type==="Char"&&n.kind==="simple"&&!n.escaped&&n.value===e}function qU(n,e){if(n==null)return!1;var t=Uh(n+1,e),r=n+t+1,i=r<e.expressions.length&&e.expressions[r];if(t){if(mu(i,"}"))return!0;if(mu(i,","))return t=Uh(r+1,e),r=r+t+1,i=r<e.expressions.length&&e.expressions[r],mu(i,"}")}return!1}function GU(n,e){if(n==null)return!1;var t=Uh(n-1,e,!0),r=n-t-1,i=r>=0&&e.expressions[r];return t&&mu(i,"{")?!0:mu(i,",")?(t=Uh(r-1,e,!0),r=r-t-1,i=r<e.expressions.length&&e.expressions[r],t&&mu(i,"{")):!1}});var L8=we((GQ,R8)=>{"use strict";F();R8.exports={_hasIUFlags:!1,init:function(e){this._hasIUFlags=e.flags.includes("i")&&e.flags.includes("u")},CharacterClass:function(e){var t=e.node,r=t.expressions,i=[];r.forEach(function(d){Us(d)&&i.push(d.value)}),r.sort(zU);for(var s=0;s<r.length;s++){var o=r[s];if(WU(o,i,this._hasIUFlags)||VU(o,r[s-1])||$U(o,r[s+1]))r.splice(s,1),s--;else{var c=JU(o,s,r);r.splice(s-c+1,c),s-=c}}}};function zU(n,e){var t=jh(n),r=jh(e);if(t===r){if(n.type==="ClassRange"&&e.type!=="ClassRange")return-1;if(e.type==="ClassRange"&&n.type!=="ClassRange")return 1;if(n.type==="ClassRange"&&e.type==="ClassRange")return jh(n.to)-jh(e.to);if(Us(n)&&Us(e)||O8(n)&&O8(e))return n.value<e.value?-1:1}return t-r}function jh(n){return n.type==="Char"?n.value==="-"||n.kind==="control"?1/0:n.kind==="meta"&&isNaN(n.codePoint)?-1:n.codePoint:n.from.codePoint}function Us(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return n.type==="Char"&&n.kind==="meta"&&(e?n.value===e:/^\\[dws]$/i.test(n.value))}function O8(n){return n.type==="Char"&&n.kind==="control"}function WU(n,e,t){for(var r=0;r<e.length;r++)if(F1(n,e[r],t))return!0;return!1}function F1(n,e,t){return n.type==="ClassRange"?F1(n.from,e,t)&&F1(n.to,e,t):e==="\\S"&&(Us(n,"\\w")||Us(n,"\\d"))||e==="\\D"&&(Us(n,"\\W")||Us(n,"\\s"))||e==="\\w"&&Us(n,"\\d")||e==="\\W"&&Us(n,"\\s")?!0:n.type!=="Char"||isNaN(n.codePoint)?!1:e==="\\s"?k8(n):e==="\\S"?!k8(n):e==="\\d"?H1(n):e==="\\D"?!H1(n):e==="\\w"?U1(n,t):e==="\\W"?!U1(n,t):!1}function k8(n){return n.codePoint===9||n.codePoint===10||n.codePoint===11||n.codePoint===12||n.codePoint===13||n.codePoint===32||n.codePoint===160||n.codePoint===5760||n.codePoint>=8192&&n.codePoint<=8202||n.codePoint===8232||n.codePoint===8233||n.codePoint===8239||n.codePoint===8287||n.codePoint===12288||n.codePoint===65279}function H1(n){return n.codePoint>=48&&n.codePoint<=57}function U1(n,e){return H1(n)||n.codePoint>=65&&n.codePoint<=90||n.codePoint>=97&&n.codePoint<=122||n.value==="_"||e&&(n.codePoint===383||n.codePoint===8490)}function VU(n,e){if(e&&e.type==="ClassRange"){if(j1(n,e))return!0;if(qh(n)&&e.to.codePoint===n.codePoint-1)return e.to=n,!0;if(n.type==="ClassRange"&&n.from.codePoint<=e.to.codePoint+1&&n.to.codePoint>=e.from.codePoint-1)return n.from.codePoint<e.from.codePoint&&(e.from=n.from),n.to.codePoint>e.to.codePoint&&(e.to=n.to),!0}return!1}function $U(n,e){return e&&e.type==="ClassRange"&&qh(n)&&e.from.codePoint===n.codePoint+1?(e.from=n,!0):!1}function j1(n,e){return n.type==="Char"&&isNaN(n.codePoint)?!1:n.type==="ClassRange"?j1(n.from,e)&&j1(n.to,e):n.codePoint>=e.from.codePoint&&n.codePoint<=e.to.codePoint}function JU(n,e,t){if(!qh(n))return 0;for(var r=0;e>0;){var i=t[e],s=t[e-1];if(qh(s)&&s.codePoint===i.codePoint-1)r++,e--;else break}return r>1?(t[e]={type:"ClassRange",from:t[e],to:n},r):0}function qh(n){return n&&n.type==="Char"&&!isNaN(n.codePoint)&&(U1(n,!1)||n.kind==="unicode"||n.kind==="hex"||n.kind==="oct"||n.kind==="decimal")}});var D8=we((WQ,N8)=>{"use strict";F();var KU=Nh(),I8=Fh(),YU=I8.disjunctionToList,XU=I8.listToDisjunction;N8.exports={Disjunction:function(e){var t=e.node,r={},i=YU(t).filter(function(s){var o=s?KU.getForNode(s).jsonEncode():"null";return r.hasOwnProperty(o)?!1:(r[o]=s,!0)});e.replace(XU(i))}}});var H8=we(($Q,F8)=>{"use strict";F();F8.exports={Disjunction:function(e){var t=e.node,r=e.parent;if(B8[r.type]){var i=new Map;if(!(!Gh(t,i)||!i.size)){var s={type:"CharacterClass",expressions:Array.from(i.keys()).sort().map(function(o){return i.get(o)})};B8[r.type](e.getParent(),s)}}}};var B8={RegExp:function(e,t){var r=e.node;r.body=t},Group:function(e,t){var r=e.node;r.capturing?r.expression=t:e.replace(t)}};function Gh(n,e){if(!n)return!1;var t=n.type;if(t==="Disjunction"){var r=n.left,i=n.right;return Gh(r,e)&&Gh(i,e)}else if(t==="Char"){if(n.kind==="meta"&&n.symbol===".")return!1;var s=n.value;return e.set(s,n),!0}else if(t==="CharacterClass"&&!n.negative)return n.expressions.every(function(o){return Gh(o,e)});return!1}});var j8=we((KQ,U8)=>{"use strict";F();U8.exports={Group:function(e){var t=e.node,r=e.parent,i=e.getChild();t.capturing||i||(r.type==="Repetition"?e.getParent().replace(t):r.type!=="RegExp"&&e.remove())}}});var G8=we((XQ,q8)=>{"use strict";F();function q1(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}q8.exports={Group:function(e){var t=e.node,r=e.parent,i=e.getChild();if(!(t.capturing||!i)&&QU(e)&&!(i.node.type==="Disjunction"&&r.type!=="RegExp")&&!(r.type==="Repetition"&&i.node.type!=="Char"&&i.node.type!=="CharacterClass"))if(i.node.type==="Alternative"){var s=e.getParent();s.node.type==="Alternative"&&s.replace({type:"Alternative",expressions:[].concat(q1(r.expressions.slice(0,e.index)),q1(i.node.expressions),q1(r.expressions.slice(e.index+1)))})}else e.replace(i.node)}};function QU(n){var e=n.parent,t=n.index;if(e.type!=="Alternative")return!0;var r=e.expressions[t-1];return r==null?!0:!(r.type==="Backreference"&&r.kind==="number"||r.type==="Char"&&r.kind==="decimal")}});var V8=we((ZQ,W8)=>{"use strict";F();function zh(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var Wh=Nh(),ZU=Fh(),z8=ZU.increaseQuantifierByOne;W8.exports={Alternative:function(e){for(var t=e.node,r=1;r<t.expressions.length;){var i=e.getChild(r);if(r=Math.max(1,ej(e,i,r)),r>=t.expressions.length||(i=e.getChild(r),r=Math.max(1,tj(e,i,r)),r>=t.expressions.length))break;i=e.getChild(r),r=Math.max(1,nj(e,i,r)),r++}}};function ej(n,e,t){for(var r=n.node,i=Math.ceil(t/2),s=0;s<i;){var o=t-2*s-1,c=void 0,d=void 0;if(s===0?(c=e,d=n.getChild(o)):(c=Wh.getForNode({type:"Alternative",expressions:[].concat(zh(r.expressions.slice(t-s,t)),[e.node])}),d=Wh.getForNode({type:"Alternative",expressions:[].concat(zh(r.expressions.slice(o,t-s)))})),c.hasEqualSource(d)){for(var u=0;u<2*s+1;u++)n.getChild(o).remove();return e.replace({type:"Repetition",expression:s===0&&c.node.type!=="Repetition"?c.node:{type:"Group",capturing:!1,expression:c.node},quantifier:{type:"Quantifier",kind:"Range",from:2,to:2,greedy:!0}}),o}s++}return t}function tj(n,e,t){for(var r=n.node,i=0;i<t;){var s=n.getChild(i);if(s.node.type==="Repetition"&&s.node.quantifier.greedy){var o=s.getChild(),c=void 0;if(o.node.type==="Group"&&!o.node.capturing&&(o=o.getChild()),i+1===t?(c=e,c.node.type==="Group"&&!c.node.capturing&&(c=c.getChild())):c=Wh.getForNode({type:"Alternative",expressions:[].concat(zh(r.expressions.slice(i+1,t+1)))}),o.hasEqualSource(c)){for(var d=i;d<t;d++)n.getChild(i+1).remove();return z8(s.node.quantifier),i}}i++}return t}function nj(n,e,t){var r=n.node;if(e.node.type==="Repetition"&&e.node.quantifier.greedy){var i=e.getChild(),s=void 0;i.node.type==="Group"&&!i.node.capturing&&(i=i.getChild());var o=void 0;if(i.node.type==="Alternative"?(o=i.node.expressions.length,s=Wh.getForNode({type:"Alternative",expressions:[].concat(zh(r.expressions.slice(t-o,t)))})):(o=1,s=n.getChild(t-1),s.node.type==="Group"&&!s.node.capturing&&(s=s.getChild())),s.hasEqualSource(i)){for(var c=t-o;c<t;c++)n.getChild(t-o).remove();return z8(e.node.quantifier),t-o}}return t}});var J8=we((tZ,$8)=>{"use strict";F();$8.exports=new Map([["charSurrogatePairToSingleUnicode",QS()],["charCodeToSimpleChar",o8()],["charCaseInsensitiveLowerCaseTransform",c8()],["charClassRemoveDuplicates",f8()],["quantifiersMerge",y8()],["quantifierRangeToSymbol",v8()],["charClassClassrangesToChars",w8()],["charClassToMeta",C8()],["charClassToSingleChar",x8()],["charEscapeUnescape",M8()],["charClassClassrangesMerge",L8()],["disjunctionRemoveDuplicates",D8()],["groupSingleCharsToCharClass",H8()],["removeEmptyGroup",j8()],["ungroup",G8()],["combineRepeatingPatterns",V8()]])});var Q8=we((rZ,X8)=>{"use strict";F();var K8=YS(),rj=lc(),Y8=Dh(),Vh=J8();X8.exports={optimize:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.whitelist,i=r===void 0?[]:r,s=t.blacklist,o=s===void 0?[]:s,c=i.length>0?i:Array.from(Vh.keys()),d=c.filter(function(b){return!o.includes(b)}),u=e;e instanceof RegExp&&(e=""+e),typeof e=="string"&&(u=rj.parse(e));var p=new Y8.TransformResult(u),m=void 0;do m=p.toString(),u=K8(p.getAST()),d.forEach(function(b){if(!Vh.has(b))throw new Error("Unknown optimization-transform: "+b+". Available transforms are: "+Array.from(Vh.keys()).join(", "));var v=Vh.get(b),y=Y8.transform(u,v);y.toString()!==p.toString()&&(y.toString().length<=p.toString().length?p=y:u=K8(p.getAST()))});while(p.toString()!==m);return p}}});var dc=we((sZ,eC)=>{"use strict";F();var Z8="\u03B5",ij=Z8+"*";eC.exports={EPSILON:Z8,EPSILON_CLOSURE:ij}});var G1=we((aZ,rC)=>{"use strict";F();var sj=function(){function n(e,t){var r=[],i=!0,s=!1,o=void 0;try{for(var c=e[Symbol.iterator](),d;!(i=(d=c.next()).done)&&(r.push(d.value),!(t&&r.length===t));i=!0);}catch(u){s=!0,o=u}finally{try{!i&&c.return&&c.return()}finally{if(s)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),oj=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function aj(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}function uj(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var nC=dc(),lj=nC.EPSILON,tC=nC.EPSILON_CLOSURE,cj=function(){function n(e,t){uj(this,n),this.in=e,this.out=t}return oj(n,[{key:"matches",value:function(t){return this.in.matches(t)}},{key:"getAlphabet",value:function(){if(!this._alphabet){this._alphabet=new Set;var t=this.getTransitionTable();for(var r in t){var i=t[r];for(var s in i)s!==tC&&this._alphabet.add(s)}}return this._alphabet}},{key:"getAcceptingStates",value:function(){return this._acceptingStates||this.getTransitionTable(),this._acceptingStates}},{key:"getAcceptingStateNumbers",value:function(){if(!this._acceptingStateNumbers){this._acceptingStateNumbers=new Set;var t=!0,r=!1,i=void 0;try{for(var s=this.getAcceptingStates()[Symbol.iterator](),o;!(t=(o=s.next()).done);t=!0){var c=o.value;this._acceptingStateNumbers.add(c.number)}}catch(d){r=!0,i=d}finally{try{!t&&s.return&&s.return()}finally{if(r)throw i}}}return this._acceptingStateNumbers}},{key:"getTransitionTable",value:function(){var t=this;if(!this._transitionTable){this._transitionTable={},this._acceptingStates=new Set;var r=new Set,i=new Set,s=function o(c){if(!r.has(c)){r.add(c),c.number=r.size,t._transitionTable[c.number]={},c.accepting&&t._acceptingStates.add(c);var d=c.getTransitions(),u=!0,p=!1,m=void 0;try{for(var b=d[Symbol.iterator](),v;!(u=(v=b.next()).done);u=!0){var y=v.value,h=sj(y,2),l=h[0],g=h[1],w=[];i.add(l);var E=!0,A=!1,_=void 0;try{for(var C=g[Symbol.iterator](),I;!(E=(I=C.next()).done);E=!0){var T=I.value;o(T),w.push(T.number)}}catch(x){A=!0,_=x}finally{try{!E&&C.return&&C.return()}finally{if(A)throw _}}t._transitionTable[c.number][l]=w}}catch(x){p=!0,m=x}finally{try{!u&&b.return&&b.return()}finally{if(p)throw m}}}};s(this.in),r.forEach(function(o){delete t._transitionTable[o.number][lj],t._transitionTable[o.number][tC]=[].concat(aj(o.getEpsilonClosure())).map(function(c){return c.number})})}return this._transitionTable}}]),n}();rC.exports=cj});var sC=we((lZ,iC)=>{"use strict";F();var dj=function(){function n(e,t){var r=[],i=!0,s=!1,o=void 0;try{for(var c=e[Symbol.iterator](),d;!(i=(d=c.next()).done)&&(r.push(d.value),!(t&&r.length===t));i=!0);}catch(u){s=!0,o=u}finally{try{!i&&c.return&&c.return()}finally{if(s)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function fj(n){return Array.isArray(n)?n:Array.from(n)}function z1(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var js=null;function hj(n){var e=n.getTransitionTable(),t=Object.keys(e),r=n.getAlphabet(),i=n.getAcceptingStateNumbers();js={};var s=new Set;t.forEach(function(he){he=Number(he);var Se=i.has(he);Se?js[he]=i:(s.add(he),js[he]=s)});var o=[[s,i].filter(function(he){return he.size>0})],c=void 0,d=void 0;c=o[o.length-1],d=o[o.length-2];for(var u=function(){var Se={},V=!0,O=!1,M=void 0;try{for(var P=c[Symbol.iterator](),N;!(V=(N=P.next()).done);V=!0){var U=N.value,J={},te=fj(U),re=te[0],pe=te.slice(1);J[re]=new Set([re]);var ve=!0,Pe=!1,ke=void 0;try{e:for(var je=pe[Symbol.iterator](),Ne;!(ve=(Ne=je.next()).done);ve=!0){var Ye=Ne.value,De=!0,ye=!1,Te=void 0;try{for(var me=Object.keys(J)[Symbol.iterator](),ae;!(De=(ae=me.next()).done);De=!0){var z=ae.value;if(gj(Ye,z,e,r)){J[z].add(Ye),J[Ye]=J[z];continue e}}}catch(le){ye=!0,Te=le}finally{try{!De&&me.return&&me.return()}finally{if(ye)throw Te}}J[Ye]=new Set([Ye])}}catch(le){Pe=!0,ke=le}finally{try{!ve&&je.return&&je.return()}finally{if(Pe)throw ke}}Object.assign(Se,J)}}catch(le){O=!0,M=le}finally{try{!V&&P.return&&P.return()}finally{if(O)throw M}}js=Se;var Q=new Set(Object.keys(Se).map(function(le){return Se[le]}));o.push([].concat(z1(Q))),c=o[o.length-1],d=o[o.length-2]};!pj(c,d);)u();var p=new Map,m=1;c.forEach(function(he){return p.set(he,m++)});var b={},v=new Set,y=function(Se,V){var O=!0,M=!1,P=void 0;try{for(var N=Se[Symbol.iterator](),U;!(O=(U=N.next()).done);O=!0){var J=U.value;i.has(J)&&v.add(V)}}catch(te){M=!0,P=te}finally{try{!O&&N.return&&N.return()}finally{if(M)throw P}}},h=!0,l=!1,g=void 0;try{for(var w=p.entries()[Symbol.iterator](),E;!(h=(E=w.next()).done);h=!0){var A=E.value,_=dj(A,2),C=_[0],I=_[1];b[I]={};var T=!0,x=!1,D=void 0;try{for(var L=r[Symbol.iterator](),H;!(T=(H=L.next()).done);T=!0){var G=H.value;y(C,I);var j=void 0,q=!0,X=!1,Z=void 0;try{for(var $=C[Symbol.iterator](),ue;!(q=(ue=$.next()).done);q=!0){var fe=ue.value;if(j=e[fe][G],j)break}}catch(he){X=!0,Z=he}finally{try{!q&&$.return&&$.return()}finally{if(X)throw Z}}j&&(b[I][G]=p.get(js[j]))}}catch(he){x=!0,D=he}finally{try{!T&&L.return&&L.return()}finally{if(x)throw D}}}}catch(he){l=!0,g=he}finally{try{!h&&w.return&&w.return()}finally{if(l)throw g}}return n.setTransitionTable(b),n.setAcceptingStateNumbers(v),n}function pj(n,e){if(!e||n.length!==e.length)return!1;for(var t=0;t<n.length;t++){var r=n[t],i=e[t];if(r.size!==i.size||[].concat(z1(r)).sort().join(",")!==[].concat(z1(i)).sort().join(","))return!1}return!0}function gj(n,e,t,r){var i=!0,s=!1,o=void 0;try{for(var c=r[Symbol.iterator](),d;!(i=(d=c.next()).done);i=!0){var u=d.value;if(!mj(n,e,t,u))return!1}}catch(p){s=!0,o=p}finally{try{!i&&c.return&&c.return()}finally{if(s)throw o}}return!0}function mj(n,e,t,r){if(!js[n]||!js[e])return!1;var i=t[n][r],s=t[e][r];return!i&&!s?!0:js[n].has(i)&&js[e].has(s)}iC.exports={minimize:hj}});var lC=we((dZ,uC)=>{"use strict";F();var yj=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function oC(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}function bj(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var vj=sC(),_j=dc(),aC=_j.EPSILON_CLOSURE,wj=function(){function n(e){bj(this,n),this._nfa=e}return yj(n,[{key:"minimize",value:function(){this.getTransitionTable(),this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._originalTransitionTable=this._transitionTable,vj.minimize(this)}},{key:"getAlphabet",value:function(){return this._nfa.getAlphabet()}},{key:"getAcceptingStateNumbers",value:function(){return this._acceptingStateNumbers||this.getTransitionTable(),this._acceptingStateNumbers}},{key:"getOriginaAcceptingStateNumbers",value:function(){return this._originalAcceptingStateNumbers||this.getTransitionTable(),this._originalAcceptingStateNumbers}},{key:"setTransitionTable",value:function(t){this._transitionTable=t}},{key:"setAcceptingStateNumbers",value:function(t){this._acceptingStateNumbers=t}},{key:"getTransitionTable",value:function(){var t=this;if(this._transitionTable)return this._transitionTable;var r=this._nfa.getTransitionTable(),i=Object.keys(r);this._acceptingStateNumbers=new Set;for(var s=r[i[0]][aC],o=[s],c=this.getAlphabet(),d=this._nfa.getAcceptingStateNumbers(),u={},p=function(he){var Se=!0,V=!1,O=void 0;try{for(var M=d[Symbol.iterator](),P;!(Se=(P=M.next()).done);Se=!0){var N=P.value;if(he.indexOf(N)!==-1){t._acceptingStateNumbers.add(he.join(","));break}}}catch(U){V=!0,O=U}finally{try{!Se&&M.return&&M.return()}finally{if(V)throw O}}};o.length>0;){var m=o.shift(),b=m.join(",");u[b]={};var v=!0,y=!1,h=void 0;try{for(var l=c[Symbol.iterator](),g;!(v=(g=l.next()).done);v=!0){var w=g.value,E=[];p(m);var A=!0,_=!1,C=void 0;try{for(var I=m[Symbol.iterator](),T;!(A=(T=I.next()).done);A=!0){var x=T.value,D=r[x][w];if(D){var L=!0,H=!1,G=void 0;try{for(var j=D[Symbol.iterator](),q;!(L=(q=j.next()).done);L=!0){var X=q.value;r[X]&&E.push.apply(E,oC(r[X][aC]))}}catch(fe){H=!0,G=fe}finally{try{!L&&j.return&&j.return()}finally{if(H)throw G}}}}}catch(fe){_=!0,C=fe}finally{try{!A&&I.return&&I.return()}finally{if(_)throw C}}var Z=new Set(E),$=[].concat(oC(Z));if($.length>0){var ue=$.join(",");u[b][w]=ue,u.hasOwnProperty(ue)||o.unshift($)}}}catch(fe){y=!0,h=fe}finally{try{!v&&l.return&&l.return()}finally{if(y)throw h}}}return this._transitionTable=this._remapStateNumbers(u)}},{key:"_remapStateNumbers",value:function(t){var r={};this._originalTransitionTable=t;var i={};Object.keys(t).forEach(function(h,l){r[h]=l+1});for(var s in t){var o=t[s],c={};for(var d in o)c[d]=r[o[d]];i[r[s]]=c}this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._acceptingStateNumbers=new Set;var u=!0,p=!1,m=void 0;try{for(var b=this._originalAcceptingStateNumbers[Symbol.iterator](),v;!(u=(v=b.next()).done);u=!0){var y=v.value;this._acceptingStateNumbers.add(r[y])}}catch(h){p=!0,m=h}finally{try{!u&&b.return&&b.return()}finally{if(p)throw m}}return i}},{key:"getOriginalTransitionTable",value:function(){return this._originalTransitionTable||this.getTransitionTable(),this._originalTransitionTable}},{key:"matches",value:function(t){for(var r=1,i=0,s=this.getTransitionTable();t[i];)if(r=s[r][t[i++]],!r)return!1;return!!this.getAcceptingStateNumbers().has(r)}}]),n}();uC.exports=wj});var dC=we((hZ,cC)=>{"use strict";F();var Ej=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function Aj(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Sj=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.accepting,r=t===void 0?!1:t;Aj(this,n),this._transitions=new Map,this.accepting=r}return Ej(n,[{key:"getTransitions",value:function(){return this._transitions}},{key:"addTransition",value:function(t,r){return this.getTransitionsOnSymbol(t).add(r),this}},{key:"getTransitionsOnSymbol",value:function(t){var r=this._transitions.get(t);return r||(r=new Set,this._transitions.set(t,r)),r}}]),n}();cC.exports=Sj});var hC=we((gZ,fC)=>{"use strict";F();var Cj=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function Tj(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xj(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function Pj(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Mj=dC(),Oj=dc(),W1=Oj.EPSILON,kj=function(n){Pj(e,n);function e(){return Tj(this,e),xj(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Cj(e,[{key:"matches",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;if(i.has(this))return!1;if(i.add(this),r.length===0){if(this.accepting)return!0;var s=!0,o=!1,c=void 0;try{for(var d=this.getTransitionsOnSymbol(W1)[Symbol.iterator](),u;!(s=(u=d.next()).done);s=!0){var p=u.value;if(p.matches("",i))return!0}}catch(D){o=!0,c=D}finally{try{!s&&d.return&&d.return()}finally{if(o)throw c}}return!1}var m=r[0],b=r.slice(1),v=this.getTransitionsOnSymbol(m),y=!0,h=!1,l=void 0;try{for(var g=v[Symbol.iterator](),w;!(y=(w=g.next()).done);y=!0){var E=w.value;if(E.matches(b))return!0}}catch(D){h=!0,l=D}finally{try{!y&&g.return&&g.return()}finally{if(h)throw l}}var A=!0,_=!1,C=void 0;try{for(var I=this.getTransitionsOnSymbol(W1)[Symbol.iterator](),T;!(A=(T=I.next()).done);A=!0){var x=T.value;if(x.matches(r,i))return!0}}catch(D){_=!0,C=D}finally{try{!A&&I.return&&I.return()}finally{if(_)throw C}}return!1}},{key:"getEpsilonClosure",value:function(){var r=this;return this._epsilonClosure||function(){var i=r.getTransitionsOnSymbol(W1),s=r._epsilonClosure=new Set;s.add(r);var o=!0,c=!1,d=void 0;try{for(var u=i[Symbol.iterator](),p;!(o=(p=u.next()).done);o=!0){var m=p.value;if(!s.has(m)){s.add(m);var b=m.getEpsilonClosure();b.forEach(function(v){return s.add(v)})}}}catch(v){c=!0,d=v}finally{try{!o&&u.return&&u.return()}finally{if(c)throw d}}}(),this._epsilonClosure}}]),e}(Mj);fC.exports=kj});var V1=we((yZ,gC)=>{"use strict";F();var $h=G1(),yu=hC(),Rj=dc(),Gr=Rj.EPSILON;function pC(n){var e=new yu,t=new yu({accepting:!0});return new $h(e.addTransition(n,t),t)}function Lj(){return pC(Gr)}function Ij(n,e){return n.out.accepting=!1,e.out.accepting=!0,n.out.addTransition(Gr,e.in),new $h(n.in,e.out)}function Nj(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=!0,s=!1,o=void 0;try{for(var c=t[Symbol.iterator](),d;!(i=(d=c.next()).done);i=!0){var u=d.value;n=Ij(n,u)}}catch(p){s=!0,o=p}finally{try{!i&&c.return&&c.return()}finally{if(s)throw o}}return n}function Dj(n,e){var t=new yu,r=new yu;return t.addTransition(Gr,n.in),t.addTransition(Gr,e.in),r.accepting=!0,n.out.accepting=!1,e.out.accepting=!1,n.out.addTransition(Gr,r),e.out.addTransition(Gr,r),new $h(t,r)}function Bj(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=!0,s=!1,o=void 0;try{for(var c=t[Symbol.iterator](),d;!(i=(d=c.next()).done);i=!0){var u=d.value;n=Dj(n,u)}}catch(p){s=!0,o=p}finally{try{!i&&c.return&&c.return()}finally{if(s)throw o}}return n}function Fj(n){var e=new yu,t=new yu({accepting:!0});return e.addTransition(Gr,n.in),e.addTransition(Gr,t),n.out.accepting=!1,n.out.addTransition(Gr,t),t.addTransition(Gr,n.in),new $h(e,t)}function Hj(n){return n.in.addTransition(Gr,n.out),n.out.addTransition(Gr,n.in),n}function Uj(n){return n.out.addTransition(Gr,n.in),n}function jj(n){return n.in.addTransition(Gr,n.out),n}gC.exports={alt:Nj,char:pC,e:Lj,or:Bj,rep:Hj,repExplicit:Fj,plusRep:Uj,questionRep:jj}});var bC=we((vZ,yC)=>{"use strict";F();function qj(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var Gj=lc(),bu=V1(),zj=bu.alt,Wj=bu.char,Vj=bu.or,$j=bu.rep,Jj=bu.plusRep,Kj=bu.questionRep;function qs(n){if(n&&!mC[n.type])throw new Error(n.type+" is not supported in NFA/DFA interpreter.");return n?mC[n.type](n):""}var mC={RegExp:function(e){if(e.flags!=="")throw new Error("NFA/DFA: Flags are not supported yet.");return qs(e.body)},Alternative:function(e){var t=(e.expressions||[]).map(qs);return zj.apply(void 0,qj(t))},Disjunction:function(e){return Vj(qs(e.left),qs(e.right))},Repetition:function(e){switch(e.quantifier.kind){case"*":return $j(qs(e.expression));case"+":return Jj(qs(e.expression));case"?":return Kj(qs(e.expression));default:throw new Error("Unknown repeatition: "+e.quantifier.kind+".")}},Char:function(e){if(e.kind!=="simple")throw new Error("NFA/DFA: Only simple chars are supported yet.");return Wj(e.value)},Group:function(e){return qs(e.expression)}};yC.exports={build:function(e){var t=e;return e instanceof RegExp&&(e=""+e),typeof e=="string"&&(t=Gj.parse(e,{captureLocations:!0})),qs(t)}}});var wC=we((wZ,_C)=>{"use strict";F();var Yj=G1(),vC=lC(),Xj=bC(),Qj=V1();_C.exports={NFA:Yj,DFA:vC,builders:Qj,toNFA:function(e){return Xj.build(e)},toDFA:function(e){return new vC(this.toNFA(e))},test:function(e,t){return this.toDFA(e).matches(t)}}});var AC=we((AZ,EC)=>{"use strict";F();var Zj=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function eq(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var tq=function(){function n(e,t){var r=t.flags,i=t.groups,s=t.source;eq(this,n),this._re=e,this._groups=i,this.flags=r,this.source=s||e.source,this.dotAll=r.includes("s"),this.global=e.global,this.ignoreCase=e.ignoreCase,this.multiline=e.multiline,this.sticky=e.sticky,this.unicode=e.unicode}return Zj(n,[{key:"test",value:function(t){return this._re.test(t)}},{key:"compile",value:function(t){return this._re.compile(t)}},{key:"toString",value:function(){return this._toStringResult||(this._toStringResult="/"+this.source+"/"+this.flags),this._toStringResult}},{key:"exec",value:function(t){var r=this._re.exec(t);if(!this._groups||!r)return r;r.groups={};for(var i in this._groups){var s=this._groups[i];r.groups[i]=r[s]}return r}}]),n}();EC.exports={RegExpTree:tq}});var xC=we((CZ,TC)=>{"use strict";F();var nq=JS(),rq=T1(),iq=Q8(),SC=lc(),CC=Dh(),sq=N1(),oq=wC(),aq=AC(),uq=aq.RegExpTree,lq={parser:SC,fa:oq,TransformResult:CC.TransformResult,parse:function(e,t){return SC.parse(""+e,t)},traverse:function(e,t,r){return sq.traverse(e,t,r)},transform:function(e,t){return CC.transform(e,t)},generate:function(e){return rq.generate(e)},toRegExp:function(e){var t=this.compatTranspile(e);return new RegExp(t.getSource(),t.getFlags())},optimize:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.blacklist;return iq.optimize(e,{whitelist:t,blacklist:i})},compatTranspile:function(e,t){return nq.transform(e,t)},exec:function(e,t){if(typeof e=="string"){var r=this.compatTranspile(e),i=r.getExtra();i.namedCapturingGroups?e=new uq(r.toRegExp(),{flags:r.getFlags(),source:r.getSource(),groups:i.namedCapturingGroups}):e=r.toRegExp()}return e.exec(t)}};TC.exports=lq});var MC=we((xZ,PC)=>{"use strict";F();PC.exports=xC()});var zC=we(()=>{F()});var WC=we((fc,Z1)=>{F();(function(n,e){if(typeof fc=="object"&&typeof Z1=="object")Z1.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else if(typeof fc=="object")fc.JsCrypto=e();else{var t=e();for(var r in n.JsCrypto=n.JsCrypto||{},t)n.JsCrypto[r]=t[r]}})(fc,function(){return function(){"use strict";var n={9691:function(i,s,o){o.d(s,{AES:function(){return x}});var c,d=o(9456),u=o(787),p=o(5693),m=o(9109),b=(c=function(D,L){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,G){H.__proto__=G}||function(H,G){for(var j in G)Object.prototype.hasOwnProperty.call(G,j)&&(H[j]=G[j])})(D,L)},function(D,L){function H(){this.constructor=D}c(D,L),D.prototype=L===null?Object.create(L):(H.prototype=L.prototype,new H)}),v=function(){return(v=Object.assign||function(D){for(var L,H=1,G=arguments.length;H<G;H++)for(var j in L=arguments[H])Object.prototype.hasOwnProperty.call(L,j)&&(D[j]=L[j]);return D}).apply(this,arguments)},y=[],h=[],l=[],g=[],w=[],E=[],A=[],_=[],C=[],I=[];(function(){for(var D=[],L=0;L<256;L++)D[L]=L<128?L<<1:L<<1^283;var H=0,G=0;for(L=0;L<256;L++){var j=G^G<<1^G<<2^G<<3^G<<4;j=j>>>8^255&j^99,y[H]=j,h[j]=H;var q=D[H],X=D[q],Z=D[X],$=257*D[j]^16843008*j;l[H]=$<<24|$>>>8,g[H]=$<<16|$>>>16,w[H]=$<<8|$>>>24,E[H]=$,$=16843009*Z^65537*X^257*q^16843008*H,A[j]=$<<24|$>>>8,_[j]=$<<16|$>>>16,C[j]=$<<8|$>>>24,I[j]=$,H?(H=q^D[D[D[Z^q]]],G^=D[D[G]]):H=G=1}})();var T=[0,1,2,4,8,16,32,64,128,27,54],x=function(D){function L(H){var G=D.call(this,H)||this;return G.u=0,G.h=[],G.v=[],G.O=H,G.A(),G}return b(L,D),L.prototype.A=function(){var H;if(!this.u||this.k!==this.H){for(var G=this.k=this.H,j=G.words,q=G.nSigBytes/4,X=4*((this.u=q+6)+1),Z=this.h=[],$=0;$<X;$++)$<q?Z[$]=j[$]:(H=Z[$-1],$%q?q>6&&$%q==4&&(H=y[H>>>24]<<24|y[H>>>16&255]<<16|y[H>>>8&255]<<8|y[255&H]):(H=y[(H=H<<8|H>>>24)>>>24]<<24|y[H>>>16&255]<<16|y[H>>>8&255]<<8|y[255&H],H^=T[$/q|0]<<24),Z[$]=Z[$-q]^H);this.v=[];for(var ue=0;ue<X;ue++)$=X-ue,H=ue%4?Z[$]:Z[$-4],this.v[ue]=ue<4||$<=4?H:A[y[H>>>24]]^_[y[H>>>16&255]]^C[y[H>>>8&255]]^I[y[255&H]]}},L.prototype.encryptBlock=function(H,G){this.B(H,G,this.h,l,g,w,E,y)},L.prototype.decryptBlock=function(H,G){var j=H[G+1];H[G+1]=H[G+3],H[G+3]=j,this.B(H,G,this.v,A,_,C,I,h),j=H[G+1],H[G+1]=H[G+3],H[G+3]=j},L.prototype.B=function(H,G,j,q,X,Z,$,ue){for(var fe=this.u,he=H[G]^j[0],Se=H[G+1]^j[1],V=H[G+2]^j[2],O=H[G+3]^j[3],M=4,P=1;P<fe;P++){var N=q[he>>>24]^X[Se>>>16&255]^Z[V>>>8&255]^$[255&O]^j[M++],U=q[Se>>>24]^X[V>>>16&255]^Z[O>>>8&255]^$[255&he]^j[M++],J=q[V>>>24]^X[O>>>16&255]^Z[he>>>8&255]^$[255&Se]^j[M++],te=q[O>>>24]^X[he>>>16&255]^Z[Se>>>8&255]^$[255&V]^j[M++];he=N,Se=U,V=J,O=te}var re=(ue[he>>>24]<<24|ue[Se>>>16&255]<<16|ue[V>>>8&255]<<8|ue[255&O])^j[M++],pe=(ue[Se>>>24]<<24|ue[V>>>16&255]<<16|ue[O>>>8&255]<<8|ue[255&he])^j[M++],ve=(ue[V>>>24]<<24|ue[O>>>16&255]<<16|ue[he>>>8&255]<<8|ue[255&Se])^j[M++],Pe=(ue[O>>>24]<<24|ue[he>>>16&255]<<16|ue[Se>>>8&255]<<8|ue[255&V])^j[M++];H[G]=re,H[G+1]=pe,H[G+2]=ve,H[G+3]=Pe},L.createEncryptor=function(H,G){return new L(v(v({},G=G===void 0?{}:G),{key:H,transformMode:d.t.ENC_TRANSFORM_MODE}))},L.createDecryptor=function(H,G){return new L(v(v({},G=G===void 0?{}:G),{key:H,transformMode:d.t.DEC_TRANSFORM_MODE}))},L.encrypt=function(H,G,j){if(typeof G=="string")return p.E.encrypt(L,H,G,j);if(G.nSigBytes%4!=0)throw new Error("Key size must be multiple of 32bit/4byte/1word");return m.D.encrypt(L,H,G,j)},L.decrypt=function(H,G,j){if(typeof G=="string")return p.E.decrypt(L,H,G,j);if(G.nSigBytes%4!=0)throw new Error("Key size must be multiple of 32bit/4byte/1word");return m.D.decrypt(L,H,G,j)},L.keySize=8,L}(u.G)},3967:function(i,s,o){o.d(s,{CBCMAC:function(){return m}});var c=o(4768),d=o(3354),u=o(9691),p=o(3664);function m(b,v,y,h,l,g){var w=g&&g.Cipher?g.Cipher:u.AES,E=typeof y=="string"?c.d.parse(y):y,A=h||new d.e([0,0]),_=typeof v=="string"?c.d.parse(v):v,C=typeof b=="string"?c.d.parse(b):b,I=l||16;return p.K.mac(w,E,A,_,C,I)}},9910:function(i,s,o){o.d(s,{DES:function(){return E}});var c,d=o(787),u=o(9456),p=o(5693),m=o(9109),b=(c=function(A,_){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,I){C.__proto__=I}||function(C,I){for(var T in I)Object.prototype.hasOwnProperty.call(I,T)&&(C[T]=I[T])})(A,_)},function(A,_){function C(){this.constructor=A}c(A,_),A.prototype=_===null?Object.create(_):(C.prototype=_.prototype,new C)}),v=function(){return(v=Object.assign||function(A){for(var _,C=1,I=arguments.length;C<I;C++)for(var T in _=arguments[C])Object.prototype.hasOwnProperty.call(_,T)&&(A[T]=_[T]);return A}).apply(this,arguments)},y=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],g=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],w=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],E=function(A){function _(C){var I=A.call(this,C)||this;return I.N=2,I.I=[],I.U=[],I.L=0,I.F=0,I.O=C,I.A(),I}return b(_,A),_.prototype.A=function(){for(var C=this.H.words,I=[],T=0;T<56;T++){var x=y[T]-1;I[T]=C[x>>>5]>>>31-x%32&1}for(var D=this.I=[],L=0;L<16;L++){var H=D[L]=[],G=l[L];for(T=0;T<24;T++)H[T/6|0]|=I[(h[T]-1+G)%28]<<31-T%6,H[4+(T/6|0)]|=I[28+(h[T+24]-1+G)%28]<<31-T%6;for(H[0]=H[0]<<1|H[0]>>>31,T=1;T<7;T++)H[T]=H[T]>>>4*(T-1)+3;H[7]=H[7]<<5|H[7]>>>27}for(this.U=[],T=0;T<16;T++)this.U[T]=D[15-T]},_.prototype.encryptBlock=function(C,I){this.R(C,I,this.I)},_.prototype.decryptBlock=function(C,I){this.R(C,I,this.U)},_.prototype.R=function(C,I,T){this.L=C[I],this.F=C[I+1],this.X(4,252645135),this.X(16,65535),this.Z(2,858993459),this.Z(8,16711935),this.X(1,1431655765);for(var x=0;x<16;x++){for(var D=T[x],L=this.L,H=this.F,G=0,j=0;j<8;j++){var q=(H^D[j])&w[j];G|=g[j][q>>>0]}this.L=H,this.F=L^G}var X=this.L;this.L=this.F,this.F=X,this.X(1,1431655765),this.Z(8,16711935),this.Z(2,858993459),this.X(16,65535),this.X(4,252645135),C[I]=this.L,C[I+1]=this.F},_.prototype.X=function(C,I){var T=(this.L>>>C^this.F)&I;this.F^=T,this.L^=T<<C},_.prototype.Z=function(C,I){var T=(this.F>>>C^this.L)&I;this.L^=T,this.F^=T<<C},_.createEncryptor=function(C,I){return new _(v(v({},I=I===void 0?{}:I),{key:C,transformMode:u.t.ENC_TRANSFORM_MODE}))},_.createDecryptor=function(C,I){return new _(v(v({},I=I===void 0?{}:I),{key:C,transformMode:u.t.DEC_TRANSFORM_MODE}))},_.encrypt=function(C,I,T){return typeof I=="string"?p.E.encrypt(_,C,I,T):m.D.encrypt(_,C,I,T)},_.decrypt=function(C,I,T){return typeof I=="string"?p.E.decrypt(_,C,I,T):m.D.decrypt(_,C,I,T)},_.keySize=2,_.ivSize=2,_}(d.G)},6739:function(i,s,o){o.d(s,{DES3:function(){return l}});var c,d=o(9109),u=o(787),p=o(9456),m=o(9910),b=o(3354),v=o(5693),y=(c=function(g,w){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,A){E.__proto__=A}||function(E,A){for(var _ in A)Object.prototype.hasOwnProperty.call(A,_)&&(E[_]=A[_])})(g,w)},function(g,w){function E(){this.constructor=g}c(g,w),g.prototype=w===null?Object.create(w):(E.prototype=w.prototype,new E)}),h=function(){return(h=Object.assign||function(g){for(var w,E=1,A=arguments.length;E<A;E++)for(var _ in w=arguments[E])Object.prototype.hasOwnProperty.call(w,_)&&(g[_]=w[_]);return g}).apply(this,arguments)},l=function(g){function w(E){var A=g.call(this,E)||this;A.N=2,A.O=E;var _=A.J();return A.Y=_[0],A.$=_[1],A.nn=_[2],A}return y(w,g),w.prototype.J=function(){var E=this.H.words;if(E.length!==2&&E.length!==4&&E.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var A=E.slice(0,2),_=E.length<4?E.slice(0,2):E.slice(2,4),C=E.length<6?E.slice(0,2):E.slice(4,6);return[m.DES.createEncryptor(new b.e(A)),m.DES.createEncryptor(new b.e(_)),m.DES.createEncryptor(new b.e(C))]},w.prototype.A=function(){var E=this.J();this.Y=E[0],this.$=E[1],this.nn=E[2]},w.prototype.encryptBlock=function(E,A){this.Y.encryptBlock(E,A),this.$.decryptBlock(E,A),this.nn.encryptBlock(E,A)},w.prototype.decryptBlock=function(E,A){this.nn.decryptBlock(E,A),this.$.encryptBlock(E,A),this.Y.decryptBlock(E,A)},w.createEncryptor=function(E,A){return new w(h(h({},A=A===void 0?{}:A),{key:E,transformMode:p.t.ENC_TRANSFORM_MODE}))},w.createDecryptor=function(E,A){return new w(h(h({},A=A===void 0?{}:A),{key:E,transformMode:p.t.DEC_TRANSFORM_MODE}))},w.encrypt=function(E,A,_){return typeof A=="string"?v.E.encrypt(w,E,A,_):d.D.encrypt(w,E,A,_)},w.decrypt=function(E,A,_){return typeof A=="string"?v.E.decrypt(w,E,A,_):d.D.decrypt(w,E,A,_)},w.keySize=6,w.ivSize=2,w}(u.G)},7753:function(i,s,o){o.d(s,{GMAC:function(){return m}});var c=o(4768),d=o(3354),u=o(9691),p=o(5607);function m(b,v,y,h,l){var g=typeof b=="string"?c.d.parse(b):b,w=y||new d.e([0,0,0,0]),E=l&&l.Cipher?l.Cipher:u.AES,A=typeof v=="string"?c.d.parse(v):v,_=h||16;return p.V.mac(E,A,w,g,void 0,_)}},6367:function(i,s,o){o.d(s,{Hmac:function(){return d}});var c=o(4768),d=function(){function u(p,m){this.tn=p,typeof m=="string"&&(m=c.d.parse(m));var b=p.blockSize,v=4*b;m.nSigBytes>v&&(m=p.finalize(m)),m.clamp();for(var y=this.rn=m.clone(),h=this.en=m.clone(),l=y.words,g=h.words,w=0;w<b;w++)l[w]^=1549556828,g[w]^=909522486;h.nSigBytes=v,y.nSigBytes=v,this.reset()}return u.prototype.reset=function(){this.tn.reset(),this.tn.update(this.en)},u.prototype.update=function(p){return this.tn.update(p),this},u.prototype.finalize=function(p){var m=this.tn.finalize(p);return this.tn.reset(),this.tn.finalize(this.rn.clone().concat(m))},u}()},3027:function(i,s,o){o.d(s,{HmacMD5:function(){return u}});var c=o(6367),d=o(670);function u(p,m){return new c.Hmac(new d.MD5,m).finalize(p)}},149:function(i,s,o){o.d(s,{HmacSHA1:function(){return u}});var c=o(6367),d=o(3173);function u(p,m){return new c.Hmac(new d.SHA1,m).finalize(p)}},4105:function(i,s,o){o.d(s,{HmacSHA224:function(){return u}});var c=o(6367),d=o(766);function u(p,m){return new c.Hmac(new d.SHA224,m).finalize(p)}},980:function(i,s,o){o.d(s,{HmacSHA256:function(){return u}});var c=o(6367),d=o(5561);function u(p,m){return new c.Hmac(new d.SHA256,m).finalize(p)}},5838:function(i,s,o){o.d(s,{HmacSHA384:function(){return u}});var c=o(6367),d=o(6324);function u(p,m){return new c.Hmac(new d.SHA384,m).finalize(p)}},9902:function(i,s,o){o.d(s,{HmacSHA512:function(){return u}});var c=o(6367),d=o(7491);function u(p,m){return new c.Hmac(new d.SHA512,m).finalize(p)}},670:function(i,s,o){o.d(s,{MD5:function(){return l}});var c,d=o(3354),u=o(1868),p=(c=function(g,w){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,A){E.__proto__=A}||function(E,A){for(var _ in A)Object.prototype.hasOwnProperty.call(A,_)&&(E[_]=A[_])})(g,w)},function(g,w){function E(){this.constructor=g}c(g,w),g.prototype=w===null?Object.create(w):(E.prototype=w.prototype,new E)}),m=[];function b(g,w,E,A,_,C,I){var T=g+(w&E|~w&A)+_+I;return(T<<C|T>>>32-C)+w}function v(g,w,E,A,_,C,I){var T=g+(w&A|E&~A)+_+I;return(T<<C|T>>>32-C)+w}function y(g,w,E,A,_,C,I){var T=g+(w^E^A)+_+I;return(T<<C|T>>>32-C)+w}function h(g,w,E,A,_,C,I){var T=g+(E^(w|~A))+_+I;return(T<<C|T>>>32-C)+w}(function(){for(var g=0;g<64;g++)m[g]=4294967296*Math.abs(Math.sin(g+1))|0})();var l=function(g){function w(E){var A=g.call(this,E)||this;return A.on=new d.e([1732584193,4023233417,2562383102,271733878]),E&&E.hash!==void 0&&(A.on=E.hash.clone()),A}return p(w,g),w.prototype.A=function(){this.on=new d.e([1732584193,4023233417,2562383102,271733878])},w.prototype.un=function(E,A){for(var _=0;_<16;_++){var C=A+_,I=E[C];E[C]=16711935&(I<<8|I>>>24)|4278255360&(I<<24|I>>>8)}var T=this.on.words,x=E[A],D=E[A+1],L=E[A+2],H=E[A+3],G=E[A+4],j=E[A+5],q=E[A+6],X=E[A+7],Z=E[A+8],$=E[A+9],ue=E[A+10],fe=E[A+11],he=E[A+12],Se=E[A+13],V=E[A+14],O=E[A+15],M=T[0],P=T[1],N=T[2],U=T[3];M=b(M,P,N,U,x,7,m[0]),U=b(U,M,P,N,D,12,m[1]),N=b(N,U,M,P,L,17,m[2]),P=b(P,N,U,M,H,22,m[3]),M=b(M,P,N,U,G,7,m[4]),U=b(U,M,P,N,j,12,m[5]),N=b(N,U,M,P,q,17,m[6]),P=b(P,N,U,M,X,22,m[7]),M=b(M,P,N,U,Z,7,m[8]),U=b(U,M,P,N,$,12,m[9]),N=b(N,U,M,P,ue,17,m[10]),P=b(P,N,U,M,fe,22,m[11]),M=b(M,P,N,U,he,7,m[12]),U=b(U,M,P,N,Se,12,m[13]),N=b(N,U,M,P,V,17,m[14]),M=v(M,P=b(P,N,U,M,O,22,m[15]),N,U,D,5,m[16]),U=v(U,M,P,N,q,9,m[17]),N=v(N,U,M,P,fe,14,m[18]),P=v(P,N,U,M,x,20,m[19]),M=v(M,P,N,U,j,5,m[20]),U=v(U,M,P,N,ue,9,m[21]),N=v(N,U,M,P,O,14,m[22]),P=v(P,N,U,M,G,20,m[23]),M=v(M,P,N,U,$,5,m[24]),U=v(U,M,P,N,V,9,m[25]),N=v(N,U,M,P,H,14,m[26]),P=v(P,N,U,M,Z,20,m[27]),M=v(M,P,N,U,Se,5,m[28]),U=v(U,M,P,N,L,9,m[29]),N=v(N,U,M,P,X,14,m[30]),M=y(M,P=v(P,N,U,M,he,20,m[31]),N,U,j,4,m[32]),U=y(U,M,P,N,Z,11,m[33]),N=y(N,U,M,P,fe,16,m[34]),P=y(P,N,U,M,V,23,m[35]),M=y(M,P,N,U,D,4,m[36]),U=y(U,M,P,N,G,11,m[37]),N=y(N,U,M,P,X,16,m[38]),P=y(P,N,U,M,ue,23,m[39]),M=y(M,P,N,U,Se,4,m[40]),U=y(U,M,P,N,x,11,m[41]),N=y(N,U,M,P,H,16,m[42]),P=y(P,N,U,M,q,23,m[43]),M=y(M,P,N,U,$,4,m[44]),U=y(U,M,P,N,he,11,m[45]),N=y(N,U,M,P,O,16,m[46]),M=h(M,P=y(P,N,U,M,L,23,m[47]),N,U,x,6,m[48]),U=h(U,M,P,N,X,10,m[49]),N=h(N,U,M,P,V,15,m[50]),P=h(P,N,U,M,j,21,m[51]),M=h(M,P,N,U,he,6,m[52]),U=h(U,M,P,N,H,10,m[53]),N=h(N,U,M,P,ue,15,m[54]),P=h(P,N,U,M,D,21,m[55]),M=h(M,P,N,U,Z,6,m[56]),U=h(U,M,P,N,O,10,m[57]),N=h(N,U,M,P,q,15,m[58]),P=h(P,N,U,M,Se,21,m[59]),M=h(M,P,N,U,G,6,m[60]),U=h(U,M,P,N,fe,10,m[61]),N=h(N,U,M,P,L,15,m[62]),P=h(P,N,U,M,$,21,m[63]),T[0]=T[0]+M|0,T[1]=T[1]+P|0,T[2]=T[2]+N|0,T[3]=T[3]+U|0},w.prototype.fn=function(){var E=this.cn,A=E.words,_=8*this.sn,C=8*E.nSigBytes;A[C>>>5]|=128<<24-C%32;var I=Math.floor(_/4294967296),T=_;A[15+(C+64>>>9<<4)]=16711935&(I<<8|I>>>24)|4278255360&(I<<24|I>>>8),A[14+(C+64>>>9<<4)]=16711935&(T<<8|T>>>24)|4278255360&(T<<24|T>>>8),E.nSigBytes=4*(A.length+1),this.an();for(var x=this.on,D=x.words,L=0;L<4;L++){var H=D[L];D[L]=16711935&(H<<8|H>>>24)|4278255360&(H<<24|H>>>8)}return x},w.prototype.clone=function(){return new w({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},w.hash=function(E){return new w().finalize(E)},w}(u.P)},4615:function(i,s,o){o.d(s,{RC4:function(){return v}});var c,d=o(30),u=o(5693),p=o(9109),m=(c=function(y,h){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(l[w]=g[w])})(y,h)},function(y,h){function l(){this.constructor=y}c(y,h),y.prototype=h===null?Object.create(h):(l.prototype=h.prototype,new l)}),b=function(){return(b=Object.assign||function(y){for(var h,l=1,g=arguments.length;l<g;l++)for(var w in h=arguments[l])Object.prototype.hasOwnProperty.call(h,w)&&(y[w]=h[w]);return y}).apply(this,arguments)},v=function(y){function h(l){var g=y.call(this,l)||this;return g.S=[],g.i=0,g.j=0,g.O=l,g.A(),g}return m(h,y),h.prototype.A=function(){var l=this.H,g=l.words,w=l.nSigBytes;this.S=[];for(var E=0;E<256;E++)this.S[E]=E;E=0;for(var A=0;E<256;E++){var _=E%w,C=g[_>>>2]>>>24-_%4*8&255;A=(A+this.S[E]+C)%256;var I=this.S[E];this.S[E]=this.S[A],this.S[A]=I}this.i=this.j=0},h.prototype.un=function(l,g){l[g]^=this.generateKeyStreamWord()},h.prototype.generateKeyStreamWord=function(){for(var l=this.S,g=this.i,w=this.j,E=0,A=0;A<4;A++){w=(w+l[g=(g+1)%256])%256;var _=l[g];l[g]=l[w],l[w]=_,E|=l[(l[g]+l[w])%256]<<24-8*A}return this.i=g,this.j=w,E},h.createEncryptor=function(l,g){return new h(b(b({},g=g===void 0?{}:g),{key:l}))},h.createDecryptor=function(l,g){return new h(b(b({},g=g===void 0?{}:g),{key:l}))},h.encrypt=function(l,g,w){return typeof g=="string"?u.E.encrypt(h,l,g,w):p.D.encrypt(h,l,g,w)},h.decrypt=function(l,g,w){return typeof g=="string"?u.E.decrypt(h,l,g,w):p.D.decrypt(h,l,g,w)},h.ivSize=0,h.keySize=8,h}(d.q)},9639:function(i,s,o){o.d(s,{RC4Drop:function(){return v}});var c,d=o(5693),u=o(9109),p=o(4615),m=(c=function(y,h){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(l[w]=g[w])})(y,h)},function(y,h){function l(){this.constructor=y}c(y,h),y.prototype=h===null?Object.create(h):(l.prototype=h.prototype,new l)}),b=function(){return(b=Object.assign||function(y){for(var h,l=1,g=arguments.length;l<g;l++)for(var w in h=arguments[l])Object.prototype.hasOwnProperty.call(h,w)&&(y[w]=h[w]);return y}).apply(this,arguments)},v=function(y){function h(l){var g=y.call(this,l)||this;return g.drop=192,g.O=l,l&&typeof l.drop=="number"&&(g.drop=l.drop),g.A(),g}return m(h,y),h.prototype.A=function(){y.prototype.A.call(this);for(var l=this.drop;l>0;l--)this.generateKeyStreamWord()},h.createEncryptor=function(l,g){return new h(b(b({},g=g===void 0?{}:g),{key:l}))},h.createDecryptor=function(l,g){return new h(b(b({},g=g===void 0?{}:g),{key:l}))},h.encrypt=function(l,g,w){return typeof g=="string"?d.E.encrypt(h,l,g,w):u.D.encrypt(h,l,g,w)},h.decrypt=function(l,g,w){return typeof g=="string"?d.E.decrypt(h,l,g,w):u.D.decrypt(h,l,g,w)},h}(p.RC4)},7104:function(i,s,o){o.d(s,{RIPEMD160:function(){return I}});var c,d=o(1868),u=o(3354),p=(c=function(T,x){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,L){D.__proto__=L}||function(D,L){for(var H in L)Object.prototype.hasOwnProperty.call(L,H)&&(D[H]=L[H])})(T,x)},function(T,x){function D(){this.constructor=T}c(T,x),T.prototype=x===null?Object.create(x):(D.prototype=x.prototype,new D)}),m=new u.e([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),b=new u.e([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),v=new u.e([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=new u.e([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=new u.e([0,1518500249,1859775393,2400959708,2840853838]),l=new u.e([1352829926,1548603684,1836072691,2053994217,0]);function g(T,x,D){return T^x^D}function w(T,x,D){return T&x|~T&D}function E(T,x,D){return(T|~x)^D}function A(T,x,D){return T&D|x&~D}function _(T,x,D){return T^(x|~D)}function C(T,x){return T<<x|T>>>32-x}var I=function(T){function x(D){var L=T.call(this,D)||this;return L.on=new u.e([1732584193,4023233417,2562383102,271733878,3285377520]),L.O=D,D&&D.hash!==void 0&&(L.on=D.hash.clone()),L}return p(x,T),x.prototype.A=function(){this.on=new u.e([1732584193,4023233417,2562383102,271733878,3285377520])},x.prototype.un=function(D,L){for(var H=0;H<16;H++){var G=L+H,j=D[G];D[G]=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8)}var q,X,Z,$,ue,fe,he,Se,V,O,M,P=this.on.words,N=h.words,U=l.words,J=m.words,te=b.words,re=v.words,pe=y.words;for(fe=q=P[0],he=X=P[1],Se=Z=P[2],V=$=P[3],O=ue=P[4],H=0;H<80;H+=1)M=q+D[L+J[H]]|0,M+=H<16?g(X,Z,$)+N[0]:H<32?w(X,Z,$)+N[1]:H<48?E(X,Z,$)+N[2]:H<64?A(X,Z,$)+N[3]:_(X,Z,$)+N[4],M=(M=C(M|=0,re[H]))+ue|0,q=ue,ue=$,$=C(Z,10),Z=X,X=M,M=fe+D[L+te[H]]|0,M+=H<16?_(he,Se,V)+U[0]:H<32?A(he,Se,V)+U[1]:H<48?E(he,Se,V)+U[2]:H<64?w(he,Se,V)+U[3]:g(he,Se,V)+U[4],M=(M=C(M|=0,pe[H]))+O|0,fe=O,O=V,V=C(Se,10),Se=he,he=M;M=P[1]+Z+V|0,P[1]=P[2]+$+O|0,P[2]=P[3]+ue+fe|0,P[3]=P[4]+q+he|0,P[4]=P[0]+X+Se|0,P[0]=M},x.prototype.fn=function(){var D=this.cn,L=D.words,H=8*this.sn,G=8*D.nSigBytes;L[G>>>5]|=128<<24-G%32,L[14+(G+64>>>9<<4)]=16711935&(H<<8|H>>>24)|4278255360&(H<<24|H>>>8),D.nSigBytes=4*(L.length+1),this.an();for(var j=this.on,q=j.words,X=0;X<5;X++){var Z=q[X];q[X]=16711935&(Z<<8|Z>>>24)|4278255360&(Z<<24|Z>>>8)}return j},x.prototype.clone=function(){return new x({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},x.hash=function(D,L){return new x(L).finalize(D)},x}(d.P)},5187:function(i,s,o){o.d(s,{Rabbit:function(){return v}});var c,d=o(30),u=o(5693),p=o(9109),m=(c=function(y,h){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(l[w]=g[w])})(y,h)},function(y,h){function l(){this.constructor=y}c(y,h),y.prototype=h===null?Object.create(h):(l.prototype=h.prototype,new l)}),b=function(){return(b=Object.assign||function(y){for(var h,l=1,g=arguments.length;l<g;l++)for(var w in h=arguments[l])Object.prototype.hasOwnProperty.call(h,w)&&(y[w]=h[w]);return y}).apply(this,arguments)},v=function(y){function h(l){var g=y.call(this,l)||this;return g.N=4,g.S=[],g.C=[],g.G=[],g.hn=[],g.vn=[],g.wn=0,g.O=l,g.A(),g}return m(h,y),h.prototype.A=function(){for(var l=this.H.words,g=this.ln,w=0;w<4;w++)l[w]=16711935&(l[w]<<8|l[w]>>>24)|4278255360&(l[w]<<24|l[w]>>>8);var E=this.hn=[l[0],l[3]<<16|l[2]>>>16,l[1],l[0]<<16|l[3]>>>16,l[2],l[1]<<16|l[0]>>>16,l[3],l[2]<<16|l[1]>>>16],A=this.vn=[l[2]<<16|l[2]>>>16,4294901760&l[0]|65535&l[1],l[3]<<16|l[3]>>>16,4294901760&l[1]|65535&l[2],l[0]<<16|l[0]>>>16,4294901760&l[2]|65535&l[3],l[1]<<16|l[1]>>>16,4294901760&l[3]|65535&l[0]];for(this.wn=0,w=0;w<4;w++)this.nextState();for(w=0;w<8;w++)A[w]^=E[w+4&7];if(g){var _=g.words,C=_[0],I=_[1],T=16711935&(C<<8|C>>>24)|4278255360&(C<<24|C>>>8),x=16711935&(I<<8|I>>>24)|4278255360&(I<<24|I>>>8),D=T>>>16|4294901760&x,L=x<<16|65535&T;for(A[0]^=T,A[1]^=D,A[2]^=x,A[3]^=L,A[4]^=T,A[5]^=D,A[6]^=x,A[7]^=L,w=0;w<4;w++)this.nextState()}},h.prototype.un=function(l,g){var w=this.hn;this.nextState(),this.S[0]=w[0]^w[5]>>>16^w[3]<<16,this.S[1]=w[2]^w[7]>>>16^w[5]<<16,this.S[2]=w[4]^w[1]>>>16^w[7]<<16,this.S[3]=w[6]^w[3]>>>16^w[1]<<16;for(var E=0;E<4;E++)this.S[E]=16711935&(this.S[E]<<8|this.S[E]>>>24)|4278255360&(this.S[E]<<24|this.S[E]>>>8),l[g+E]^=this.S[E]},h.prototype.nextState=function(){for(var l=this.hn,g=this.vn,w=0;w<8;w++)this.C[w]=g[w];for(g[0]=g[0]+1295307597+this.wn|0,g[1]=g[1]+3545052371+(g[0]>>>0<this.C[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<this.C[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<this.C[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<this.C[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<this.C[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<this.C[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<this.C[6]>>>0?1:0)|0,this.wn=g[7]>>>0<this.C[7]>>>0?1:0,w=0;w<8;w++){var E=l[w]+g[w],A=65535&E,_=E>>>16,C=((A*A>>>17)+A*_>>>15)+_*_,I=((4294901760&E)*E|0)+((65535&E)*E|0);this.G[w]=C^I}var T=this.G;l[0]=T[0]+(T[7]<<16|T[7]>>>16)+(T[6]<<16|T[6]>>>16)|0,l[1]=T[1]+(T[0]<<8|T[0]>>>24)+T[7]|0,l[2]=T[2]+(T[1]<<16|T[1]>>>16)+(T[0]<<16|T[0]>>>16)|0,l[3]=T[3]+(T[2]<<8|T[2]>>>24)+T[1]|0,l[4]=T[4]+(T[3]<<16|T[3]>>>16)+(T[2]<<16|T[2]>>>16)|0,l[5]=T[5]+(T[4]<<8|T[4]>>>24)+T[3]|0,l[6]=T[6]+(T[5]<<16|T[5]>>>16)+(T[4]<<16|T[4]>>>16)|0,l[7]=T[7]+(T[6]<<8|T[6]>>>24)+T[5]|0},h.createEncryptor=function(l,g){return new h(b(b({},g=g===void 0?{}:g),{key:l}))},h.createDecryptor=function(l,g){return new h(b(b({},g=g===void 0?{}:g),{key:l}))},h.encrypt=function(l,g,w){return typeof g=="string"?u.E.encrypt(h,l,g,w):p.D.encrypt(h,l,g,w)},h.decrypt=function(l,g,w){return typeof g=="string"?u.E.decrypt(h,l,g,w):p.D.decrypt(h,l,g,w)},h.ivSize=4,h}(d.q)},3173:function(i,s,o){o.d(s,{SHA1:function(){return b}});var c,d=o(1868),u=o(3354),p=(c=function(v,y){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,l){h.__proto__=l}||function(h,l){for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&(h[g]=l[g])})(v,y)},function(v,y){function h(){this.constructor=v}c(v,y),v.prototype=y===null?Object.create(y):(h.prototype=y.prototype,new h)}),m=[],b=function(v){function y(h){var l=v.call(this,h)||this;return l.on=new u.e([1732584193,4023233417,2562383102,271733878,3285377520]),l.O=h,h&&h.hash!==void 0&&(l.on=h.hash.clone()),l}return p(y,v),y.prototype.A=function(){this.on=new u.e([1732584193,4023233417,2562383102,271733878,3285377520])},y.prototype.un=function(h,l){for(var g=this.on.words,w=g[0],E=g[1],A=g[2],_=g[3],C=g[4],I=0;I<80;I++){if(I<16)m[I]=0|h[l+I];else{var T=m[I-3]^m[I-8]^m[I-14]^m[I-16];m[I]=T<<1|T>>>31}var x=(w<<5|w>>>27)+C+m[I];x+=I<20?1518500249+(E&A|~E&_):I<40?1859775393+(E^A^_):I<60?(E&A|E&_|A&_)-1894007588:(E^A^_)-899497514,C=_,_=A,A=E<<30|E>>>2,E=w,w=x}g[0]=g[0]+w|0,g[1]=g[1]+E|0,g[2]=g[2]+A|0,g[3]=g[3]+_|0,g[4]=g[4]+C|0},y.prototype.fn=function(){var h=this.cn.words,l=8*this.sn,g=8*this.cn.nSigBytes;return h[g>>>5]|=128<<24-g%32,h[14+(g+64>>>9<<4)]=Math.floor(l/4294967296),h[15+(g+64>>>9<<4)]=l,this.cn.nSigBytes=4*h.length,this.an(),this.on},y.prototype.clone=function(){return new y({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},y.hash=function(h,l){return new y(l).finalize(h)},y}(d.P)},766:function(i,s,o){o.d(s,{SHA224:function(){return m}});var c,d=o(3354),u=o(5561),p=(c=function(b,v){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,h){y.__proto__=h}||function(y,h){for(var l in h)Object.prototype.hasOwnProperty.call(h,l)&&(y[l]=h[l])})(b,v)},function(b,v){function y(){this.constructor=b}c(b,v),b.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}),m=function(b){function v(y){var h=b.call(this,y)||this;return h.on=new d.e([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),h.O=y,y&&y.hash!==void 0&&(h.on=y.hash.clone()),h}return p(v,b),v.prototype.A=function(){this.on=new d.e([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},v.prototype.fn=function(){var y=b.prototype.fn.call(this);return y.nSigBytes-=4,y},v.prototype.clone=function(){return new v({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},v.hash=function(y,h){return new v(h).finalize(y)},v}(u.SHA256)},5561:function(i,s,o){o.d(s,{SHA256:function(){return l}});var c,d=o(1868),u=o(3354),p=(c=function(g,w){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,A){E.__proto__=A}||function(E,A){for(var _ in A)Object.prototype.hasOwnProperty.call(A,_)&&(E[_]=A[_])})(g,w)},function(g,w){function E(){this.constructor=g}c(g,w),g.prototype=w===null?Object.create(w):(E.prototype=w.prototype,new E)}),m=[],b=[];function v(g){for(var w=Math.sqrt(g),E=2;E<=w;E++)if(!(g%E))return!1;return!0}function y(g){return 4294967296*(g-(0|g))|0}(function(){for(var g=2,w=0;w<64;)v(g)&&(w<8&&(m[w]=y(Math.pow(g,.5))),b[w]=y(Math.pow(g,.3333333333333333)),w++),g++})();var h=[],l=function(g){function w(E){var A=g.call(this,E)||this;return A.on=new u.e(m.slice(0)),A.O=E,E&&E.hash!==void 0&&(A.on=E.hash.clone()),A}return p(w,g),w.prototype.A=function(){this.on=new u.e(m.slice(0))},w.prototype.un=function(E,A){for(var _=this.on.words,C=_[0],I=_[1],T=_[2],x=_[3],D=_[4],L=_[5],H=_[6],G=_[7],j=0;j<64;j++){if(j<16)h[j]=0|E[A+j];else{var q=h[j-15],X=(q<<25|q>>>7)^(q<<14|q>>>18)^q>>>3,Z=h[j-2],$=(Z<<15|Z>>>17)^(Z<<13|Z>>>19)^Z>>>10;h[j]=X+h[j-7]+$+h[j-16]}var ue=C&I^C&T^I&T,fe=(C<<30|C>>>2)^(C<<19|C>>>13)^(C<<10|C>>>22),he=G+((D<<26|D>>>6)^(D<<21|D>>>11)^(D<<7|D>>>25))+(D&L^~D&H)+b[j]+h[j];G=H,H=L,L=D,D=x+he|0,x=T,T=I,I=C,C=he+(fe+ue)|0}_[0]=_[0]+C|0,_[1]=_[1]+I|0,_[2]=_[2]+T|0,_[3]=_[3]+x|0,_[4]=_[4]+D|0,_[5]=_[5]+L|0,_[6]=_[6]+H|0,_[7]=_[7]+G|0},w.prototype.fn=function(){var E=this.cn.words,A=8*this.sn,_=8*this.cn.nSigBytes;return E[_>>>5]|=128<<24-_%32,E[14+(_+64>>>9<<4)]=Math.floor(A/4294967296),E[15+(_+64>>>9<<4)]=A,this.cn.nSigBytes=4*E.length,this.an(),this.on},w.prototype.clone=function(){return new w({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},w.hash=function(E,A){return new w(A).finalize(E)},w}(d.P)},3408:function(i,s,o){o.d(s,{SHA3:function(){return l}});var c,d=o(6957),u=o(1868),p=o(3354),m=(c=function(g,w){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,A){E.__proto__=A}||function(E,A){for(var _ in A)Object.prototype.hasOwnProperty.call(A,_)&&(E[_]=A[_])})(g,w)},function(g,w){function E(){this.constructor=g}c(g,w),g.prototype=w===null?Object.create(w):(E.prototype=w.prototype,new E)}),b=[],v=[],y=[];(function(){for(var g=1,w=0,E=0;E<24;E++){b[g+5*w]=(E+1)*(E+2)/2%64;var A=(2*g+3*w)%5;g=w%5,w=A}for(var _=0;_<5;_++)for(var C=0;C<5;C++)v[_+5*C]=C+(2*_+3*C)%5*5;for(var I=1,T=0;T<24;T++){for(var x=0,D=0,L=0;L<7;L++){if(1&I){var H=(1<<L)-1;H<32?D^=1<<H:x^=1<<H-32}128&I?I=I<<1^113:I<<=1}y[T]=new d.r(x,D)}})();var h=[];(function(){for(var g=0;g<25;g++)h[g]=new d.r(0,0)})();var l=function(g){function w(E){var A=g.call(this,E)||this;if(A.N=32,A.bn=[],A.dn=512,A.O=E,E){if(E.outputLength!==void 0){if(![224,256,384,512].includes(E.outputLength))throw new Error("Unsupported output length.");A.dn=E.outputLength}E.state!==void 0&&(A.bn=E.state.map(function(C){return C.clone()}))}if(A.bn.length===0)for(var _=0;_<25;_++)A.bn[_]=new d.r(0,0);return A.N=(1600-2*A.dn)/32,A}return m(w,g),w.prototype.A=function(){this.bn=[];for(var E=0;E<25;E++)this.bn[E]=new d.r(0,0);this.N=(1600-2*this.dn)/32},w.prototype.un=function(E,A){for(var _=this.bn,C=this.N/2,I=0;I<C;I++){var T=E[A+2*I],x=E[A+2*I+1];T=16711935&(T<<8|T>>>24)|4278255360&(T<<24|T>>>8),x=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8),_[I].high^=x,_[I].low^=T}for(var D=0;D<24;D++){for(var L=0;L<5;L++){for(var H=0,G=0,j=0;j<5;j++)H^=(N=_[L+5*j]).high,G^=N.low;var q=h[L];q.high=H,q.low=G}for(L=0;L<5;L++){var X=h[(L+4)%5],Z=h[(L+1)%5],$=Z.high,ue=Z.low;for(H=X.high^($<<1|ue>>>31),G=X.low^(ue<<1|$>>>31),j=0;j<5;j++)(N=_[L+5*j]).high^=H,N.low^=G}for(var fe=1;fe<25;fe++){H=void 0,G=void 0;var he=_[fe].high,Se=_[fe].low,V=b[fe];V<32?(H=he<<V|Se>>>32-V,G=Se<<V|he>>>32-V):(H=Se<<V-32|he>>>64-V,G=he<<V-32|Se>>>64-V);var O=h[v[fe]];O.high=H,O.low=G}var M=h[0],P=_[0];for(M.high=P.high,M.low=P.low,L=0;L<5;L++)for(j=0;j<5;j++){var N=_[fe=L+5*j],U=h[fe],J=h[(L+1)%5+5*j],te=h[(L+2)%5+5*j];N.high=U.high^~J.high&te.high,N.low=U.low^~J.low&te.low}var re=_[0],pe=y[D];re.high^=pe.high,re.low^=pe.low}},w.prototype.fn=function(){var E=this.cn,A=E.words,_=8*E.nSigBytes,C=32*this.blockSize;A[_>>>5]|=1<<24-_%32,A[(Math.ceil((_+1)/C)*C>>>5)-1]|=128,E.nSigBytes=4*A.length,this.an();for(var I=this.bn,T=this.dn/8,x=T/8,D=[],L=0;L<x;L++){var H=I[L],G=H.high,j=H.low;G=16711935&(G<<8|G>>>24)|4278255360&(G<<24|G>>>8),j=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8),D.push(j),D.push(G)}return new p.e(D,T)},w.prototype.clone=function(){return new w({outputLength:this.dn,state:this.bn,blockSize:this.N,data:this.cn,nBytes:this.sn})},w.hash=function(E,A){return new w(A).finalize(E)},w}(u.P)},6324:function(i,s,o){o.d(s,{SHA384:function(){return m}});var c,d=o(6957),u=o(7491),p=(c=function(b,v){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,h){y.__proto__=h}||function(y,h){for(var l in h)Object.prototype.hasOwnProperty.call(h,l)&&(y[l]=h[l])})(b,v)},function(b,v){function y(){this.constructor=b}c(b,v),b.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}),m=function(b){function v(y){var h=b.call(this,y)||this;return h.on=new d.m([new d.r(3418070365,3238371032),new d.r(1654270250,914150663),new d.r(2438529370,812702999),new d.r(355462360,4144912697),new d.r(1731405415,4290775857),new d.r(2394180231,1750603025),new d.r(3675008525,1694076839),new d.r(1203062813,3204075428)]),h.O=y,y&&y.hash!==void 0&&(h.on=y.hash.clone()),h}return p(v,b),v.prototype.A=function(){this.on=new d.m([new d.r(3418070365,3238371032),new d.r(1654270250,914150663),new d.r(2438529370,812702999),new d.r(355462360,4144912697),new d.r(1731405415,4290775857),new d.r(2394180231,1750603025),new d.r(3675008525,1694076839),new d.r(1203062813,3204075428)])},v.prototype.fn=function(){var y=b.prototype.fn.call(this);return y.nSigBytes-=16,y},v.prototype.clone=function(){return new v({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},v.hash=function(y,h){return new v(h).finalize(y)},v}(u.SHA512)},7491:function(i,s,o){o.d(s,{SHA512:function(){return v}});var c,d=o(1868),u=o(6957),p=(c=function(y,h){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(l[w]=g[w])})(y,h)},function(y,h){function l(){this.constructor=y}c(y,h),y.prototype=h===null?Object.create(h):(l.prototype=h.prototype,new l)}),m=[new u.r(1116352408,3609767458),new u.r(1899447441,602891725),new u.r(3049323471,3964484399),new u.r(3921009573,2173295548),new u.r(961987163,4081628472),new u.r(1508970993,3053834265),new u.r(2453635748,2937671579),new u.r(2870763221,3664609560),new u.r(3624381080,2734883394),new u.r(310598401,1164996542),new u.r(607225278,1323610764),new u.r(1426881987,3590304994),new u.r(1925078388,4068182383),new u.r(2162078206,991336113),new u.r(2614888103,633803317),new u.r(3248222580,3479774868),new u.r(3835390401,2666613458),new u.r(4022224774,944711139),new u.r(264347078,2341262773),new u.r(604807628,2007800933),new u.r(770255983,1495990901),new u.r(1249150122,1856431235),new u.r(1555081692,3175218132),new u.r(1996064986,2198950837),new u.r(2554220882,3999719339),new u.r(2821834349,766784016),new u.r(2952996808,2566594879),new u.r(3210313671,3203337956),new u.r(3336571891,1034457026),new u.r(3584528711,2466948901),new u.r(113926993,3758326383),new u.r(338241895,168717936),new u.r(666307205,1188179964),new u.r(773529912,1546045734),new u.r(1294757372,1522805485),new u.r(1396182291,2643833823),new u.r(1695183700,2343527390),new u.r(1986661051,1014477480),new u.r(2177026350,1206759142),new u.r(2456956037,344077627),new u.r(2730485921,1290863460),new u.r(2820302411,3158454273),new u.r(3259730800,3505952657),new u.r(3345764771,106217008),new u.r(3516065817,3606008344),new u.r(3600352804,1432725776),new u.r(4094571909,1467031594),new u.r(275423344,851169720),new u.r(430227734,3100823752),new u.r(506948616,1363258195),new u.r(659060556,3750685593),new u.r(883997877,3785050280),new u.r(958139571,3318307427),new u.r(1322822218,3812723403),new u.r(1537002063,2003034995),new u.r(1747873779,3602036899),new u.r(1955562222,1575990012),new u.r(2024104815,1125592928),new u.r(2227730452,2716904306),new u.r(2361852424,442776044),new u.r(2428436474,593698344),new u.r(2756734187,3733110249),new u.r(3204031479,2999351573),new u.r(3329325298,3815920427),new u.r(3391569614,3928383900),new u.r(3515267271,566280711),new u.r(3940187606,3454069534),new u.r(4118630271,4000239992),new u.r(116418474,1914138554),new u.r(174292421,2731055270),new u.r(289380356,3203993006),new u.r(460393269,320620315),new u.r(685471733,587496836),new u.r(852142971,1086792851),new u.r(1017036298,365543100),new u.r(1126000580,2618297676),new u.r(1288033470,3409855158),new u.r(1501505948,4234509866),new u.r(1607167915,987167468),new u.r(1816402316,1246189591)],b=[];(function(){for(var y=0;y<80;y++)b[y]=new u.r(0,0)})();var v=function(y){function h(l){var g=y.call(this,l)||this;return g.N=32,g.on=new u.m([new u.r(1779033703,4089235720),new u.r(3144134277,2227873595),new u.r(1013904242,4271175723),new u.r(2773480762,1595750129),new u.r(1359893119,2917565137),new u.r(2600822924,725511199),new u.r(528734635,4215389547),new u.r(1541459225,327033209)]),g.O=l,l&&l.hash!==void 0&&(g.on=l.hash.clone()),g}return p(h,y),h.prototype.A=function(){this.on=new u.m([new u.r(1779033703,4089235720),new u.r(3144134277,2227873595),new u.r(1013904242,4271175723),new u.r(2773480762,1595750129),new u.r(1359893119,2917565137),new u.r(2600822924,725511199),new u.r(528734635,4215389547),new u.r(1541459225,327033209)])},h.prototype.un=function(l,g){for(var w=this.on.words,E=w[0],A=w[1],_=w[2],C=w[3],I=w[4],T=w[5],x=w[6],D=w[7],L=E.high,H=E.low,G=A.high,j=A.low,q=_.high,X=_.low,Z=C.high,$=C.low,ue=I.high,fe=I.low,he=T.high,Se=T.low,V=x.high,O=x.low,M=D.high,P=D.low,N=L,U=H,J=G,te=j,re=q,pe=X,ve=Z,Pe=$,ke=ue,je=fe,Ne=he,Ye=Se,De=V,ye=O,Te=M,me=P,ae=0;ae<80;ae++){var z=void 0,Q=void 0,le=b[ae];if(ae<16)Q=le.high=0|l[g+2*ae],z=le.low=0|l[g+2*ae+1];else{var Ee=b[ae-15],Be=Ee.high,tt=Ee.low,$e=(Be>>>1|tt<<31)^(Be>>>8|tt<<24)^Be>>>7,et=(tt>>>1|Be<<31)^(tt>>>8|Be<<24)^(tt>>>7|Be<<25),Ge=b[ae-2],Xe=Ge.high,ot=Ge.low,Le=(Xe>>>19|ot<<13)^(Xe<<3|ot>>>29)^Xe>>>6,_e=(ot>>>19|Xe<<13)^(ot<<3|Xe>>>29)^(ot>>>6|Xe<<26),se=b[ae-7],He=se.high,qe=se.low,Lt=b[ae-16],qt=Lt.high,Ce=Lt.low;Q=(Q=(Q=$e+He+((z=et+qe)>>>0<et>>>0?1:0))+Le+((z+=_e)>>>0<_e>>>0?1:0))+qt+((z+=Ce)>>>0<Ce>>>0?1:0),le.high=Q,le.low=z}var Qe=ke&Ne^~ke&De,gt=je&Ye^~je&ye,nt=N&J^N&re^J&re,bt=U&te^U&pe^te&pe,vt=(N>>>28|U<<4)^(N<<30|U>>>2)^(N<<25|U>>>7),Ht=(U>>>28|N<<4)^(U<<30|N>>>2)^(U<<25|N>>>7),ze=(ke>>>14|je<<18)^(ke>>>18|je<<14)^(ke<<23|je>>>9),Pt=(je>>>14|ke<<18)^(je>>>18|ke<<14)^(je<<23|ke>>>9),ft=m[ae],ie=ft.high,B=ft.low,K=me+Pt,ne=Te+ze+(K>>>0<me>>>0?1:0),de=Ht+bt;Te=De,me=ye,De=Ne,ye=Ye,Ne=ke,Ye=je,ke=ve+(ne=(ne=(ne=ne+Qe+((K+=gt)>>>0<gt>>>0?1:0))+ie+((K+=B)>>>0<B>>>0?1:0))+Q+((K+=z)>>>0<z>>>0?1:0))+((je=Pe+K|0)>>>0<Pe>>>0?1:0)|0,ve=re,Pe=pe,re=J,pe=te,J=N,te=U,N=ne+(vt+nt+(de>>>0<Ht>>>0?1:0))+((U=K+de|0)>>>0<K>>>0?1:0)|0}H=E.low=H+U,E.high=L+N+(H>>>0<U>>>0?1:0),j=A.low=j+te,A.high=G+J+(j>>>0<te>>>0?1:0),X=_.low=X+pe,_.high=q+re+(X>>>0<pe>>>0?1:0),$=C.low=$+Pe,C.high=Z+ve+($>>>0<Pe>>>0?1:0),fe=I.low=fe+je,I.high=ue+ke+(fe>>>0<je>>>0?1:0),Se=T.low=Se+Ye,T.high=he+Ne+(Se>>>0<Ye>>>0?1:0),O=x.low=O+ye,x.high=V+De+(O>>>0<ye>>>0?1:0),P=D.low=P+me,D.high=M+Te+(P>>>0<me>>>0?1:0)},h.prototype.fn=function(){var l=this.cn,g=l.words,w=8*this.sn,E=8*l.nSigBytes;return g[E>>>5]|=128<<24-E%32,g[30+(E+128>>>10<<5)]=Math.floor(w/4294967296),g[31+(E+128>>>10<<5)]=w,l.nSigBytes=4*g.length,this.an(),this.on.to32()},h.prototype.clone=function(){return new h({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},h.hash=function(l,g){return new h(g).finalize(l)},h}(d.P)},3354:function(i,s,o){o.d(s,{e:function(){return u}});var c=o(5720),d=o(9054),u=function(){function p(m,b){if(Array.isArray(m)||!m)return this.yn=Array.isArray(m)?m:[],void(this.pn=typeof b=="number"?b:4*this.yn.length);if(m instanceof p)return this.yn=m.words.slice(),void(this.pn=m.nSigBytes);var v;try{m instanceof ArrayBuffer?v=new Uint8Array(m):(m instanceof Uint8Array||m instanceof Int8Array||m instanceof Uint8ClampedArray||m instanceof Int16Array||m instanceof Uint16Array||m instanceof Int32Array||m instanceof Uint32Array||m instanceof Float32Array||m instanceof Float64Array)&&(v=new Uint8Array(m.buffer,m.byteOffset,m.byteLength))}catch{throw new Error("Invalid argument")}if(!v)throw new Error("Invalid argument");for(var y=v.byteLength,h=[],l=0;l<y;l++)h[l>>>2]|=v[l]<<24-l%4*8;this.yn=h,this.pn=y}return Object.defineProperty(p.prototype,"nSigBytes",{get:function(){return this.pn},set:function(m){this.pn=m},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"words",{get:function(){return this.yn},enumerable:!1,configurable:!0}),p.prototype.toString=function(m){return m?m.stringify(this):c.p.stringify(this)},p.prototype.toUint8Array=function(){for(var m=this.yn,b=this.pn,v=new Uint8Array(b),y=0;y<b;y++)v[y]=m[y>>>2]>>>24-y%4*8&255;return v},p.prototype.concat=function(m){var b=m.words.slice(),v=m.nSigBytes;if(this.clamp(),this.pn%4)for(var y=0;y<v;y++){var h=b[y>>>2]>>>24-y%4*8&255;this.yn[this.pn+y>>>2]|=h<<24-(this.pn+y)%4*8}else for(y=0;y<v;y+=4)this.yn[this.pn+y>>>2]=b[y>>>2];return this.pn+=v,this},p.prototype.clamp=function(){var m=this.pn;this.yn[m>>>2]&=4294967295<<32-m%4*8,this.yn.length=Math.ceil(m/4)},p.prototype.clone=function(){return new p(this.yn.slice(),this.pn)},p.random=function(m){for(var b=[],v=0;v<m;v+=4)b.push((0,d.M)());return new p(b,m)},p}()},6957:function(i,s,o){o.d(s,{r:function(){return u},m:function(){return p}});var c=o(5720),d=o(3354),u=function(){function m(b,v){this.high=b,this.low=v}return m.prototype.clone=function(){return new m(this.high,this.low)},m}(),p=function(){function m(b,v){this.yn=b||[],this.pn=typeof v=="number"?v:8*this.yn.length}return Object.defineProperty(m.prototype,"nSigBytes",{get:function(){return this.pn},set:function(b){this.pn=b},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"words",{get:function(){return this.yn},enumerable:!1,configurable:!0}),m.prototype.to32=function(){for(var b=[],v=0;v<this.yn.length;v++){var y=this.yn[v];b.push(y.high),b.push(y.low)}return new d.e(b,this.pn)},m.prototype.toString=function(b){return b?b.stringify(this.to32()):c.p.stringify(this.to32())},m.prototype.clone=function(){for(var b=this.yn.slice(),v=0;v<b.length;v++)b[v]=b[v].clone();return new m(b,this.pn)},m}()},7211:function(i,s,o){o.d(s,{C:function(){return u}});var c=o(3354),d=o(4768),u=function(){function p(m){this.On=0,this.N=0,this.O=m,this.cn=m&&m.data!==void 0?m.data.clone():new c.e,this.sn=m&&typeof m.nBytes=="number"?m.nBytes:0}return Object.defineProperty(p.prototype,"blockSize",{get:function(){return this.N},enumerable:!1,configurable:!0}),p.prototype.reset=function(m,b){this.cn=m!==void 0?m.clone():new c.e,this.sn=typeof b=="number"?b:0},p.prototype.jn=function(m){var b=typeof m=="string"?d.d.parse(m):m;this.cn.concat(b),this.sn+=b.nSigBytes},p.prototype.an=function(m){var b,v=this.cn.words,y=this.cn.nSigBytes,h=this.N,l=y/(4*this.N),g=(l=m?Math.ceil(l):Math.max((0|l)-this.On,0))*h,w=Math.min(4*g,y);if(g){for(var E=0;E<g;E+=h)this.un(v,E);b=v.splice(0,g),this.cn.nSigBytes-=w}return new c.e(b,w)},p.prototype.un=function(m,b){throw new Error("Not implemented")},p}()},1868:function(i,s,o){o.d(s,{P:function(){return p}});var c,d=o(7211),u=(c=function(m,b){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var h in y)Object.prototype.hasOwnProperty.call(y,h)&&(v[h]=y[h])})(m,b)},function(m,b){function v(){this.constructor=m}c(m,b),m.prototype=b===null?Object.create(b):(v.prototype=b.prototype,new v)}),p=function(m){function b(v){var y=m.call(this,v)||this;return y.N=16,y.O=v,v&&typeof v.blockSize=="number"&&(y.N=v.blockSize),y.reset(v?v.data:void 0,v?v.nBytes:void 0),y}return u(b,m),Object.defineProperty(b.prototype,"blockSize",{get:function(){return this.N},enumerable:!1,configurable:!0}),b.prototype.reset=function(v,y){m.prototype.reset.call(this,v,y),this.A()},b.prototype.update=function(v){return this.jn(v),this.an(),this},b.prototype.finalize=function(v){return v&&this.jn(v),this.fn()},b.prototype.A=function(){throw new Error("Not implemented")},b.prototype.fn=function(){throw new Error("Not implemented")},b}(d.C)},787:function(i,s,o){o.d(s,{G:function(){return v}});var c,d=o(9456),u=o(4344),p=o(7919),m=(c=function(y,h){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(l[w]=g[w])})(y,h)},function(y,h){function l(){this.constructor=y}c(y,h),y.prototype=h===null?Object.create(h):(l.prototype=h.prototype,new l)}),b=function(){return(b=Object.assign||function(y){for(var h,l=1,g=arguments.length;l<g;l++)for(var w in h=arguments[l])Object.prototype.hasOwnProperty.call(h,w)&&(y[w]=h[w]);return y}).apply(this,arguments)},v=function(y){function h(l){var g=y.call(this,l)||this;return g.N=4,g._n=u.n,g.mn=p.l,g.O=l,g._n=l.mode!==void 0?l.mode:g._n,g.mn=l.padding!==void 0?l.padding:g.mn,g.reset(l==null?void 0:l.data,l==null?void 0:l.nBytes),g}return m(h,y),Object.defineProperty(h.prototype,"mode",{get:function(){return this.An},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"padding",{get:function(){return this.mn},enumerable:!1,configurable:!0}),h.prototype.reset=function(l,g){var w;y.prototype.reset.call(this,l,g),this.gn===d.t.ENC_TRANSFORM_MODE?w=this._n.createEncryptor:(w=this._n.createDecryptor,this.On=1),this._n&&this.En===w?this.An=new this._n({cipher:this,iv:this.ln}):(this.An=w.call(this._n,{cipher:this,iv:this.ln}),this.En=w)},h.prototype.un=function(l,g){var w;(w=this.An)===null||w===void 0||w.processBlock(l,g)},h.prototype.fn=function(){var l,g=this.mn;return this.gn===d.t.ENC_TRANSFORM_MODE?(g.pad(this.cn,this.blockSize),l=this.an(!0)):(l=this.an(!0),g.unpad(l)),l},h.prototype.encryptBlock=function(l,g){throw new Error("Not implemented")},h.prototype.decryptBlock=function(l,g){throw new Error("Not implemented")},h.createEncryptor=function(l,g){return new h(b(b({},g=g===void 0?{}:g),{key:l,transformMode:d.t.ENC_TRANSFORM_MODE}))},h.createDecryptor=function(l,g){return new h(b(b({},g=g===void 0?{}:g),{key:l,transformMode:d.t.DEC_TRANSFORM_MODE}))},h}(d.t)},9456:function(i,s,o){o.d(s,{t:function(){return m}});var c,d=o(7211),u=(c=function(b,v){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,h){y.__proto__=h}||function(y,h){for(var l in h)Object.prototype.hasOwnProperty.call(h,l)&&(y[l]=h[l])})(b,v)},function(b,v){function y(){this.constructor=b}c(b,v),b.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}),p=function(){return(p=Object.assign||function(b){for(var v,y=1,h=arguments.length;y<h;y++)for(var l in v=arguments[y])Object.prototype.hasOwnProperty.call(v,l)&&(b[l]=v[l]);return b}).apply(this,arguments)},m=function(b){function v(y){var h=b.call(this,y)||this;return h.gn=1,h.O=y,h.H=y.key,h.ln=y.iv!==void 0?y.iv:h.ln,h.gn=y.transformMode!==void 0?y.transformMode:h.gn,h}return u(v,b),Object.defineProperty(v.prototype,"iv",{get:function(){return this.ln},enumerable:!1,configurable:!0}),v.prototype.reset=function(y,h){b.prototype.reset.call(this,y,h),this.A()},v.prototype.process=function(y){return this.jn(y),this.an()},v.prototype.finalize=function(y){return y&&this.jn(y),this.fn()},v.prototype.A=function(){throw new Error("Not implemented")},v.prototype.un=function(y,h){throw new Error("Not implemented")},v.prototype.fn=function(){throw new Error("Not implemented")},v.createEncryptor=function(y,h){return new v(p(p({},h=h===void 0?{}:h),{key:y,transformMode:v.ENC_TRANSFORM_MODE}))},v.createDecryptor=function(y,h){return new v(p(p({},h=h===void 0?{}:h),{key:y,transformMode:v.DEC_TRANSFORM_MODE}))},v.ENC_TRANSFORM_MODE=1,v.DEC_TRANSFORM_MODE=2,v.keySize=4,v.ivSize=4,v}(d.C)},2505:function(i,s,o){o.d(s,{Q:function(){return d}});var c=o(1232),d=function(){function u(p){this.formatter=c.w,p&&(this.cipherText=p.cipherText,this.key=p.key,this.iv=p.iv,this.salt=p.salt,this.Algorithm=p.Algorithm,this.mode=p.mode,this.padding=p.padding,this.blockSize=p.blockSize,this.formatter=p.formatter||c.w)}return u.prototype.toString=function(p){return(p||this.formatter).stringify(this)},u}()},5693:function(i,s,o){o.d(s,{E:function(){return b}});var c=o(9109),d=o(2214),u=o(2505),p=o(1232),m=function(){return(m=Object.assign||function(v){for(var y,h=1,l=arguments.length;h<l;h++)for(var g in y=arguments[h])Object.prototype.hasOwnProperty.call(y,g)&&(v[g]=y[g]);return v}).apply(this,arguments)},b={encrypt:function(v,y,h,l){var g=l?m({},l):{},w=l&&l.KDF?l.KDF:d.s,E={};l&&l.kdfHasher&&(E.kdfHasher=l.kdfHasher),l&&l.kdfIterations&&(E.kdfIterations=l.kdfIterations),l&&l.kdfModule&&(E.kdfModule=l.kdfModule);var A=w.execute(h,v.keySize,v.ivSize,g.kdfSalt,E);g.iv=A.iv;var _=c.D.encrypt(v,y,A.key,g);return new u.Q(m(m({},_),{key:A.key,iv:A.iv,salt:A.salt}))},decrypt:function(v,y,h,l){var g=l?m({},l):{},w=g.KDF?g.KDF:d.s,E=g.formatter?g.formatter:p.w,A=(0,c.W)(y,E),_={};l&&l.kdfHasher&&(_.kdfHasher=l.kdfHasher),l&&l.kdfIterations&&(_.kdfIterations=l.kdfIterations),l&&l.kdfModule&&(_.kdfModule=l.kdfModule);var C=w.execute(h,v.keySize,v.ivSize,A.salt,_);return g.iv=C.iv,c.D.decrypt(v,A,C.key,g)}}},9109:function(i,s,o){o.d(s,{W:function(){return u},D:function(){return p}});var c=o(1232),d=o(2505);function u(m,b){return typeof m=="string"?b.parse(m):m}var p={encrypt:function(m,b,v,y){var h=m.createEncryptor(v,y),l=h.finalize(b);return new d.Q({cipherText:l,key:v,iv:h.iv,Algorithm:m,mode:h.mode,padding:h.padding,blockSize:h.blockSize,formatter:(y==null?void 0:y.formatter)||c.w})},decrypt:function(m,b,v,y){var h=m.createDecryptor(v,y),l=u(b,(y==null?void 0:y.formatter)||c.w);return h.finalize(l.cipherText||"")}}},30:function(i,s,o){o.d(s,{q:function(){return p}});var c,d=o(9456),u=(c=function(m,b){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var h in y)Object.prototype.hasOwnProperty.call(y,h)&&(v[h]=y[h])})(m,b)},function(m,b){function v(){this.constructor=m}c(m,b),m.prototype=b===null?Object.create(b):(v.prototype=b.prototype,new v)}),p=function(m){function b(v){var y=m.call(this,v)||this;return y.N=1,y}return u(b,m),b.prototype.fn=function(){return this.an(!0)},b}(d.t)},1232:function(i,s,o){o.d(s,{w:function(){return p}});var c=o(2505),d=o(3354),u=o(1773),p={stringify:function(m){var b=m.cipherText,v=m.salt;return b?v?new d.e([1398893684,1701076831]).concat(v).concat(b).toString(u.D):b.toString(u.D):""},parse:function(m){var b,v=u.D.parse(m),y=v.words;return y[0]===1398893684&&y[1]===1701076831&&(b=new d.e(y.slice(2,4)),y.splice(0,4),v.nSigBytes-=16),new c.Q({cipherText:v,salt:b})}}},2214:function(i,s,o){o.d(s,{s:function(){return m}});var c=o(3354),d=o(2505),u=o(7008),p=function(){return(p=Object.assign||function(b){for(var v,y=1,h=arguments.length;y<h;y++)for(var l in v=arguments[y])Object.prototype.hasOwnProperty.call(v,l)&&(b[l]=v[l]);return b}).apply(this,arguments)},m={execute:function(b,v,y,h,l){h||(h=c.e.random(8));var g=l&&l.kdfModule||u.E,w=l?{Hasher:l.kdfHasher,iterations:l.kdfIterations}:{},E=g.getKey(b,h,p(p({},w),{keySize:v+y})),A=new c.e(E.words.slice(v),4*y);return E.nSigBytes=4*v,new d.Q({key:E,iv:A,salt:h})}}},7008:function(i,s,o){o.d(s,{E:function(){return v}});var c,d=o(5561),u=o(6367),p=o(3354),m=o(9541),b=(c=function(y,h){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(l[w]=g[w])})(y,h)},function(y,h){function l(){this.constructor=y}c(y,h),y.prototype=h===null?Object.create(h):(l.prototype=h.prototype,new l)}),v=function(y){function h(l){var g=y.call(this,l)||this;return g.Sn=4,g.Mn=d.SHA256,g.kn=1e4,l&&(g.Sn=l.keySize!==void 0?l.keySize:g.Sn,g.Mn=l.Hasher!==void 0?l.Hasher:g.Mn,g.kn=l.iterations!==void 0?l.iterations:g.kn),g}return b(h,y),h.prototype.compute=function(l,g){for(var w=new u.Hmac(new this.Mn,l),E=new p.e,A=new p.e([1]),_=E.words,C=A.words,I=this.Sn,T=this.kn;_.length<I;){var x=w.update(g).finalize(A);w.reset();for(var D=x.words,L=D.length,H=x,G=1;G<T;G++){H=w.finalize(H),w.reset();for(var j=H.words,q=0;q<L;q++)D[q]^=j[q]}E.concat(x),C[0]++}return E.nSigBytes=4*I,E},h.getKey=function(l,g,w){return new h(w).compute(l,g)},h}(m._)},9541:function(i,s,o){o.d(s,{_:function(){return c}});var c=function(){function d(u){this.O=u}return d.prototype.compute=function(u,p){throw new Error("Not implemented")},d.getKey=function(u,p,m){throw new Error("Not implemented")},d}()},1863:function(i,s,o){o.d(s,{T:function(){return c}});var c=function(){function d(u){this.O=u,this.Hn=u.cipher,this.ln=u.iv}return d.prototype.processBlock=function(u,p){},d.createEncryptor=function(u){throw new Error("Not implemented yet")},d.createDecryptor=function(u){throw new Error("Not implemented yet")},d}()},4344:function(i,s,o){o.d(s,{n:function(){return p}});var c,d=o(1863),u=(c=function(m,b){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var h in y)Object.prototype.hasOwnProperty.call(y,h)&&(v[h]=y[h])})(m,b)},function(m,b){function v(){this.constructor=m}c(m,b),m.prototype=b===null?Object.create(b):(v.prototype=b.prototype,new v)}),p=function(m){function b(v){var y=m.call(this,v)||this;return y.Cn=[],y}return u(b,m),b.prototype.xorBlock=function(v,y,h){var l,g=this.ln;g?(l=g.words,this.ln=void 0):l=this.Cn;for(var w=0;w<h;w++)v[y+w]^=l[w]},b.createEncryptor=function(v){return new b.Encryptor(v)},b.createDecryptor=function(v){return new b.Decryptor(v)},b.Encryptor=function(v){function y(){return v!==null&&v.apply(this,arguments)||this}return u(y,v),y.prototype.processBlock=function(h,l){var g=this.Hn,w=g.blockSize;this.xorBlock(h,l,w),g.encryptBlock(h,l),this.Cn=h.slice(l,l+w)},y}(b),b.Decryptor=function(v){function y(){return v!==null&&v.apply(this,arguments)||this}return u(y,v),y.prototype.processBlock=function(h,l){var g=this.Hn,w=g.blockSize,E=h.slice(l,l+w);g.decryptBlock(h,l),this.xorBlock(h,l,w),this.Cn=E},y}(b),b}(d.T)},4055:function(i,s,o){o.d(s,{I4:function(){return d},z6:function(){return u},ur:function(){return p}});var c=o(3354);function d(m){var b=m.nSigBytes%16;if(b!==0){for(var v=16-b,y=[],h=Math.floor(v/4),l=0;l<h;l++)y.push(0);v%4>0&&y.push(0),m.concat(new c.e(y,v))}}function u(m,b){return new c.e(m.words.slice(),b)}function p(m,b){for(var v=m.nSigBytes-b,y=[],h=0;h<b;h++){var l=h>>>2,g=v+h,w=g>>>2,E=m.words[w]>>>24-g%4*8&255;y[l]=0|y[l]|E<<24-h%4*8}var A=new c.e(y,b);return A.clamp(),A}},7919:function(i,s,o){o.d(s,{l:function(){return d}});var c=o(3354),d={pad:function(u,p){for(var m=4*p,b=m-u.nSigBytes%m,v=b<<24|b<<16|b<<8|b,y=[],h=0;h<b;h+=4)y.push(v);var l=new c.e(y,b);u.concat(l)},unpad:function(u){var p=255&u.words[u.nSigBytes-1>>>2];u.nSigBytes-=p}}},1756:function(i,s,o){o.d(s,{w:function(){return p}});var c,d=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",u=(c=parseInt((/msie (\d+)/.exec(d)||[])[1],10),isNaN(c)?(c=parseInt((/trident\/.*; rv:(\d+)/.exec(d)||[])[1],10),!isNaN(c)&&c):c);function p(m,b){return u!==!1&&(!b||(m==="<"?u<b:m==="<="?u<=b:m===">"?u>b:m===">="?u>=b:u===b))}},1773:function(i,s,o){o.d(s,{D:function(){return m}});for(var c=o(3354),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=[],p=0;p<d.length;p++)u[d.charCodeAt(p)]=p;var m={stringify:function(b){var v=b.words,y=b.nSigBytes;b.clamp();for(var h=[],l=0;l<y;l+=3)for(var g=(v[l>>>2]>>>24-l%4*8&255)<<16|(v[l+1>>>2]>>>24-(l+1)%4*8&255)<<8|v[l+2>>>2]>>>24-(l+2)%4*8&255,w=0;w<4&&l+.75*w<y;w++)h.push(d.charAt(g>>>6*(3-w)&63));var E=d.charAt(64);if(E)for(;h.length%4;)h.push(E);return h.join("")},parse:function(b){var v=b.length,y=d.charAt(64);if(y){var h=b.indexOf(y);h!==-1&&(v=h)}for(var l=[],g=0,w=0;w<v;w++)if(w%4){var E=u[b.charCodeAt(w-1)]<<w%4*2|u[b.charCodeAt(w)]>>>6-w%4*2;l[g>>>2]|=E<<24-g%4*8,g++}return new c.e(l,g)}}},5720:function(i,s,o){o.d(s,{p:function(){return d}});var c=o(3354),d={stringify:function(u){for(var p=u.nSigBytes,m=u.words,b=[],v=0;v<p;v++){var y=m[v>>>2]>>>24-v%4*8&255;b.push((y>>>4).toString(16)),b.push((15&y).toString(16))}return b.join("")},parse:function(u){var p=u.length;if(p%2!=0)throw new Error("Hex string count must be even");if(!/^[a-fA-F0-9]+$/.test(u))throw new Error("Invalid Hex string: "+u);for(var m=[],b=0;b<p;b+=2)m[b>>>3]|=parseInt(u.substr(b,2),16)<<24-b%8*4;return new c.e(m,p/2)}}},8702:function(i,s,o){o.d(s,{m:function(){return d}});var c=o(3354),d={stringify:function(u){for(var p=u.nSigBytes,m=u.words,b=[],v=0;v<p;v++){var y=m[v>>>2]>>>24-v%4*8&255;b.push(String.fromCharCode(y))}return b.join("")},parse:function(u){for(var p=u.length,m=[],b=0;b<p;b++)m[b>>>2]|=(255&u.charCodeAt(b))<<24-b%4*8;return new c.e(m,p)}}},4768:function(i,s,o){o.d(s,{d:function(){return d}});var c=o(8702),d={stringify:function(u){try{return decodeURIComponent(escape(c.m.stringify(u)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(u){return c.m.parse(unescape(encodeURIComponent(u)))}}},2688:function(i,s,o){o.d(s,{Base64:function(){return u.D},EvpKDF:function(){return I},Hex:function(){return b.p},Latin1:function(){return m.m},OpenSSLKDF:function(){return w.s},PBKDF2:function(){return E.E},Utf16:function(){return g},Utf16BE:function(){return v},Utf16LE:function(){return l},Utf8:function(){return p.d},Word32Array:function(){return c.e},Word64:function(){return d.r},Word64Array:function(){return d.m}}),o(9054);var c=o(3354),d=o(6957),u=(o(1756),o(1773)),p=o(4768),m=o(8702),b=o(5720),v={stringify:function(T){for(var x=T.words,D=T.nSigBytes,L=[],H=0;H<D;H+=2){var G=x[H>>>2]>>>16-H%4*8&65535;L.push(String.fromCharCode(G))}return L.join("")},parse:function(T){for(var x=T.length,D=[],L=0;L<x;L++)D[L>>>1]|=T.charCodeAt(L)<<16-L%2*16;return new c.e(D,2*x)}};function y(T){return T<<8&4278255360|T>>>8&16711935}var h,l={stringify:function(T){for(var x=T.words,D=T.nSigBytes,L=[],H=0;H<D;H+=2){var G=y(x[H>>>2]>>>16-H%4*8&65535);L.push(String.fromCharCode(G))}return L.join("")},parse:function(T){for(var x=T.length,D=[],L=0;L<x;L++)D[L>>>1]|=y(T.charCodeAt(L)<<16-L%2*16);return new c.e(D,2*x)}},g=v,w=o(2214),E=o(7008),A=o(670),_=o(9541),C=(h=function(T,x){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,L){D.__proto__=L}||function(D,L){for(var H in L)Object.prototype.hasOwnProperty.call(L,H)&&(D[H]=L[H])})(T,x)},function(T,x){function D(){this.constructor=T}h(T,x),T.prototype=x===null?Object.create(x):(D.prototype=x.prototype,new D)}),I=function(T){function x(D){var L=T.call(this,D)||this;return L.Sn=4,L.Mn=A.MD5,L.kn=1,D&&(L.Sn=D.keySize!==void 0?D.keySize:L.Sn,L.Mn=D.Hasher!==void 0?D.Hasher:L.Mn,L.kn=D.iterations!==void 0?D.iterations:L.kn),L}return C(x,T),x.prototype.compute=function(D,L){for(var H,G=new this.Mn,j=new c.e,q=j.words,X=this.Sn,Z=this.kn;q.length<X;){H&&G.update(H),H=G.update(D).finalize(L),G.reset();for(var $=1;$<Z;$++)H=G.finalize(H),G.reset();j.concat(H)}return j.nSigBytes=4*X,j},x.getKey=function(D,L,H){return new x(H).compute(D,L)},x}(_._)},9054:function(i,s,o){o.d(s,{M:function(){return d}});var c=o(1756),d=function(){if(typeof window<"u"){var u=window.crypto||window.msCrypto;if(!u){if((0,c.w)("<",11))return console.warn("IE <= 10 uses insecure random generator. Please consider to use IE11 or another modern browser"),function(){return Math.floor(512*Math.random())%256};throw new Error("Crypto module not found")}return function(){return u.getRandomValues(new Uint32Array(1))[0]}}return o.g!==void 0&&o.g.crypto?function(){return o.g.crypto.randomBytes(4).readInt32LE()}:function(){return zC().randomBytes(4).readInt32LE()}}()},3664:function(i,s,o){o.d(s,{K:function(){return b}});var c,d=o(1863),u=o(3354),p=o(4055),m=(c=function(v,y){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,l){h.__proto__=l}||function(h,l){for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&(h[g]=l[g])})(v,y)},function(v,y){function h(){this.constructor=v}c(v,y),v.prototype=y===null?Object.create(y):(h.prototype=y.prototype,new h)}),b=function(v){function y(h){var l=v.call(this,h)||this;l.Bn=1;var g=h.cipher,w=h.iv;if(g.blockSize!==4)throw new Error("In CCM, cipher block size must be 128bit");if(w&&(w.nSigBytes>13||w.nSigBytes<7))throw new Error("Byte size of iv must be between 7 and 13");return l.Nn=w||new u.e([0,0],8),l.In=15-l.Nn.nSigBytes,l}return m(y,v),y.getB0=function(h,l,g,w){if(g.nSigBytes+w.nSigBytes!==15)throw new Error("LEN(Q)+LEN(N) must be 15");var E=255&(0|(h?1:0)<<6|(l-2)/2<<3|g.nSigBytes-1),A=w.clone().concat(g);return new u.e([E<<24],1).concat(A)},y.formatAssociatedDataAndPayload=function(h,l){var g,w=h.nSigBytes;if(w===0)g=new u.e([0],0);else if(w<Math.pow(2,16)-Math.pow(2,8))g=new u.e([w<<16],2);else{if(!(w<Math.pow(2,32)))throw new Error("LEN(A) larger than 2**32-1 is not supported");g=new u.e([4294836224],2).concat(new u.e([w],4))}for(var E=Math.floor(h.nSigBytes/4),A=0;A<E;A++)g.concat(new u.e([h.words[A]],4));h.nSigBytes%4&&(g.concat(new u.e([h.words[E]],h.nSigBytes%4)),g.concat(new u.e([0],4-h.nSigBytes%4))),g.nSigBytes%16&&g.concat(new u.e([0],16-g.nSigBytes%16));var _=Math.floor(l.nSigBytes/4);for(A=0;A<_;A++)g.concat(new u.e([l.words[A]],4));return l.nSigBytes%4&&(g.concat(new u.e([l.words[_]],l.nSigBytes%4)),g.concat(new u.e([0],4-l.nSigBytes%4))),g.nSigBytes%16&&g.concat(new u.e([0],16-g.nSigBytes%16)),g},y.genCtr=function(h,l,g){if(l.nSigBytes+h!==15)throw new Error("LEN(Q)+LEN(N) must be 15");for(var w=new u.e([(h-1&7)<<24],1),E=new u.e([],0),A=Math.floor(h/4),_=0;_<A-1;_++)E.concat(new u.e([0],4));return h%4?h>4?(E.concat(new u.e([0],h%4)),E.concat(new u.e([g],4))):E.concat(new u.e([g<<32-8*h],h)):E.concat(new u.e([g],4)),w.concat(l).concat(E)},y.mac=function(h,l,g,w,E,A){var _=new h({key:l,iv:g});if(_.blockSize!==4)throw new Error("In CCM, cipher block size must be 128bit");if(g&&(g.nSigBytes>13||g.nSigBytes<7))throw new Error("Byte size of iv must be between 7 and 13");var C=g||new u.e([0,0],8),I=(w==null?void 0:w.clone())||new u.e,T=I.nSigBytes,x=(E==null?void 0:E.clone())||new u.e,D=x.nSigBytes;if(D>>>0>4294967295)throw new Error("Byte length of Payload(plainText) larger than 2^32-1 (4,294,967,295byte) is not supported at this time.");var L=15-C.nSigBytes,H=(0,p.ur)(new u.e([0,D],8),L),G=A||16,j=y.getB0(!!T,G,H,C),q=y.formatAssociatedDataAndPayload(I,x),X=j.words.slice();_.encryptBlock(X,0);for(var Z=q.nSigBytes/16,$=q.words,ue=X,fe=0;fe<Z;fe++){var he=[$[4*fe]^ue[0],$[4*fe+1]^ue[1],$[4*fe+2]^ue[2],$[4*fe+3]^ue[3]];_.encryptBlock(he,0),ue=he}var Se=new u.e(ue,G),V=y.genCtr(L,C,0);for(_.encryptBlock(V.words,0),fe=0;fe<4;fe++)Se.words[fe]^=V.words[fe];return Se.clamp(),Se},y.combineCipherTextAndAuthTag=function(h,l){return h.clone().concat(l)},y.splitCipherTextAndAuthTag=function(h,l){var g=l||16;return{cipherText:(0,p.z6)(h,h.nSigBytes-g),authTag:(0,p.ur)(h,g)}},y.createEncryptor=function(h){return new y.Encryptor(h)},y.createDecryptor=function(h){return new y.Decryptor(h)},y.Encryptor=function(h){function l(){return h!==null&&h.apply(this,arguments)||this}return m(l,h),l.prototype.processBlock=function(g,w){var E=this.Hn,A=E.blockSize,_=y.genCtr(this.In,this.Nn,this.Bn);E.encryptBlock(_.words,0);for(var C=0;C<A;C++)g[w+C]^=_.words[C];this.Bn++},l}(y),y.Decryptor=function(h){function l(){return h!==null&&h.apply(this,arguments)||this}return m(l,h),l.prototype.processBlock=function(g,w){var E=this.Hn,A=E.blockSize,_=y.genCtr(this.In,this.Nn,this.Bn);E.encryptBlock(_.words,0);for(var C=0;C<A;C++)g[w+C]^=_.words[C];this.Bn++},l}(y),y}(d.T)},5607:function(i,s,o){o.d(s,{V:function(){return b}});var c,d=o(1863),u=o(3354),p=o(4055),m=(c=function(v,y){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,l){h.__proto__=l}||function(h,l){for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&(h[g]=l[g])})(v,y)},function(v,y){function h(){this.constructor=v}c(v,y),v.prototype=y===null?Object.create(y):(h.prototype=y.prototype,new h)}),b=function(v){function y(h){var l=v.call(this,h)||this;if(l.zn=[],l.Dn=[],l.Un=[],h.cipher.blockSize!==4)throw new Error("In GCM block cipher mode, cipher block size must be 128bit");var g=h.cipher,w=h.iv,E=[0,0,0,0];return g.encryptBlock(E,0),l.zn=E,l.Dn=y.getJ0(E,w==null?void 0:w.words),l.Un=l.Dn.slice(),l}return m(y,v),y.getJ0=function(h,l){var g;if(l&&l.length!==0)if(l.length===3)g=[l[0],l[1],l[2],1];else{for(var w=l.length%4>0?4-l.length%4:0,E=l.slice(),A=0;A<w+2;A++)E.push(0);E.push(0),E.push(32*l.length),g=y.GHASH(h,E)}else g=[0,0,0,1];return g},y.inc32=function(h){var l=h.slice(),g=l[3]>>>0,w=g+1>>>0<g;if(l[3]=l[3]+1|0,w){var E=l[2]>>>0,A=E+1>>>0<E;l[2]=l[2]+1|0,A&&(l[1]=l[1]+1|0)}return l},y.mul=function(h,l){for(var g=[3774873600,0,0,0],w=[0,0,0,0],E=l.slice(),A=0;A<128;A++){(h[A>>>5]>>>31-A%32&1)>0&&(w[0]=w[0]^E[0],w[1]=w[1]^E[1],w[2]=w[2]^E[2],w[3]=w[3]^E[3]);var _=(1&E[3])>>>0,C=(1&E[0])>>>0,I=(1&E[1])>>>0,T=(1&E[2])>>>0;E[0]=E[0]>>>1,E[1]=E[1]>>>1|(C?2147483648:0),E[2]=E[2]>>>1|(I?2147483648:0),E[3]=E[3]>>>1|(T?2147483648:0),_>0&&(E[0]^=g[0],E[1]^=g[1],E[2]^=g[2],E[3]^=g[3])}return w},y.GHASH=function(h,l){if(h.length%4!=0)throw new Error("Length of 32bit word array 'H' must be multiple of 4(128bit)");if(l.length%4!=0)throw new Error("Length of 32bit word array 'X' must be multiple of 4(128bit)");for(var g=l.length,w=[0,0,0,0],E=0;E<g;E+=4)w[0]=w[0]^l[E],w[1]=w[1]^l[E+1],w[2]=w[2]^l[E+2],w[3]=w[3]^l[E+3],w=y.mul(w,h);return w},y.GCTR=function(h,l,g){if(g.nSigBytes===0)return g.clone();if(l.length!==4)throw new Error("Initial Counter Block size must be 128bit");for(var w=g.words,E=Math.ceil(g.nSigBytes/16),A=[l.slice()],_=1;_<E;_++){var C=y.inc32(A[_-1]);A.push(C)}var I=new u.e;for(_=0;_<E;_++){h.encryptBlock(A[_],0);var T=g.nSigBytes%16;if(_<E-1||T===0){var x=w[4*_]^A[_][0],D=w[4*_+1]^A[_][1],L=w[4*_+2]^A[_][2],H=w[4*_+3]^A[_][3],G=new u.e([x,D,L,H]);I.concat(G)}else{for(var j=[],q=0,X=Math.floor(T/4),Z=0;Z<X;Z++){var $=w[4*_+Z]^A[_][Z];j.push($),q+=4}var ue=T%4;if(ue>0){var fe=w[4*_+X]<<32-8*ue^A[_][X];j.push(fe),q+=ue}var he=new u.e(j,q);I.concat(he)}}return I.nSigBytes=g.nSigBytes,I.clamp(),I},y.mac=function(h,l,g,w,E,A){var _=new h({key:l,iv:g}),C=[0,0,0,0];_.encryptBlock(C,0);var I=y.getJ0(C,g.words),T=(w==null?void 0:w.clone())||new u.e,x=[0,8*T.nSigBytes],D=(E==null?void 0:E.clone())||new u.e,L=[0,8*D.nSigBytes],H=A||16;(0,p.I4)(T),(0,p.I4)(D);var G=T.words.concat(D.words).concat(x).concat(L),j=y.GHASH(C,G),q=y.GCTR(_,I,new u.e(j));return(0,p.z6)(q,H)},y.createEncryptor=function(h){return new y.Encryptor(h)},y.createDecryptor=function(h){return new y.Decryptor(h)},y.Encryptor=function(h){function l(){return h!==null&&h.apply(this,arguments)||this}return m(l,h),l.prototype.processBlock=function(g,w){var E=this.Hn.blockSize;this.Un=y.inc32(this.Un);for(var A=new u.e(g.slice(w,w+E)),_=y.GCTR(this.Hn,this.Un,A),C=0;C<E;C++)g[w+C]=_.words[C]},l}(y),y.Decryptor=function(h){function l(){return h!==null&&h.apply(this,arguments)||this}return m(l,h),l.prototype.processBlock=function(g,w){var E=this.Hn.blockSize;this.Un=y.inc32(this.Un);for(var A=new u.e(g.slice(w,w+E)),_=y.GCTR(this.Hn,this.Un,A),C=0;C<E;C++)g[w+C]=_.words[C]},l}(y),y}(d.T)}},e={};function t(i){var s=e[i];if(s!==void 0)return s.exports;var o=e[i]={exports:{}};return n[i](o,o.exports,t),o.exports}t.d=function(i,s){for(var o in s)t.o(s,o)&&!t.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:s[o]})},t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),t.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},t.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"Ln",{value:!0})};var r={};return function(){t.r(r),t.d(r,{AES:function(){return x.AES},Base64:function(){return s.Base64},CBCMAC:function(){return g.CBCMAC},CipherParams:function(){return d.Q},DES:function(){return D.DES},DES3:function(){return L.DES3},EvpKDF:function(){return s.EvpKDF},GMAC:function(){return l.GMAC},Hex:function(){return s.Hex},Hmac:function(){return u.Hmac},HmacMD5:function(){return p.HmacMD5},HmacSHA1:function(){return m.HmacSHA1},HmacSHA224:function(){return b.HmacSHA224},HmacSHA256:function(){return v.HmacSHA256},HmacSHA384:function(){return y.HmacSHA384},HmacSHA512:function(){return h.HmacSHA512},Latin1:function(){return s.Latin1},MD5:function(){return w.MD5},OpenSSLKDF:function(){return s.OpenSSLKDF},PBKDF2:function(){return s.PBKDF2},PasswordBasedCipher:function(){return c.E},RC4:function(){return j.RC4},RC4Drop:function(){return q.RC4Drop},RIPEMD160:function(){return H.RIPEMD160},Rabbit:function(){return G.Rabbit},SHA1:function(){return E.SHA1},SHA224:function(){return A.SHA224},SHA256:function(){return _.SHA256},SHA3:function(){return T.SHA3},SHA384:function(){return C.SHA384},SHA512:function(){return I.SHA512},SerializableCipher:function(){return o.D},Utf16:function(){return s.Utf16},Utf16BE:function(){return s.Utf16BE},Utf16LE:function(){return s.Utf16LE},Utf8:function(){return s.Utf8},Word32Array:function(){return s.Word32Array},Word64:function(){return s.Word64},Word64Array:function(){return s.Word64Array},formatter:function(){return Ye},mode:function(){return je},pad:function(){return Ne}});var i,s=t(2688),o=t(9109),c=t(5693),d=t(2505),u=t(6367),p=t(3027),m=t(149),b=t(4105),v=t(980),y=t(5838),h=t(9902),l=t(7753),g=t(3967),w=t(670),E=t(3173),A=t(766),_=t(5561),C=t(6324),I=t(7491),T=t(3408),x=t(9691),D=t(9910),L=t(6739),H=t(7104),G=t(5187),j=t(4615),q=t(9639),X=t(4344),Z=t(1863),$=(i=function(De,ye){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Te,me){Te.__proto__=me}||function(Te,me){for(var ae in me)Object.prototype.hasOwnProperty.call(me,ae)&&(Te[ae]=me[ae])})(De,ye)},function(De,ye){function Te(){this.constructor=De}i(De,ye),De.prototype=ye===null?Object.create(ye):(Te.prototype=ye.prototype,new Te)}),ue=function(De){function ye(Te){var me=De.call(this,Te)||this;return me.Cn=[],me}return $(ye,De),ye.prototype.generateKeyStreamAndEncrypt=function(Te,me,ae,z){var Q,le=this.ln;le?(Q=le.words.slice(0),this.ln=void 0):Q=this.Cn,z.encryptBlock(Q,0);for(var Ee=0;Ee<ae;Ee++)Te[me+Ee]^=Q[Ee]},ye.createEncryptor=function(Te){return new ye.Encryptor(Te)},ye.createDecryptor=function(Te){return new ye.Decryptor(Te)},ye.Encryptor=function(Te){function me(){return Te!==null&&Te.apply(this,arguments)||this}return $(me,Te),me.prototype.processBlock=function(ae,z){this.generateKeyStreamAndEncrypt(ae,z,this.Hn.blockSize,this.Hn),this.Cn=ae.slice(z,z+this.Hn.blockSize)},me}(ye),ye.Decryptor=function(Te){function me(){return Te!==null&&Te.apply(this,arguments)||this}return $(me,Te),me.prototype.processBlock=function(ae,z){var Q=ae.slice(z,z+this.Hn.blockSize);this.generateKeyStreamAndEncrypt(ae,z,this.Hn.blockSize,this.Hn),this.Cn=Q},me}(ye),ye}(Z.T),fe=function(){var De=function(ye,Te){return(De=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(me,ae){me.__proto__=ae}||function(me,ae){for(var z in ae)Object.prototype.hasOwnProperty.call(ae,z)&&(me[z]=ae[z])})(ye,Te)};return function(ye,Te){function me(){this.constructor=ye}De(ye,Te),ye.prototype=Te===null?Object.create(Te):(me.prototype=Te.prototype,new me)}}(),he=function(De){function ye(Te){var me=De.call(this,Te)||this;return me.Fn=[],me}return fe(ye,De),ye.createEncryptor=function(Te){return new ye.Encryptor(Te)},ye.createDecryptor=function(Te){return new ye.Decryptor(Te)},ye.Encryptor=function(Te){function me(){return Te!==null&&Te.apply(this,arguments)||this}return fe(me,Te),me.prototype.processBlock=function(ae,z){var Q=this.Hn,le=Q.blockSize,Ee=this.ln,Be=this.Fn;Ee&&(Be=this.Fn=Ee.words.slice(0),this.ln=void 0);var tt=Be.slice(0);Q.encryptBlock(tt,0),Be[le-1]=Be[le-1]+1|0;for(var $e=0;$e<le;$e++)ae[z+$e]^=tt[$e]},me}(ye),ye.Decryptor=ye.Encryptor,ye}(Z.T),Se=function(){var De=function(ye,Te){return(De=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(me,ae){me.__proto__=ae}||function(me,ae){for(var z in ae)Object.prototype.hasOwnProperty.call(ae,z)&&(me[z]=ae[z])})(ye,Te)};return function(ye,Te){function me(){this.constructor=ye}De(ye,Te),ye.prototype=Te===null?Object.create(Te):(me.prototype=Te.prototype,new me)}}(),V=function(De){function ye(Te){return De.call(this,Te)||this}return Se(ye,De),ye.createEncryptor=function(Te){return new ye.Encryptor(Te)},ye.createDecryptor=function(Te){return new ye.Decryptor(Te)},ye.Encryptor=function(Te){function me(){return Te!==null&&Te.apply(this,arguments)||this}return Se(me,Te),me.prototype.processBlock=function(ae,z){this.Hn.encryptBlock(ae,z)},me}(ye),ye.Decryptor=function(Te){function me(){return Te!==null&&Te.apply(this,arguments)||this}return Se(me,Te),me.prototype.processBlock=function(ae,z){this.Hn.decryptBlock(ae,z)},me}(ye),ye}(Z.T),O=function(){var De=function(ye,Te){return(De=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(me,ae){me.__proto__=ae}||function(me,ae){for(var z in ae)Object.prototype.hasOwnProperty.call(ae,z)&&(me[z]=ae[z])})(ye,Te)};return function(ye,Te){function me(){this.constructor=ye}De(ye,Te),ye.prototype=Te===null?Object.create(Te):(me.prototype=Te.prototype,new me)}}(),M=function(De){function ye(Te){var me=De.call(this,Te)||this;return me.xn=[],me}return O(ye,De),ye.createEncryptor=function(Te){return new ye.Encryptor(Te)},ye.createDecryptor=function(Te){return new ye.Decryptor(Te)},ye.Encryptor=function(Te){function me(){return Te!==null&&Te.apply(this,arguments)||this}return O(me,Te),me.prototype.processBlock=function(ae,z){var Q=this.Hn,le=Q.blockSize,Ee=this.ln,Be=this.xn;Ee&&(Be=this.xn=Ee.words.slice(0),this.ln=void 0),Q.encryptBlock(Be,0);for(var tt=0;tt<le;tt++)ae[z+tt]^=Be[tt]},me}(ye),ye.Decryptor=ye.Encryptor,ye}(Z.T),P=t(5607),N=t(3664),U={pad:function(De,ye){var Te=De.nSigBytes,me=4*ye,ae=me-Te%me,z=Te+ae-1;De.clamp(),De.words[z>>>2]|=ae<<24-z%4*8,De.nSigBytes+=ae},unpad:function(De){var ye=255&De.words[De.nSigBytes-1>>>2];De.nSigBytes-=ye}},J=t(3354),te={pad:function(De,ye){var Te=4*ye,me=Te-De.nSigBytes%Te;De.concat(J.e.random(me-1)).concat(new J.e([me<<24],1))},unpad:function(De){var ye=255&De.words[De.nSigBytes-1>>>2];De.nSigBytes-=ye}},re={pad:function(De,ye){var Te=4*ye;De.clamp(),De.nSigBytes+=Te-(De.nSigBytes%Te||Te)},unpad:function(De){for(var ye=De.words,Te=De.nSigBytes-1;Te>=0;Te--)if(ye[Te>>>2]>>>24-Te%4*8&255){De.nSigBytes=Te+1;break}}},pe={pad:function(De,ye){De.concat(new J.e([2147483648],1)),re.pad(De,ye)},unpad:function(De){re.unpad(De),De.nSigBytes-=1}},ve=t(7919),Pe={pad:function(De,ye){},unpad:function(De){}},ke=t(1232),je={CBC:X.n,CFB:ue,CTR:he,ECB:V,OFB:M,GCM:P.V,CCM:N.K},Ne={AnsiX923:U,ISO10126:te,ISO97971:pe,Pkcs7:ve.l,NoPadding:Pe,Zero:re},Ye={OpenSSLFormatter:ke.w}}(),r}()})});var s5=we((rte,ey)=>{"use strict";F();var Xq=Object.prototype.hasOwnProperty,Pr="~";function bc(){}Object.create&&(bc.prototype=Object.create(null),new bc().__proto__||(Pr=!1));function Qq(n,e,t){this.fn=n,this.context=e,this.once=t||!1}function i5(n,e,t,r,i){if(typeof t!="function")throw new TypeError("The listener must be a function");var s=new Qq(t,r||n,i),o=Pr?Pr+e:e;return n._events[o]?n._events[o].fn?n._events[o]=[n._events[o],s]:n._events[o].push(s):(n._events[o]=s,n._eventsCount++),n}function n0(n,e){--n._eventsCount===0?n._events=new bc:delete n._events[e]}function br(){this._events=new bc,this._eventsCount=0}br.prototype.eventNames=function(){var e=[],t,r;if(this._eventsCount===0)return e;for(r in t=this._events)Xq.call(t,r)&&e.push(Pr?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};br.prototype.listeners=function(e){var t=Pr?Pr+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o};br.prototype.listenerCount=function(e){var t=Pr?Pr+e:e,r=this._events[t];return r?r.fn?1:r.length:0};br.prototype.emit=function(e,t,r,i,s,o){var c=Pr?Pr+e:e;if(!this._events[c])return!1;var d=this._events[c],u=arguments.length,p,m;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,i),!0;case 5:return d.fn.call(d.context,t,r,i,s),!0;case 6:return d.fn.call(d.context,t,r,i,s,o),!0}for(m=1,p=new Array(u-1);m<u;m++)p[m-1]=arguments[m];d.fn.apply(d.context,p)}else{var b=d.length,v;for(m=0;m<b;m++)switch(d[m].once&&this.removeListener(e,d[m].fn,void 0,!0),u){case 1:d[m].fn.call(d[m].context);break;case 2:d[m].fn.call(d[m].context,t);break;case 3:d[m].fn.call(d[m].context,t,r);break;case 4:d[m].fn.call(d[m].context,t,r,i);break;default:if(!p)for(v=1,p=new Array(u-1);v<u;v++)p[v-1]=arguments[v];d[m].fn.apply(d[m].context,p)}}return!0};br.prototype.on=function(e,t,r){return i5(this,e,t,r,!1)};br.prototype.once=function(e,t,r){return i5(this,e,t,r,!0)};br.prototype.removeListener=function(e,t,r,i){var s=Pr?Pr+e:e;if(!this._events[s])return this;if(!t)return n0(this,s),this;var o=this._events[s];if(o.fn)o.fn===t&&(!i||o.once)&&(!r||o.context===r)&&n0(this,s);else{for(var c=0,d=[],u=o.length;c<u;c++)(o[c].fn!==t||i&&!o[c].once||r&&o[c].context!==r)&&d.push(o[c]);d.length?this._events[s]=d.length===1?d[0]:d:n0(this,s)}return this};br.prototype.removeAllListeners=function(e){var t;return e?(t=Pr?Pr+e:e,this._events[t]&&n0(this,t)):(this._events=new bc,this._eventsCount=0),this};br.prototype.off=br.prototype.removeListener;br.prototype.addListener=br.prototype.on;br.prefixed=Pr;br.EventEmitter=br;typeof ey<"u"&&(ey.exports=br)});var h5=we(()=>{F()});var ty=we(()=>{F()});var ny=we(()=>{F()});var p5=we(()=>{F()});var K5=we((exports,module)=>{F();(function(e,t){typeof exports=="object"&&typeof module=="object"?module.exports=e.pdfjsLib=t():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],()=>e.pdfjsLib=t()):typeof exports=="object"?exports["pdfjs-dist/build/pdf"]=e.pdfjsLib=t():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=t()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(n,e)=>{var ot;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=ue,e.bytesToString=re,e.createValidAbsoluteUrl=he,e.getModificationDate=Ee,e.getUuid=Ge,e.getVerbosityLevel=q,e.info=X,e.isArrayBuffer=Q,e.isArrayEqual=le,e.isNodeJS=void 0,e.normalizeUnicode=et,e.objectFromMap=ke,e.objectSize=Pe,e.setVerbosityLevel=j,e.shadow=Se,e.string32=ve,e.stringToBytes=pe,e.stringToPDFString=me,e.stringToUTF8String=ae,e.unreachable=$,e.utf8StringToString=z,e.warn=Z;let t=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=t;let r=[1,0,0,1,0,0];e.IDENTITY_MATRIX=r;let i=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=i;let s=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=s;let o=1.35;e.LINE_FACTOR=o;let c=.35;e.LINE_DESCENT_FACTOR=c;let d=c/o;e.BASELINE_FACTOR=d;let u={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=u;let p={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=p;let m="pdfjs_internal_editor_";e.AnnotationEditorPrefix=m;let b={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=b;let v={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=v;let y={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=y;let h={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=h;let l={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=l;let g={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=g;let w={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=w;let E={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=E;let A={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=A;let _={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=_;let C={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=C;let I={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=I;let T={O:"PageOpen",C:"PageClose"};e.PageActionEventType=T;let x={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=x;let D={NONE:0,BINARY:1};e.CMapCompressionType=D;let L={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=L;let H={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=H;let G=x.WARNINGS;function j(Le){Number.isInteger(Le)&&(G=Le)}function q(){return G}function X(Le){G>=x.INFOS&&console.log(`Info: ${Le}`)}function Z(Le){G>=x.WARNINGS&&console.log(`Warning: ${Le}`)}function $(Le){throw new Error(Le)}function ue(Le,_e){Le||$(_e)}function fe(Le){switch(Le==null?void 0:Le.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function he(Le,_e=null,se=null){if(!Le)return null;try{if(se&&typeof Le=="string"){if(se.addDefaultProtocol&&Le.startsWith("www.")){let qe=Le.match(/\./g);(qe==null?void 0:qe.length)>=2&&(Le=`http://${Le}`)}if(se.tryConvertEncoding)try{Le=ae(Le)}catch{}}let He=_e?new URL(Le,_e):new URL(Le);if(fe(He))return He}catch{}return null}function Se(Le,_e,se,He=!1){return Object.defineProperty(Le,_e,{value:se,enumerable:!He,configurable:!0,writable:!1}),se}let V=function(){function _e(se,He){this.constructor===_e&&$("Cannot initialize BaseException."),this.message=se,this.name=He}return _e.prototype=new Error,_e.constructor=_e,_e}();e.BaseException=V;class O extends V{constructor(_e,se){super(_e,"PasswordException"),this.code=se}}e.PasswordException=O;class M extends V{constructor(_e,se){super(_e,"UnknownErrorException"),this.details=se}}e.UnknownErrorException=M;class P extends V{constructor(_e){super(_e,"InvalidPDFException")}}e.InvalidPDFException=P;class N extends V{constructor(_e){super(_e,"MissingPDFException")}}e.MissingPDFException=N;class U extends V{constructor(_e,se){super(_e,"UnexpectedResponseException"),this.status=se}}e.UnexpectedResponseException=U;class J extends V{constructor(_e){super(_e,"FormatError")}}e.FormatError=J;class te extends V{constructor(_e){super(_e,"AbortException")}}e.AbortException=te;function re(Le){(typeof Le!="object"||(Le==null?void 0:Le.length)===void 0)&&$("Invalid argument for bytesToString");let _e=Le.length,se=8192;if(_e<se)return String.fromCharCode.apply(null,Le);let He=[];for(let qe=0;qe<_e;qe+=se){let Lt=Math.min(qe+se,_e),qt=Le.subarray(qe,Lt);He.push(String.fromCharCode.apply(null,qt))}return He.join("")}function pe(Le){typeof Le!="string"&&$("Invalid argument for stringToBytes");let _e=Le.length,se=new Uint8Array(_e);for(let He=0;He<_e;++He)se[He]=Le.charCodeAt(He)&255;return se}function ve(Le){return String.fromCharCode(Le>>24&255,Le>>16&255,Le>>8&255,Le&255)}function Pe(Le){return Object.keys(Le).length}function ke(Le){let _e=Object.create(null);for(let[se,He]of Le)_e[se]=He;return _e}function je(){let Le=new Uint8Array(4);return Le[0]=1,new Uint32Array(Le.buffer,0,1)[0]===1}function Ne(){try{return new Function(""),!0}catch{return!1}}class Ye{static get isLittleEndian(){return Se(this,"isLittleEndian",je())}static get isEvalSupported(){return Se(this,"isEvalSupported",Ne())}static get isOffscreenCanvasSupported(){return Se(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Se(this,"platform",{isWin:!1,isMac:!1}):Se(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var _e,se;return Se(this,"isCSSRoundSupported",(se=(_e=globalThis.CSS)==null?void 0:_e.supports)==null?void 0:se.call(_e,"width: round(1.5px, 1px)"))}}e.FeatureTest=Ye;let De=[...Array(256).keys()].map(Le=>Le.toString(16).padStart(2,"0"));class ye{static makeHexColor(_e,se,He){return`#${De[_e]}${De[se]}${De[He]}`}static scaleMinMax(_e,se){let He;_e[0]?(_e[0]<0&&(He=se[0],se[0]=se[1],se[1]=He),se[0]*=_e[0],se[1]*=_e[0],_e[3]<0&&(He=se[2],se[2]=se[3],se[3]=He),se[2]*=_e[3],se[3]*=_e[3]):(He=se[0],se[0]=se[2],se[2]=He,He=se[1],se[1]=se[3],se[3]=He,_e[1]<0&&(He=se[2],se[2]=se[3],se[3]=He),se[2]*=_e[1],se[3]*=_e[1],_e[2]<0&&(He=se[0],se[0]=se[1],se[1]=He),se[0]*=_e[2],se[1]*=_e[2]),se[0]+=_e[4],se[1]+=_e[4],se[2]+=_e[5],se[3]+=_e[5]}static transform(_e,se){return[_e[0]*se[0]+_e[2]*se[1],_e[1]*se[0]+_e[3]*se[1],_e[0]*se[2]+_e[2]*se[3],_e[1]*se[2]+_e[3]*se[3],_e[0]*se[4]+_e[2]*se[5]+_e[4],_e[1]*se[4]+_e[3]*se[5]+_e[5]]}static applyTransform(_e,se){let He=_e[0]*se[0]+_e[1]*se[2]+se[4],qe=_e[0]*se[1]+_e[1]*se[3]+se[5];return[He,qe]}static applyInverseTransform(_e,se){let He=se[0]*se[3]-se[1]*se[2],qe=(_e[0]*se[3]-_e[1]*se[2]+se[2]*se[5]-se[4]*se[3])/He,Lt=(-_e[0]*se[1]+_e[1]*se[0]+se[4]*se[1]-se[5]*se[0])/He;return[qe,Lt]}static getAxialAlignedBoundingBox(_e,se){let He=this.applyTransform(_e,se),qe=this.applyTransform(_e.slice(2,4),se),Lt=this.applyTransform([_e[0],_e[3]],se),qt=this.applyTransform([_e[2],_e[1]],se);return[Math.min(He[0],qe[0],Lt[0],qt[0]),Math.min(He[1],qe[1],Lt[1],qt[1]),Math.max(He[0],qe[0],Lt[0],qt[0]),Math.max(He[1],qe[1],Lt[1],qt[1])]}static inverseTransform(_e){let se=_e[0]*_e[3]-_e[1]*_e[2];return[_e[3]/se,-_e[1]/se,-_e[2]/se,_e[0]/se,(_e[2]*_e[5]-_e[4]*_e[3])/se,(_e[4]*_e[1]-_e[5]*_e[0])/se]}static singularValueDecompose2dScale(_e){let se=[_e[0],_e[2],_e[1],_e[3]],He=_e[0]*se[0]+_e[1]*se[2],qe=_e[0]*se[1]+_e[1]*se[3],Lt=_e[2]*se[0]+_e[3]*se[2],qt=_e[2]*se[1]+_e[3]*se[3],Ce=(He+qt)/2,Qe=Math.sqrt((He+qt)**2-4*(He*qt-Lt*qe))/2,gt=Ce+Qe||1,nt=Ce-Qe||1;return[Math.sqrt(gt),Math.sqrt(nt)]}static normalizeRect(_e){let se=_e.slice(0);return _e[0]>_e[2]&&(se[0]=_e[2],se[2]=_e[0]),_e[1]>_e[3]&&(se[1]=_e[3],se[3]=_e[1]),se}static intersect(_e,se){let He=Math.max(Math.min(_e[0],_e[2]),Math.min(se[0],se[2])),qe=Math.min(Math.max(_e[0],_e[2]),Math.max(se[0],se[2]));if(He>qe)return null;let Lt=Math.max(Math.min(_e[1],_e[3]),Math.min(se[1],se[3])),qt=Math.min(Math.max(_e[1],_e[3]),Math.max(se[1],se[3]));return Lt>qt?null:[He,Lt,qe,qt]}static bezierBoundingBox(_e,se,He,qe,Lt,qt,Ce,Qe){let gt=[],nt=[[],[]],bt,vt,Ht,ze,Pt,ft,ie,B;for(let Ae=0;Ae<2;++Ae){if(Ae===0?(vt=6*_e-12*He+6*Lt,bt=-3*_e+9*He-9*Lt+3*Ce,Ht=3*He-3*_e):(vt=6*se-12*qe+6*qt,bt=-3*se+9*qe-9*qt+3*Qe,Ht=3*qe-3*se),Math.abs(bt)<1e-12){if(Math.abs(vt)<1e-12)continue;ze=-Ht/vt,0<ze&&ze<1&&gt.push(ze);continue}ie=vt*vt-4*Ht*bt,B=Math.sqrt(ie),!(ie<0)&&(Pt=(-vt+B)/(2*bt),0<Pt&&Pt<1&&gt.push(Pt),ft=(-vt-B)/(2*bt),0<ft&&ft<1&&gt.push(ft))}let K=gt.length,ne,de=K;for(;K--;)ze=gt[K],ne=1-ze,nt[0][K]=ne*ne*ne*_e+3*ne*ne*ze*He+3*ne*ze*ze*Lt+ze*ze*ze*Ce,nt[1][K]=ne*ne*ne*se+3*ne*ne*ze*qe+3*ne*ze*ze*qt+ze*ze*ze*Qe;return nt[0][de]=_e,nt[1][de]=se,nt[0][de+1]=Ce,nt[1][de+1]=Qe,nt[0].length=nt[1].length=de+2,[Math.min(...nt[0]),Math.min(...nt[1]),Math.max(...nt[0]),Math.max(...nt[1])]}}e.Util=ye;let Te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function me(Le){if(Le[0]>="\xEF"){let se;if(Le[0]==="\xFE"&&Le[1]==="\xFF"?se="utf-16be":Le[0]==="\xFF"&&Le[1]==="\xFE"?se="utf-16le":Le[0]==="\xEF"&&Le[1]==="\xBB"&&Le[2]==="\xBF"&&(se="utf-8"),se)try{let He=new TextDecoder(se,{fatal:!0}),qe=pe(Le);return He.decode(qe)}catch(He){Z(`stringToPDFString: "${He}".`)}}let _e=[];for(let se=0,He=Le.length;se<He;se++){let qe=Te[Le.charCodeAt(se)];_e.push(qe?String.fromCharCode(qe):Le.charAt(se))}return _e.join("")}function ae(Le){return decodeURIComponent(escape(Le))}function z(Le){return unescape(encodeURIComponent(Le))}function Q(Le){return typeof Le=="object"&&(Le==null?void 0:Le.byteLength)!==void 0}function le(Le,_e){if(Le.length!==_e.length)return!1;for(let se=0,He=Le.length;se<He;se++)if(Le[se]!==_e[se])return!1;return!0}function Ee(Le=new Date){return[Le.getUTCFullYear().toString(),(Le.getUTCMonth()+1).toString().padStart(2,"0"),Le.getUTCDate().toString().padStart(2,"0"),Le.getUTCHours().toString().padStart(2,"0"),Le.getUTCMinutes().toString().padStart(2,"0"),Le.getUTCSeconds().toString().padStart(2,"0")].join("")}class Be{constructor(){oe(this,ot,!1);this.promise=new Promise((_e,se)=>{this.resolve=He=>{Me(this,ot,!0),_e(He)},this.reject=He=>{Me(this,ot,!0),se(He)}})}get settled(){return k(this,ot)}}ot=new WeakMap,e.PromiseCapability=Be;let tt=null,$e=null;function et(Le){return tt||(tt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,$e=new Map([["\uFB05","\u017Ft"]])),Le.replaceAll(tt,(_e,se,He)=>se?se.normalize("NFKC"):$e.get(He))}function Ge(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();let Le=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Le);else for(let _e=0;_e<32;_e++)Le[_e]=Math.floor(Math.random()*255);return re(Le)}let Xe="pdfjs_internal_id_";e.AnnotationPrefix=Xe},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var n,t,r,i,Ou,o,a0,d,u,p,m,b,v,y,h,l,u0,w,E,ry,_,C;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(T){if(typeof T=="string"||T instanceof URL?T={url:T}:(0,_util.isArrayBuffer)(T)&&(T={data:T}),typeof T!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!T.url&&!T.data&&!T.range)throw new Error("Invalid parameter object: need either .data, .range or .url");let x=new PDFDocumentLoadingTask,{docId:D}=x,L=T.url?getUrlProp(T.url):null,H=T.data?getDataProp(T.data):null,G=T.httpHeaders||null,j=T.withCredentials===!0,q=T.password??null,X=T.range instanceof PDFDataRangeTransport?T.range:null,Z=Number.isInteger(T.rangeChunkSize)&&T.rangeChunkSize>0?T.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE,$=T.worker instanceof PDFWorker?T.worker:null,ue=T.verbosity,fe=typeof T.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(T.docBaseUrl)?T.docBaseUrl:null,he=typeof T.cMapUrl=="string"?T.cMapUrl:null,Se=T.cMapPacked!==!1,V=T.CMapReaderFactory||DefaultCMapReaderFactory,O=typeof T.standardFontDataUrl=="string"?T.standardFontDataUrl:null,M=T.StandardFontDataFactory||DefaultStandardFontDataFactory,P=T.stopAtErrors!==!0,N=Number.isInteger(T.maxImageSize)&&T.maxImageSize>-1?T.maxImageSize:-1,U=T.isEvalSupported!==!1,J=typeof T.isOffscreenCanvasSupported=="boolean"?T.isOffscreenCanvasSupported:!_util.isNodeJS,te=Number.isInteger(T.canvasMaxAreaInBytes)?T.canvasMaxAreaInBytes:-1,re=typeof T.disableFontFace=="boolean"?T.disableFontFace:_util.isNodeJS,pe=T.fontExtraProperties===!0,ve=T.enableXfa===!0,Pe=T.ownerDocument||globalThis.document,ke=T.disableRange===!0,je=T.disableStream===!0,Ne=T.disableAutoFetch===!0,Ye=T.pdfBug===!0,De=X?X.length:T.length??NaN,ye=typeof T.useSystemFonts=="boolean"?T.useSystemFonts:!_util.isNodeJS&&!re,Te=typeof T.useWorkerFetch=="boolean"?T.useWorkerFetch:V===_display_utils.DOMCMapReaderFactory&&M===_display_utils.DOMStandardFontDataFactory&&he&&O&&(0,_display_utils.isValidFetchUrl)(he,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(O,document.baseURI),me=T.canvasFactory||new DefaultCanvasFactory({ownerDocument:Pe}),ae=T.filterFactory||new DefaultFilterFactory({docId:D,ownerDocument:Pe}),z=null;(0,_util.setVerbosityLevel)(ue);let Q={canvasFactory:me,filterFactory:ae};if(Te||(Q.cMapReaderFactory=new V({baseUrl:he,isCompressed:Se}),Q.standardFontDataFactory=new M({baseUrl:O})),!$){let Be={verbosity:ue,port:_worker_options.GlobalWorkerOptions.workerPort};$=Be.port?PDFWorker.fromPort(Be):new PDFWorker(Be),x._worker=$}let le={docId:D,apiVersion:"3.11.174",data:H,password:q,disableAutoFetch:Ne,rangeChunkSize:Z,length:De,docBaseUrl:fe,enableXfa:ve,evaluatorOptions:{maxImageSize:N,disableFontFace:re,ignoreErrors:P,isEvalSupported:U,isOffscreenCanvasSupported:J,canvasMaxAreaInBytes:te,fontExtraProperties:pe,useSystemFonts:ye,cMapUrl:Te?he:null,standardFontDataUrl:Te?O:null}},Ee={ignoreErrors:P,isEvalSupported:U,disableFontFace:re,fontExtraProperties:pe,enableXfa:ve,ownerDocument:Pe,disableAutoFetch:Ne,pdfBug:Ye,styleElement:z};return $.promise.then(function(){if(x.destroyed)throw new Error("Loading aborted");let Be=_fetchDocument($,le),tt=new Promise(function($e){let et;X?et=new _transport_stream.PDFDataTransportStream({length:De,initialData:X.initialData,progressiveDone:X.progressiveDone,contentDispositionFilename:X.contentDispositionFilename,disableRange:ke,disableStream:je},X):H||(et=(Xe=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Xe):(0,_display_utils.isValidFetchUrl)(Xe.url)?new _displayFetch_stream.PDFFetchStream(Xe):new _displayNetwork.PDFNetworkStream(Xe))({url:L,length:De,httpHeaders:G,withCredentials:j,rangeChunkSize:Z,disableRange:ke,disableStream:je})),$e(et)});return Promise.all([Be,tt]).then(function([$e,et]){if(x.destroyed)throw new Error("Loading aborted");let Ge=new _message_handler.MessageHandler(D,$e,$.port),Xe=new WorkerTransport(Ge,x,et,Ee,Q);x._transport=Xe,Ge.send("Ready",null)})}).catch(x._capability.reject),x}async function _fetchDocument(T,x){if(T.destroyed)throw new Error("Worker was destroyed");let D=await T.messageHandler.sendWithPromise("GetDocRequest",x,x.data?[x.data.buffer]:null);if(T.destroyed)throw new Error("Worker was destroyed");return D}function getUrlProp(T){if(T instanceof URL)return T.href;try{return new URL(T,window.location).href}catch{if(_util.isNodeJS&&typeof T=="string")return T}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(T){if(_util.isNodeJS&&typeof Buffer<"u"&&T instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(T instanceof Uint8Array&&T.byteLength===T.buffer.byteLength)return T;if(typeof T=="string")return(0,_util.stringToBytes)(T);if(typeof T=="object"&&!isNaN(T==null?void 0:T.length)||(0,_util.isArrayBuffer)(T))return new Uint8Array(T);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}let e=class e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${el(e,n)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var x,D,L;this.destroyed=!0;try{(x=this._worker)!=null&&x.port&&(this._worker._pendingDestroy=!0),await((D=this._transport)==null?void 0:D.destroy())}catch(H){throw(L=this._worker)!=null&&L.port&&delete this._worker._pendingDestroy,H}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};n=new WeakMap,oe(e,n,0);let PDFDocumentLoadingTask=e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(x,D,L=!1,H=null){this.length=x,this.initialData=D,this.progressiveDone=L,this.contentDispositionFilename=H,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(x){this._rangeListeners.push(x)}addProgressListener(x){this._progressListeners.push(x)}addProgressiveReadListener(x){this._progressiveReadListeners.push(x)}addProgressiveDoneListener(x){this._progressiveDoneListeners.push(x)}onDataRange(x,D){for(let L of this._rangeListeners)L(x,D)}onDataProgress(x,D){this._readyCapability.promise.then(()=>{for(let L of this._progressListeners)L(x,D)})}onDataProgressiveRead(x){this._readyCapability.promise.then(()=>{for(let D of this._progressiveReadListeners)D(x)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let x of this._progressiveDoneListeners)x()})}transportReady(){this._readyCapability.resolve()}requestDataRange(x,D){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(x,D){this._pdfInfo=x,this._transport=D,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(L=>{if(!L)return L;let H=[];for(let G in L)H.push(...L[G]);return H}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(x){return this._transport.getPage(x)}getPageIndex(x){return this._transport.getPageIndex(x)}getDestinations(){return this._transport.getDestinations()}getDestination(x){return this._transport.getDestination(x)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(x=!1){return this._transport.startCleanup(x||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(x,D,L,H=!1){oe(this,i);oe(this,o);oe(this,t,null);oe(this,r,!1);this._pageIndex=x,this._pageInfo=D,this._transport=L,this._stats=H?new _display_utils.StatTimer:null,this._pdfBug=H,this.commonObjs=L.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:x,rotation:D=this.rotate,offsetX:L=0,offsetY:H=0,dontFlip:G=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:x,rotation:D,offsetX:L,offsetY:H,dontFlip:G})}getAnnotations({intent:x="display"}={}){let D=this._transport.getRenderingIntent(x);return this._transport.getAnnotations(this._pageIndex,D.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var x;return((x=this._transport._htmlForXfa)==null?void 0:x.children[this._pageIndex])||null}render({canvasContext:x,viewport:D,intent:L="display",annotationMode:H=_util.AnnotationMode.ENABLE,transform:G=null,background:j=null,optionalContentConfigPromise:q=null,annotationCanvasMap:X=null,pageColors:Z=null,printAnnotationStorage:$=null}){var M,P;(M=this._stats)==null||M.time("Overall");let ue=this._transport.getRenderingIntent(L,H,$);Me(this,r,!1),ge(this,o,a0).call(this),q||(q=this._transport.getOptionalContentConfig());let fe=this._intentStates.get(ue.cacheKey);fe||(fe=Object.create(null),this._intentStates.set(ue.cacheKey,fe)),fe.streamReaderCancelTimeout&&(clearTimeout(fe.streamReaderCancelTimeout),fe.streamReaderCancelTimeout=null);let he=!!(ue.renderingIntent&_util.RenderingIntentFlag.PRINT);fe.displayReadyCapability||(fe.displayReadyCapability=new _util.PromiseCapability,fe.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(P=this._stats)==null||P.time("Page Request"),this._pumpOperatorList(ue));let Se=N=>{var U,J;fe.renderTasks.delete(V),(this._maybeCleanupAfterRender||he)&&Me(this,r,!0),ge(this,i,Ou).call(this,!he),N?(V.capability.reject(N),this._abortOperatorList({intentState:fe,reason:N instanceof Error?N:new Error(N)})):V.capability.resolve(),(U=this._stats)==null||U.timeEnd("Rendering"),(J=this._stats)==null||J.timeEnd("Overall")},V=new InternalRenderTask({callback:Se,params:{canvasContext:x,viewport:D,transform:G,background:j},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:X,operatorList:fe.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!he,pdfBug:this._pdfBug,pageColors:Z});(fe.renderTasks||=new Set).add(V);let O=V.task;return Promise.all([fe.displayReadyCapability.promise,q]).then(([N,U])=>{var J;if(this.destroyed){Se();return}(J=this._stats)==null||J.time("Rendering"),V.initializeGraphics({transparency:N,optionalContentConfig:U}),V.operatorListChanged()}).catch(Se),O}getOperatorList({intent:x="display",annotationMode:D=_util.AnnotationMode.ENABLE,printAnnotationStorage:L=null}={}){var X;function H(){j.operatorList.lastChunk&&(j.opListReadCapability.resolve(j.operatorList),j.renderTasks.delete(q))}let G=this._transport.getRenderingIntent(x,D,L,!0),j=this._intentStates.get(G.cacheKey);j||(j=Object.create(null),this._intentStates.set(G.cacheKey,j));let q;return j.opListReadCapability||(q=Object.create(null),q.operatorListChanged=H,j.opListReadCapability=new _util.PromiseCapability,(j.renderTasks||=new Set).add(q),j.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(X=this._stats)==null||X.time("Page Request"),this._pumpOperatorList(G)),j.opListReadCapability.promise}streamTextContent({includeMarkedContent:x=!1,disableNormalization:D=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:x===!0,disableNormalization:D===!0},{highWaterMark:100,size(H){return H.items.length}})}getTextContent(x={}){if(this._transport._htmlForXfa)return this.getXfa().then(L=>_xfa_text.XfaText.textContent(L));let D=this.streamTextContent(x);return new Promise(function(L,H){function G(){j.read().then(function({value:X,done:Z}){if(Z){L(q);return}Object.assign(q.styles,X.styles),q.items.push(...X.items),G()},H)}let j=D.getReader(),q={items:[],styles:Object.create(null)};G()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let x=[];for(let D of this._intentStates.values())if(this._abortOperatorList({intentState:D,reason:new Error("Page was destroyed."),force:!0}),!D.opListReadCapability)for(let L of D.renderTasks)x.push(L.completed),L.cancel();return this.objs.clear(),Me(this,r,!1),ge(this,o,a0).call(this),Promise.all(x)}cleanup(x=!1){Me(this,r,!0);let D=ge(this,i,Ou).call(this,!1);return x&&D&&(this._stats&&=new _display_utils.StatTimer),D}_startRenderPage(x,D){var H,G;let L=this._intentStates.get(D);L&&((H=this._stats)==null||H.timeEnd("Page Request"),(G=L.displayReadyCapability)==null||G.resolve(x))}_renderPageChunk(x,D){for(let L=0,H=x.length;L<H;L++)D.operatorList.fnArray.push(x.fnArray[L]),D.operatorList.argsArray.push(x.argsArray[L]);D.operatorList.lastChunk=x.lastChunk,D.operatorList.separateAnnots=x.separateAnnots;for(let L of D.renderTasks)L.operatorListChanged();x.lastChunk&&ge(this,i,Ou).call(this,!0)}_pumpOperatorList({renderingIntent:x,cacheKey:D,annotationStorageSerializable:L}){let{map:H,transfers:G}=L,q=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:x,cacheKey:D,annotationStorage:H},G).getReader(),X=this._intentStates.get(D);X.streamReader=q;let Z=()=>{q.read().then(({value:$,done:ue})=>{if(ue){X.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk($,X),Z())},$=>{if(X.streamReader=null,!this._transport.destroyed){if(X.operatorList){X.operatorList.lastChunk=!0;for(let ue of X.renderTasks)ue.operatorListChanged();ge(this,i,Ou).call(this,!0)}if(X.displayReadyCapability)X.displayReadyCapability.reject($);else if(X.opListReadCapability)X.opListReadCapability.reject($);else throw $}})};Z()}_abortOperatorList({intentState:x,reason:D,force:L=!1}){if(x.streamReader){if(x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null),!L){if(x.renderTasks.size>0)return;if(D instanceof _display_utils.RenderingCancelledException){let H=RENDERING_CANCELLED_TIMEOUT;D.extraDelay>0&&D.extraDelay<1e3&&(H+=D.extraDelay),x.streamReaderCancelTimeout=setTimeout(()=>{x.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:x,reason:D,force:!0})},H);return}}if(x.streamReader.cancel(new _util.AbortException(D.message)).catch(()=>{}),x.streamReader=null,!this._transport.destroyed){for(let[H,G]of this._intentStates)if(G===x){this._intentStates.delete(H);break}this.cleanup()}}}get stats(){return this._stats}}t=new WeakMap,r=new WeakMap,i=new WeakSet,Ou=function(x=!1){if(ge(this,o,a0).call(this),!k(this,r)||this.destroyed)return!1;if(x)return Me(this,t,setTimeout(()=>{Me(this,t,null),ge(this,i,Ou).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(let{renderTasks:D,operatorList:L}of this._intentStates.values())if(D.size>0||!L.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Me(this,r,!1),!0},o=new WeakSet,a0=function(){k(this,t)&&(clearTimeout(k(this,t)),Me(this,t,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){oe(this,d,new Set);oe(this,u,Promise.resolve())}postMessage(x,D){let L={data:structuredClone(x,D?{transfer:D}:null)};k(this,u).then(()=>{for(let H of k(this,d))H.call(this,L)})}addEventListener(x,D){k(this,d).add(D)}removeEventListener(x,D){k(this,d).delete(D)}terminate(){k(this,d).clear()}}d=new WeakMap,u=new WeakMap,exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof Zu=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){let T=(p=document==null?void 0:document.currentScript)==null?void 0:p.src;T&&(PDFWorkerUtil.fallbackWorkerSrc=T.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(T,x){let D;try{if(D=new URL(T),!D.origin||D.origin==="null")return!1}catch{return!1}let L=new URL(x,D);return D.origin===L.origin},PDFWorkerUtil.createCDNWrapper=function(T){let x=`importScripts("${T}");`;return URL.createObjectURL(new Blob([x]))}}let _PDFWorker=class _PDFWorker{constructor({name:T=null,port:x=null,verbosity:D=(0,_util.getVerbosityLevel)()}={}){var L;if(this.name=T,this.destroyed=!1,this.verbosity=D,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,x){if((L=k(_PDFWorker,m))!=null&&L.has(x))throw new Error("Cannot use more than one PDFWorker per port.");(k(_PDFWorker,m)||Me(_PDFWorker,m,new WeakMap)).set(x,this),this._initializeFromPort(x);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(T){this._port=T,this._messageHandler=new _message_handler.MessageHandler("main","worker",T),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:T}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,T)||(T=PDFWorkerUtil.createCDNWrapper(new URL(T,window.location).href));let x=new Worker(T),D=new _message_handler.MessageHandler("main","worker",x),L=()=>{x.removeEventListener("error",H),D.destroy(),x.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},H=()=>{this._webWorker||L()};x.addEventListener("error",H),D.on("test",j=>{if(x.removeEventListener("error",H),this.destroyed){L();return}j?(this._messageHandler=D,this._port=x,this._webWorker=x,this._readyCapability.resolve(),D.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),D.destroy(),x.terminate())}),D.on("ready",j=>{if(x.removeEventListener("error",H),this.destroyed){L();return}try{G()}catch{this._setupFakeWorker()}});let G=()=>{let j=new Uint8Array;D.send("test",j,[j.buffer])};G();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(T=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let x=new LoopbackPort;this._port=x;let D=`fake${PDFWorkerUtil.fakeWorkerId++}`,L=new _message_handler.MessageHandler(D+"_worker",D,x);T.setup(L,x);let H=new _message_handler.MessageHandler(D,D+"_worker",x);this._messageHandler=H,this._readyCapability.resolve(),H.send("configure",{verbosity:this.verbosity})}).catch(T=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${T.message}".`))})}destroy(){var T;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(T=k(_PDFWorker,m))==null||T.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(T){var D;if(!(T!=null&&T.port))throw new Error("PDFWorker.fromPort - invalid method signature.");let x=(D=k(this,m))==null?void 0:D.get(T.port);if(x){if(x._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return x}return new _PDFWorker(T)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var T;try{return((T=globalThis.pdfjsWorker)==null?void 0:T.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){let loader=async()=>{let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof Zu=="function"){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};m=new WeakMap,oe(_PDFWorker,m,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(x,D,L,H,G){oe(this,l);oe(this,b,new Map);oe(this,v,new Map);oe(this,y,new Map);oe(this,h,null);this.messageHandler=x,this.loadingTask=D,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:H.ownerDocument,styleElement:H.styleElement}),this._params=H,this.canvasFactory=G.canvasFactory,this.filterFactory=G.filterFactory,this.cMapReaderFactory=G.cMapReaderFactory,this.standardFontDataFactory=G.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=L,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(x,D=_util.AnnotationMode.ENABLE,L=null,H=!1){let G=_util.RenderingIntentFlag.DISPLAY,j=_annotation_storage.SerializableEmpty;switch(x){case"any":G=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":G=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${x}`)}switch(D){case _util.AnnotationMode.DISABLE:G+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:G+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:G+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,j=(G&_util.RenderingIntentFlag.PRINT&&L instanceof _annotation_storage.PrintAnnotationStorage?L:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${D}`)}return H&&(G+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:G,cacheKey:`${G}_${j.hash}`,annotationStorageSerializable:j}}destroy(){var L;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(L=k(this,h))==null||L.reject(new Error("Worker was destroyed during onPassword callback"));let x=[];for(let H of k(this,v).values())x.push(H._destroy());k(this,v).clear(),k(this,y).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let D=this.messageHandler.sendWithPromise("Terminate",null);return x.push(D),Promise.all(x).then(()=>{var H;this.commonObjs.clear(),this.fontLoader.clear(),k(this,b).clear(),this.filterFactory.destroy(),(H=this._networkStream)==null||H.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:x,loadingTask:D}=this;x.on("GetReader",(L,H)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=G=>{this._lastProgress={loaded:G.loaded,total:G.total}},H.onPull=()=>{this._fullReader.read().then(function({value:G,done:j}){if(j){H.close();return}(0,_util.assert)(G instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),H.enqueue(new Uint8Array(G),1,[G])}).catch(G=>{H.error(G)})},H.onCancel=G=>{this._fullReader.cancel(G),H.ready.catch(j=>{if(!this.destroyed)throw j})}}),x.on("ReaderHeadersReady",L=>{let H=new _util.PromiseCapability,G=this._fullReader;return G.headersReady.then(()=>{var j;(!G.isStreamingSupported||!G.isRangeSupported)&&(this._lastProgress&&((j=D.onProgress)==null||j.call(D,this._lastProgress)),G.onProgress=q=>{var X;(X=D.onProgress)==null||X.call(D,{loaded:q.loaded,total:q.total})}),H.resolve({isStreamingSupported:G.isStreamingSupported,isRangeSupported:G.isRangeSupported,contentLength:G.contentLength})},H.reject),H.promise}),x.on("GetRangeReader",(L,H)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let G=this._networkStream.getRangeReader(L.begin,L.end);if(!G){H.close();return}H.onPull=()=>{G.read().then(function({value:j,done:q}){if(q){H.close();return}(0,_util.assert)(j instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),H.enqueue(new Uint8Array(j),1,[j])}).catch(j=>{H.error(j)})},H.onCancel=j=>{G.cancel(j),H.ready.catch(q=>{if(!this.destroyed)throw q})}}),x.on("GetDoc",({pdfInfo:L})=>{this._numPages=L.numPages,this._htmlForXfa=L.htmlForXfa,delete L.htmlForXfa,D._capability.resolve(new PDFDocumentProxy(L,this))}),x.on("DocException",function(L){let H;switch(L.name){case"PasswordException":H=new _util.PasswordException(L.message,L.code);break;case"InvalidPDFException":H=new _util.InvalidPDFException(L.message);break;case"MissingPDFException":H=new _util.MissingPDFException(L.message);break;case"UnexpectedResponseException":H=new _util.UnexpectedResponseException(L.message,L.status);break;case"UnknownErrorException":H=new _util.UnknownErrorException(L.message,L.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}D._capability.reject(H)}),x.on("PasswordRequest",L=>{if(Me(this,h,new _util.PromiseCapability),D.onPassword){let H=G=>{G instanceof Error?k(this,h).reject(G):k(this,h).resolve({password:G})};try{D.onPassword(H,L.code)}catch(G){k(this,h).reject(G)}}else k(this,h).reject(new _util.PasswordException(L.message,L.code));return k(this,h).promise}),x.on("DataLoaded",L=>{var H;(H=D.onProgress)==null||H.call(D,{loaded:L.length,total:L.length}),this.downloadInfoCapability.resolve(L)}),x.on("StartRenderPage",L=>{if(this.destroyed)return;k(this,v).get(L.pageIndex)._startRenderPage(L.transparency,L.cacheKey)}),x.on("commonobj",([L,H,G])=>{var j;if(!this.destroyed&&!this.commonObjs.has(L))switch(H){case"Font":let q=this._params;if("error"in G){let $=G.error;(0,_util.warn)(`Error during font loading: ${$}`),this.commonObjs.resolve(L,$);break}let X=q.pdfBug&&((j=globalThis.FontInspector)!=null&&j.enabled)?($,ue)=>globalThis.FontInspector.fontAdded($,ue):null,Z=new _font_loader.FontFaceObject(G,{isEvalSupported:q.isEvalSupported,disableFontFace:q.disableFontFace,ignoreErrors:q.ignoreErrors,inspectFont:X});this.fontLoader.bind(Z).catch($=>x.sendWithPromise("FontFallback",{id:L})).finally(()=>{!q.fontExtraProperties&&Z.data&&(Z.data=null),this.commonObjs.resolve(L,Z)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(L,G);break;default:throw new Error(`Got unknown common object type ${H}`)}}),x.on("obj",([L,H,G,j])=>{var X;if(this.destroyed)return;let q=k(this,v).get(H);if(!q.objs.has(L))switch(G){case"Image":if(q.objs.resolve(L,j),j){let Z;if(j.bitmap){let{width:$,height:ue}=j;Z=$*ue*4}else Z=((X=j.data)==null?void 0:X.length)||0;Z>_util.MAX_IMAGE_SIZE_TO_CACHE&&(q._maybeCleanupAfterRender=!0)}break;case"Pattern":q.objs.resolve(L,j);break;default:throw new Error(`Got unknown object type ${G}`)}}),x.on("DocProgress",L=>{var H;this.destroyed||(H=D.onProgress)==null||H.call(D,{loaded:L.loaded,total:L.total})}),x.on("FetchBuiltInCMap",L=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(L):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),x.on("FetchStandardFontData",L=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(L):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var L;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:x,transfers:D}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:x,filename:((L=this._fullReader)==null?void 0:L.filename)??null},D).finally(()=>{this.annotationStorage.resetModified()})}getPage(x){if(!Number.isInteger(x)||x<=0||x>this._numPages)return Promise.reject(new Error("Invalid page request."));let D=x-1,L=k(this,y).get(D);if(L)return L;let H=this.messageHandler.sendWithPromise("GetPage",{pageIndex:D}).then(G=>{if(this.destroyed)throw new Error("Transport destroyed");let j=new PDFPageProxy(D,G,this,this._params.pdfBug);return k(this,v).set(D,j),j});return k(this,y).set(D,H),H}getPageIndex(x){return typeof x!="object"||x===null||!Number.isInteger(x.num)||x.num<0||!Number.isInteger(x.gen)||x.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:x.num,gen:x.gen})}getAnnotations(x,D){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:x,intent:D})}getFieldObjects(){return ge(this,l,u0).call(this,"GetFieldObjects")}hasJSActions(){return ge(this,l,u0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(x){return typeof x!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:x})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ge(this,l,u0).call(this,"GetDocJSActions")}getPageJSActions(x){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:x})}getStructTree(x){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:x})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(x=>new _optional_content_config.OptionalContentConfig(x))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let x="GetMetadata",D=k(this,b).get(x);if(D)return D;let L=this.messageHandler.sendWithPromise(x,null).then(H=>{var G,j;return{info:H[0],metadata:H[1]?new _metadata.Metadata(H[1]):null,contentDispositionFilename:((G=this._fullReader)==null?void 0:G.filename)??null,contentLength:((j=this._fullReader)==null?void 0:j.contentLength)??null}});return k(this,b).set(x,L),L}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(x=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(let D of k(this,v).values())if(!D.cleanup())throw new Error(`startCleanup: Page ${D.pageNumber} is currently rendering.`);this.commonObjs.clear(),x||this.fontLoader.clear(),k(this,b).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){let{disableAutoFetch:x,enableXfa:D}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:x,enableXfa:D})}}b=new WeakMap,v=new WeakMap,y=new WeakMap,h=new WeakMap,l=new WeakSet,u0=function(x,D=null){let L=k(this,b).get(x);if(L)return L;let H=this.messageHandler.sendWithPromise(x,D);return k(this,b).set(x,H),H};class PDFObjects{constructor(){oe(this,E);oe(this,w,Object.create(null))}get(x,D=null){if(D){let H=ge(this,E,ry).call(this,x);return H.capability.promise.then(()=>D(H.data)),null}let L=k(this,w)[x];if(!(L!=null&&L.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${x}.`);return L.data}has(x){let D=k(this,w)[x];return(D==null?void 0:D.capability.settled)||!1}resolve(x,D=null){let L=ge(this,E,ry).call(this,x);L.data=D,L.capability.resolve()}clear(){var x;for(let D in k(this,w)){let{data:L}=k(this,w)[D];(x=L==null?void 0:L.bitmap)==null||x.close()}Me(this,w,Object.create(null))}}w=new WeakMap,E=new WeakSet,ry=function(x){return k(this,w)[x]||={capability:new _util.PromiseCapability,data:null}};class RenderTask{constructor(x){oe(this,_,null);Me(this,_,x),this.onContinue=null}get promise(){return k(this,_).capability.promise}cancel(x=0){k(this,_).cancel(null,x)}get separateAnnots(){let{separateAnnots:x}=k(this,_).operatorList;if(!x)return!1;let{annotationCanvasMap:D}=k(this,_);return x.form||x.canvas&&(D==null?void 0:D.size)>0}}_=new WeakMap,exports.RenderTask=RenderTask;let I=class I{constructor({callback:x,params:D,objs:L,commonObjs:H,annotationCanvasMap:G,operatorList:j,pageIndex:q,canvasFactory:X,filterFactory:Z,useRequestAnimationFrame:$=!1,pdfBug:ue=!1,pageColors:fe=null}){this.callback=x,this.params=D,this.objs=L,this.commonObjs=H,this.annotationCanvasMap=G,this.operatorListIdx=null,this.operatorList=j,this._pageIndex=q,this.canvasFactory=X,this.filterFactory=Z,this._pdfBug=ue,this.pageColors=fe,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=$===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=D.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:x=!1,optionalContentConfig:D}){var q,X;if(this.cancelled)return;if(this._canvas){if(k(I,C).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");k(I,C).add(this._canvas)}this._pdfBug&&((q=globalThis.StepperManager)!=null&&q.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:L,viewport:H,transform:G,background:j}=this.params;this.gfx=new _canvas.CanvasGraphics(L,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:D},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:G,viewport:H,transparency:x,background:j}),this.operatorListIdx=0,this.graphicsReady=!0,(X=this.graphicsReadyCallback)==null||X.call(this)}cancel(x=null,D=0){var L;this.running=!1,this.cancelled=!0,(L=this.gfx)==null||L.endDrawing(),k(I,C).delete(this._canvas),this.callback(x||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,D))}operatorListChanged(){var x;if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}(x=this.stepper)==null||x.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),k(I,C).delete(this._canvas),this.callback())))}};C=new WeakMap,oe(I,C,new WeakSet);let InternalRenderTask=I,version="3.11.174";exports.version=version;let build="ce8716743";exports.build=build},(n,e,t)=>{var u,p,m,g5,v;Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var r=t(1),i=t(4),s=t(8);let o=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=o;class c{constructor(){oe(this,m);oe(this,u,!1);oe(this,p,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(h,l){let g=k(this,p).get(h);return g===void 0?l:Object.assign(l,g)}getRawValue(h){return k(this,p).get(h)}remove(h){if(k(this,p).delete(h),k(this,p).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let l of k(this,p).values())if(l instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(h,l){let g=k(this,p).get(h),w=!1;if(g!==void 0)for(let[E,A]of Object.entries(l))g[E]!==A&&(w=!0,g[E]=A);else w=!0,k(this,p).set(h,l);w&&ge(this,m,g5).call(this),l instanceof i.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(l.constructor._type)}has(h){return k(this,p).has(h)}getAll(){return k(this,p).size>0?(0,r.objectFromMap)(k(this,p)):null}setAll(h){for(let[l,g]of Object.entries(h))this.setValue(l,g)}get size(){return k(this,p).size}resetModified(){k(this,u)&&(Me(this,u,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new d(this)}get serializable(){if(k(this,p).size===0)return o;let h=new Map,l=new s.MurmurHash3_64,g=[],w=Object.create(null),E=!1;for(let[A,_]of k(this,p)){let C=_ instanceof i.AnnotationEditor?_.serialize(!1,w):_;C&&(h.set(A,C),l.update(`${A}:${JSON.stringify(C)}`),E||=!!C.bitmap)}if(E)for(let A of h.values())A.bitmap&&g.push(A.bitmap);return h.size>0?{map:h,hash:l.hexdigest(),transfers:g}:o}}u=new WeakMap,p=new WeakMap,m=new WeakSet,g5=function(){k(this,u)||(Me(this,u,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=c;class d extends c{constructor(l){super();oe(this,v,void 0);let{map:g,hash:w,transfers:E}=l.serializable,A=structuredClone(g,E?{transfer:E}:null);Me(this,v,{map:A,hash:w,transfers:E})}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return k(this,v)}}v=new WeakMap,e.PrintAnnotationStorage=d},(n,e,t)=>{var d,u,p,m,b,v,y,h,l,g,w,E,A,_,C,iy,T,sy,D,oy,H,ay,j,m5,X,y5,$,b5,fe,uy,Se,v5;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var r=t(5),i=t(1),s=t(6);let O=class O{constructor(P){oe(this,C);oe(this,T);oe(this,H);oe(this,j);oe(this,X);oe(this,$);oe(this,fe);oe(this,Se);oe(this,d,"");oe(this,u,!1);oe(this,p,null);oe(this,m,null);oe(this,b,null);oe(this,v,!1);oe(this,y,null);oe(this,h,this.focusin.bind(this));oe(this,l,this.focusout.bind(this));oe(this,g,!1);oe(this,w,!1);oe(this,E,!1);wn(this,"_initialOptions",Object.create(null));wn(this,"_uiManager",null);wn(this,"_focusEventsAllowed",!0);wn(this,"_l10nPromise",null);oe(this,A,!1);oe(this,_,O._zIndex++);this.constructor===O&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=P.parent,this.id=P.id,this.width=this.height=null,this.pageIndex=P.parent.pageIndex,this.name=P.name,this.div=null,this._uiManager=P.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=P.isCentered,this._structTreeParentId=null;let{rotation:N,rawDims:{pageWidth:U,pageHeight:J,pageX:te,pageY:re}}=this.parent.viewport;this.rotation=N,this.pageRotation=(360+N-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[U,J],this.pageTranslation=[te,re];let[pe,ve]=this.parentDimensions;this.x=P.x/pe,this.y=P.y/ve,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(P){let N=new c({id:P.parent.getNextId(),parent:P.parent,uiManager:P._uiManager});N.annotationElementId=P.annotationElementId,N.deleted=!0,N._uiManager.addToAnnotationStorage(N)}static initialize(P,N=null){if(O._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(J=>[J,P.get(J)])),N!=null&&N.strings)for(let J of N.strings)O._l10nPromise.set(J,P.get(J));if(O._borderLineWidth!==-1)return;let U=getComputedStyle(document.documentElement);O._borderLineWidth=parseFloat(U.getPropertyValue("--outline-width"))||0}static updateDefaultParams(P,N){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(P){return!1}static paste(P,N){(0,i.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return k(this,A)}set _isDraggable(P){var N;Me(this,A,P),(N=this.div)==null||N.classList.toggle("draggable",P)}center(){let[P,N]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*N/(P*2),this.y+=this.width*P/(N*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*N/(P*2),this.y-=this.width*P/(N*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(P){this._uiManager.addCommands(P)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=k(this,_)}setParent(P){P!==null&&(this.pageIndex=P.pageIndex,this.pageDimensions=P.pageDimensions),this.parent=P}focusin(P){this._focusEventsAllowed&&(k(this,g)?Me(this,g,!1):this.parent.setSelected(this))}focusout(P){var U;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;let N=P.relatedTarget;N!=null&&N.closest(`#${this.id}`)||(P.preventDefault(),(U=this.parent)!=null&&U.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(P,N,U,J){let[te,re]=this.parentDimensions;[U,J]=this.screenToPageTranslation(U,J),this.x=(P+U)/te,this.y=(N+J)/re,this.fixAndSetPosition()}translate(P,N){ge(this,C,iy).call(this,this.parentDimensions,P,N)}translateInPage(P,N){ge(this,C,iy).call(this,this.pageDimensions,P,N),this.div.scrollIntoView({block:"nearest"})}drag(P,N){let[U,J]=this.parentDimensions;if(this.x+=P/U,this.y+=N/J,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:Pe,y:ke}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Pe,ke)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:te,y:re}=this,[pe,ve]=ge(this,T,sy).call(this);te+=pe,re+=ve,this.div.style.left=`${(100*te).toFixed(2)}%`,this.div.style.top=`${(100*re).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){let[P,N]=this.pageDimensions,{x:U,y:J,width:te,height:re}=this;switch(te*=P,re*=N,U*=P,J*=N,this.rotation){case 0:U=Math.max(0,Math.min(P-te,U)),J=Math.max(0,Math.min(N-re,J));break;case 90:U=Math.max(0,Math.min(P-re,U)),J=Math.min(N,Math.max(te,J));break;case 180:U=Math.min(P,Math.max(te,U)),J=Math.min(N,Math.max(re,J));break;case 270:U=Math.min(P,Math.max(re,U)),J=Math.max(0,Math.min(N-te,J));break}this.x=U/=P,this.y=J/=N;let[pe,ve]=ge(this,T,sy).call(this);U+=pe,J+=ve;let{style:Pe}=this.div;Pe.left=`${(100*U).toFixed(2)}%`,Pe.top=`${(100*J).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(P,N){var U;return ge(U=O,D,oy).call(U,P,N,this.parentRotation)}pageTranslationToScreen(P,N){var U;return ge(U=O,D,oy).call(U,P,N,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:P,pageDimensions:[N,U]}=this,J=N*P,te=U*P;return i.FeatureTest.isCSSRoundSupported?[Math.round(J),Math.round(te)]:[J,te]}setDims(P,N){var te;let[U,J]=this.parentDimensions;this.div.style.width=`${(100*P/U).toFixed(2)}%`,k(this,v)||(this.div.style.height=`${(100*N/J).toFixed(2)}%`),(te=k(this,p))==null||te.classList.toggle("small",P<O.SMALL_EDITOR_SIZE||N<O.SMALL_EDITOR_SIZE)}fixDims(){let{style:P}=this.div,{height:N,width:U}=P,J=U.endsWith("%"),te=!k(this,v)&&N.endsWith("%");if(J&&te)return;let[re,pe]=this.parentDimensions;J||(P.width=`${(100*parseFloat(U)/re).toFixed(2)}%`),!k(this,v)&&!te&&(P.height=`${(100*parseFloat(N)/pe).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(k(this,p))return;let P=Me(this,p,document.createElement("button"));P.className="altText";let N=await O._l10nPromise.get("editor_alt_text_button_label");P.textContent=N,P.setAttribute("aria-label",N),P.tabIndex="0",P.addEventListener("contextmenu",s.noContextMenu),P.addEventListener("pointerdown",U=>U.stopPropagation()),P.addEventListener("click",U=>{U.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),P.addEventListener("keydown",U=>{U.target===P&&U.key==="Enter"&&(U.preventDefault(),this._uiManager.editAltText(this))}),ge(this,fe,uy).call(this),this.div.append(P),O.SMALL_EDITOR_SIZE||(O.SMALL_EDITOR_SIZE=Math.min(128,Math.round(P.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:k(this,d),decorative:k(this,u)}}set altTextData({altText:P,decorative:N}){k(this,d)===P&&k(this,u)===N||(Me(this,d,P),Me(this,u,N),ge(this,fe,uy).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",k(this,h)),this.div.addEventListener("focusout",k(this,l));let[P,N]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*N/P).toFixed(2)}%`,this.div.style.maxHeight=`${(100*P/N).toFixed(2)}%`);let[U,J]=this.getInitialTranslation();return this.translate(U,J),(0,r.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(P){let{isMac:N}=i.FeatureTest.platform;if(P.button!==0||P.ctrlKey&&N){P.preventDefault();return}Me(this,g,!0),ge(this,Se,v5).call(this,P)}moveInDOM(){var P;(P=this.parent)==null||P.moveEditorInDOM(this)}_setParentAndPosition(P,N,U){P.changeParent(this),this.x=N,this.y=U,this.fixAndSetPosition()}getRect(P,N){let U=this.parentScale,[J,te]=this.pageDimensions,[re,pe]=this.pageTranslation,ve=P/U,Pe=N/U,ke=this.x*J,je=this.y*te,Ne=this.width*J,Ye=this.height*te;switch(this.rotation){case 0:return[ke+ve+re,te-je-Pe-Ye+pe,ke+ve+Ne+re,te-je-Pe+pe];case 90:return[ke+Pe+re,te-je+ve+pe,ke+Pe+Ye+re,te-je+ve+Ne+pe];case 180:return[ke-ve-Ne+re,te-je+Pe+pe,ke-ve+re,te-je+Pe+Ye+pe];case 270:return[ke-Pe-Ye+re,te-je-ve-Ne+pe,ke-Pe+re,te-je-ve+pe];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(P,N){let[U,J,te,re]=P,pe=te-U,ve=re-J;switch(this.rotation){case 0:return[U,N-re,pe,ve];case 90:return[U,N-J,ve,pe];case 180:return[te,N-J,pe,ve];case 270:return[te,N-re,ve,pe];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Me(this,E,!0)}disableEditMode(){Me(this,E,!1)}isInEditMode(){return k(this,E)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var P,N;(P=this.div)==null||P.addEventListener("focusin",k(this,h)),(N=this.div)==null||N.addEventListener("focusout",k(this,l))}serialize(P=!1,N=null){(0,i.unreachable)("An editor must be serializable")}static deserialize(P,N,U){let J=new this.prototype.constructor({parent:N,id:N.getNextId(),uiManager:U});J.rotation=P.rotation;let[te,re]=J.pageDimensions,[pe,ve,Pe,ke]=J.getRectInCurrentCoords(P.rect,re);return J.x=pe/te,J.y=ve/re,J.width=Pe/te,J.height=ke/re,J}remove(){var P;this.div.removeEventListener("focusin",k(this,h)),this.div.removeEventListener("focusout",k(this,l)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(P=k(this,p))==null||P.remove(),Me(this,p,null),Me(this,m,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ge(this,j,m5).call(this),k(this,y).classList.remove("hidden"))}select(){var P;this.makeResizable(),(P=this.div)==null||P.classList.add("selectedEditor")}unselect(){var P,N,U;(P=k(this,y))==null||P.classList.add("hidden"),(N=this.div)==null||N.classList.remove("selectedEditor"),(U=this.div)!=null&&U.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(P,N){}disableEditing(){k(this,p)&&(k(this,p).hidden=!0)}enableEditing(){k(this,p)&&(k(this,p).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return k(this,w)}set isEditing(P){Me(this,w,P),this.parent&&(P?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(P,N){Me(this,v,!0);let U=P/N,{style:J}=this.div;J.aspectRatio=U,J.height="auto"}static get MIN_SIZE(){return 16}};d=new WeakMap,u=new WeakMap,p=new WeakMap,m=new WeakMap,b=new WeakMap,v=new WeakMap,y=new WeakMap,h=new WeakMap,l=new WeakMap,g=new WeakMap,w=new WeakMap,E=new WeakMap,A=new WeakMap,_=new WeakMap,C=new WeakSet,iy=function([P,N],U,J){[U,J]=this.screenToPageTranslation(U,J),this.x+=U/P,this.y+=J/N,this.fixAndSetPosition()},T=new WeakSet,sy=function(){let[P,N]=this.parentDimensions,{_borderLineWidth:U}=O,J=U/P,te=U/N;switch(this.rotation){case 90:return[-J,te];case 180:return[J,te];case 270:return[J,-te];default:return[-J,-te]}},D=new WeakSet,oy=function(P,N,U){switch(U){case 90:return[N,-P];case 180:return[-P,-N];case 270:return[-N,P];default:return[P,N]}},H=new WeakSet,ay=function(P){switch(P){case 90:{let[N,U]=this.pageDimensions;return[0,-N/U,U/N,0]}case 180:return[-1,0,0,-1];case 270:{let[N,U]=this.pageDimensions;return[0,N/U,-U/N,0]}default:return[1,0,0,1]}},j=new WeakSet,m5=function(){if(k(this,y))return;Me(this,y,document.createElement("div")),k(this,y).classList.add("resizers");let P=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||P.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(let N of P){let U=document.createElement("div");k(this,y).append(U),U.classList.add("resizer",N),U.addEventListener("pointerdown",ge(this,X,y5).bind(this,N)),U.addEventListener("contextmenu",s.noContextMenu)}this.div.prepend(k(this,y))},X=new WeakSet,y5=function(P,N){N.preventDefault();let{isMac:U}=i.FeatureTest.platform;if(N.button!==0||N.ctrlKey&&U)return;let J=ge(this,$,b5).bind(this,P),te=this._isDraggable;this._isDraggable=!1;let re={passive:!0,capture:!0};window.addEventListener("pointermove",J,re);let pe=this.x,ve=this.y,Pe=this.width,ke=this.height,je=this.parent.div.style.cursor,Ne=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(N.target).cursor;let Ye=()=>{this._isDraggable=te,window.removeEventListener("pointerup",Ye),window.removeEventListener("blur",Ye),window.removeEventListener("pointermove",J,re),this.parent.div.style.cursor=je,this.div.style.cursor=Ne;let De=this.x,ye=this.y,Te=this.width,me=this.height;De===pe&&ye===ve&&Te===Pe&&me===ke||this.addCommands({cmd:()=>{this.width=Te,this.height=me,this.x=De,this.y=ye;let[ae,z]=this.parentDimensions;this.setDims(ae*Te,z*me),this.fixAndSetPosition()},undo:()=>{this.width=Pe,this.height=ke,this.x=pe,this.y=ve;let[ae,z]=this.parentDimensions;this.setDims(ae*Pe,z*ke),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Ye),window.addEventListener("blur",Ye)},$=new WeakSet,b5=function(P,N){let[U,J]=this.parentDimensions,te=this.x,re=this.y,pe=this.width,ve=this.height,Pe=O.MIN_SIZE/U,ke=O.MIN_SIZE/J,je=He=>Math.round(He*1e4)/1e4,Ne=ge(this,H,ay).call(this,this.rotation),Ye=(He,qe)=>[Ne[0]*He+Ne[2]*qe,Ne[1]*He+Ne[3]*qe],De=ge(this,H,ay).call(this,360-this.rotation),ye=(He,qe)=>[De[0]*He+De[2]*qe,De[1]*He+De[3]*qe],Te,me,ae=!1,z=!1;switch(P){case"topLeft":ae=!0,Te=(He,qe)=>[0,0],me=(He,qe)=>[He,qe];break;case"topMiddle":Te=(He,qe)=>[He/2,0],me=(He,qe)=>[He/2,qe];break;case"topRight":ae=!0,Te=(He,qe)=>[He,0],me=(He,qe)=>[0,qe];break;case"middleRight":z=!0,Te=(He,qe)=>[He,qe/2],me=(He,qe)=>[0,qe/2];break;case"bottomRight":ae=!0,Te=(He,qe)=>[He,qe],me=(He,qe)=>[0,0];break;case"bottomMiddle":Te=(He,qe)=>[He/2,qe],me=(He,qe)=>[He/2,0];break;case"bottomLeft":ae=!0,Te=(He,qe)=>[0,qe],me=(He,qe)=>[He,0];break;case"middleLeft":z=!0,Te=(He,qe)=>[0,qe/2],me=(He,qe)=>[He,qe/2];break}let Q=Te(pe,ve),le=me(pe,ve),Ee=Ye(...le),Be=je(te+Ee[0]),tt=je(re+Ee[1]),$e=1,et=1,[Ge,Xe]=this.screenToPageTranslation(N.movementX,N.movementY);if([Ge,Xe]=ye(Ge/U,Xe/J),ae){let He=Math.hypot(pe,ve);$e=et=Math.max(Math.min(Math.hypot(le[0]-Q[0]-Ge,le[1]-Q[1]-Xe)/He,1/pe,1/ve),Pe/pe,ke/ve)}else z?$e=Math.max(Pe,Math.min(1,Math.abs(le[0]-Q[0]-Ge)))/pe:et=Math.max(ke,Math.min(1,Math.abs(le[1]-Q[1]-Xe)))/ve;let ot=je(pe*$e),Le=je(ve*et);Ee=Ye(...me(ot,Le));let _e=Be-Ee[0],se=tt-Ee[1];this.width=ot,this.height=Le,this.x=_e,this.y=se,this.setDims(U*ot,J*Le),this.fixAndSetPosition()},fe=new WeakSet,uy=async function(){var U;let P=k(this,p);if(!P)return;if(!k(this,d)&&!k(this,u)){P.classList.remove("done"),(U=k(this,m))==null||U.remove();return}O._l10nPromise.get("editor_alt_text_edit_button_label").then(J=>{P.setAttribute("aria-label",J)});let N=k(this,m);if(!N){Me(this,m,N=document.createElement("span")),N.className="tooltip",N.setAttribute("role","tooltip");let J=N.id=`alt-text-tooltip-${this.id}`;P.setAttribute("aria-describedby",J);let te=100;P.addEventListener("mouseenter",()=>{Me(this,b,setTimeout(()=>{Me(this,b,null),k(this,m).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},te))}),P.addEventListener("mouseleave",()=>{var re;clearTimeout(k(this,b)),Me(this,b,null),(re=k(this,m))==null||re.classList.remove("show")})}P.classList.add("done"),N.innerText=k(this,u)?await O._l10nPromise.get("editor_alt_text_decorative_tooltip"):k(this,d),N.parentNode||P.append(N)},Se=new WeakSet,v5=function(P){if(!this._isDraggable)return;let N=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let U,J;N&&(U={passive:!0,capture:!0},J=re=>{let[pe,ve]=this.screenToPageTranslation(re.movementX,re.movementY);this._uiManager.dragSelectedEditors(pe,ve)},window.addEventListener("pointermove",J,U));let te=()=>{if(window.removeEventListener("pointerup",te),window.removeEventListener("blur",te),N&&window.removeEventListener("pointermove",J,U),Me(this,g,!1),!this._uiManager.endDragSession()){let{isMac:re}=i.FeatureTest.platform;P.ctrlKey&&!re||P.shiftKey||P.metaKey&&re?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",te),window.addEventListener("blur",te)},oe(O,D),wn(O,"_borderLineWidth",-1),wn(O,"_colorManager",new r.ColorManager),wn(O,"_zIndex",1),wn(O,"SMALL_EDITOR_SIZE",0);let o=O;e.AnnotationEditor=o;class c extends o{constructor(P){super(P),this.annotationElementId=P.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(n,e,t)=>{var v,y,h,l,g,ly,A,_,C,I,T,_5,L,H,G,j,q,X,Z,$,ue,fe,he,Se,V,O,M,P,N,U,J,te,re,pe,ve,Pe,ke,je,Ne,Ye,De,ye,Te,me,ae,z,Q,w5,Ee,cy,tt,dy,et,l0,Xe,fy,Le,hy,se,Oi,qe,wc,qt,E5,Qe,A5,nt,py,vt,Ec,ze,gy;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=s,e.opacityToHex=o;var r=t(1),i=t(6);function s(ie,B,K){for(let ne of K)B.addEventListener(ne,ie[ne].bind(ie))}function o(ie){return Math.round(Math.min(255,Math.max(1,255*ie))).toString(16).padStart(2,"0")}class c{constructor(){oe(this,v,0)}getId(){return`${r.AnnotationEditorPrefix}${el(this,v)._++}`}}v=new WeakMap;let E=class E{constructor(){oe(this,g);oe(this,y,(0,r.getUuid)());oe(this,h,0);oe(this,l,null)}static get _isSVGFittingCanvas(){let B='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',ne=new OffscreenCanvas(1,3).getContext("2d"),de=new Image;de.src=B;let Ae=de.decode().then(()=>(ne.drawImage(de,0,0,1,1,0,0,1,3),new Uint32Array(ne.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,r.shadow)(this,"_isSVGFittingCanvas",Ae)}async getFromFile(B){let{lastModified:K,name:ne,size:de,type:Ae}=B;return ge(this,g,ly).call(this,`${K}_${ne}_${de}_${Ae}`,B)}async getFromUrl(B){return ge(this,g,ly).call(this,B,B)}async getFromId(B){k(this,l)||Me(this,l,new Map);let K=k(this,l).get(B);return K?K.bitmap?(K.refCounter+=1,K):K.file?this.getFromFile(K.file):this.getFromUrl(K.url):null}getSvgUrl(B){let K=k(this,l).get(B);return K!=null&&K.isSvg?K.svgUrl:null}deleteId(B){k(this,l)||Me(this,l,new Map);let K=k(this,l).get(B);K&&(K.refCounter-=1,K.refCounter===0&&(K.bitmap=null))}isValidId(B){return B.startsWith(`image_${k(this,y)}_`)}};y=new WeakMap,h=new WeakMap,l=new WeakMap,g=new WeakSet,ly=async function(B,K){k(this,l)||Me(this,l,new Map);let ne=k(this,l).get(B);if(ne===null)return null;if(ne!=null&&ne.bitmap)return ne.refCounter+=1,ne;try{ne||={bitmap:null,id:`image_${k(this,y)}_${el(this,h)._++}`,refCounter:0,isSvg:!1};let de;if(typeof K=="string"){ne.url=K;let Ae=await fetch(K);if(!Ae.ok)throw new Error(Ae.statusText);de=await Ae.blob()}else de=ne.file=K;if(de.type==="image/svg+xml"){let Ae=E._isSVGFittingCanvas,Re=new FileReader,We=new Image,at=new Promise((it,Ct)=>{We.onload=()=>{ne.bitmap=We,ne.isSvg=!0,it()},Re.onload=async()=>{let ht=ne.svgUrl=Re.result;We.src=await Ae?`${ht}#svgView(preserveAspectRatio(none))`:ht},We.onerror=Re.onerror=Ct});Re.readAsDataURL(de),await at}else ne.bitmap=await createImageBitmap(de);ne.refCounter=1}catch(de){console.error(de),ne=null}return k(this,l).set(B,ne),ne&&k(this,l).set(ne.id,ne),ne};let d=E;class u{constructor(B=128){oe(this,A,[]);oe(this,_,!1);oe(this,C,void 0);oe(this,I,-1);Me(this,C,B)}add({cmd:B,undo:K,mustExec:ne,type:de=NaN,overwriteIfSameType:Ae=!1,keepUndo:Re=!1}){if(ne&&B(),k(this,_))return;let We={cmd:B,undo:K,type:de};if(k(this,I)===-1){k(this,A).length>0&&(k(this,A).length=0),Me(this,I,0),k(this,A).push(We);return}if(Ae&&k(this,A)[k(this,I)].type===de){Re&&(We.undo=k(this,A)[k(this,I)].undo),k(this,A)[k(this,I)]=We;return}let at=k(this,I)+1;at===k(this,C)?k(this,A).splice(0,1):(Me(this,I,at),at<k(this,A).length&&k(this,A).splice(at)),k(this,A).push(We)}undo(){k(this,I)!==-1&&(Me(this,_,!0),k(this,A)[k(this,I)].undo(),Me(this,_,!1),Me(this,I,k(this,I)-1))}redo(){k(this,I)<k(this,A).length-1&&(Me(this,I,k(this,I)+1),Me(this,_,!0),k(this,A)[k(this,I)].cmd(),Me(this,_,!1))}hasSomethingToUndo(){return k(this,I)!==-1}hasSomethingToRedo(){return k(this,I)<k(this,A).length-1}destroy(){Me(this,A,null)}}A=new WeakMap,_=new WeakMap,C=new WeakMap,I=new WeakMap,e.CommandManager=u;class p{constructor(B){oe(this,T);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:K}=r.FeatureTest.platform;for(let[ne,de,Ae={}]of B)for(let Re of ne){let We=Re.startsWith("mac+");K&&We?(this.callbacks.set(Re.slice(4),{callback:de,options:Ae}),this.allKeys.add(Re.split("+").at(-1))):!K&&!We&&(this.callbacks.set(Re,{callback:de,options:Ae}),this.allKeys.add(Re.split("+").at(-1)))}}exec(B,K){if(!this.allKeys.has(K.key))return;let ne=this.callbacks.get(ge(this,T,_5).call(this,K));if(!ne)return;let{callback:de,options:{bubbles:Ae=!1,args:Re=[],checker:We=null}}=ne;We&&!We(B,K)||(de.bind(B,...Re)(),Ae||(K.stopPropagation(),K.preventDefault()))}}T=new WeakSet,_5=function(B){B.altKey&&this.buffer.push("alt"),B.ctrlKey&&this.buffer.push("ctrl"),B.metaKey&&this.buffer.push("meta"),B.shiftKey&&this.buffer.push("shift"),this.buffer.push(B.key);let K=this.buffer.join("+");return this.buffer.length=0,K},e.KeyboardManager=p;let D=class D{get _colors(){let B=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(B),(0,r.shadow)(this,"_colors",B)}convert(B){let K=(0,i.getRGB)(B);if(!window.matchMedia("(forced-colors: active)").matches)return K;for(let[ne,de]of this._colors)if(de.every((Ae,Re)=>Ae===K[Re]))return D._colorsMapping.get(ne);return K}getHexCode(B){let K=this._colors.get(B);return K?r.Util.makeHexColor(...K):B}};wn(D,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let m=D;e.ColorManager=m;let ft=class ft{constructor(B,K,ne,de,Ae,Re){oe(this,Q);oe(this,Ee);oe(this,tt);oe(this,et);oe(this,Xe);oe(this,Le);oe(this,se);oe(this,qe);oe(this,qt);oe(this,Qe);oe(this,nt);oe(this,vt);oe(this,ze);oe(this,L,null);oe(this,H,new Map);oe(this,G,new Map);oe(this,j,null);oe(this,q,null);oe(this,X,new u);oe(this,Z,0);oe(this,$,new Set);oe(this,ue,null);oe(this,fe,null);oe(this,he,new Set);oe(this,Se,null);oe(this,V,new c);oe(this,O,!1);oe(this,M,!1);oe(this,P,null);oe(this,N,r.AnnotationEditorType.NONE);oe(this,U,new Set);oe(this,J,null);oe(this,te,this.blur.bind(this));oe(this,re,this.focus.bind(this));oe(this,pe,this.copy.bind(this));oe(this,ve,this.cut.bind(this));oe(this,Pe,this.paste.bind(this));oe(this,ke,this.keydown.bind(this));oe(this,je,this.onEditingAction.bind(this));oe(this,Ne,this.onPageChanging.bind(this));oe(this,Ye,this.onScaleChanging.bind(this));oe(this,De,this.onRotationChanging.bind(this));oe(this,ye,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});oe(this,Te,[0,0]);oe(this,me,null);oe(this,ae,null);oe(this,z,null);Me(this,ae,B),Me(this,z,K),Me(this,j,ne),this._eventBus=de,this._eventBus._on("editingaction",k(this,je)),this._eventBus._on("pagechanging",k(this,Ne)),this._eventBus._on("scalechanging",k(this,Ye)),this._eventBus._on("rotationchanging",k(this,De)),Me(this,q,Ae.annotationStorage),Me(this,Se,Ae.filterFactory),Me(this,J,Re),this.viewParameters={realScale:i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){let B=ft.prototype,K=Ae=>{let{activeElement:Re}=document;return Re&&k(Ae,ae).contains(Re)&&Ae.hasSomethingToControl()},ne=this.TRANSLATE_SMALL,de=this.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new p([[["ctrl+a","mac+meta+a"],B.selectAll],[["ctrl+z","mac+meta+z"],B.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],B.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],B.delete],[["Escape","mac+Escape"],B.unselectAll],[["ArrowLeft","mac+ArrowLeft"],B.translateSelectedEditors,{args:[-ne,0],checker:K}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],B.translateSelectedEditors,{args:[-de,0],checker:K}],[["ArrowRight","mac+ArrowRight"],B.translateSelectedEditors,{args:[ne,0],checker:K}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],B.translateSelectedEditors,{args:[de,0],checker:K}],[["ArrowUp","mac+ArrowUp"],B.translateSelectedEditors,{args:[0,-ne],checker:K}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],B.translateSelectedEditors,{args:[0,-de],checker:K}],[["ArrowDown","mac+ArrowDown"],B.translateSelectedEditors,{args:[0,ne],checker:K}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],B.translateSelectedEditors,{args:[0,de],checker:K}]]))}destroy(){ge(this,et,l0).call(this),ge(this,Ee,cy).call(this),this._eventBus._off("editingaction",k(this,je)),this._eventBus._off("pagechanging",k(this,Ne)),this._eventBus._off("scalechanging",k(this,Ye)),this._eventBus._off("rotationchanging",k(this,De));for(let B of k(this,G).values())B.destroy();k(this,G).clear(),k(this,H).clear(),k(this,he).clear(),Me(this,L,null),k(this,U).clear(),k(this,X).destroy(),k(this,j).destroy()}get hcmFilter(){return(0,r.shadow)(this,"hcmFilter",k(this,J)?k(this,Se).addHCMFilter(k(this,J).foreground,k(this,J).background):"none")}get direction(){return(0,r.shadow)(this,"direction",getComputedStyle(k(this,ae)).direction)}editAltText(B){var K;(K=k(this,j))==null||K.editAltText(this,B)}onPageChanging({pageNumber:B}){Me(this,Z,B-1)}focusMainContainer(){k(this,ae).focus()}findParent(B,K){for(let ne of k(this,G).values()){let{x:de,y:Ae,width:Re,height:We}=ne.div.getBoundingClientRect();if(B>=de&&B<=de+Re&&K>=Ae&&K<=Ae+We)return ne}return null}disableUserSelect(B=!1){k(this,z).classList.toggle("noUserSelect",B)}addShouldRescale(B){k(this,he).add(B)}removeShouldRescale(B){k(this,he).delete(B)}onScaleChanging({scale:B}){this.commitOrRemove(),this.viewParameters.realScale=B*i.PixelsPerInch.PDF_TO_CSS_UNITS;for(let K of k(this,he))K.onScaleChanging()}onRotationChanging({pagesRotation:B}){this.commitOrRemove(),this.viewParameters.rotation=B}addToAnnotationStorage(B){!B.isEmpty()&&k(this,q)&&!k(this,q).has(B.id)&&k(this,q).setValue(B.id,B)}blur(){if(!this.hasSelection)return;let{activeElement:B}=document;for(let K of k(this,U))if(K.div.contains(B)){Me(this,P,[K,B]),K._focusEventsAllowed=!1;break}}focus(){if(!k(this,P))return;let[B,K]=k(this,P);Me(this,P,null),K.addEventListener("focusin",()=>{B._focusEventsAllowed=!0},{once:!0}),K.focus()}addEditListeners(){ge(this,tt,dy).call(this),ge(this,Xe,fy).call(this)}removeEditListeners(){ge(this,et,l0).call(this),ge(this,Le,hy).call(this)}copy(B){var ne;if(B.preventDefault(),(ne=k(this,L))==null||ne.commitOrRemove(),!this.hasSelection)return;let K=[];for(let de of k(this,U)){let Ae=de.serialize(!0);Ae&&K.push(Ae)}K.length!==0&&B.clipboardData.setData("application/pdfjs",JSON.stringify(K))}cut(B){this.copy(B),this.delete()}paste(B){B.preventDefault();let{clipboardData:K}=B;for(let Ae of K.items)for(let Re of k(this,fe))if(Re.isHandlingMimeForPasting(Ae.type)){Re.paste(Ae,this.currentLayer);return}let ne=K.getData("application/pdfjs");if(!ne)return;try{ne=JSON.parse(ne)}catch(Ae){(0,r.warn)(`paste: "${Ae.message}".`);return}if(!Array.isArray(ne))return;this.unselectAll();let de=this.currentLayer;try{let Ae=[];for(let at of ne){let it=de.deserialize(at);if(!it)return;Ae.push(it)}let Re=()=>{for(let at of Ae)ge(this,nt,py).call(this,at);ge(this,ze,gy).call(this,Ae)},We=()=>{for(let at of Ae)at.remove()};this.addCommands({cmd:Re,undo:We,mustExec:!0})}catch(Ae){(0,r.warn)(`paste: "${Ae.message}".`)}}keydown(B){var K;(K=this.getActive())!=null&&K.shouldGetKeyboardEvents()||ft._keyboardManager.exec(this,B)}onEditingAction(B){["undo","redo","delete","selectAll"].includes(B.name)&&this[B.name]()}setEditingState(B){B?(ge(this,Q,w5).call(this),ge(this,tt,dy).call(this),ge(this,Xe,fy).call(this),ge(this,se,Oi).call(this,{isEditing:k(this,N)!==r.AnnotationEditorType.NONE,isEmpty:ge(this,vt,Ec).call(this),hasSomethingToUndo:k(this,X).hasSomethingToUndo(),hasSomethingToRedo:k(this,X).hasSomethingToRedo(),hasSelectedEditor:!1})):(ge(this,Ee,cy).call(this),ge(this,et,l0).call(this),ge(this,Le,hy).call(this),ge(this,se,Oi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(B){if(!k(this,fe)){Me(this,fe,B);for(let K of k(this,fe))ge(this,qe,wc).call(this,K.defaultPropertiesToUpdate)}}getId(){return k(this,V).getId()}get currentLayer(){return k(this,G).get(k(this,Z))}getLayer(B){return k(this,G).get(B)}get currentPageIndex(){return k(this,Z)}addLayer(B){k(this,G).set(B.pageIndex,B),k(this,O)?B.enable():B.disable()}removeLayer(B){k(this,G).delete(B.pageIndex)}updateMode(B,K=null){if(k(this,N)!==B){if(Me(this,N,B),B===r.AnnotationEditorType.NONE){this.setEditingState(!1),ge(this,Qe,A5).call(this);return}this.setEditingState(!0),ge(this,qt,E5).call(this),this.unselectAll();for(let ne of k(this,G).values())ne.updateMode(B);if(K){for(let ne of k(this,H).values())if(ne.annotationElementId===K){this.setSelected(ne),ne.enterInEditMode();break}}}}updateToolbar(B){B!==k(this,N)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:B})}updateParams(B,K){if(k(this,fe)){if(B===r.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(B);return}for(let ne of k(this,U))ne.updateParams(B,K);for(let ne of k(this,fe))ne.updateDefaultParams(B,K)}}enableWaiting(B=!1){if(k(this,M)!==B){Me(this,M,B);for(let K of k(this,G).values())B?K.disableClick():K.enableClick(),K.div.classList.toggle("waiting",B)}}getEditors(B){let K=[];for(let ne of k(this,H).values())ne.pageIndex===B&&K.push(ne);return K}getEditor(B){return k(this,H).get(B)}addEditor(B){k(this,H).set(B.id,B)}removeEditor(B){var K;k(this,H).delete(B.id),this.unselect(B),(!B.annotationElementId||!k(this,$).has(B.annotationElementId))&&((K=k(this,q))==null||K.remove(B.id))}addDeletedAnnotationElement(B){k(this,$).add(B.annotationElementId),B.deleted=!0}isDeletedAnnotationElement(B){return k(this,$).has(B)}removeDeletedAnnotationElement(B){k(this,$).delete(B.annotationElementId),B.deleted=!1}setActiveEditor(B){k(this,L)!==B&&(Me(this,L,B),B&&ge(this,qe,wc).call(this,B.propertiesToUpdate))}toggleSelected(B){if(k(this,U).has(B)){k(this,U).delete(B),B.unselect(),ge(this,se,Oi).call(this,{hasSelectedEditor:this.hasSelection});return}k(this,U).add(B),B.select(),ge(this,qe,wc).call(this,B.propertiesToUpdate),ge(this,se,Oi).call(this,{hasSelectedEditor:!0})}setSelected(B){for(let K of k(this,U))K!==B&&K.unselect();k(this,U).clear(),k(this,U).add(B),B.select(),ge(this,qe,wc).call(this,B.propertiesToUpdate),ge(this,se,Oi).call(this,{hasSelectedEditor:!0})}isSelected(B){return k(this,U).has(B)}unselect(B){B.unselect(),k(this,U).delete(B),ge(this,se,Oi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return k(this,U).size!==0}undo(){k(this,X).undo(),ge(this,se,Oi).call(this,{hasSomethingToUndo:k(this,X).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ge(this,vt,Ec).call(this)})}redo(){k(this,X).redo(),ge(this,se,Oi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:k(this,X).hasSomethingToRedo(),isEmpty:ge(this,vt,Ec).call(this)})}addCommands(B){k(this,X).add(B),ge(this,se,Oi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ge(this,vt,Ec).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let B=[...k(this,U)],K=()=>{for(let de of B)de.remove()},ne=()=>{for(let de of B)ge(this,nt,py).call(this,de)};this.addCommands({cmd:K,undo:ne,mustExec:!0})}commitOrRemove(){var B;(B=k(this,L))==null||B.commitOrRemove()}hasSomethingToControl(){return k(this,L)||this.hasSelection}selectAll(){for(let B of k(this,U))B.commit();ge(this,ze,gy).call(this,k(this,H).values())}unselectAll(){if(k(this,L)){k(this,L).commitOrRemove();return}if(this.hasSelection){for(let B of k(this,U))B.unselect();k(this,U).clear(),ge(this,se,Oi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(B,K,ne=!1){if(ne||this.commitOrRemove(),!this.hasSelection)return;k(this,Te)[0]+=B,k(this,Te)[1]+=K;let[de,Ae]=k(this,Te),Re=[...k(this,U)],We=1e3;k(this,me)&&clearTimeout(k(this,me)),Me(this,me,setTimeout(()=>{Me(this,me,null),k(this,Te)[0]=k(this,Te)[1]=0,this.addCommands({cmd:()=>{for(let at of Re)k(this,H).has(at.id)&&at.translateInPage(de,Ae)},undo:()=>{for(let at of Re)k(this,H).has(at.id)&&at.translateInPage(-de,-Ae)},mustExec:!1})},We));for(let at of Re)at.translateInPage(B,K)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Me(this,ue,new Map);for(let B of k(this,U))k(this,ue).set(B,{savedX:B.x,savedY:B.y,savedPageIndex:B.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!k(this,ue))return!1;this.disableUserSelect(!1);let B=k(this,ue);Me(this,ue,null);let K=!1;for(let[{x:de,y:Ae,pageIndex:Re},We]of B)We.newX=de,We.newY=Ae,We.newPageIndex=Re,K||=de!==We.savedX||Ae!==We.savedY||Re!==We.savedPageIndex;if(!K)return!1;let ne=(de,Ae,Re,We)=>{if(k(this,H).has(de.id)){let at=k(this,G).get(We);at?de._setParentAndPosition(at,Ae,Re):(de.pageIndex=We,de.x=Ae,de.y=Re)}};return this.addCommands({cmd:()=>{for(let[de,{newX:Ae,newY:Re,newPageIndex:We}]of B)ne(de,Ae,Re,We)},undo:()=>{for(let[de,{savedX:Ae,savedY:Re,savedPageIndex:We}]of B)ne(de,Ae,Re,We)},mustExec:!0}),!0}dragSelectedEditors(B,K){if(k(this,ue))for(let ne of k(this,ue).keys())ne.drag(B,K)}rebuild(B){if(B.parent===null){let K=this.getLayer(B.pageIndex);K?(K.changeParent(B),K.addOrRebuild(B)):(this.addEditor(B),this.addToAnnotationStorage(B),B.rebuild())}else B.parent.addOrRebuild(B)}isActive(B){return k(this,L)===B}getActive(){return k(this,L)}getMode(){return k(this,N)}get imageManager(){return(0,r.shadow)(this,"imageManager",new d)}};L=new WeakMap,H=new WeakMap,G=new WeakMap,j=new WeakMap,q=new WeakMap,X=new WeakMap,Z=new WeakMap,$=new WeakMap,ue=new WeakMap,fe=new WeakMap,he=new WeakMap,Se=new WeakMap,V=new WeakMap,O=new WeakMap,M=new WeakMap,P=new WeakMap,N=new WeakMap,U=new WeakMap,J=new WeakMap,te=new WeakMap,re=new WeakMap,pe=new WeakMap,ve=new WeakMap,Pe=new WeakMap,ke=new WeakMap,je=new WeakMap,Ne=new WeakMap,Ye=new WeakMap,De=new WeakMap,ye=new WeakMap,Te=new WeakMap,me=new WeakMap,ae=new WeakMap,z=new WeakMap,Q=new WeakSet,w5=function(){window.addEventListener("focus",k(this,re)),window.addEventListener("blur",k(this,te))},Ee=new WeakSet,cy=function(){window.removeEventListener("focus",k(this,re)),window.removeEventListener("blur",k(this,te))},tt=new WeakSet,dy=function(){window.addEventListener("keydown",k(this,ke),{capture:!0})},et=new WeakSet,l0=function(){window.removeEventListener("keydown",k(this,ke),{capture:!0})},Xe=new WeakSet,fy=function(){document.addEventListener("copy",k(this,pe)),document.addEventListener("cut",k(this,ve)),document.addEventListener("paste",k(this,Pe))},Le=new WeakSet,hy=function(){document.removeEventListener("copy",k(this,pe)),document.removeEventListener("cut",k(this,ve)),document.removeEventListener("paste",k(this,Pe))},se=new WeakSet,Oi=function(B){Object.entries(B).some(([ne,de])=>k(this,ye)[ne]!==de)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(k(this,ye),B)})},qe=new WeakSet,wc=function(B){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:B})},qt=new WeakSet,E5=function(){if(!k(this,O)){Me(this,O,!0);for(let B of k(this,G).values())B.enable()}},Qe=new WeakSet,A5=function(){if(this.unselectAll(),k(this,O)){Me(this,O,!1);for(let B of k(this,G).values())B.disable()}},nt=new WeakSet,py=function(B){let K=k(this,G).get(B.pageIndex);K?K.addOrRebuild(B):this.addEditor(B)},vt=new WeakSet,Ec=function(){if(k(this,H).size===0)return!0;if(k(this,H).size===1)for(let B of k(this,H).values())return B.isEmpty();return!1},ze=new WeakSet,gy=function(B){k(this,U).clear();for(let K of B)K.isEmpty()||(k(this,U).add(K),K.select());ge(this,se,Oi).call(this,{hasSelectedEditor:!0})},wn(ft,"TRANSLATE_SMALL",1),wn(ft,"TRANSLATE_BIG",10);let b=ft;e.AnnotationEditorUIManager=b},(n,e,t)=>{var Z,$,ue,fe,he,Se,V,O,M,P,N,U,ku,te,Ru,pe,my,Pe,c0,je,d0,Ye,Ac,ye,Sc;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=I,e.getColorValues=H,e.getCurrentTransform=G,e.getCurrentTransformInverse=j,e.getFilenameFromUrl=g,e.getPdfFilenameFromUrl=w,e.getRGB=L,e.getXfaPageViewport=D,e.isDataScheme=h,e.isPdfFile=l,e.isValidFetchUrl=A,e.loadScript=C,e.noContextMenu=_,e.setLayerDimensions=q;var r=t(7),i=t(1);let s="http://www.w3.org/2000/svg",X=class X{};wn(X,"CSS",96),wn(X,"PDF",72),wn(X,"PDF_TO_CSS_UNITS",X.CSS/X.PDF);let o=X;e.PixelsPerInch=o;class c extends r.BaseFilterFactory{constructor({docId:z,ownerDocument:Q=globalThis.document}={}){super();oe(this,U);oe(this,te);oe(this,pe);oe(this,Pe);oe(this,je);oe(this,Ye);oe(this,ye);oe(this,Z,void 0);oe(this,$,void 0);oe(this,ue,void 0);oe(this,fe,void 0);oe(this,he,void 0);oe(this,Se,void 0);oe(this,V,void 0);oe(this,O,void 0);oe(this,M,void 0);oe(this,P,void 0);oe(this,N,0);Me(this,ue,z),Me(this,fe,Q)}addFilter(z){if(!z)return"none";let Q=k(this,U,ku).get(z);if(Q)return Q;let le,Ee,Be,tt;if(z.length===1){let Xe=z[0],ot=new Array(256);for(let Le=0;Le<256;Le++)ot[Le]=Xe[Le]/255;tt=le=Ee=Be=ot.join(",")}else{let[Xe,ot,Le]=z,_e=new Array(256),se=new Array(256),He=new Array(256);for(let qe=0;qe<256;qe++)_e[qe]=Xe[qe]/255,se[qe]=ot[qe]/255,He[qe]=Le[qe]/255;le=_e.join(","),Ee=se.join(","),Be=He.join(","),tt=`${le}${Ee}${Be}`}if(Q=k(this,U,ku).get(tt),Q)return k(this,U,ku).set(z,Q),Q;let $e=`g_${k(this,ue)}_transfer_map_${el(this,N)._++}`,et=`url(#${$e})`;k(this,U,ku).set(z,et),k(this,U,ku).set(tt,et);let Ge=ge(this,Pe,c0).call(this,$e);return ge(this,Ye,Ac).call(this,le,Ee,Be,Ge),et}addHCMFilter(z,Q){var ot;let le=`${z}-${Q}`;if(k(this,Se)===le)return k(this,V);if(Me(this,Se,le),Me(this,V,"none"),(ot=k(this,he))==null||ot.remove(),!z||!Q)return k(this,V);let Ee=ge(this,ye,Sc).call(this,z);z=i.Util.makeHexColor(...Ee);let Be=ge(this,ye,Sc).call(this,Q);if(Q=i.Util.makeHexColor(...Be),k(this,te,Ru).style.color="",z==="#000000"&&Q==="#ffffff"||z===Q)return k(this,V);let tt=new Array(256);for(let Le=0;Le<=255;Le++){let _e=Le/255;tt[Le]=_e<=.03928?_e/12.92:((_e+.055)/1.055)**2.4}let $e=tt.join(","),et=`g_${k(this,ue)}_hcm_filter`,Ge=Me(this,O,ge(this,Pe,c0).call(this,et));ge(this,Ye,Ac).call(this,$e,$e,$e,Ge),ge(this,pe,my).call(this,Ge);let Xe=(Le,_e)=>{let se=Ee[Le]/255,He=Be[Le]/255,qe=new Array(_e+1);for(let Lt=0;Lt<=_e;Lt++)qe[Lt]=se+Lt/_e*(He-se);return qe.join(",")};return ge(this,Ye,Ac).call(this,Xe(0,5),Xe(1,5),Xe(2,5),Ge),Me(this,V,`url(#${et})`),k(this,V)}addHighlightHCMFilter(z,Q,le,Ee){var He;let Be=`${z}-${Q}-${le}-${Ee}`;if(k(this,M)===Be)return k(this,P);if(Me(this,M,Be),Me(this,P,"none"),(He=k(this,O))==null||He.remove(),!z||!Q)return k(this,P);let[tt,$e]=[z,Q].map(ge(this,ye,Sc).bind(this)),et=Math.round(.2126*tt[0]+.7152*tt[1]+.0722*tt[2]),Ge=Math.round(.2126*$e[0]+.7152*$e[1]+.0722*$e[2]),[Xe,ot]=[le,Ee].map(ge(this,ye,Sc).bind(this));Ge<et&&([et,Ge,Xe,ot]=[Ge,et,ot,Xe]),k(this,te,Ru).style.color="";let Le=(qe,Lt,qt)=>{let Ce=new Array(256),Qe=(Ge-et)/qt,gt=qe/255,nt=(Lt-qe)/(255*qt),bt=0;for(let vt=0;vt<=qt;vt++){let Ht=Math.round(et+vt*Qe),ze=gt+vt*nt;for(let Pt=bt;Pt<=Ht;Pt++)Ce[Pt]=ze;bt=Ht+1}for(let vt=bt;vt<256;vt++)Ce[vt]=Ce[bt-1];return Ce.join(",")},_e=`g_${k(this,ue)}_hcm_highlight_filter`,se=Me(this,O,ge(this,Pe,c0).call(this,_e));return ge(this,pe,my).call(this,se),ge(this,Ye,Ac).call(this,Le(Xe[0],ot[0],5),Le(Xe[1],ot[1],5),Le(Xe[2],ot[2],5),se),Me(this,P,`url(#${_e})`),k(this,P)}destroy(z=!1){z&&(k(this,V)||k(this,P))||(k(this,$)&&(k(this,$).parentNode.parentNode.remove(),Me(this,$,null)),k(this,Z)&&(k(this,Z).clear(),Me(this,Z,null)),Me(this,N,0))}}Z=new WeakMap,$=new WeakMap,ue=new WeakMap,fe=new WeakMap,he=new WeakMap,Se=new WeakMap,V=new WeakMap,O=new WeakMap,M=new WeakMap,P=new WeakMap,N=new WeakMap,U=new WeakSet,ku=function(){return k(this,Z)||Me(this,Z,new Map)},te=new WeakSet,Ru=function(){if(!k(this,$)){let z=k(this,fe).createElement("div"),{style:Q}=z;Q.visibility="hidden",Q.contain="strict",Q.width=Q.height=0,Q.position="absolute",Q.top=Q.left=0,Q.zIndex=-1;let le=k(this,fe).createElementNS(s,"svg");le.setAttribute("width",0),le.setAttribute("height",0),Me(this,$,k(this,fe).createElementNS(s,"defs")),z.append(le),le.append(k(this,$)),k(this,fe).body.append(z)}return k(this,$)},pe=new WeakSet,my=function(z){let Q=k(this,fe).createElementNS(s,"feColorMatrix");Q.setAttribute("type","matrix"),Q.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),z.append(Q)},Pe=new WeakSet,c0=function(z){let Q=k(this,fe).createElementNS(s,"filter");return Q.setAttribute("color-interpolation-filters","sRGB"),Q.setAttribute("id",z),k(this,te,Ru).append(Q),Q},je=new WeakSet,d0=function(z,Q,le){let Ee=k(this,fe).createElementNS(s,Q);Ee.setAttribute("type","discrete"),Ee.setAttribute("tableValues",le),z.append(Ee)},Ye=new WeakSet,Ac=function(z,Q,le,Ee){let Be=k(this,fe).createElementNS(s,"feComponentTransfer");Ee.append(Be),ge(this,je,d0).call(this,Be,"feFuncR",z),ge(this,je,d0).call(this,Be,"feFuncG",Q),ge(this,je,d0).call(this,Be,"feFuncB",le)},ye=new WeakSet,Sc=function(z){return k(this,te,Ru).style.color=z,L(getComputedStyle(k(this,te,Ru)).getPropertyValue("color"))},e.DOMFilterFactory=c;class d extends r.BaseCanvasFactory{constructor({ownerDocument:ae=globalThis.document}={}){super(),this._document=ae}_createCanvas(ae,z){let Q=this._document.createElement("canvas");return Q.width=ae,Q.height=z,Q}}e.DOMCanvasFactory=d;async function u(me,ae=!1){if(A(me,document.baseURI)){let z=await fetch(me);if(!z.ok)throw new Error(z.statusText);return ae?new Uint8Array(await z.arrayBuffer()):(0,i.stringToBytes)(await z.text())}return new Promise((z,Q)=>{let le=new XMLHttpRequest;le.open("GET",me,!0),ae&&(le.responseType="arraybuffer"),le.onreadystatechange=()=>{if(le.readyState===XMLHttpRequest.DONE){if(le.status===200||le.status===0){let Ee;if(ae&&le.response?Ee=new Uint8Array(le.response):!ae&&le.responseText&&(Ee=(0,i.stringToBytes)(le.responseText)),Ee){z(Ee);return}}Q(new Error(le.statusText))}},le.send(null)})}class p extends r.BaseCMapReaderFactory{_fetchData(ae,z){return u(ae,this.isCompressed).then(Q=>({cMapData:Q,compressionType:z}))}}e.DOMCMapReaderFactory=p;class m extends r.BaseStandardFontDataFactory{_fetchData(ae){return u(ae,!0)}}e.DOMStandardFontDataFactory=m;class b extends r.BaseSVGFactory{_createSVG(ae){return document.createElementNS(s,ae)}}e.DOMSVGFactory=b;class v{constructor({viewBox:ae,scale:z,rotation:Q,offsetX:le=0,offsetY:Ee=0,dontFlip:Be=!1}){this.viewBox=ae,this.scale=z,this.rotation=Q,this.offsetX=le,this.offsetY=Ee;let tt=(ae[2]+ae[0])/2,$e=(ae[3]+ae[1])/2,et,Ge,Xe,ot;switch(Q%=360,Q<0&&(Q+=360),Q){case 180:et=-1,Ge=0,Xe=0,ot=1;break;case 90:et=0,Ge=1,Xe=1,ot=0;break;case 270:et=0,Ge=-1,Xe=-1,ot=0;break;case 0:et=1,Ge=0,Xe=0,ot=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Be&&(Xe=-Xe,ot=-ot);let Le,_e,se,He;et===0?(Le=Math.abs($e-ae[1])*z+le,_e=Math.abs(tt-ae[0])*z+Ee,se=(ae[3]-ae[1])*z,He=(ae[2]-ae[0])*z):(Le=Math.abs(tt-ae[0])*z+le,_e=Math.abs($e-ae[1])*z+Ee,se=(ae[2]-ae[0])*z,He=(ae[3]-ae[1])*z),this.transform=[et*z,Ge*z,Xe*z,ot*z,Le-et*z*tt-Xe*z*$e,_e-Ge*z*tt-ot*z*$e],this.width=se,this.height=He}get rawDims(){let{viewBox:ae}=this;return(0,i.shadow)(this,"rawDims",{pageWidth:ae[2]-ae[0],pageHeight:ae[3]-ae[1],pageX:ae[0],pageY:ae[1]})}clone({scale:ae=this.scale,rotation:z=this.rotation,offsetX:Q=this.offsetX,offsetY:le=this.offsetY,dontFlip:Ee=!1}={}){return new v({viewBox:this.viewBox.slice(),scale:ae,rotation:z,offsetX:Q,offsetY:le,dontFlip:Ee})}convertToViewportPoint(ae,z){return i.Util.applyTransform([ae,z],this.transform)}convertToViewportRectangle(ae){let z=i.Util.applyTransform([ae[0],ae[1]],this.transform),Q=i.Util.applyTransform([ae[2],ae[3]],this.transform);return[z[0],z[1],Q[0],Q[1]]}convertToPdfPoint(ae,z){return i.Util.applyInverseTransform([ae,z],this.transform)}}e.PageViewport=v;class y extends i.BaseException{constructor(ae,z=0){super(ae,"RenderingCancelledException"),this.extraDelay=z}}e.RenderingCancelledException=y;function h(me){let ae=me.length,z=0;for(;z<ae&&me[z].trim()==="";)z++;return me.substring(z,z+5).toLowerCase()==="data:"}function l(me){return typeof me=="string"&&/\.pdf$/i.test(me)}function g(me,ae=!1){return ae||([me]=me.split(/[#?]/,1)),me.substring(me.lastIndexOf("/")+1)}function w(me,ae="document.pdf"){if(typeof me!="string")return ae;if(h(me))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ae;let z=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Q=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,le=z.exec(me),Ee=Q.exec(le[1])||Q.exec(le[2])||Q.exec(le[3]);if(Ee&&(Ee=Ee[0],Ee.includes("%")))try{Ee=Q.exec(decodeURIComponent(Ee))[0]}catch{}return Ee||ae}class E{started=Object.create(null);times=[];time(ae){ae in this.started&&(0,i.warn)(`Timer is already running for ${ae}`),this.started[ae]=Date.now()}timeEnd(ae){ae in this.started||(0,i.warn)(`Timer has not been started for ${ae}`),this.times.push({name:ae,start:this.started[ae],end:Date.now()}),delete this.started[ae]}toString(){let ae=[],z=0;for(let{name:Q}of this.times)z=Math.max(Q.length,z);for(let{name:Q,start:le,end:Ee}of this.times)ae.push(`${Q.padEnd(z)} ${Ee-le}ms
`);return ae.join("")}}e.StatTimer=E;function A(me,ae){try{let{protocol:z}=ae?new URL(me,ae):new URL(me);return z==="http:"||z==="https:"}catch{return!1}}function _(me){me.preventDefault()}function C(me,ae=!1){return new Promise((z,Q)=>{let le=document.createElement("script");le.src=me,le.onload=function(Ee){ae&&le.remove(),z(Ee)},le.onerror=function(){Q(new Error(`Cannot load script at: ${le.src}`))},(document.head||document.documentElement).append(le)})}function I(me){console.log("Deprecated API usage: "+me)}let T;class x{static toDateObject(ae){if(!ae||typeof ae!="string")return null;T||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let z=T.exec(ae);if(!z)return null;let Q=parseInt(z[1],10),le=parseInt(z[2],10);le=le>=1&&le<=12?le-1:0;let Ee=parseInt(z[3],10);Ee=Ee>=1&&Ee<=31?Ee:1;let Be=parseInt(z[4],10);Be=Be>=0&&Be<=23?Be:0;let tt=parseInt(z[5],10);tt=tt>=0&&tt<=59?tt:0;let $e=parseInt(z[6],10);$e=$e>=0&&$e<=59?$e:0;let et=z[7]||"Z",Ge=parseInt(z[8],10);Ge=Ge>=0&&Ge<=23?Ge:0;let Xe=parseInt(z[9],10)||0;return Xe=Xe>=0&&Xe<=59?Xe:0,et==="-"?(Be+=Ge,tt+=Xe):et==="+"&&(Be-=Ge,tt-=Xe),new Date(Date.UTC(Q,le,Ee,Be,tt,$e))}}e.PDFDateString=x;function D(me,{scale:ae=1,rotation:z=0}){let{width:Q,height:le}=me.attributes.style,Ee=[0,0,parseInt(Q),parseInt(le)];return new v({viewBox:Ee,scale:ae,rotation:z})}function L(me){if(me.startsWith("#")){let ae=parseInt(me.slice(1),16);return[(ae&16711680)>>16,(ae&65280)>>8,ae&255]}return me.startsWith("rgb(")?me.slice(4,-1).split(",").map(ae=>parseInt(ae)):me.startsWith("rgba(")?me.slice(5,-1).split(",").map(ae=>parseInt(ae)).slice(0,3):((0,i.warn)(`Not a valid color format: "${me}"`),[0,0,0])}function H(me){let ae=document.createElement("span");ae.style.visibility="hidden",document.body.append(ae);for(let z of me.keys()){ae.style.color=z;let Q=window.getComputedStyle(ae).color;me.set(z,L(Q))}ae.remove()}function G(me){let{a:ae,b:z,c:Q,d:le,e:Ee,f:Be}=me.getTransform();return[ae,z,Q,le,Ee,Be]}function j(me){let{a:ae,b:z,c:Q,d:le,e:Ee,f:Be}=me.getTransform().invertSelf();return[ae,z,Q,le,Ee,Be]}function q(me,ae,z=!1,Q=!0){if(ae instanceof v){let{pageWidth:le,pageHeight:Ee}=ae.rawDims,{style:Be}=me,tt=i.FeatureTest.isCSSRoundSupported,$e=`var(--scale-factor) * ${le}px`,et=`var(--scale-factor) * ${Ee}px`,Ge=tt?`round(${$e}, 1px)`:`calc(${$e})`,Xe=tt?`round(${et}, 1px)`:`calc(${et})`;!z||ae.rotation%180===0?(Be.width=Ge,Be.height=Xe):(Be.width=Xe,Be.height=Ge)}Q&&me.setAttribute("data-main-rotation",ae.rotation)}},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var r=t(1);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(p){return"none"}addHCMFilter(p,m){return"none"}addHighlightHCMFilter(p,m,b,v){return"none"}destroy(p=!1){}}e.BaseFilterFactory=i;class s{constructor(){this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(p,m){if(p<=0||m<=0)throw new Error("Invalid canvas size");let b=this._createCanvas(p,m);return{canvas:b,context:b.getContext("2d")}}reset(p,m,b){if(!p.canvas)throw new Error("Canvas is not specified");if(m<=0||b<=0)throw new Error("Invalid canvas size");p.canvas.width=m,p.canvas.height=b}destroy(p){if(!p.canvas)throw new Error("Canvas is not specified");p.canvas.width=0,p.canvas.height=0,p.canvas=null,p.context=null}_createCanvas(p,m){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=s;class o{constructor({baseUrl:p=null,isCompressed:m=!0}){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=p,this.isCompressed=m}async fetch({name:p}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!p)throw new Error("CMap name must be specified.");let m=this.baseUrl+p+(this.isCompressed?".bcmap":""),b=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(m,b).catch(v=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${m}`)})}_fetchData(p,m){(0,r.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=o;class c{constructor({baseUrl:p=null}){this.constructor===c&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=p}async fetch({filename:p}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!p)throw new Error("Font filename must be specified.");let m=`${this.baseUrl}${p}`;return this._fetchData(m).catch(b=>{throw new Error(`Unable to load font data at: ${m}`)})}_fetchData(p){(0,r.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=c;class d{constructor(){this.constructor===d&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(p,m,b=!1){if(p<=0||m<=0)throw new Error("Invalid SVG dimensions");let v=this._createSVG("svg:svg");return v.setAttribute("version","1.1"),b||(v.setAttribute("width",`${p}px`),v.setAttribute("height",`${m}px`)),v.setAttribute("preserveAspectRatio","none"),v.setAttribute("viewBox",`0 0 ${p} ${m}`),v}createElement(p){if(typeof p!="string")throw new Error("Invalid SVG element type");return this._createSVG(p)}_createSVG(p){(0,r.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=d},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var r=t(1);let i=3285377520,s=4294901760,o=65535;class c{constructor(u){this.h1=u?u&4294967295:i,this.h2=u?u&4294967295:i}update(u){let p,m;if(typeof u=="string"){p=new Uint8Array(u.length*2),m=0;for(let I=0,T=u.length;I<T;I++){let x=u.charCodeAt(I);x<=255?p[m++]=x:(p[m++]=x>>>8,p[m++]=x&255)}}else if((0,r.isArrayBuffer)(u))p=u.slice(),m=p.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let b=m>>2,v=m-b*4,y=new Uint32Array(p.buffer,0,b),h=0,l=0,g=this.h1,w=this.h2,E=3432918353,A=461845907,_=E&o,C=A&o;for(let I=0;I<b;I++)I&1?(h=y[I],h=h*E&s|h*_&o,h=h<<15|h>>>17,h=h*A&s|h*C&o,g^=h,g=g<<13|g>>>19,g=g*5+3864292196):(l=y[I],l=l*E&s|l*_&o,l=l<<15|l>>>17,l=l*A&s|l*C&o,w^=l,w=w<<13|w>>>19,w=w*5+3864292196);switch(h=0,v){case 3:h^=p[b*4+2]<<16;case 2:h^=p[b*4+1]<<8;case 1:h^=p[b*4],h=h*E&s|h*_&o,h=h<<15|h>>>17,h=h*A&s|h*C&o,b&1?g^=h:w^=h}this.h1=g,this.h2=w}hexdigest(){let u=this.h1,p=this.h2;return u^=p>>>1,u=u*3981806797&s|u*36045&o,p=p*4283543511&s|((p<<16|u>>>16)*2950163797&s)>>>16,u^=p>>>1,u=u*444984403&s|u*60499&o,p=p*3301882366&s|((p<<16|u>>>16)*3120437893&s)>>>16,u^=p>>>1,(u>>>0).toString(16).padStart(8,"0")+(p>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=c},(n,e,t)=>{var o;Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var r=t(1);class i{constructor({ownerDocument:d=globalThis.document,styleElement:u=null}){oe(this,o,new Set);this._document=d,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(d){this.nativeFontFaces.add(d),this._document.fonts.add(d)}removeNativeFontFace(d){this.nativeFontFaces.delete(d),this._document.fonts.delete(d)}insertRule(d){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let u=this.styleElement.sheet;u.insertRule(d,u.cssRules.length)}clear(){for(let d of this.nativeFontFaces)this._document.fonts.delete(d);this.nativeFontFaces.clear(),k(this,o).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(d){if(!(!d||k(this,o).has(d.loadedName))){if((0,r.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:u,src:p,style:m}=d,b=new FontFace(u,p,m);this.addNativeFontFace(b);try{await b.load(),k(this,o).add(u)}catch{(0,r.warn)(`Cannot load system font: ${d.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(b)}return}(0,r.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(d){if(d.attached||d.missingFile&&!d.systemFontInfo)return;if(d.attached=!0,d.systemFontInfo){await this.loadSystemFont(d.systemFontInfo);return}if(this.isFontLoadingAPISupported){let p=d.createNativeFontFace();if(p){this.addNativeFontFace(p);try{await p.loaded}catch(m){throw(0,r.warn)(`Failed to load font '${p.family}': '${m}'.`),d.disableFontFace=!0,m}}return}let u=d.createFontFaceRule();if(u){if(this.insertRule(u),this.isSyncFontLoadingSupported)return;await new Promise(p=>{let m=this._queueLoadingCallback(p);this._prepareFontLoadEvent(d,m)})}}get isFontLoadingAPISupported(){var u;let d=!!((u=this._document)!=null&&u.fonts);return(0,r.shadow)(this,"isFontLoadingAPISupported",d)}get isSyncFontLoadingSupported(){let d=!1;return(r.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(d=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",d)}_queueLoadingCallback(d){function u(){for((0,r.assert)(!m.done,"completeRequest() cannot be called twice."),m.done=!0;p.length>0&&p[0].done;){let b=p.shift();setTimeout(b.callback,0)}}let{loadingRequests:p}=this,m={done:!1,complete:u,callback:d};return p.push(m),m}get _loadTestFont(){let d=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",d)}_prepareFontLoadEvent(d,u){function p(L,H){return L.charCodeAt(H)<<24|L.charCodeAt(H+1)<<16|L.charCodeAt(H+2)<<8|L.charCodeAt(H+3)&255}function m(L,H,G,j){let q=L.substring(0,H),X=L.substring(H+G);return q+j+X}let b,v,y=this._document.createElement("canvas");y.width=1,y.height=1;let h=y.getContext("2d"),l=0;function g(L,H){if(++l>30){(0,r.warn)("Load test font never loaded."),H();return}if(h.font="30px "+L,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){H();return}setTimeout(g.bind(null,L,H))}let w=`lt${Date.now()}${this.loadTestFontId++}`,E=this._loadTestFont;E=m(E,976,w.length,w);let _=16,C=1482184792,I=p(E,_);for(b=0,v=w.length-3;b<v;b+=4)I=I-C+p(w,b)|0;b<w.length&&(I=I-C+p(w+"XXX",b)|0),E=m(E,_,4,(0,r.string32)(I));let T=`url(data:font/opentype;base64,${btoa(E)});`,x=`@font-face {font-family:"${w}";src:${T}}`;this.insertRule(x);let D=this._document.createElement("div");D.style.visibility="hidden",D.style.width=D.style.height="10px",D.style.position="absolute",D.style.top=D.style.left="0px";for(let L of[d.loadedName,w]){let H=this._document.createElement("span");H.textContent="Hi",H.style.fontFamily=L,D.append(H)}this._document.body.append(D),g(w,()=>{D.remove(),u.complete()})}}o=new WeakMap,e.FontLoader=i;class s{constructor(d,{isEvalSupported:u=!0,disableFontFace:p=!1,ignoreErrors:m=!1,inspectFont:b=null}){this.compiledGlyphs=Object.create(null);for(let v in d)this[v]=d[v];this.isEvalSupported=u!==!1,this.disableFontFace=p===!0,this.ignoreErrors=m===!0,this._inspectFont=b}createNativeFontFace(){var u;if(!this.data||this.disableFontFace)return null;let d;if(!this.cssFontInfo)d=new FontFace(this.loadedName,this.data,{});else{let p={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(p.style=`oblique ${this.cssFontInfo.italicAngle}deg`),d=new FontFace(this.cssFontInfo.fontFamily,this.data,p)}return(u=this._inspectFont)==null||u.call(this,this),d}createFontFaceRule(){var m;if(!this.data||this.disableFontFace)return null;let d=(0,r.bytesToString)(this.data),u=`url(data:${this.mimetype};base64,${btoa(d)});`,p;if(!this.cssFontInfo)p=`@font-face {font-family:"${this.loadedName}";src:${u}}`;else{let b=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(b+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),p=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${b}src:${u}}`}return(m=this._inspectFont)==null||m.call(this,this,u),p}getPathGenerator(d,u){if(this.compiledGlyphs[u]!==void 0)return this.compiledGlyphs[u];let p;try{p=d.get(this.loadedName+"_path_"+u)}catch(m){if(!this.ignoreErrors)throw m;return(0,r.warn)(`getPathGenerator - ignoring character: "${m}".`),this.compiledGlyphs[u]=function(b,v){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){let m=[];for(let b of p){let v=b.args!==void 0?b.args.join(","):"";m.push("c.",b.cmd,"(",v,`);
`)}return this.compiledGlyphs[u]=new Function("c","size",m.join(""))}return this.compiledGlyphs[u]=function(m,b){for(let v of p)v.cmd==="scale"&&(v.args=[b,-b]),m[v.cmd].apply(m,v.args)}}}e.FontFaceObject=s},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var r=t(7),i=t(1);let s=function(p){return new Promise((m,b)=>{Il().readFile(p,(y,h)=>{if(y||!h){b(new Error(y));return}m(new Uint8Array(h))})})};class o extends r.BaseFilterFactory{}e.NodeFilterFactory=o;class c extends r.BaseCanvasFactory{_createCanvas(m,b){return h5().createCanvas(m,b)}}e.NodeCanvasFactory=c;class d extends r.BaseCMapReaderFactory{_fetchData(m,b){return s(m).then(v=>({cMapData:v,compressionType:b}))}}e.NodeCMapReaderFactory=d;class u extends r.BaseStandardFontDataFactory{_fetchData(m){return s(m)}}e.NodeStandardFontDataFactory=u},(n,e,t)=>{var $,yy,fe,by;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var r=t(1),i=t(6),s=t(12),o=t(13);let c=16,d=100,u=4096,p=15,m=10,b=1e3,v=16;function y(V,O){if(V._removeMirroring)throw new Error("Context is already forwarding operations.");V.__originalSave=V.save,V.__originalRestore=V.restore,V.__originalRotate=V.rotate,V.__originalScale=V.scale,V.__originalTranslate=V.translate,V.__originalTransform=V.transform,V.__originalSetTransform=V.setTransform,V.__originalResetTransform=V.resetTransform,V.__originalClip=V.clip,V.__originalMoveTo=V.moveTo,V.__originalLineTo=V.lineTo,V.__originalBezierCurveTo=V.bezierCurveTo,V.__originalRect=V.rect,V.__originalClosePath=V.closePath,V.__originalBeginPath=V.beginPath,V._removeMirroring=()=>{V.save=V.__originalSave,V.restore=V.__originalRestore,V.rotate=V.__originalRotate,V.scale=V.__originalScale,V.translate=V.__originalTranslate,V.transform=V.__originalTransform,V.setTransform=V.__originalSetTransform,V.resetTransform=V.__originalResetTransform,V.clip=V.__originalClip,V.moveTo=V.__originalMoveTo,V.lineTo=V.__originalLineTo,V.bezierCurveTo=V.__originalBezierCurveTo,V.rect=V.__originalRect,V.closePath=V.__originalClosePath,V.beginPath=V.__originalBeginPath,delete V._removeMirroring},V.save=function(){O.save(),this.__originalSave()},V.restore=function(){O.restore(),this.__originalRestore()},V.translate=function(P,N){O.translate(P,N),this.__originalTranslate(P,N)},V.scale=function(P,N){O.scale(P,N),this.__originalScale(P,N)},V.transform=function(P,N,U,J,te,re){O.transform(P,N,U,J,te,re),this.__originalTransform(P,N,U,J,te,re)},V.setTransform=function(P,N,U,J,te,re){O.setTransform(P,N,U,J,te,re),this.__originalSetTransform(P,N,U,J,te,re)},V.resetTransform=function(){O.resetTransform(),this.__originalResetTransform()},V.rotate=function(P){O.rotate(P),this.__originalRotate(P)},V.clip=function(P){O.clip(P),this.__originalClip(P)},V.moveTo=function(M,P){O.moveTo(M,P),this.__originalMoveTo(M,P)},V.lineTo=function(M,P){O.lineTo(M,P),this.__originalLineTo(M,P)},V.bezierCurveTo=function(M,P,N,U,J,te){O.bezierCurveTo(M,P,N,U,J,te),this.__originalBezierCurveTo(M,P,N,U,J,te)},V.rect=function(M,P,N,U){O.rect(M,P,N,U),this.__originalRect(M,P,N,U)},V.closePath=function(){O.closePath(),this.__originalClosePath()},V.beginPath=function(){O.beginPath(),this.__originalBeginPath()}}class h{constructor(O){this.canvasFactory=O,this.cache=Object.create(null)}getCanvas(O,M,P){let N;return this.cache[O]!==void 0?(N=this.cache[O],this.canvasFactory.reset(N,M,P)):(N=this.canvasFactory.create(M,P),this.cache[O]=N),N}delete(O){delete this.cache[O]}clear(){for(let O in this.cache){let M=this.cache[O];this.canvasFactory.destroy(M),delete this.cache[O]}}}function l(V,O,M,P,N,U,J,te,re,pe){let[ve,Pe,ke,je,Ne,Ye]=(0,i.getCurrentTransform)(V);if(Pe===0&&ke===0){let Te=J*ve+Ne,me=Math.round(Te),ae=te*je+Ye,z=Math.round(ae),Q=(J+re)*ve+Ne,le=Math.abs(Math.round(Q)-me)||1,Ee=(te+pe)*je+Ye,Be=Math.abs(Math.round(Ee)-z)||1;return V.setTransform(Math.sign(ve),0,0,Math.sign(je),me,z),V.drawImage(O,M,P,N,U,0,0,le,Be),V.setTransform(ve,Pe,ke,je,Ne,Ye),[le,Be]}if(ve===0&&je===0){let Te=te*ke+Ne,me=Math.round(Te),ae=J*Pe+Ye,z=Math.round(ae),Q=(te+pe)*ke+Ne,le=Math.abs(Math.round(Q)-me)||1,Ee=(J+re)*Pe+Ye,Be=Math.abs(Math.round(Ee)-z)||1;return V.setTransform(0,Math.sign(Pe),Math.sign(ke),0,me,z),V.drawImage(O,M,P,N,U,0,0,Be,le),V.setTransform(ve,Pe,ke,je,Ne,Ye),[Be,le]}V.drawImage(O,M,P,N,U,J,te,re,pe);let De=Math.hypot(ve,Pe),ye=Math.hypot(ke,je);return[De*re,ye*pe]}function g(V){let{width:O,height:M}=V;if(O>b||M>b)return null;let P=1e3,N=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),U=O+1,J=new Uint8Array(U*(M+1)),te,re,pe,ve=O+7&-8,Pe=new Uint8Array(ve*M),ke=0;for(let ye of V.data){let Te=128;for(;Te>0;)Pe[ke++]=ye&Te?0:255,Te>>=1}let je=0;for(ke=0,Pe[ke]!==0&&(J[0]=1,++je),re=1;re<O;re++)Pe[ke]!==Pe[ke+1]&&(J[re]=Pe[ke]?2:1,++je),ke++;for(Pe[ke]!==0&&(J[re]=2,++je),te=1;te<M;te++){ke=te*ve,pe=te*U,Pe[ke-ve]!==Pe[ke]&&(J[pe]=Pe[ke]?1:8,++je);let ye=(Pe[ke]?4:0)+(Pe[ke-ve]?8:0);for(re=1;re<O;re++)ye=(ye>>2)+(Pe[ke+1]?4:0)+(Pe[ke-ve+1]?8:0),N[ye]&&(J[pe+re]=N[ye],++je),ke++;if(Pe[ke-ve]!==Pe[ke]&&(J[pe+re]=Pe[ke]?2:4,++je),je>P)return null}for(ke=ve*(M-1),pe=te*U,Pe[ke]!==0&&(J[pe]=8,++je),re=1;re<O;re++)Pe[ke]!==Pe[ke+1]&&(J[pe+re]=Pe[ke]?4:8,++je),ke++;if(Pe[ke]!==0&&(J[pe+re]=4,++je),je>P)return null;let Ne=new Int32Array([0,U,-1,0,-U,0,0,0,1]),Ye=new Path2D;for(te=0;je&&te<=M;te++){let ye=te*U,Te=ye+O;for(;ye<Te&&!J[ye];)ye++;if(ye===Te)continue;Ye.moveTo(ye%U,te);let me=ye,ae=J[ye];do{let z=Ne[ae];do ye+=z;while(!J[ye]);let Q=J[ye];Q!==5&&Q!==10?(ae=Q,J[ye]=0):(ae=Q&51*ae>>4,J[ye]&=ae>>2|ae<<2),Ye.lineTo(ye%U,ye/U|0),J[ye]||--je}while(me!==ye);--te}return Pe=null,J=null,function(ye){ye.save(),ye.scale(1/O,-1/M),ye.translate(0,-M),ye.fill(Ye),ye.beginPath(),ye.restore()}}class w{constructor(O,M){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,O,M])}clone(){let O=Object.create(this);return O.clipBox=this.clipBox.slice(),O}setCurrentPoint(O,M){this.x=O,this.y=M}updatePathMinMax(O,M,P){[M,P]=r.Util.applyTransform([M,P],O),this.minX=Math.min(this.minX,M),this.minY=Math.min(this.minY,P),this.maxX=Math.max(this.maxX,M),this.maxY=Math.max(this.maxY,P)}updateRectMinMax(O,M){let P=r.Util.applyTransform(M,O),N=r.Util.applyTransform(M.slice(2),O);this.minX=Math.min(this.minX,P[0],N[0]),this.minY=Math.min(this.minY,P[1],N[1]),this.maxX=Math.max(this.maxX,P[0],N[0]),this.maxY=Math.max(this.maxY,P[1],N[1])}updateScalingPathMinMax(O,M){r.Util.scaleMinMax(O,M),this.minX=Math.min(this.minX,M[0]),this.maxX=Math.max(this.maxX,M[1]),this.minY=Math.min(this.minY,M[2]),this.maxY=Math.max(this.maxY,M[3])}updateCurvePathMinMax(O,M,P,N,U,J,te,re,pe,ve){let Pe=r.Util.bezierBoundingBox(M,P,N,U,J,te,re,pe);if(ve){ve[0]=Math.min(ve[0],Pe[0],Pe[2]),ve[1]=Math.max(ve[1],Pe[0],Pe[2]),ve[2]=Math.min(ve[2],Pe[1],Pe[3]),ve[3]=Math.max(ve[3],Pe[1],Pe[3]);return}this.updateRectMinMax(O,Pe)}getPathBoundingBox(O=s.PathType.FILL,M=null){let P=[this.minX,this.minY,this.maxX,this.maxY];if(O===s.PathType.STROKE){M||(0,r.unreachable)("Stroke bounding box must include transform.");let N=r.Util.singularValueDecompose2dScale(M),U=N[0]*this.lineWidth/2,J=N[1]*this.lineWidth/2;P[0]-=U,P[1]-=J,P[2]+=U,P[3]+=J}return P}updateClipFromPath(){let O=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(O||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(O){this.clipBox=O,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(O=s.PathType.FILL,M=null){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(O,M))}}function E(V,O){if(typeof ImageData<"u"&&O instanceof ImageData){V.putImageData(O,0,0);return}let M=O.height,P=O.width,N=M%v,U=(M-N)/v,J=N===0?U:U+1,te=V.createImageData(P,v),re=0,pe,ve=O.data,Pe=te.data,ke,je,Ne,Ye;if(O.kind===r.ImageKind.GRAYSCALE_1BPP){let De=ve.byteLength,ye=new Uint32Array(Pe.buffer,0,Pe.byteLength>>2),Te=ye.length,me=P+7>>3,ae=4294967295,z=r.FeatureTest.isLittleEndian?4278190080:255;for(ke=0;ke<J;ke++){for(Ne=ke<U?v:N,pe=0,je=0;je<Ne;je++){let Q=De-re,le=0,Ee=Q>me?P:Q*8-7,Be=Ee&-8,tt=0,$e=0;for(;le<Be;le+=8)$e=ve[re++],ye[pe++]=$e&128?ae:z,ye[pe++]=$e&64?ae:z,ye[pe++]=$e&32?ae:z,ye[pe++]=$e&16?ae:z,ye[pe++]=$e&8?ae:z,ye[pe++]=$e&4?ae:z,ye[pe++]=$e&2?ae:z,ye[pe++]=$e&1?ae:z;for(;le<Ee;le++)tt===0&&($e=ve[re++],tt=128),ye[pe++]=$e&tt?ae:z,tt>>=1}for(;pe<Te;)ye[pe++]=0;V.putImageData(te,0,ke*v)}}else if(O.kind===r.ImageKind.RGBA_32BPP){for(je=0,Ye=P*v*4,ke=0;ke<U;ke++)Pe.set(ve.subarray(re,re+Ye)),re+=Ye,V.putImageData(te,0,je),je+=v;ke<J&&(Ye=P*N*4,Pe.set(ve.subarray(re,re+Ye)),V.putImageData(te,0,je))}else if(O.kind===r.ImageKind.RGB_24BPP)for(Ne=v,Ye=P*Ne,ke=0;ke<J;ke++){for(ke>=U&&(Ne=N,Ye=P*Ne),pe=0,je=Ye;je--;)Pe[pe++]=ve[re++],Pe[pe++]=ve[re++],Pe[pe++]=ve[re++],Pe[pe++]=255;V.putImageData(te,0,ke*v)}else throw new Error(`bad image kind: ${O.kind}`)}function A(V,O){if(O.bitmap){V.drawImage(O.bitmap,0,0);return}let M=O.height,P=O.width,N=M%v,U=(M-N)/v,J=N===0?U:U+1,te=V.createImageData(P,v),re=0,pe=O.data,ve=te.data;for(let Pe=0;Pe<J;Pe++){let ke=Pe<U?v:N;({srcPos:re}=(0,o.convertBlackAndWhiteToRGBA)({src:pe,srcPos:re,dest:ve,width:P,height:ke,nonBlackColor:0})),V.putImageData(te,0,Pe*v)}}function _(V,O){let M=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let P of M)V[P]!==void 0&&(O[P]=V[P]);V.setLineDash!==void 0&&(O.setLineDash(V.getLineDash()),O.lineDashOffset=V.lineDashOffset)}function C(V){if(V.strokeStyle=V.fillStyle="#000000",V.fillRule="nonzero",V.globalAlpha=1,V.lineWidth=1,V.lineCap="butt",V.lineJoin="miter",V.miterLimit=10,V.globalCompositeOperation="source-over",V.font="10px sans-serif",V.setLineDash!==void 0&&(V.setLineDash([]),V.lineDashOffset=0),!r.isNodeJS){let{filter:O}=V;O!=="none"&&O!==""&&(V.filter="none")}}function I(V,O,M,P){let N=V.length;for(let U=3;U<N;U+=4){let J=V[U];if(J===0)V[U-3]=O,V[U-2]=M,V[U-1]=P;else if(J<255){let te=255-J;V[U-3]=V[U-3]*J+O*te>>8,V[U-2]=V[U-2]*J+M*te>>8,V[U-1]=V[U-1]*J+P*te>>8}}}function T(V,O,M){let P=V.length,N=1/255;for(let U=3;U<P;U+=4){let J=M?M[V[U]]:V[U];O[U]=O[U]*J*N|0}}function x(V,O,M){let P=V.length;for(let N=3;N<P;N+=4){let U=V[N-3]*77+V[N-2]*152+V[N-1]*28;O[N]=M?O[N]*M[U>>8]>>8:O[N]*U>>16}}function D(V,O,M,P,N,U,J,te,re,pe,ve){let Pe=!!U,ke=Pe?U[0]:0,je=Pe?U[1]:0,Ne=Pe?U[2]:0,Ye=N==="Luminosity"?x:T,ye=Math.min(P,Math.ceil(1048576/M));for(let Te=0;Te<P;Te+=ye){let me=Math.min(ye,P-Te),ae=V.getImageData(te-pe,Te+(re-ve),M,me),z=O.getImageData(te,Te+re,M,me);Pe&&I(ae.data,ke,je,Ne),Ye(ae.data,z.data,J),O.putImageData(z,te,Te+re)}}function L(V,O,M,P){let N=P[0],U=P[1],J=P[2]-N,te=P[3]-U;J===0||te===0||(D(O.context,M,J,te,O.subtype,O.backdrop,O.transferMap,N,U,O.offsetX,O.offsetY),V.save(),V.globalAlpha=1,V.globalCompositeOperation="source-over",V.setTransform(1,0,0,1,0,0),V.drawImage(M.canvas,0,0),V.restore())}function H(V,O){let M=r.Util.singularValueDecompose2dScale(V);M[0]=Math.fround(M[0]),M[1]=Math.fround(M[1]);let P=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return O!==void 0?O:M[0]<=P||M[1]<=P}let G=["butt","round","square"],j=["miter","round","bevel"],q={},X={},Se=class Se{constructor(O,M,P,N,U,{optionalContentConfig:J,markedContentStack:te=null},re,pe){oe(this,$);oe(this,fe);this.ctx=O,this.current=new w(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=M,this.objs=P,this.canvasFactory=N,this.filterFactory=U,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=te||[],this.optionalContentConfig=J,this.cachedCanvases=new h(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=re,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=pe,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(O,M=null){return typeof O=="string"?O.startsWith("g_")?this.commonObjs.get(O):this.objs.get(O):M}beginDrawing({transform:O,viewport:M,transparency:P=!1,background:N=null}){let U=this.ctx.canvas.width,J=this.ctx.canvas.height,te=this.ctx.fillStyle;if(this.ctx.fillStyle=N||"#ffffff",this.ctx.fillRect(0,0,U,J),this.ctx.fillStyle=te,P){let re=this.cachedCanvases.getCanvas("transparent",U,J);this.compositeCtx=this.ctx,this.transparentCanvas=re.canvas,this.ctx=re.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),C(this.ctx),O&&(this.ctx.transform(...O),this.outputScaleX=O[0],this.outputScaleY=O[0]),this.ctx.transform(...M.transform),this.viewportScale=M.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(O,M,P,N){let U=O.argsArray,J=O.fnArray,te=M||0,re=U.length;if(re===te)return te;let pe=re-te>m&&typeof P=="function",ve=pe?Date.now()+p:0,Pe=0,ke=this.commonObjs,je=this.objs,Ne;for(;;){if(N!==void 0&&te===N.nextBreakPoint)return N.breakIt(te,P),te;if(Ne=J[te],Ne!==r.OPS.dependency)this[Ne].apply(this,U[te]);else for(let Ye of U[te]){let De=Ye.startsWith("g_")?ke:je;if(!De.has(Ye))return De.get(Ye,P),te}if(te++,te===re)return te;if(pe&&++Pe>m){if(Date.now()>ve)return P(),te;Pe=0}}}endDrawing(){ge(this,$,yy).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let O of this._cachedBitmapsMap.values()){for(let M of O.values())typeof HTMLCanvasElement<"u"&&M instanceof HTMLCanvasElement&&(M.width=M.height=0);O.clear()}this._cachedBitmapsMap.clear(),ge(this,fe,by).call(this)}_scaleImage(O,M){let P=O.width,N=O.height,U=Math.max(Math.hypot(M[0],M[1]),1),J=Math.max(Math.hypot(M[2],M[3]),1),te=P,re=N,pe="prescale1",ve,Pe;for(;U>2&&te>1||J>2&&re>1;){let ke=te,je=re;U>2&&te>1&&(ke=te>=16384?Math.floor(te/2)-1||1:Math.ceil(te/2),U/=te/ke),J>2&&re>1&&(je=re>=16384?Math.floor(re/2)-1||1:Math.ceil(re)/2,J/=re/je),ve=this.cachedCanvases.getCanvas(pe,ke,je),Pe=ve.context,Pe.clearRect(0,0,ke,je),Pe.drawImage(O,0,0,te,re,0,0,ke,je),O=ve.canvas,te=ke,re=je,pe=pe==="prescale1"?"prescale2":"prescale1"}return{img:O,paintWidth:te,paintHeight:re}}_createMaskCanvas(O){let M=this.ctx,{width:P,height:N}=O,U=this.current.fillColor,J=this.current.patternFill,te=(0,i.getCurrentTransform)(M),re,pe,ve,Pe;if((O.bitmap||O.data)&&O.count>1){let le=O.bitmap||O.data.buffer;pe=JSON.stringify(J?te:[te.slice(0,4),U]),re=this._cachedBitmapsMap.get(le),re||(re=new Map,this._cachedBitmapsMap.set(le,re));let Ee=re.get(pe);if(Ee&&!J){let Be=Math.round(Math.min(te[0],te[2])+te[4]),tt=Math.round(Math.min(te[1],te[3])+te[5]);return{canvas:Ee,offsetX:Be,offsetY:tt}}ve=Ee}ve||(Pe=this.cachedCanvases.getCanvas("maskCanvas",P,N),A(Pe.context,O));let ke=r.Util.transform(te,[1/P,0,0,-1/N,0,0]);ke=r.Util.transform(ke,[1,0,0,1,0,-N]);let je=r.Util.applyTransform([0,0],ke),Ne=r.Util.applyTransform([P,N],ke),Ye=r.Util.normalizeRect([je[0],je[1],Ne[0],Ne[1]]),De=Math.round(Ye[2]-Ye[0])||1,ye=Math.round(Ye[3]-Ye[1])||1,Te=this.cachedCanvases.getCanvas("fillCanvas",De,ye),me=Te.context,ae=Math.min(je[0],Ne[0]),z=Math.min(je[1],Ne[1]);me.translate(-ae,-z),me.transform(...ke),ve||(ve=this._scaleImage(Pe.canvas,(0,i.getCurrentTransformInverse)(me)),ve=ve.img,re&&J&&re.set(pe,ve)),me.imageSmoothingEnabled=H((0,i.getCurrentTransform)(me),O.interpolate),l(me,ve,0,0,ve.width,ve.height,0,0,P,N),me.globalCompositeOperation="source-in";let Q=r.Util.transform((0,i.getCurrentTransformInverse)(me),[1,0,0,1,-ae,-z]);return me.fillStyle=J?U.getPattern(M,this,Q,s.PathType.FILL):U,me.fillRect(0,0,P,N),re&&!J&&(this.cachedCanvases.delete("fillCanvas"),re.set(pe,Te.canvas)),{canvas:Te.canvas,offsetX:Math.round(ae),offsetY:Math.round(z)}}setLineWidth(O){O!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=O,this.ctx.lineWidth=O}setLineCap(O){this.ctx.lineCap=G[O]}setLineJoin(O){this.ctx.lineJoin=j[O]}setMiterLimit(O){this.ctx.miterLimit=O}setDash(O,M){let P=this.ctx;P.setLineDash!==void 0&&(P.setLineDash(O),P.lineDashOffset=M)}setRenderingIntent(O){}setFlatness(O){}setGState(O){for(let[M,P]of O)switch(M){case"LW":this.setLineWidth(P);break;case"LC":this.setLineCap(P);break;case"LJ":this.setLineJoin(P);break;case"ML":this.setMiterLimit(P);break;case"D":this.setDash(P[0],P[1]);break;case"RI":this.setRenderingIntent(P);break;case"FL":this.setFlatness(P);break;case"Font":this.setFont(P[0],P[1]);break;case"CA":this.current.strokeAlpha=P;break;case"ca":this.current.fillAlpha=P,this.ctx.globalAlpha=P;break;case"BM":this.ctx.globalCompositeOperation=P;break;case"SMask":this.current.activeSMask=P?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(P);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let O=this.inSMaskMode;this.current.activeSMask&&!O?this.beginSMaskMode():!this.current.activeSMask&&O&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let O=this.ctx.canvas.width,M=this.ctx.canvas.height,P="smaskGroupAt"+this.groupLevel,N=this.cachedCanvases.getCanvas(P,O,M);this.suspendedCtx=this.ctx,this.ctx=N.context;let U=this.ctx;U.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),_(this.suspendedCtx,U),y(U,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(O){if(!this.current.activeSMask)return;O?(O[0]=Math.floor(O[0]),O[1]=Math.floor(O[1]),O[2]=Math.ceil(O[2]),O[3]=Math.ceil(O[3])):O=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let M=this.current.activeSMask,P=this.suspendedCtx;L(P,M,this.ctx,O),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(_(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let O=this.current;this.stateStack.push(O),this.current=O.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),_(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(O,M,P,N,U,J){this.ctx.transform(O,M,P,N,U,J),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(O,M,P){let N=this.ctx,U=this.current,J=U.x,te=U.y,re,pe,ve=(0,i.getCurrentTransform)(N),Pe=ve[0]===0&&ve[3]===0||ve[1]===0&&ve[2]===0,ke=Pe?P.slice(0):null;for(let je=0,Ne=0,Ye=O.length;je<Ye;je++)switch(O[je]|0){case r.OPS.rectangle:J=M[Ne++],te=M[Ne++];let De=M[Ne++],ye=M[Ne++],Te=J+De,me=te+ye;N.moveTo(J,te),De===0||ye===0?N.lineTo(Te,me):(N.lineTo(Te,te),N.lineTo(Te,me),N.lineTo(J,me)),Pe||U.updateRectMinMax(ve,[J,te,Te,me]),N.closePath();break;case r.OPS.moveTo:J=M[Ne++],te=M[Ne++],N.moveTo(J,te),Pe||U.updatePathMinMax(ve,J,te);break;case r.OPS.lineTo:J=M[Ne++],te=M[Ne++],N.lineTo(J,te),Pe||U.updatePathMinMax(ve,J,te);break;case r.OPS.curveTo:re=J,pe=te,J=M[Ne+4],te=M[Ne+5],N.bezierCurveTo(M[Ne],M[Ne+1],M[Ne+2],M[Ne+3],J,te),U.updateCurvePathMinMax(ve,re,pe,M[Ne],M[Ne+1],M[Ne+2],M[Ne+3],J,te,ke),Ne+=6;break;case r.OPS.curveTo2:re=J,pe=te,N.bezierCurveTo(J,te,M[Ne],M[Ne+1],M[Ne+2],M[Ne+3]),U.updateCurvePathMinMax(ve,re,pe,J,te,M[Ne],M[Ne+1],M[Ne+2],M[Ne+3],ke),J=M[Ne+2],te=M[Ne+3],Ne+=4;break;case r.OPS.curveTo3:re=J,pe=te,J=M[Ne+2],te=M[Ne+3],N.bezierCurveTo(M[Ne],M[Ne+1],J,te,J,te),U.updateCurvePathMinMax(ve,re,pe,M[Ne],M[Ne+1],J,te,J,te,ke),Ne+=4;break;case r.OPS.closePath:N.closePath();break}Pe&&U.updateScalingPathMinMax(ve,ke),U.setCurrentPoint(J,te)}closePath(){this.ctx.closePath()}stroke(O=!0){let M=this.ctx,P=this.current.strokeColor;M.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof P=="object"&&(P!=null&&P.getPattern)?(M.save(),M.strokeStyle=P.getPattern(M,this,(0,i.getCurrentTransformInverse)(M),s.PathType.STROKE),this.rescaleAndStroke(!1),M.restore()):this.rescaleAndStroke(!0)),O&&this.consumePath(this.current.getClippedPathBoundingBox()),M.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(O=!0){let M=this.ctx,P=this.current.fillColor,N=this.current.patternFill,U=!1;N&&(M.save(),M.fillStyle=P.getPattern(M,this,(0,i.getCurrentTransformInverse)(M),s.PathType.FILL),U=!0);let J=this.current.getClippedPathBoundingBox();this.contentVisible&&J!==null&&(this.pendingEOFill?(M.fill("evenodd"),this.pendingEOFill=!1):M.fill()),U&&M.restore(),O&&this.consumePath(J)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=q}eoClip(){this.pendingClip=X}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let O=this.pendingTextPaths,M=this.ctx;if(O===void 0){M.beginPath();return}M.save(),M.beginPath();for(let P of O)M.setTransform(...P.transform),M.translate(P.x,P.y),P.addToPath(M,P.fontSize);M.restore(),M.clip(),M.beginPath(),delete this.pendingTextPaths}setCharSpacing(O){this.current.charSpacing=O}setWordSpacing(O){this.current.wordSpacing=O}setHScale(O){this.current.textHScale=O/100}setLeading(O){this.current.leading=-O}setFont(O,M){var ve;let P=this.commonObjs.get(O),N=this.current;if(!P)throw new Error(`Can't find font for ${O}`);if(N.fontMatrix=P.fontMatrix||r.FONT_IDENTITY_MATRIX,(N.fontMatrix[0]===0||N.fontMatrix[3]===0)&&(0,r.warn)("Invalid font matrix for font "+O),M<0?(M=-M,N.fontDirection=-1):N.fontDirection=1,this.current.font=P,this.current.fontSize=M,P.isType3Font)return;let U=P.loadedName||"sans-serif",J=((ve=P.systemFontInfo)==null?void 0:ve.css)||`"${U}", ${P.fallbackName}`,te="normal";P.black?te="900":P.bold&&(te="bold");let re=P.italic?"italic":"normal",pe=M;M<c?pe=c:M>d&&(pe=d),this.current.fontSizeScale=M/pe,this.ctx.font=`${re} ${te} ${pe}px ${J}`}setTextRenderingMode(O){this.current.textRenderingMode=O}setTextRise(O){this.current.textRise=O}moveText(O,M){this.current.x=this.current.lineX+=O,this.current.y=this.current.lineY+=M}setLeadingMoveText(O,M){this.setLeading(-M),this.moveText(O,M)}setTextMatrix(O,M,P,N,U,J){this.current.textMatrix=[O,M,P,N,U,J],this.current.textMatrixScale=Math.hypot(O,M),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(O,M,P,N){let U=this.ctx,J=this.current,te=J.font,re=J.textRenderingMode,pe=J.fontSize/J.fontSizeScale,ve=re&r.TextRenderingMode.FILL_STROKE_MASK,Pe=!!(re&r.TextRenderingMode.ADD_TO_PATH_FLAG),ke=J.patternFill&&!te.missingFile,je;(te.disableFontFace||Pe||ke)&&(je=te.getPathGenerator(this.commonObjs,O)),te.disableFontFace||ke?(U.save(),U.translate(M,P),U.beginPath(),je(U,pe),N&&U.setTransform(...N),(ve===r.TextRenderingMode.FILL||ve===r.TextRenderingMode.FILL_STROKE)&&U.fill(),(ve===r.TextRenderingMode.STROKE||ve===r.TextRenderingMode.FILL_STROKE)&&U.stroke(),U.restore()):((ve===r.TextRenderingMode.FILL||ve===r.TextRenderingMode.FILL_STROKE)&&U.fillText(O,M,P),(ve===r.TextRenderingMode.STROKE||ve===r.TextRenderingMode.FILL_STROKE)&&U.strokeText(O,M,P)),Pe&&(this.pendingTextPaths||=[]).push({transform:(0,i.getCurrentTransform)(U),x:M,y:P,fontSize:pe,addToPath:je})}get isFontSubpixelAAEnabled(){let{context:O}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);O.scale(1.5,1),O.fillText("I",0,10);let M=O.getImageData(0,0,10,10).data,P=!1;for(let N=3;N<M.length;N+=4)if(M[N]>0&&M[N]<255){P=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",P)}showText(O){let M=this.current,P=M.font;if(P.isType3Font)return this.showType3Text(O);let N=M.fontSize;if(N===0)return;let U=this.ctx,J=M.fontSizeScale,te=M.charSpacing,re=M.wordSpacing,pe=M.fontDirection,ve=M.textHScale*pe,Pe=O.length,ke=P.vertical,je=ke?1:-1,Ne=P.defaultVMetrics,Ye=N*M.fontMatrix[0],De=M.textRenderingMode===r.TextRenderingMode.FILL&&!P.disableFontFace&&!M.patternFill;U.save(),U.transform(...M.textMatrix),U.translate(M.x,M.y+M.textRise),pe>0?U.scale(ve,-1):U.scale(ve,1);let ye;if(M.patternFill){U.save();let Q=M.fillColor.getPattern(U,this,(0,i.getCurrentTransformInverse)(U),s.PathType.FILL);ye=(0,i.getCurrentTransform)(U),U.restore(),U.fillStyle=Q}let Te=M.lineWidth,me=M.textMatrixScale;if(me===0||Te===0){let Q=M.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(Q===r.TextRenderingMode.STROKE||Q===r.TextRenderingMode.FILL_STROKE)&&(Te=this.getSinglePixelWidth())}else Te/=me;if(J!==1&&(U.scale(J,J),Te/=J),U.lineWidth=Te,P.isInvalidPDFjsFont){let Q=[],le=0;for(let Ee of O)Q.push(Ee.unicode),le+=Ee.width;U.fillText(Q.join(""),0,0),M.x+=le*Ye*ve,U.restore(),this.compose();return}let ae=0,z;for(z=0;z<Pe;++z){let Q=O[z];if(typeof Q=="number"){ae+=je*Q*N/1e3;continue}let le=!1,Ee=(Q.isSpace?re:0)+te,Be=Q.fontChar,tt=Q.accent,$e,et,Ge=Q.width;if(ke){let ot=Q.vmetric||Ne,Le=-(Q.vmetric?ot[1]:Ge*.5)*Ye,_e=ot[2]*Ye;Ge=ot?-ot[0]:Ge,$e=Le/J,et=(ae+_e)/J}else $e=ae/J,et=0;if(P.remeasure&&Ge>0){let ot=U.measureText(Be).width*1e3/N*J;if(Ge<ot&&this.isFontSubpixelAAEnabled){let Le=Ge/ot;le=!0,U.save(),U.scale(Le,1),$e/=Le}else Ge!==ot&&($e+=(Ge-ot)/2e3*N/J)}if(this.contentVisible&&(Q.isInFont||P.missingFile)){if(De&&!tt)U.fillText(Be,$e,et);else if(this.paintChar(Be,$e,et,ye),tt){let ot=$e+N*tt.offset.x/J,Le=et-N*tt.offset.y/J;this.paintChar(tt.fontChar,ot,Le,ye)}}let Xe=ke?Ge*Ye-Ee*pe:Ge*Ye+Ee*pe;ae+=Xe,le&&U.restore()}ke?M.y-=ae:M.x+=ae*ve,U.restore(),this.compose()}showType3Text(O){let M=this.ctx,P=this.current,N=P.font,U=P.fontSize,J=P.fontDirection,te=N.vertical?1:-1,re=P.charSpacing,pe=P.wordSpacing,ve=P.textHScale*J,Pe=P.fontMatrix||r.FONT_IDENTITY_MATRIX,ke=O.length,je=P.textRenderingMode===r.TextRenderingMode.INVISIBLE,Ne,Ye,De,ye;if(!(je||U===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,M.save(),M.transform(...P.textMatrix),M.translate(P.x,P.y),M.scale(ve,J),Ne=0;Ne<ke;++Ne){if(Ye=O[Ne],typeof Ye=="number"){ye=te*Ye*U/1e3,this.ctx.translate(ye,0),P.x+=ye*ve;continue}let Te=(Ye.isSpace?pe:0)+re,me=N.charProcOperatorList[Ye.operatorListId];if(!me){(0,r.warn)(`Type3 character "${Ye.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ye,this.save(),M.scale(U,U),M.transform(...Pe),this.executeOperatorList(me),this.restore()),De=r.Util.applyTransform([Ye.width,0],Pe)[0]*U+Te,M.translate(De,0),P.x+=De*ve}M.restore(),this.processingType3=null}}setCharWidth(O,M){}setCharWidthAndBounds(O,M,P,N,U,J){this.ctx.rect(P,N,U-P,J-N),this.ctx.clip(),this.endPath()}getColorN_Pattern(O){let M;if(O[0]==="TilingPattern"){let P=O[1],N=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),U={createCanvasGraphics:J=>new Se(J,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};M=new s.TilingPattern(O,P,this.ctx,U,N)}else M=this._getPattern(O[1],O[2]);return M}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(O,M,P){let N=r.Util.makeHexColor(O,M,P);this.ctx.strokeStyle=N,this.current.strokeColor=N}setFillRGBColor(O,M,P){let N=r.Util.makeHexColor(O,M,P);this.ctx.fillStyle=N,this.current.fillColor=N,this.current.patternFill=!1}_getPattern(O,M=null){let P;return this.cachedPatterns.has(O)?P=this.cachedPatterns.get(O):(P=(0,s.getShadingPattern)(this.getObject(O)),this.cachedPatterns.set(O,P)),M&&(P.matrix=M),P}shadingFill(O){if(!this.contentVisible)return;let M=this.ctx;this.save();let P=this._getPattern(O);M.fillStyle=P.getPattern(M,this,(0,i.getCurrentTransformInverse)(M),s.PathType.SHADING);let N=(0,i.getCurrentTransformInverse)(M);if(N){let{width:U,height:J}=M.canvas,[te,re,pe,ve]=r.Util.getAxialAlignedBoundingBox([0,0,U,J],N);this.ctx.fillRect(te,re,pe-te,ve-re)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(O,M){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(O)&&O.length===6&&this.transform(...O),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),M)){let P=M[2]-M[0],N=M[3]-M[1];this.ctx.rect(M[0],M[1],P,N),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),M),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(O){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let M=this.ctx;O.isolated||(0,r.info)("TODO: Support non-isolated groups."),O.knockout&&(0,r.warn)("Knockout groups not supported.");let P=(0,i.getCurrentTransform)(M);if(O.matrix&&M.transform(...O.matrix),!O.bbox)throw new Error("Bounding box is required.");let N=r.Util.getAxialAlignedBoundingBox(O.bbox,(0,i.getCurrentTransform)(M)),U=[0,0,M.canvas.width,M.canvas.height];N=r.Util.intersect(N,U)||[0,0,0,0];let J=Math.floor(N[0]),te=Math.floor(N[1]),re=Math.max(Math.ceil(N[2])-J,1),pe=Math.max(Math.ceil(N[3])-te,1),ve=1,Pe=1;re>u&&(ve=re/u,re=u),pe>u&&(Pe=pe/u,pe=u),this.current.startNewPathAndClipBox([0,0,re,pe]);let ke="groupAt"+this.groupLevel;O.smask&&(ke+="_smask_"+this.smaskCounter++%2);let je=this.cachedCanvases.getCanvas(ke,re,pe),Ne=je.context;Ne.scale(1/ve,1/Pe),Ne.translate(-J,-te),Ne.transform(...P),O.smask?this.smaskStack.push({canvas:je.canvas,context:Ne,offsetX:J,offsetY:te,scaleX:ve,scaleY:Pe,subtype:O.smask.subtype,backdrop:O.smask.backdrop,transferMap:O.smask.transferMap||null,startTransformInverse:null}):(M.setTransform(1,0,0,1,0,0),M.translate(J,te),M.scale(ve,Pe),M.save()),_(M,Ne),this.ctx=Ne,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(M),this.groupLevel++}endGroup(O){if(!this.contentVisible)return;this.groupLevel--;let M=this.ctx,P=this.groupStack.pop();if(this.ctx=P,this.ctx.imageSmoothingEnabled=!1,O.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let N=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...N);let U=r.Util.getAxialAlignedBoundingBox([0,0,M.canvas.width,M.canvas.height],N);this.ctx.drawImage(M.canvas,0,0),this.ctx.restore(),this.compose(U)}}beginAnnotation(O,M,P,N,U){if(ge(this,$,yy).call(this),C(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(M)&&M.length===4){let J=M[2]-M[0],te=M[3]-M[1];if(U&&this.annotationCanvasMap){P=P.slice(),P[4]-=M[0],P[5]-=M[1],M=M.slice(),M[0]=M[1]=0,M[2]=J,M[3]=te;let[re,pe]=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:ve}=this,Pe=Math.ceil(J*this.outputScaleX*ve),ke=Math.ceil(te*this.outputScaleY*ve);this.annotationCanvas=this.canvasFactory.create(Pe,ke);let{canvas:je,context:Ne}=this.annotationCanvas;this.annotationCanvasMap.set(O,je),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ne,this.ctx.save(),this.ctx.setTransform(re,0,0,-pe,0,te*pe),C(this.ctx)}else C(this.ctx),this.ctx.rect(M[0],M[1],J,te),this.ctx.clip(),this.endPath()}this.current=new w(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...P),this.transform(...N)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ge(this,fe,by).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(O){if(!this.contentVisible)return;let M=O.count;O=this.getObject(O.data,O),O.count=M;let P=this.ctx,N=this.processingType3;if(N&&(N.compiled===void 0&&(N.compiled=g(O)),N.compiled)){N.compiled(P);return}let U=this._createMaskCanvas(O),J=U.canvas;P.save(),P.setTransform(1,0,0,1,0,0),P.drawImage(J,U.offsetX,U.offsetY),P.restore(),this.compose()}paintImageMaskXObjectRepeat(O,M,P=0,N=0,U,J){if(!this.contentVisible)return;O=this.getObject(O.data,O);let te=this.ctx;te.save();let re=(0,i.getCurrentTransform)(te);te.transform(M,P,N,U,0,0);let pe=this._createMaskCanvas(O);te.setTransform(1,0,0,1,pe.offsetX-re[4],pe.offsetY-re[5]);for(let ve=0,Pe=J.length;ve<Pe;ve+=2){let ke=r.Util.transform(re,[M,P,N,U,J[ve],J[ve+1]]),[je,Ne]=r.Util.applyTransform([0,0],ke);te.drawImage(pe.canvas,je,Ne)}te.restore(),this.compose()}paintImageMaskXObjectGroup(O){if(!this.contentVisible)return;let M=this.ctx,P=this.current.fillColor,N=this.current.patternFill;for(let U of O){let{data:J,width:te,height:re,transform:pe}=U,ve=this.cachedCanvases.getCanvas("maskCanvas",te,re),Pe=ve.context;Pe.save();let ke=this.getObject(J,U);A(Pe,ke),Pe.globalCompositeOperation="source-in",Pe.fillStyle=N?P.getPattern(Pe,this,(0,i.getCurrentTransformInverse)(M),s.PathType.FILL):P,Pe.fillRect(0,0,te,re),Pe.restore(),M.save(),M.transform(...pe),M.scale(1,-1),l(M,ve.canvas,0,0,te,re,0,-1,1,1),M.restore()}this.compose()}paintImageXObject(O){if(!this.contentVisible)return;let M=this.getObject(O);if(!M){(0,r.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(M)}paintImageXObjectRepeat(O,M,P,N){if(!this.contentVisible)return;let U=this.getObject(O);if(!U){(0,r.warn)("Dependent image isn't ready yet");return}let J=U.width,te=U.height,re=[];for(let pe=0,ve=N.length;pe<ve;pe+=2)re.push({transform:[M,0,0,P,N[pe],N[pe+1]],x:0,y:0,w:J,h:te});this.paintInlineImageXObjectGroup(U,re)}applyTransferMapsToCanvas(O){return this.current.transferMaps!=="none"&&(O.filter=this.current.transferMaps,O.drawImage(O.canvas,0,0),O.filter="none"),O.canvas}applyTransferMapsToBitmap(O){if(this.current.transferMaps==="none")return O.bitmap;let{bitmap:M,width:P,height:N}=O,U=this.cachedCanvases.getCanvas("inlineImage",P,N),J=U.context;return J.filter=this.current.transferMaps,J.drawImage(M,0,0),J.filter="none",U.canvas}paintInlineImageXObject(O){if(!this.contentVisible)return;let M=O.width,P=O.height,N=this.ctx;if(this.save(),!r.isNodeJS){let{filter:te}=N;te!=="none"&&te!==""&&(N.filter="none")}N.scale(1/M,-1/P);let U;if(O.bitmap)U=this.applyTransferMapsToBitmap(O);else if(typeof HTMLElement=="function"&&O instanceof HTMLElement||!O.data)U=O;else{let re=this.cachedCanvases.getCanvas("inlineImage",M,P).context;E(re,O),U=this.applyTransferMapsToCanvas(re)}let J=this._scaleImage(U,(0,i.getCurrentTransformInverse)(N));N.imageSmoothingEnabled=H((0,i.getCurrentTransform)(N),O.interpolate),l(N,J.img,0,0,J.paintWidth,J.paintHeight,0,-P,M,P),this.compose(),this.restore()}paintInlineImageXObjectGroup(O,M){if(!this.contentVisible)return;let P=this.ctx,N;if(O.bitmap)N=O.bitmap;else{let U=O.width,J=O.height,re=this.cachedCanvases.getCanvas("inlineImage",U,J).context;E(re,O),N=this.applyTransferMapsToCanvas(re)}for(let U of M)P.save(),P.transform(...U.transform),P.scale(1,-1),l(P,N,U.x,U.y,U.w,U.h,0,-1,1,1),P.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(O){}markPointProps(O,M){}beginMarkedContent(O){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(O,M){O==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(M)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(O){let M=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(O);let P=this.ctx;this.pendingClip&&(M||(this.pendingClip===X?P.clip("evenodd"):P.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),P.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let O=(0,i.getCurrentTransform)(this.ctx);if(O[1]===0&&O[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(O[0]),Math.abs(O[3]));else{let M=Math.abs(O[0]*O[3]-O[2]*O[1]),P=Math.hypot(O[0],O[2]),N=Math.hypot(O[1],O[3]);this._cachedGetSinglePixelWidth=Math.max(P,N)/M}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:O}=this.current,{a:M,b:P,c:N,d:U}=this.ctx.getTransform(),J,te;if(P===0&&N===0){let re=Math.abs(M),pe=Math.abs(U);if(re===pe)if(O===0)J=te=1/re;else{let ve=re*O;J=te=ve<1?1/ve:1}else if(O===0)J=1/re,te=1/pe;else{let ve=re*O,Pe=pe*O;J=ve<1?1/ve:1,te=Pe<1?1/Pe:1}}else{let re=Math.abs(M*U-P*N),pe=Math.hypot(M,P),ve=Math.hypot(N,U);if(O===0)J=ve/re,te=pe/re;else{let Pe=O*re;J=ve>Pe?ve/Pe:1,te=pe>Pe?pe/Pe:1}}this._cachedScaleForStroking[0]=J,this._cachedScaleForStroking[1]=te}return this._cachedScaleForStroking}rescaleAndStroke(O){let{ctx:M}=this,{lineWidth:P}=this.current,[N,U]=this.getScaleForStroking();if(M.lineWidth=P||1,N===1&&U===1){M.stroke();return}let J=M.getLineDash();if(O&&M.save(),M.scale(N,U),J.length>0){let te=Math.max(N,U);M.setLineDash(J.map(re=>re/te)),M.lineDashOffset/=te}M.stroke(),O&&M.restore()}isContentVisible(){for(let O=this.markedContentStack.length-1;O>=0;O--)if(!this.markedContentStack[O].visible)return!1;return!0}};$=new WeakSet,yy=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},fe=new WeakSet,by=function(){if(this.pageColors){let O=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(O!=="none"){let M=this.ctx.filter;this.ctx.filter=O,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=M}}};let Z=Se;e.CanvasGraphics=Z;for(let V in r.OPS)Z.prototype[V]!==void 0&&(Z.prototype[r.OPS[V]]=Z.prototype[V])},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=v;var r=t(1),i=t(6);let s={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=s;function o(g,w){if(!w)return;let E=w[2]-w[0],A=w[3]-w[1],_=new Path2D;_.rect(w[0],w[1],E,A),g.clip(_)}class c{constructor(){this.constructor===c&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class d extends c{constructor(w){super(),this._type=w[1],this._bbox=w[2],this._colorStops=w[3],this._p0=w[4],this._p1=w[5],this._r0=w[6],this._r1=w[7],this.matrix=null}_createGradient(w){let E;this._type==="axial"?E=w.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(E=w.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let A of this._colorStops)E.addColorStop(A[0],A[1]);return E}getPattern(w,E,A,_){let C;if(_===s.STROKE||_===s.FILL){let I=E.current.getClippedPathBoundingBox(_,(0,i.getCurrentTransform)(w))||[0,0,0,0],T=Math.ceil(I[2]-I[0])||1,x=Math.ceil(I[3]-I[1])||1,D=E.cachedCanvases.getCanvas("pattern",T,x,!0),L=D.context;L.clearRect(0,0,L.canvas.width,L.canvas.height),L.beginPath(),L.rect(0,0,L.canvas.width,L.canvas.height),L.translate(-I[0],-I[1]),A=r.Util.transform(A,[1,0,0,1,I[0],I[1]]),L.transform(...E.baseTransform),this.matrix&&L.transform(...this.matrix),o(L,this._bbox),L.fillStyle=this._createGradient(L),L.fill(),C=w.createPattern(D.canvas,"no-repeat");let H=new DOMMatrix(A);C.setTransform(H)}else o(w,this._bbox),C=this._createGradient(w);return C}}function u(g,w,E,A,_,C,I,T){let x=w.coords,D=w.colors,L=g.data,H=g.width*4,G;x[E+1]>x[A+1]&&(G=E,E=A,A=G,G=C,C=I,I=G),x[A+1]>x[_+1]&&(G=A,A=_,_=G,G=I,I=T,T=G),x[E+1]>x[A+1]&&(G=E,E=A,A=G,G=C,C=I,I=G);let j=(x[E]+w.offsetX)*w.scaleX,q=(x[E+1]+w.offsetY)*w.scaleY,X=(x[A]+w.offsetX)*w.scaleX,Z=(x[A+1]+w.offsetY)*w.scaleY,$=(x[_]+w.offsetX)*w.scaleX,ue=(x[_+1]+w.offsetY)*w.scaleY;if(q>=ue)return;let fe=D[C],he=D[C+1],Se=D[C+2],V=D[I],O=D[I+1],M=D[I+2],P=D[T],N=D[T+1],U=D[T+2],J=Math.round(q),te=Math.round(ue),re,pe,ve,Pe,ke,je,Ne,Ye;for(let De=J;De<=te;De++){if(De<Z){let z=De<q?0:(q-De)/(q-Z);re=j-(j-X)*z,pe=fe-(fe-V)*z,ve=he-(he-O)*z,Pe=Se-(Se-M)*z}else{let z;De>ue?z=1:Z===ue?z=0:z=(Z-De)/(Z-ue),re=X-(X-$)*z,pe=V-(V-P)*z,ve=O-(O-N)*z,Pe=M-(M-U)*z}let ye;De<q?ye=0:De>ue?ye=1:ye=(q-De)/(q-ue),ke=j-(j-$)*ye,je=fe-(fe-P)*ye,Ne=he-(he-N)*ye,Ye=Se-(Se-U)*ye;let Te=Math.round(Math.min(re,ke)),me=Math.round(Math.max(re,ke)),ae=H*De+Te*4;for(let z=Te;z<=me;z++)ye=(re-z)/(re-ke),ye<0?ye=0:ye>1&&(ye=1),L[ae++]=pe-(pe-je)*ye|0,L[ae++]=ve-(ve-Ne)*ye|0,L[ae++]=Pe-(Pe-Ye)*ye|0,L[ae++]=255}}function p(g,w,E){let A=w.coords,_=w.colors,C,I;switch(w.type){case"lattice":let T=w.verticesPerRow,x=Math.floor(A.length/T)-1,D=T-1;for(C=0;C<x;C++){let L=C*T;for(let H=0;H<D;H++,L++)u(g,E,A[L],A[L+1],A[L+T],_[L],_[L+1],_[L+T]),u(g,E,A[L+T+1],A[L+1],A[L+T],_[L+T+1],_[L+1],_[L+T])}break;case"triangles":for(C=0,I=A.length;C<I;C+=3)u(g,E,A[C],A[C+1],A[C+2],_[C],_[C+1],_[C+2]);break;default:throw new Error("illegal figure")}}class m extends c{constructor(w){super(),this._coords=w[2],this._colors=w[3],this._figures=w[4],this._bounds=w[5],this._bbox=w[7],this._background=w[8],this.matrix=null}_createMeshCanvas(w,E,A){let T=Math.floor(this._bounds[0]),x=Math.floor(this._bounds[1]),D=Math.ceil(this._bounds[2])-T,L=Math.ceil(this._bounds[3])-x,H=Math.min(Math.ceil(Math.abs(D*w[0]*1.1)),3e3),G=Math.min(Math.ceil(Math.abs(L*w[1]*1.1)),3e3),j=D/H,q=L/G,X={coords:this._coords,colors:this._colors,offsetX:-T,offsetY:-x,scaleX:1/j,scaleY:1/q},Z=H+2*2,$=G+2*2,ue=A.getCanvas("mesh",Z,$,!1),fe=ue.context,he=fe.createImageData(H,G);if(E){let V=he.data;for(let O=0,M=V.length;O<M;O+=4)V[O]=E[0],V[O+1]=E[1],V[O+2]=E[2],V[O+3]=255}for(let V of this._figures)p(he,V,X);return fe.putImageData(he,2,2),{canvas:ue.canvas,offsetX:T-2*j,offsetY:x-2*q,scaleX:j,scaleY:q}}getPattern(w,E,A,_){o(w,this._bbox);let C;if(_===s.SHADING)C=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(w));else if(C=r.Util.singularValueDecompose2dScale(E.baseTransform),this.matrix){let T=r.Util.singularValueDecompose2dScale(this.matrix);C=[C[0]*T[0],C[1]*T[1]]}let I=this._createMeshCanvas(C,_===s.SHADING?null:this._background,E.cachedCanvases);return _!==s.SHADING&&(w.setTransform(...E.baseTransform),this.matrix&&w.transform(...this.matrix)),w.translate(I.offsetX,I.offsetY),w.scale(I.scaleX,I.scaleY),w.createPattern(I.canvas,"no-repeat")}}class b extends c{getPattern(){return"hotpink"}}function v(g){switch(g[0]){case"RadialAxial":return new d(g);case"Mesh":return new m(g);case"Dummy":return new b}throw new Error(`Unknown IR type: ${g[0]}`)}let y={COLORED:1,UNCOLORED:2},l=class l{constructor(w,E,A,_,C){this.operatorList=w[2],this.matrix=w[3]||[1,0,0,1,0,0],this.bbox=w[4],this.xstep=w[5],this.ystep=w[6],this.paintType=w[7],this.tilingType=w[8],this.color=E,this.ctx=A,this.canvasGraphicsFactory=_,this.baseTransform=C}createPatternCanvas(w){let E=this.operatorList,A=this.bbox,_=this.xstep,C=this.ystep,I=this.paintType,T=this.tilingType,x=this.color,D=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+T);let L=A[0],H=A[1],G=A[2],j=A[3],q=r.Util.singularValueDecompose2dScale(this.matrix),X=r.Util.singularValueDecompose2dScale(this.baseTransform),Z=[q[0]*X[0],q[1]*X[1]],$=this.getSizeAndScale(_,this.ctx.canvas.width,Z[0]),ue=this.getSizeAndScale(C,this.ctx.canvas.height,Z[1]),fe=w.cachedCanvases.getCanvas("pattern",$.size,ue.size,!0),he=fe.context,Se=D.createCanvasGraphics(he);Se.groupLevel=w.groupLevel,this.setFillAndStrokeStyleToContext(Se,I,x);let V=L,O=H,M=G,P=j;return L<0&&(V=0,M+=Math.abs(L)),H<0&&(O=0,P+=Math.abs(H)),he.translate(-($.scale*V),-(ue.scale*O)),Se.transform($.scale,0,0,ue.scale,0,0),he.save(),this.clipBbox(Se,V,O,M,P),Se.baseTransform=(0,i.getCurrentTransform)(Se.ctx),Se.executeOperatorList(E),Se.endDrawing(),{canvas:fe.canvas,scaleX:$.scale,scaleY:ue.scale,offsetX:V,offsetY:O}}getSizeAndScale(w,E,A){w=Math.abs(w);let _=Math.max(l.MAX_PATTERN_SIZE,E),C=Math.ceil(w*A);return C>=_?C=_:A=C/w,{scale:A,size:C}}clipBbox(w,E,A,_,C){let I=_-E,T=C-A;w.ctx.rect(E,A,I,T),w.current.updateRectMinMax((0,i.getCurrentTransform)(w.ctx),[E,A,_,C]),w.clip(),w.endPath()}setFillAndStrokeStyleToContext(w,E,A){let _=w.ctx,C=w.current;switch(E){case y.COLORED:let I=this.ctx;_.fillStyle=I.fillStyle,_.strokeStyle=I.strokeStyle,C.fillColor=I.fillStyle,C.strokeColor=I.strokeStyle;break;case y.UNCOLORED:let T=r.Util.makeHexColor(A[0],A[1],A[2]);_.fillStyle=T,_.strokeStyle=T,C.fillColor=T,C.strokeColor=T;break;default:throw new r.FormatError(`Unsupported paint type: ${E}`)}}getPattern(w,E,A,_){let C=A;_!==s.SHADING&&(C=r.Util.transform(C,E.baseTransform),this.matrix&&(C=r.Util.transform(C,this.matrix)));let I=this.createPatternCanvas(E),T=new DOMMatrix(C);T=T.translate(I.offsetX,I.offsetY),T=T.scale(1/I.scaleX,1/I.scaleY);let x=w.createPattern(I.canvas,"repeat");return x.setTransform(T),x}};wn(l,"MAX_PATTERN_SIZE",3e3);let h=l;e.TilingPattern=h},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=s,e.convertToRGBA=i,e.grayToRGBA=c;var r=t(1);function i(d){switch(d.kind){case r.ImageKind.GRAYSCALE_1BPP:return s(d);case r.ImageKind.RGB_24BPP:return o(d)}return null}function s({src:d,srcPos:u=0,dest:p,width:m,height:b,nonBlackColor:v=4294967295,inverseDecode:y=!1}){let h=r.FeatureTest.isLittleEndian?4278190080:255,[l,g]=y?[v,h]:[h,v],w=m>>3,E=m&7,A=d.length;p=new Uint32Array(p.buffer);let _=0;for(let C=0;C<b;C++){for(let T=u+w;u<T;u++){let x=u<A?d[u]:255;p[_++]=x&128?g:l,p[_++]=x&64?g:l,p[_++]=x&32?g:l,p[_++]=x&16?g:l,p[_++]=x&8?g:l,p[_++]=x&4?g:l,p[_++]=x&2?g:l,p[_++]=x&1?g:l}if(E===0)continue;let I=u<A?d[u++]:255;for(let T=0;T<E;T++)p[_++]=I&1<<7-T?g:l}return{srcPos:u,destPos:_}}function o({src:d,srcPos:u=0,dest:p,destPos:m=0,width:b,height:v}){let y=0,h=d.length>>2,l=new Uint32Array(d.buffer,u,h);if(r.FeatureTest.isLittleEndian){for(;y<h-2;y+=3,m+=4){let g=l[y],w=l[y+1],E=l[y+2];p[m]=g|4278190080,p[m+1]=g>>>24|w<<8|4278190080,p[m+2]=w>>>16|E<<16|4278190080,p[m+3]=E>>>8|4278190080}for(let g=y*4,w=d.length;g<w;g+=3)p[m++]=d[g]|d[g+1]<<8|d[g+2]<<16|4278190080}else{for(;y<h-2;y+=3,m+=4){let g=l[y],w=l[y+1],E=l[y+2];p[m]=g|255,p[m+1]=g<<24|w>>>8|255,p[m+2]=w<<16|E>>>16|255,p[m+3]=E<<8|255}for(let g=y*4,w=d.length;g<w;g+=3)p[m++]=d[g]<<24|d[g+1]<<16|d[g+2]<<8|255}return{srcPos:u,destPos:m}}function c(d,u){if(r.FeatureTest.isLittleEndian)for(let p=0,m=d.length;p<m;p++)u[p]=d[p]*65793|4278190080;else for(let p=0,m=d.length;p<m;p++)u[p]=d[p]*16843008|255}},(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;let t=Object.create(null);e.GlobalWorkerOptions=t,t.workerPort=null,t.workerSrc=""},(n,e,t)=>{var d,S5,p,C5,b,f0;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var r=t(1);let i={UNKNOWN:0,DATA:1,ERROR:2},s={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function o(y){switch(y instanceof Error||typeof y=="object"&&y!==null||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),y.name){case"AbortException":return new r.AbortException(y.message);case"MissingPDFException":return new r.MissingPDFException(y.message);case"PasswordException":return new r.PasswordException(y.message,y.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(y.message,y.status);case"UnknownErrorException":return new r.UnknownErrorException(y.message,y.details);default:return new r.UnknownErrorException(y.message,y.toString())}}class c{constructor(h,l,g){oe(this,d);oe(this,p);oe(this,b);this.sourceName=h,this.targetName=l,this.comObj=g,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=w=>{let E=w.data;if(E.targetName!==this.sourceName)return;if(E.stream){ge(this,p,C5).call(this,E);return}if(E.callback){let _=E.callbackId,C=this.callbackCapabilities[_];if(!C)throw new Error(`Cannot resolve callback ${_}`);if(delete this.callbackCapabilities[_],E.callback===i.DATA)C.resolve(E.data);else if(E.callback===i.ERROR)C.reject(o(E.reason));else throw new Error("Unexpected callback case");return}let A=this.actionHandler[E.action];if(!A)throw new Error(`Unknown action from worker: ${E.action}`);if(E.callbackId){let _=this.sourceName,C=E.sourceName;new Promise(function(I){I(A(E.data))}).then(function(I){g.postMessage({sourceName:_,targetName:C,callback:i.DATA,callbackId:E.callbackId,data:I})},function(I){g.postMessage({sourceName:_,targetName:C,callback:i.ERROR,callbackId:E.callbackId,reason:o(I)})});return}if(E.streamId){ge(this,d,S5).call(this,E);return}A(E.data)},g.addEventListener("message",this._onComObjOnMessage)}on(h,l){let g=this.actionHandler;if(g[h])throw new Error(`There is already an actionName called "${h}"`);g[h]=l}send(h,l,g){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,data:l},g)}sendWithPromise(h,l,g){let w=this.callbackId++,E=new r.PromiseCapability;this.callbackCapabilities[w]=E;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,callbackId:w,data:l},g)}catch(A){E.reject(A)}return E.promise}sendWithStream(h,l,g,w){let E=this.streamId++,A=this.sourceName,_=this.targetName,C=this.comObj;return new ReadableStream({start:I=>{let T=new r.PromiseCapability;return this.streamControllers[E]={controller:I,startCall:T,pullCall:null,cancelCall:null,isClosed:!1},C.postMessage({sourceName:A,targetName:_,action:h,streamId:E,data:l,desiredSize:I.desiredSize},w),T.promise},pull:I=>{let T=new r.PromiseCapability;return this.streamControllers[E].pullCall=T,C.postMessage({sourceName:A,targetName:_,stream:s.PULL,streamId:E,desiredSize:I.desiredSize}),T.promise},cancel:I=>{(0,r.assert)(I instanceof Error,"cancel must have a valid reason");let T=new r.PromiseCapability;return this.streamControllers[E].cancelCall=T,this.streamControllers[E].isClosed=!0,C.postMessage({sourceName:A,targetName:_,stream:s.CANCEL,streamId:E,reason:o(I)}),T.promise}},g)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}d=new WeakSet,S5=function(h){let l=h.streamId,g=this.sourceName,w=h.sourceName,E=this.comObj,A=this,_=this.actionHandler[h.action],C={enqueue(I,T=1,x){if(this.isCancelled)return;let D=this.desiredSize;this.desiredSize-=T,D>0&&this.desiredSize<=0&&(this.sinkCapability=new r.PromiseCapability,this.ready=this.sinkCapability.promise),E.postMessage({sourceName:g,targetName:w,stream:s.ENQUEUE,streamId:l,chunk:I},x)},close(){this.isCancelled||(this.isCancelled=!0,E.postMessage({sourceName:g,targetName:w,stream:s.CLOSE,streamId:l}),delete A.streamSinks[l])},error(I){(0,r.assert)(I instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,E.postMessage({sourceName:g,targetName:w,stream:s.ERROR,streamId:l,reason:o(I)}))},sinkCapability:new r.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:h.desiredSize,ready:null};C.sinkCapability.resolve(),C.ready=C.sinkCapability.promise,this.streamSinks[l]=C,new Promise(function(I){I(_(h.data,C))}).then(function(){E.postMessage({sourceName:g,targetName:w,stream:s.START_COMPLETE,streamId:l,success:!0})},function(I){E.postMessage({sourceName:g,targetName:w,stream:s.START_COMPLETE,streamId:l,reason:o(I)})})},p=new WeakSet,C5=function(h){let l=h.streamId,g=this.sourceName,w=h.sourceName,E=this.comObj,A=this.streamControllers[l],_=this.streamSinks[l];switch(h.stream){case s.START_COMPLETE:h.success?A.startCall.resolve():A.startCall.reject(o(h.reason));break;case s.PULL_COMPLETE:h.success?A.pullCall.resolve():A.pullCall.reject(o(h.reason));break;case s.PULL:if(!_){E.postMessage({sourceName:g,targetName:w,stream:s.PULL_COMPLETE,streamId:l,success:!0});break}_.desiredSize<=0&&h.desiredSize>0&&_.sinkCapability.resolve(),_.desiredSize=h.desiredSize,new Promise(function(C){var I;C((I=_.onPull)==null?void 0:I.call(_))}).then(function(){E.postMessage({sourceName:g,targetName:w,stream:s.PULL_COMPLETE,streamId:l,success:!0})},function(C){E.postMessage({sourceName:g,targetName:w,stream:s.PULL_COMPLETE,streamId:l,reason:o(C)})});break;case s.ENQUEUE:if((0,r.assert)(A,"enqueue should have stream controller"),A.isClosed)break;A.controller.enqueue(h.chunk);break;case s.CLOSE:if((0,r.assert)(A,"close should have stream controller"),A.isClosed)break;A.isClosed=!0,A.controller.close(),ge(this,b,f0).call(this,A,l);break;case s.ERROR:(0,r.assert)(A,"error should have stream controller"),A.controller.error(o(h.reason)),ge(this,b,f0).call(this,A,l);break;case s.CANCEL_COMPLETE:h.success?A.cancelCall.resolve():A.cancelCall.reject(o(h.reason)),ge(this,b,f0).call(this,A,l);break;case s.CANCEL:if(!_)break;new Promise(function(C){var I;C((I=_.onCancel)==null?void 0:I.call(_,o(h.reason)))}).then(function(){E.postMessage({sourceName:g,targetName:w,stream:s.CANCEL_COMPLETE,streamId:l,success:!0})},function(C){E.postMessage({sourceName:g,targetName:w,stream:s.CANCEL_COMPLETE,streamId:l,reason:o(C)})}),_.sinkCapability.reject(o(h.reason)),_.isCancelled=!0,delete this.streamSinks[l];break;default:throw new Error("Unexpected stream case")}},b=new WeakSet,f0=async function(h,l){var g,w,E;await Promise.allSettled([(g=h.startCall)==null?void 0:g.promise,(w=h.pullCall)==null?void 0:w.promise,(E=h.cancelCall)==null?void 0:E.promise]),delete this.streamControllers[l]},e.MessageHandler=c},(n,e,t)=>{var s,o;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=t(1);class i{constructor({parsedData:d,rawData:u}){oe(this,s,void 0);oe(this,o,void 0);Me(this,s,d),Me(this,o,u)}getRaw(){return k(this,o)}get(d){return k(this,s).get(d)??null}getAll(){return(0,r.objectFromMap)(k(this,s))}has(d){return k(this,s).has(d)}}s=new WeakMap,o=new WeakMap,e.Metadata=i},(n,e,t)=>{var d,u,p,m,b,v,vy;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var r=t(1),i=t(8);let s=Symbol("INTERNAL");class o{constructor(l,g){oe(this,d,!0);this.name=l,this.intent=g}get visible(){return k(this,d)}_setVisible(l,g){l!==s&&(0,r.unreachable)("Internal method `_setVisible` called."),Me(this,d,g)}}d=new WeakMap;class c{constructor(l){oe(this,v);oe(this,u,null);oe(this,p,new Map);oe(this,m,null);oe(this,b,null);if(this.name=null,this.creator=null,l!==null){this.name=l.name,this.creator=l.creator,Me(this,b,l.order);for(let g of l.groups)k(this,p).set(g.id,new o(g.name,g.intent));if(l.baseState==="OFF")for(let g of k(this,p).values())g._setVisible(s,!1);for(let g of l.on)k(this,p).get(g)._setVisible(s,!0);for(let g of l.off)k(this,p).get(g)._setVisible(s,!1);Me(this,m,this.getHash())}}isVisible(l){if(k(this,p).size===0)return!0;if(!l)return(0,r.warn)("Optional content group not defined."),!0;if(l.type==="OCG")return k(this,p).has(l.id)?k(this,p).get(l.id).visible:((0,r.warn)(`Optional content group not found: ${l.id}`),!0);if(l.type==="OCMD"){if(l.expression)return ge(this,v,vy).call(this,l.expression);if(!l.policy||l.policy==="AnyOn"){for(let g of l.ids){if(!k(this,p).has(g))return(0,r.warn)(`Optional content group not found: ${g}`),!0;if(k(this,p).get(g).visible)return!0}return!1}else if(l.policy==="AllOn"){for(let g of l.ids){if(!k(this,p).has(g))return(0,r.warn)(`Optional content group not found: ${g}`),!0;if(!k(this,p).get(g).visible)return!1}return!0}else if(l.policy==="AnyOff"){for(let g of l.ids){if(!k(this,p).has(g))return(0,r.warn)(`Optional content group not found: ${g}`),!0;if(!k(this,p).get(g).visible)return!0}return!1}else if(l.policy==="AllOff"){for(let g of l.ids){if(!k(this,p).has(g))return(0,r.warn)(`Optional content group not found: ${g}`),!0;if(k(this,p).get(g).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${l.policy}.`),!0}return(0,r.warn)(`Unknown group type ${l.type}.`),!0}setVisibility(l,g=!0){if(!k(this,p).has(l)){(0,r.warn)(`Optional content group not found: ${l}`);return}k(this,p).get(l)._setVisible(s,!!g),Me(this,u,null)}get hasInitialVisibility(){return k(this,m)===null||this.getHash()===k(this,m)}getOrder(){return k(this,p).size?k(this,b)?k(this,b).slice():[...k(this,p).keys()]:null}getGroups(){return k(this,p).size>0?(0,r.objectFromMap)(k(this,p)):null}getGroup(l){return k(this,p).get(l)||null}getHash(){if(k(this,u)!==null)return k(this,u);let l=new i.MurmurHash3_64;for(let[g,w]of k(this,p))l.update(`${g}:${w.visible}`);return Me(this,u,l.hexdigest())}}u=new WeakMap,p=new WeakMap,m=new WeakMap,b=new WeakMap,v=new WeakSet,vy=function(l){let g=l.length;if(g<2)return!0;let w=l[0];for(let E=1;E<g;E++){let A=l[E],_;if(Array.isArray(A))_=ge(this,v,vy).call(this,A);else if(k(this,p).has(A))_=k(this,p).get(A).visible;else return(0,r.warn)(`Optional content group not found: ${A}`),!0;switch(w){case"And":if(!_)return!1;break;case"Or":if(_)return!0;break;case"Not":return!_;default:return!0}}return w==="And"},e.OptionalContentConfig=c},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var r=t(1),i=t(6);class s{constructor({length:u,initialData:p,progressiveDone:m=!1,contentDispositionFilename:b=null,disableRange:v=!1,disableStream:y=!1},h){if((0,r.assert)(h,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=m,this._contentDispositionFilename=b,(p==null?void 0:p.length)>0){let l=p instanceof Uint8Array&&p.byteLength===p.buffer.byteLength?p.buffer:new Uint8Array(p).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=h,this._isStreamingSupported=!y,this._isRangeSupported=!v,this._contentLength=u,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((l,g)=>{this._onReceiveData({begin:l,chunk:g})}),this._pdfDataRangeTransport.addProgressListener((l,g)=>{this._onProgress({loaded:l,total:g})}),this._pdfDataRangeTransport.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:u,chunk:p}){let m=p instanceof Uint8Array&&p.byteLength===p.buffer.byteLength?p.buffer:new Uint8Array(p).buffer;if(u===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(m):this._queuedChunks.push(m);else{let b=this._rangeReaders.some(function(v){return v._begin!==u?!1:(v._enqueue(m),!0)});(0,r.assert)(b,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var u;return((u=this._fullRequestReader)==null?void 0:u._loaded)??0}_onProgress(u){var p,m,b,v;u.total===void 0?(m=(p=this._rangeReaders[0])==null?void 0:p.onProgress)==null||m.call(p,{loaded:u.loaded}):(v=(b=this._fullRequestReader)==null?void 0:b.onProgress)==null||v.call(b,{loaded:u.loaded,total:u.total})}_onProgressiveDone(){var u;(u=this._fullRequestReader)==null||u.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(u){let p=this._rangeReaders.indexOf(u);p>=0&&this._rangeReaders.splice(p,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let u=this._queuedChunks;return this._queuedChunks=null,new o(this,u,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(u,p){if(p<=this._progressiveDataLength)return null;let m=new c(this,u,p);return this._pdfDataRangeTransport.requestDataRange(u,p),this._rangeReaders.push(m),m}cancelAllRequests(u){var p;(p=this._fullRequestReader)==null||p.cancel(u);for(let m of this._rangeReaders.slice(0))m.cancel(u);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=s;class o{constructor(u,p,m=!1,b=null){this._stream=u,this._done=m||!1,this._filename=(0,i.isPdfFile)(b)?b:null,this._queuedChunks=p||[],this._loaded=0;for(let v of this._queuedChunks)this._loaded+=v.byteLength;this._requests=[],this._headersReady=Promise.resolve(),u._fullRequestReader=this,this.onProgress=null}_enqueue(u){this._done||(this._requests.length>0?this._requests.shift().resolve({value:u,done:!1}):this._queuedChunks.push(u),this._loaded+=u.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let u=new r.PromiseCapability;return this._requests.push(u),u.promise}cancel(u){this._done=!0;for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class c{constructor(u,p,m){this._stream=u,this._begin=p,this._end=m,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(u){if(!this._done){if(this._requests.length===0)this._queuedChunk=u;else{this._requests.shift().resolve({value:u,done:!1});for(let m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){let p=this._queuedChunk;return this._queuedChunk=null,{value:p,done:!1}}if(this._done)return{value:void 0,done:!0};let u=new r.PromiseCapability;return this._requests.push(u),u.promise}cancel(u){this._done=!0;for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var r=t(1),i=t(20);function s(m,b,v){return{method:"GET",headers:m,signal:v.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}function o(m){let b=new Headers;for(let v in m){let y=m[v];y!==void 0&&b.append(v,y)}return b}function c(m){return m instanceof Uint8Array?m.buffer:m instanceof ArrayBuffer?m:((0,r.warn)(`getArrayBuffer - unexpected data format: ${m}`),new Uint8Array(m).buffer)}class d{constructor(b){this.source=b,this.isHttp=/^https?:/i.test(b.url),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var b;return((b=this._fullRequestReader)==null?void 0:b._loaded)??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new u(this),this._fullRequestReader}getRangeReader(b,v){if(v<=this._progressiveDataLength)return null;let y=new p(this,b,v);return this._rangeRequestReaders.push(y),y}cancelAllRequests(b){var v;(v=this._fullRequestReader)==null||v.cancel(b);for(let y of this._rangeRequestReaders.slice(0))y.cancel(b)}}e.PDFFetchStream=d;class u{constructor(b){this._stream=b,this._reader=null,this._loaded=0,this._filename=null;let v=b.source;this._withCredentials=v.withCredentials||!1,this._contentLength=v.length,this._headersCapability=new r.PromiseCapability,this._disableRange=v.disableRange||!1,this._rangeChunkSize=v.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._headers=o(this._stream.httpHeaders);let y=v.url;fetch(y,s(this._headers,this._withCredentials,this._abortController)).then(h=>{if(!(0,i.validateResponseStatus)(h.status))throw(0,i.createResponseStatusError)(h.status,y);this._reader=h.body.getReader(),this._headersCapability.resolve();let l=E=>h.headers.get(E),{allowRangeRequests:g,suggestedLength:w}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:l,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=w||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var y;await this._headersCapability.promise;let{value:b,done:v}=await this._reader.read();return v?{value:b,done:v}:(this._loaded+=b.byteLength,(y=this.onProgress)==null||y.call(this,{loaded:this._loaded,total:this._contentLength}),{value:c(b),done:!1})}cancel(b){var v;(v=this._reader)==null||v.cancel(b),this._abortController.abort()}}class p{constructor(b,v,y){this._stream=b,this._reader=null,this._loaded=0;let h=b.source;this._withCredentials=h.withCredentials||!1,this._readCapability=new r.PromiseCapability,this._isStreamingSupported=!h.disableStream,this._abortController=new AbortController,this._headers=o(this._stream.httpHeaders),this._headers.append("Range",`bytes=${v}-${y-1}`);let l=h.url;fetch(l,s(this._headers,this._withCredentials,this._abortController)).then(g=>{if(!(0,i.validateResponseStatus)(g.status))throw(0,i.createResponseStatusError)(g.status,l);this._readCapability.resolve(),this._reader=g.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var y;await this._readCapability.promise;let{value:b,done:v}=await this._reader.read();return v?{value:b,done:v}:(this._loaded+=b.byteLength,(y=this.onProgress)==null||y.call(this,{loaded:this._loaded}),{value:c(b),done:!1})}cancel(b){var v;(v=this._reader)==null||v.cancel(b),this._abortController.abort()}}},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=d,e.extractFilenameFromHeader=c,e.validateRangeRequestCapabilities=o,e.validateResponseStatus=u;var r=t(1),i=t(21),s=t(6);function o({getResponseHeader:p,isHttp:m,rangeChunkSize:b,disableRange:v}){let y={allowRangeRequests:!1,suggestedLength:void 0},h=parseInt(p("Content-Length"),10);return!Number.isInteger(h)||(y.suggestedLength=h,h<=2*b)||v||!m||p("Accept-Ranges")!=="bytes"||(p("Content-Encoding")||"identity")!=="identity"||(y.allowRangeRequests=!0),y}function c(p){let m=p("Content-Disposition");if(m){let b=(0,i.getFilenameFromContentDispositionHeader)(m);if(b.includes("%"))try{b=decodeURIComponent(b)}catch{}if((0,s.isPdfFile)(b))return b}return null}function d(p,m){return p===404||p===0&&m.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+m+'".'):new r.UnexpectedResponseException(`Unexpected server response (${p}) while retrieving PDF "${m}".`,p)}function u(p){return p===200||p===206}},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=i;var r=t(1);function i(s){let o=!0,c=d("filename\\*","i").exec(s);if(c){c=c[1];let h=b(c);return h=unescape(h),h=v(h),h=y(h),p(h)}if(c=m(s),c){let h=y(c);return p(h)}if(c=d("filename","i").exec(s),c){c=c[1];let h=b(c);return h=y(h),p(h)}function d(h,l){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',l)}function u(h,l){if(h){if(!/^[\x00-\xFF]+$/.test(l))return l;try{let g=new TextDecoder(h,{fatal:!0}),w=(0,r.stringToBytes)(l);l=g.decode(w),o=!1}catch{}}return l}function p(h){return o&&/[\x80-\xff]/.test(h)&&(h=u("utf-8",h),o&&(h=u("iso-8859-1",h))),h}function m(h){let l=[],g,w=d("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=w.exec(h))!==null;){let[,A,_,C]=g;if(A=parseInt(A,10),A in l){if(A===0)break;continue}l[A]=[_,C]}let E=[];for(let A=0;A<l.length&&A in l;++A){let[_,C]=l[A];C=b(C),_&&(C=unescape(C),A===0&&(C=v(C))),E.push(C)}return E.join("")}function b(h){if(h.startsWith('"')){let l=h.slice(1).split('\\"');for(let g=0;g<l.length;++g){let w=l[g].indexOf('"');w!==-1&&(l[g]=l[g].slice(0,w),l.length=g+1),l[g]=l[g].replaceAll(/\\(.)/g,"$1")}h=l.join('"')}return h}function v(h){let l=h.indexOf("'");if(l===-1)return h;let g=h.slice(0,l),E=h.slice(l+1).replace(/^[^']*'/,"");return u(g,E)}function y(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(l,g,w,E){if(w==="q"||w==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,_){return String.fromCharCode(parseInt(_,16))}),u(g,E);try{E=atob(E)}catch{}return u(g,E)})}return""}},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var r=t(1),i=t(20);let s=200,o=206;function c(b){let v=b.response;return typeof v!="string"?v:(0,r.stringToBytes)(v).buffer}class d{constructor(v,y={}){this.url=v,this.isHttp=/^https?:/i.test(v),this.httpHeaders=this.isHttp&&y.httpHeaders||Object.create(null),this.withCredentials=y.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(v,y,h){let l={begin:v,end:y};for(let g in h)l[g]=h[g];return this.request(l)}requestFull(v){return this.request(v)}request(v){let y=new XMLHttpRequest,h=this.currXhrId++,l=this.pendingRequests[h]={xhr:y};y.open("GET",this.url),y.withCredentials=this.withCredentials;for(let g in this.httpHeaders){let w=this.httpHeaders[g];w!==void 0&&y.setRequestHeader(g,w)}return this.isHttp&&"begin"in v&&"end"in v?(y.setRequestHeader("Range",`bytes=${v.begin}-${v.end-1}`),l.expectedStatus=o):l.expectedStatus=s,y.responseType="arraybuffer",v.onError&&(y.onerror=function(g){v.onError(y.status)}),y.onreadystatechange=this.onStateChange.bind(this,h),y.onprogress=this.onProgress.bind(this,h),l.onHeadersReceived=v.onHeadersReceived,l.onDone=v.onDone,l.onError=v.onError,l.onProgress=v.onProgress,y.send(null),h}onProgress(v,y){var l;let h=this.pendingRequests[v];h&&((l=h.onProgress)==null||l.call(h,y))}onStateChange(v,y){var A,_,C;let h=this.pendingRequests[v];if(!h)return;let l=h.xhr;if(l.readyState>=2&&h.onHeadersReceived&&(h.onHeadersReceived(),delete h.onHeadersReceived),l.readyState!==4||!(v in this.pendingRequests))return;if(delete this.pendingRequests[v],l.status===0&&this.isHttp){(A=h.onError)==null||A.call(h,l.status);return}let g=l.status||s;if(!(g===s&&h.expectedStatus===o)&&g!==h.expectedStatus){(_=h.onError)==null||_.call(h,l.status);return}let E=c(l);if(g===o){let I=l.getResponseHeader("Content-Range"),T=/bytes (\d+)-(\d+)\/(\d+)/.exec(I);h.onDone({begin:parseInt(T[1],10),chunk:E})}else E?h.onDone({begin:0,chunk:E}):(C=h.onError)==null||C.call(h,l.status)}getRequestXhr(v){return this.pendingRequests[v].xhr}isPendingRequest(v){return v in this.pendingRequests}abortRequest(v){let y=this.pendingRequests[v].xhr;delete this.pendingRequests[v],y.abort()}}class u{constructor(v){this._source=v,this._manager=new d(v.url,{httpHeaders:v.httpHeaders,withCredentials:v.withCredentials}),this._rangeChunkSize=v.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(v){let y=this._rangeRequestReaders.indexOf(v);y>=0&&this._rangeRequestReaders.splice(y,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new p(this._manager,this._source),this._fullRequestReader}getRangeReader(v,y){let h=new m(this._manager,v,y);return h.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(h),h}cancelAllRequests(v){var y;(y=this._fullRequestReader)==null||y.cancel(v);for(let h of this._rangeRequestReaders.slice(0))h.cancel(v)}}e.PDFNetworkStream=u;class p{constructor(v,y){this._manager=v;let h={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=y.url,this._fullRequestId=v.requestFull(h),this._headersReceivedCapability=new r.PromiseCapability,this._disableRange=y.disableRange||!1,this._contentLength=y.length,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let v=this._fullRequestId,y=this._manager.getRequestXhr(v),h=w=>y.getResponseHeader(w),{allowRangeRequests:l,suggestedLength:g}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(h),this._isRangeSupported&&this._manager.abortRequest(v),this._headersReceivedCapability.resolve()}_onDone(v){if(v&&(this._requests.length>0?this._requests.shift().resolve({value:v.chunk,done:!1}):this._cachedChunks.push(v.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(v){this._storedError=(0,i.createResponseStatusError)(v,this._url),this._headersReceivedCapability.reject(this._storedError);for(let y of this._requests)y.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(v){var y;(y=this.onProgress)==null||y.call(this,{loaded:v.loaded,total:v.lengthComputable?v.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let v=new r.PromiseCapability;return this._requests.push(v),v.promise}cancel(v){this._done=!0,this._headersReceivedCapability.reject(v);for(let y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class m{constructor(v,y,h){this._manager=v;let l={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=v.url,this._requestId=v.requestRange(y,h,l),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var v;(v=this.onClosed)==null||v.call(this,this)}_onDone(v){let y=v.chunk;this._requests.length>0?this._requests.shift().resolve({value:y,done:!1}):this._queuedChunk=y,this._done=!0;for(let h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(v){this._storedError=(0,i.createResponseStatusError)(v,this._url);for(let y of this._requests)y.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(v){var y;this.isStreamingSupported||(y=this.onProgress)==null||y.call(this,{loaded:v.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let y=this._queuedChunk;return this._queuedChunk=null,{value:y,done:!1}}if(this._done)return{value:void 0,done:!0};let v=new r.PromiseCapability;return this._requests.push(v),v.promise}cancel(v){this._done=!0;for(let y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var r=t(1),i=t(20);let s=/^file:\/\/\/[a-zA-Z]:\//;function o(h){let l=Jf(),g=l.parse(h);return g.protocol==="file:"||g.host?g:/^[a-z]:[/\\]/i.test(h)?l.parse(`file:///${h}`):(g.host||(g.protocol="file:"),g)}class c{constructor(l){this.source=l,this.url=o(l.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&l.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var l;return((l=this._fullRequestReader)==null?void 0:l._loaded)??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new v(this):new m(this),this._fullRequestReader}getRangeReader(l,g){if(g<=this._progressiveDataLength)return null;let w=this.isFsUrl?new y(this,l,g):new b(this,l,g);return this._rangeRequestReaders.push(w),w}cancelAllRequests(l){var g;(g=this._fullRequestReader)==null||g.cancel(l);for(let w of this._rangeRequestReaders.slice(0))w.cancel(l)}}e.PDFNodeStream=c;class d{constructor(l){this._url=l.url,this._done=!1,this._storedError=null,this.onProgress=null;let g=l.source;this._contentLength=g.length,this._loaded=0,this._filename=null,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._readableStream=null,this._readCapability=new r.PromiseCapability,this._headersCapability=new r.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var w;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let l=this._readableStream.read();return l===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=l.length,(w=this.onProgress)==null||w.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(l).buffer,done:!1})}cancel(l){if(!this._readableStream){this._error(l);return}this._readableStream.destroy(l)}_error(l){this._storedError=l,this._readCapability.resolve()}_setReadableStream(l){this._readableStream=l,l.on("readable",()=>{this._readCapability.resolve()}),l.on("end",()=>{l.destroy(),this._done=!0,this._readCapability.resolve()}),l.on("error",g=>{this._error(g)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class u{constructor(l){this._url=l.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new r.PromiseCapability;let g=l.source;this._isStreamingSupported=!g.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var w;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let l=this._readableStream.read();return l===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=l.length,(w=this.onProgress)==null||w.call(this,{loaded:this._loaded}),{value:new Uint8Array(l).buffer,done:!1})}cancel(l){if(!this._readableStream){this._error(l);return}this._readableStream.destroy(l)}_error(l){this._storedError=l,this._readCapability.resolve()}_setReadableStream(l){this._readableStream=l,l.on("readable",()=>{this._readCapability.resolve()}),l.on("end",()=>{l.destroy(),this._done=!0,this._readCapability.resolve()}),l.on("error",g=>{this._error(g)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function p(h,l){return{protocol:h.protocol,auth:h.auth,host:h.hostname,port:h.port,path:h.path,method:"GET",headers:l}}class m extends d{constructor(l){super(l);let g=w=>{if(w.statusCode===404){let C=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=C,this._headersCapability.reject(C);return}this._headersCapability.resolve(),this._setReadableStream(w);let E=C=>this._readableStream.headers[C.toLowerCase()],{allowRangeRequests:A,suggestedLength:_}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:E,isHttp:l.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=A,this._contentLength=_||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(E)};if(this._request=null,this._url.protocol==="http:"){let w=ty();this._request=w.request(p(this._url,l.httpHeaders),g)}else{let w=ny();this._request=w.request(p(this._url,l.httpHeaders),g)}this._request.on("error",w=>{this._storedError=w,this._headersCapability.reject(w)}),this._request.end()}}class b extends u{constructor(l,g,w){super(l),this._httpHeaders={};for(let A in l.httpHeaders){let _=l.httpHeaders[A];_!==void 0&&(this._httpHeaders[A]=_)}this._httpHeaders.Range=`bytes=${g}-${w-1}`;let E=A=>{if(A.statusCode===404){let _=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=_;return}this._setReadableStream(A)};if(this._request=null,this._url.protocol==="http:"){let A=ty();this._request=A.request(p(this._url,this._httpHeaders),E)}else{let A=ny();this._request=A.request(p(this._url,this._httpHeaders),E)}this._request.on("error",A=>{this._storedError=A}),this._request.end()}}class v extends d{constructor(l){super(l);let g=decodeURIComponent(this._url.path);s.test(this._url.href)&&(g=g.replace(/^\//,""));let w=Il();w.lstat(g,(E,A)=>{if(E){E.code==="ENOENT"&&(E=new r.MissingPDFException(`Missing PDF "${g}".`)),this._storedError=E,this._headersCapability.reject(E);return}this._contentLength=A.size,this._setReadableStream(w.createReadStream(g)),this._headersCapability.resolve()})}}class y extends u{constructor(l,g,w){super(l);let E=decodeURIComponent(this._url.path);s.test(this._url.href)&&(E=E.replace(/^\//,""));let A=Il();this._setReadableStream(A.createReadStream(E,{start:g,end:w-1}))}}},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var r=t(6),i=t(1);let s={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},o="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",d=["butt","round","square"],u=["miter","round","bevel"],p=function(A,_="",C=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!C)return URL.createObjectURL(new Blob([A],{type:_}));let I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",T=`data:${_};base64,`;for(let x=0,D=A.length;x<D;x+=3){let L=A[x]&255,H=A[x+1]&255,G=A[x+2]&255,j=L>>2,q=(L&3)<<4|H>>4,X=x+1<D?(H&15)<<2|G>>6:64,Z=x+2<D?G&63:64;T+=I[j]+I[q]+I[X]+I[Z]}return T},m=function(){let A=new Uint8Array([137,80,78,71,13,10,26,10]),_=12,C=new Int32Array(256);for(let G=0;G<256;G++){let j=G;for(let q=0;q<8;q++)j=j&1?3988292384^j>>1&2147483647:j>>1&2147483647;C[G]=j}function I(G,j,q){let X=-1;for(let Z=j;Z<q;Z++){let $=(X^G[Z])&255,ue=C[$];X=X>>>8^ue}return X^-1}function T(G,j,q,X){let Z=X,$=j.length;q[Z]=$>>24&255,q[Z+1]=$>>16&255,q[Z+2]=$>>8&255,q[Z+3]=$&255,Z+=4,q[Z]=G.charCodeAt(0)&255,q[Z+1]=G.charCodeAt(1)&255,q[Z+2]=G.charCodeAt(2)&255,q[Z+3]=G.charCodeAt(3)&255,Z+=4,q.set(j,Z),Z+=j.length;let ue=I(q,X+4,Z);q[Z]=ue>>24&255,q[Z+1]=ue>>16&255,q[Z+2]=ue>>8&255,q[Z+3]=ue&255}function x(G,j,q){let X=1,Z=0;for(let $=j;$<q;++$)X=(X+(G[$]&255))%65521,Z=(Z+X)%65521;return Z<<16|X}function D(G){if(!i.isNodeJS)return L(G);try{let j=parseInt(process.versions.node)>=8?G:Buffer.from(G),q=p5().deflateSync(j,{level:9});return q instanceof Uint8Array?q:new Uint8Array(q)}catch(j){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+j)}return L(G)}function L(G){let j=G.length,q=65535,X=Math.ceil(j/q),Z=new Uint8Array(2+j+X*5+4),$=0;Z[$++]=120,Z[$++]=156;let ue=0;for(;j>q;)Z[$++]=0,Z[$++]=255,Z[$++]=255,Z[$++]=0,Z[$++]=0,Z.set(G.subarray(ue,ue+q),$),$+=q,ue+=q,j-=q;Z[$++]=1,Z[$++]=j&255,Z[$++]=j>>8&255,Z[$++]=~j&65535&255,Z[$++]=(~j&65535)>>8&255,Z.set(G.subarray(ue),$),$+=G.length-ue;let fe=x(G,0,G.length);return Z[$++]=fe>>24&255,Z[$++]=fe>>16&255,Z[$++]=fe>>8&255,Z[$++]=fe&255,Z}function H(G,j,q,X){let Z=G.width,$=G.height,ue,fe,he,Se=G.data;switch(j){case i.ImageKind.GRAYSCALE_1BPP:fe=0,ue=1,he=Z+7>>3;break;case i.ImageKind.RGB_24BPP:fe=2,ue=8,he=Z*3;break;case i.ImageKind.RGBA_32BPP:fe=6,ue=8,he=Z*4;break;default:throw new Error("invalid format")}let V=new Uint8Array((1+he)*$),O=0,M=0;for(let re=0;re<$;++re)V[O++]=0,V.set(Se.subarray(M,M+he),O),M+=he,O+=he;if(j===i.ImageKind.GRAYSCALE_1BPP&&X){O=0;for(let re=0;re<$;re++){O++;for(let pe=0;pe<he;pe++)V[O++]^=255}}let P=new Uint8Array([Z>>24&255,Z>>16&255,Z>>8&255,Z&255,$>>24&255,$>>16&255,$>>8&255,$&255,ue,fe,0,0,0]),N=D(V),U=A.length+_*3+P.length+N.length,J=new Uint8Array(U),te=0;return J.set(A,te),te+=A.length,T("IHDR",P,J,te),te+=_+P.length,T("IDATA",N,J,te),te+=_+N.length,T("IEND",new Uint8Array(0),J,te),p(J,"image/png",q)}return function(j,q,X){let Z=j.kind===void 0?i.ImageKind.GRAYSCALE_1BPP:j.kind;return H(j,Z,q,X)}}();class b{constructor(){this.fontSizeScale=1,this.fontWeight=s.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=s.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(_,C){this.x=_,this.y=C}}function v(A){let _=[],C=[];for(let I of A){if(I.fn==="save"){_.push({fnId:92,fn:"group",items:[]}),C.push(_),_=_.at(-1).items;continue}I.fn==="restore"?_=C.pop():_.push(I)}return _}function y(A){if(Number.isInteger(A))return A.toString();let _=A.toFixed(10),C=_.length-1;if(_[C]!=="0")return _;do C--;while(_[C]==="0");return _.substring(0,_[C]==="."?C:C+1)}function h(A){if(A[4]===0&&A[5]===0){if(A[1]===0&&A[2]===0)return A[0]===1&&A[3]===1?"":`scale(${y(A[0])} ${y(A[3])})`;if(A[0]===A[3]&&A[1]===-A[2]){let _=Math.acos(A[0])*180/Math.PI;return`rotate(${y(_)})`}}else if(A[0]===1&&A[1]===0&&A[2]===0&&A[3]===1)return`translate(${y(A[4])} ${y(A[5])})`;return`matrix(${y(A[0])} ${y(A[1])} ${y(A[2])} ${y(A[3])} ${y(A[4])} ${y(A[5])})`}let l=0,g=0,w=0;class E{constructor(_,C,I=!1){(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new b,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=_,this.objs=C,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!I,this._operatorIdMapping=[];for(let T in i.OPS)this._operatorIdMapping[i.OPS[T]]=T}getObject(_,C=null){return typeof _=="string"?_.startsWith("g_")?this.commonObjs.get(_):this.objs.get(_):C}save(){this.transformStack.push(this.transformMatrix);let _=this.current;this.extraStack.push(_),this.current=_.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(_){this.save(),this.executeOpTree(_),this.restore()}loadDependencies(_){let C=_.fnArray,I=_.argsArray;for(let T=0,x=C.length;T<x;T++)if(C[T]===i.OPS.dependency)for(let D of I[T]){let L=D.startsWith("g_")?this.commonObjs:this.objs,H=new Promise(G=>{L.get(D,G)});this.current.dependencies.push(H)}return Promise.all(this.current.dependencies)}transform(_,C,I,T,x,D){let L=[_,C,I,T,x,D];this.transformMatrix=i.Util.transform(this.transformMatrix,L),this.tgrp=null}getSVG(_,C){this.viewport=C;let I=this._initialize(C);return this.loadDependencies(_).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(_)),I))}convertOpList(_){let C=this._operatorIdMapping,I=_.argsArray,T=_.fnArray,x=[];for(let D=0,L=T.length;D<L;D++){let H=T[D];x.push({fnId:H,fn:C[H],args:I[D]})}return v(x)}executeOpTree(_){for(let C of _){let I=C.fn,T=C.fnId,x=C.args;switch(T|0){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(x);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(x[0],x[1]);break;case i.OPS.setFont:this.setFont(x);break;case i.OPS.showText:this.showText(x[0]);break;case i.OPS.showSpacedText:this.showText(x[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(x[0],x[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(x[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(x[0]);break;case i.OPS.setHScale:this.setHScale(x[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(x[0],x[1],x[2],x[3],x[4],x[5]);break;case i.OPS.setTextRise:this.setTextRise(x[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(x[0]);break;case i.OPS.setLineWidth:this.setLineWidth(x[0]);break;case i.OPS.setLineJoin:this.setLineJoin(x[0]);break;case i.OPS.setLineCap:this.setLineCap(x[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(x[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(x[0],x[1],x[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(x[0],x[1],x[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(x);break;case i.OPS.setFillColorN:this.setFillColorN(x);break;case i.OPS.shadingFill:this.shadingFill(x[0]);break;case i.OPS.setDash:this.setDash(x[0],x[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(x[0]);break;case i.OPS.setFlatness:this.setFlatness(x[0]);break;case i.OPS.setGState:this.setGState(x[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(x[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(x[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(x[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(x[0],x[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(x[0],x[1],x[2],x[3],x[4],x[5]);break;case i.OPS.constructPath:this.constructPath(x[0],x[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(C.items);break;default:(0,i.warn)(`Unimplemented operator ${I}`);break}}}setWordSpacing(_){this.current.wordSpacing=_}setCharSpacing(_){this.current.charSpacing=_}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(_,C,I,T,x,D){let L=this.current;L.textMatrix=L.lineMatrix=[_,C,I,T,x,D],L.textMatrixScale=Math.hypot(_,C),L.x=L.lineX=0,L.y=L.lineY=0,L.xcoords=[],L.ycoords=[],L.tspan=this.svgFactory.createElement("svg:tspan"),L.tspan.setAttributeNS(null,"font-family",L.fontFamily),L.tspan.setAttributeNS(null,"font-size",`${y(L.fontSize)}px`),L.tspan.setAttributeNS(null,"y",y(-L.y)),L.txtElement=this.svgFactory.createElement("svg:text"),L.txtElement.append(L.tspan)}beginText(){let _=this.current;_.x=_.lineX=0,_.y=_.lineY=0,_.textMatrix=i.IDENTITY_MATRIX,_.lineMatrix=i.IDENTITY_MATRIX,_.textMatrixScale=1,_.tspan=this.svgFactory.createElement("svg:tspan"),_.txtElement=this.svgFactory.createElement("svg:text"),_.txtgrp=this.svgFactory.createElement("svg:g"),_.xcoords=[],_.ycoords=[]}moveText(_,C){let I=this.current;I.x=I.lineX+=_,I.y=I.lineY+=C,I.xcoords=[],I.ycoords=[],I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size",`${y(I.fontSize)}px`),I.tspan.setAttributeNS(null,"y",y(-I.y))}showText(_){let C=this.current,I=C.font,T=C.fontSize;if(T===0)return;let x=C.fontSizeScale,D=C.charSpacing,L=C.wordSpacing,H=C.fontDirection,G=C.textHScale*H,j=I.vertical,q=j?1:-1,X=I.defaultVMetrics,Z=T*C.fontMatrix[0],$=0;for(let he of _){if(he===null){$+=H*L;continue}else if(typeof he=="number"){$+=q*he*T/1e3;continue}let Se=(he.isSpace?L:0)+D,V=he.fontChar,O,M,P=he.width;if(j){let U,J=he.vmetric||X;U=he.vmetric?J[1]:P*.5,U=-U*Z;let te=J[2]*Z;P=J?-J[0]:P,O=U/x,M=($+te)/x}else O=$/x,M=0;(he.isInFont||I.missingFile)&&(C.xcoords.push(C.x+O),j&&C.ycoords.push(-C.y+M),C.tspan.textContent+=V);let N=j?P*Z-Se*H:P*Z+Se*H;$+=N}C.tspan.setAttributeNS(null,"x",C.xcoords.map(y).join(" ")),j?C.tspan.setAttributeNS(null,"y",C.ycoords.map(y).join(" ")):C.tspan.setAttributeNS(null,"y",y(-C.y)),j?C.y-=$:C.x+=$*G,C.tspan.setAttributeNS(null,"font-family",C.fontFamily),C.tspan.setAttributeNS(null,"font-size",`${y(C.fontSize)}px`),C.fontStyle!==s.fontStyle&&C.tspan.setAttributeNS(null,"font-style",C.fontStyle),C.fontWeight!==s.fontWeight&&C.tspan.setAttributeNS(null,"font-weight",C.fontWeight);let ue=C.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(ue===i.TextRenderingMode.FILL||ue===i.TextRenderingMode.FILL_STROKE?(C.fillColor!==s.fillColor&&C.tspan.setAttributeNS(null,"fill",C.fillColor),C.fillAlpha<1&&C.tspan.setAttributeNS(null,"fill-opacity",C.fillAlpha)):C.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?C.tspan.setAttributeNS(null,"fill","transparent"):C.tspan.setAttributeNS(null,"fill","none"),ue===i.TextRenderingMode.STROKE||ue===i.TextRenderingMode.FILL_STROKE){let he=1/(C.textMatrixScale||1);this._setStrokeAttributes(C.tspan,he)}let fe=C.textMatrix;C.textRise!==0&&(fe=fe.slice(),fe[5]+=C.textRise),C.txtElement.setAttributeNS(null,"transform",`${h(fe)} scale(${y(G)}, -1)`),C.txtElement.setAttributeNS(o,"xml:space","preserve"),C.txtElement.append(C.tspan),C.txtgrp.append(C.txtElement),this._ensureTransformGroup().append(C.txtElement)}setLeadingMoveText(_,C){this.setLeading(-C),this.moveText(_,C)}addFontStyle(_){if(!_.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));let C=p(_.data,_.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${_.loadedName}"; src: url(${C}); }
`}setFont(_){let C=this.current,I=this.commonObjs.get(_[0]),T=_[1];C.font=I,this.embedFonts&&!I.missingFile&&!this.embeddedFonts[I.loadedName]&&(this.addFontStyle(I),this.embeddedFonts[I.loadedName]=I),C.fontMatrix=I.fontMatrix||i.FONT_IDENTITY_MATRIX;let x="normal";I.black?x="900":I.bold&&(x="bold");let D=I.italic?"italic":"normal";T<0?(T=-T,C.fontDirection=-1):C.fontDirection=1,C.fontSize=T,C.fontFamily=I.loadedName,C.fontWeight=x,C.fontStyle=D,C.tspan=this.svgFactory.createElement("svg:tspan"),C.tspan.setAttributeNS(null,"y",y(-C.y)),C.xcoords=[],C.ycoords=[]}endText(){var C;let _=this.current;_.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&((C=_.txtElement)!=null&&C.hasChildNodes())&&(_.element=_.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(_){_>0&&(this.current.lineWidth=_)}setLineCap(_){this.current.lineCap=d[_]}setLineJoin(_){this.current.lineJoin=u[_]}setMiterLimit(_){this.current.miterLimit=_}setStrokeAlpha(_){this.current.strokeAlpha=_}setStrokeRGBColor(_,C,I){this.current.strokeColor=i.Util.makeHexColor(_,C,I)}setFillAlpha(_){this.current.fillAlpha=_}setFillRGBColor(_,C,I){this.current.fillColor=i.Util.makeHexColor(_,C,I),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(_){this.current.strokeColor=this._makeColorN_Pattern(_)}setFillColorN(_){this.current.fillColor=this._makeColorN_Pattern(_)}shadingFill(_){let{width:C,height:I}=this.viewport,T=i.Util.inverseTransform(this.transformMatrix),[x,D,L,H]=i.Util.getAxialAlignedBoundingBox([0,0,C,I],T),G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x",x),G.setAttributeNS(null,"y",D),G.setAttributeNS(null,"width",L-x),G.setAttributeNS(null,"height",H-D),G.setAttributeNS(null,"fill",this._makeShadingPattern(_)),this.current.fillAlpha<1&&G.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(G)}_makeColorN_Pattern(_){return _[0]==="TilingPattern"?this._makeTilingPattern(_):this._makeShadingPattern(_)}_makeTilingPattern(_){let C=_[1],I=_[2],T=_[3]||i.IDENTITY_MATRIX,[x,D,L,H]=_[4],G=_[5],j=_[6],q=_[7],X=`shading${w++}`,[Z,$,ue,fe]=i.Util.normalizeRect([...i.Util.applyTransform([x,D],T),...i.Util.applyTransform([L,H],T)]),[he,Se]=i.Util.singularValueDecompose2dScale(T),V=G*he,O=j*Se,M=this.svgFactory.createElement("svg:pattern");M.setAttributeNS(null,"id",X),M.setAttributeNS(null,"patternUnits","userSpaceOnUse"),M.setAttributeNS(null,"width",V),M.setAttributeNS(null,"height",O),M.setAttributeNS(null,"x",`${Z}`),M.setAttributeNS(null,"y",`${$}`);let P=this.svg,N=this.transformMatrix,U=this.current.fillColor,J=this.current.strokeColor,te=this.svgFactory.create(ue-Z,fe-$);if(this.svg=te,this.transformMatrix=T,q===2){let re=i.Util.makeHexColor(...C);this.current.fillColor=re,this.current.strokeColor=re}return this.executeOpTree(this.convertOpList(I)),this.svg=P,this.transformMatrix=N,this.current.fillColor=U,this.current.strokeColor=J,M.append(te.childNodes[0]),this.defs.append(M),`url(#${X})`}_makeShadingPattern(_){switch(typeof _=="string"&&(_=this.objs.get(_)),_[0]){case"RadialAxial":let C=`shading${w++}`,I=_[3],T;switch(_[1]){case"axial":let x=_[4],D=_[5];T=this.svgFactory.createElement("svg:linearGradient"),T.setAttributeNS(null,"id",C),T.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),T.setAttributeNS(null,"x1",x[0]),T.setAttributeNS(null,"y1",x[1]),T.setAttributeNS(null,"x2",D[0]),T.setAttributeNS(null,"y2",D[1]);break;case"radial":let L=_[4],H=_[5],G=_[6],j=_[7];T=this.svgFactory.createElement("svg:radialGradient"),T.setAttributeNS(null,"id",C),T.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),T.setAttributeNS(null,"cx",H[0]),T.setAttributeNS(null,"cy",H[1]),T.setAttributeNS(null,"r",j),T.setAttributeNS(null,"fx",L[0]),T.setAttributeNS(null,"fy",L[1]),T.setAttributeNS(null,"fr",G);break;default:throw new Error(`Unknown RadialAxial type: ${_[1]}`)}for(let x of I){let D=this.svgFactory.createElement("svg:stop");D.setAttributeNS(null,"offset",x[0]),D.setAttributeNS(null,"stop-color",x[1]),T.append(D)}return this.defs.append(T),`url(#${C})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${_[0]}`)}}setDash(_,C){this.current.dashArray=_,this.current.dashPhase=C}constructPath(_,C){let I=this.current,T=I.x,x=I.y,D=[],L=0;for(let H of _)switch(H|0){case i.OPS.rectangle:T=C[L++],x=C[L++];let G=C[L++],j=C[L++],q=T+G,X=x+j;D.push("M",y(T),y(x),"L",y(q),y(x),"L",y(q),y(X),"L",y(T),y(X),"Z");break;case i.OPS.moveTo:T=C[L++],x=C[L++],D.push("M",y(T),y(x));break;case i.OPS.lineTo:T=C[L++],x=C[L++],D.push("L",y(T),y(x));break;case i.OPS.curveTo:T=C[L+4],x=C[L+5],D.push("C",y(C[L]),y(C[L+1]),y(C[L+2]),y(C[L+3]),y(T),y(x)),L+=6;break;case i.OPS.curveTo2:D.push("C",y(T),y(x),y(C[L]),y(C[L+1]),y(C[L+2]),y(C[L+3])),T=C[L+2],x=C[L+3],L+=4;break;case i.OPS.curveTo3:T=C[L+2],x=C[L+3],D.push("C",y(C[L]),y(C[L+1]),y(T),y(x),y(T),y(x)),L+=4;break;case i.OPS.closePath:D.push("Z");break}D=D.join(" "),I.path&&_.length>0&&_[0]!==i.OPS.rectangle&&_[0]!==i.OPS.moveTo?D=I.path.getAttributeNS(null,"d")+D:(I.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(I.path)),I.path.setAttributeNS(null,"d",D),I.path.setAttributeNS(null,"fill","none"),I.element=I.path,I.setCurrentPoint(T,x)}endPath(){let _=this.current;if(_.path=null,!this.pendingClip)return;if(!_.element){this.pendingClip=null;return}let C=`clippath${l++}`,I=this.svgFactory.createElement("svg:clipPath");I.setAttributeNS(null,"id",C),I.setAttributeNS(null,"transform",h(this.transformMatrix));let T=_.element.cloneNode(!0);if(this.pendingClip==="evenodd"?T.setAttributeNS(null,"clip-rule","evenodd"):T.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,I.append(T),this.defs.append(I),_.activeClipUrl){_.clipGroup=null;for(let x of this.extraStack)x.clipGroup=null;I.setAttributeNS(null,"clip-path",_.activeClipUrl)}_.activeClipUrl=`url(#${C})`,this.tgrp=null}clip(_){this.pendingClip=_}closePath(){let _=this.current;if(_.path){let C=`${_.path.getAttributeNS(null,"d")}Z`;_.path.setAttributeNS(null,"d",C)}}setLeading(_){this.current.leading=-_}setTextRise(_){this.current.textRise=_}setTextRenderingMode(_){this.current.textRenderingMode=_}setHScale(_){this.current.textHScale=_/100}setRenderingIntent(_){}setFlatness(_){}setGState(_){for(let[C,I]of _)switch(C){case"LW":this.setLineWidth(I);break;case"LC":this.setLineCap(I);break;case"LJ":this.setLineJoin(I);break;case"ML":this.setMiterLimit(I);break;case"D":this.setDash(I[0],I[1]);break;case"RI":this.setRenderingIntent(I);break;case"FL":this.setFlatness(I);break;case"Font":this.setFont(I);break;case"CA":this.setStrokeAlpha(I);break;case"ca":this.setFillAlpha(I);break;default:(0,i.warn)(`Unimplemented graphic state operator ${C}`);break}}fill(){let _=this.current;_.element&&(_.element.setAttributeNS(null,"fill",_.fillColor),_.element.setAttributeNS(null,"fill-opacity",_.fillAlpha),this.endPath())}stroke(){let _=this.current;_.element&&(this._setStrokeAttributes(_.element),_.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(_,C=1){let I=this.current,T=I.dashArray;C!==1&&T.length>0&&(T=T.map(function(x){return C*x})),_.setAttributeNS(null,"stroke",I.strokeColor),_.setAttributeNS(null,"stroke-opacity",I.strokeAlpha),_.setAttributeNS(null,"stroke-miterlimit",y(I.miterLimit)),_.setAttributeNS(null,"stroke-linecap",I.lineCap),_.setAttributeNS(null,"stroke-linejoin",I.lineJoin),_.setAttributeNS(null,"stroke-width",y(C*I.lineWidth)+"px"),_.setAttributeNS(null,"stroke-dasharray",T.map(y).join(" ")),_.setAttributeNS(null,"stroke-dashoffset",y(C*I.dashPhase)+"px")}eoFill(){var _;(_=this.current.element)==null||_.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var _;(_=this.current.element)==null||_.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let _=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width","1px"),_.setAttributeNS(null,"height","1px"),_.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(_)}paintImageXObject(_){let C=this.getObject(_);if(!C){(0,i.warn)(`Dependent image with object ID ${_} is not ready yet`);return}this.paintInlineImageXObject(C)}paintInlineImageXObject(_,C){let I=_.width,T=_.height,x=m(_,this.forceDataSchema,!!C),D=this.svgFactory.createElement("svg:rect");D.setAttributeNS(null,"x","0"),D.setAttributeNS(null,"y","0"),D.setAttributeNS(null,"width",y(I)),D.setAttributeNS(null,"height",y(T)),this.current.element=D,this.clip("nonzero");let L=this.svgFactory.createElement("svg:image");L.setAttributeNS(c,"xlink:href",x),L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y",y(-T)),L.setAttributeNS(null,"width",y(I)+"px"),L.setAttributeNS(null,"height",y(T)+"px"),L.setAttributeNS(null,"transform",`scale(${y(1/I)} ${y(-1/T)})`),C?C.append(L):this._ensureTransformGroup().append(L)}paintImageMaskXObject(_){let C=this.getObject(_.data,_);if(C.bitmap){(0,i.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}let I=this.current,T=C.width,x=C.height,D=I.fillColor;I.maskId=`mask${g++}`;let L=this.svgFactory.createElement("svg:mask");L.setAttributeNS(null,"id",I.maskId);let H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y","0"),H.setAttributeNS(null,"width",y(T)),H.setAttributeNS(null,"height",y(x)),H.setAttributeNS(null,"fill",D),H.setAttributeNS(null,"mask",`url(#${I.maskId})`),this.defs.append(L),this._ensureTransformGroup().append(H),this.paintInlineImageXObject(C,L)}paintFormXObjectBegin(_,C){if(Array.isArray(_)&&_.length===6&&this.transform(_[0],_[1],_[2],_[3],_[4],_[5]),C){let I=C[2]-C[0],T=C[3]-C[1],x=this.svgFactory.createElement("svg:rect");x.setAttributeNS(null,"x",C[0]),x.setAttributeNS(null,"y",C[1]),x.setAttributeNS(null,"width",y(I)),x.setAttributeNS(null,"height",y(T)),this.current.element=x,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(_){let C=this.svgFactory.create(_.width,_.height),I=this.svgFactory.createElement("svg:defs");C.append(I),this.defs=I;let T=this.svgFactory.createElement("svg:g");return T.setAttributeNS(null,"transform",h(_.transform)),C.append(T),this.svg=T,C}_ensureClipGroup(){if(!this.current.clipGroup){let _=this.svgFactory.createElement("svg:g");_.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(_),this.current.clipGroup=_}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",h(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=E},(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class t{static textContent(i){let s=[],o={items:s,styles:Object.create(null)};function c(d){var m;if(!d)return;let u=null,p=d.name;if(p==="#text")u=d.value;else if(t.shouldBuildText(p))(m=d==null?void 0:d.attributes)!=null&&m.textContent?u=d.attributes.textContent:d.value&&(u=d.value);else return;if(u!==null&&s.push({str:u}),!!d.children)for(let b of d.children)c(b)}return c(i),o}static shouldBuildText(i){return!(i==="textarea"||i==="input"||i==="option"||i==="select")}}e.XfaText=t},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=h,e.updateTextLayer=l;var r=t(1),i=t(6);let s=1e5,o=30,c=.8,d=new Map;function u(g,w){let E;if(w&&r.FeatureTest.isOffscreenCanvasSupported)E=new OffscreenCanvas(g,g).getContext("2d",{alpha:!1});else{let A=document.createElement("canvas");A.width=A.height=g,E=A.getContext("2d",{alpha:!1})}return E}function p(g,w){let E=d.get(g);if(E)return E;let A=u(o,w);A.font=`${o}px ${g}`;let _=A.measureText(""),C=_.fontBoundingBoxAscent,I=Math.abs(_.fontBoundingBoxDescent);if(C){let x=C/(C+I);return d.set(g,x),A.canvas.width=A.canvas.height=0,x}A.strokeStyle="red",A.clearRect(0,0,o,o),A.strokeText("g",0,0);let T=A.getImageData(0,0,o,o).data;I=0;for(let x=T.length-1-3;x>=0;x-=4)if(T[x]>0){I=Math.ceil(x/4/o);break}A.clearRect(0,0,o,o),A.strokeText("A",0,o),T=A.getImageData(0,0,o,o).data,C=0;for(let x=0,D=T.length;x<D;x+=4)if(T[x]>0){C=o-Math.floor(x/4/o);break}if(A.canvas.width=A.canvas.height=0,C){let x=C/(C+I);return d.set(g,x),x}return d.set(g,c),c}function m(g,w,E){let A=document.createElement("span"),_={angle:0,canvasWidth:0,hasText:w.str!=="",hasEOL:w.hasEOL,fontSize:0};g._textDivs.push(A);let C=r.Util.transform(g._transform,w.transform),I=Math.atan2(C[1],C[0]),T=E[w.fontName];T.vertical&&(I+=Math.PI/2);let x=Math.hypot(C[2],C[3]),D=x*p(T.fontFamily,g._isOffscreenCanvasSupported),L,H;I===0?(L=C[4],H=C[5]-D):(L=C[4]+D*Math.sin(I),H=C[5]-D*Math.cos(I));let G="calc(var(--scale-factor)*",j=A.style;g._container===g._rootContainer?(j.left=`${(100*L/g._pageWidth).toFixed(2)}%`,j.top=`${(100*H/g._pageHeight).toFixed(2)}%`):(j.left=`${G}${L.toFixed(2)}px)`,j.top=`${G}${H.toFixed(2)}px)`),j.fontSize=`${G}${x.toFixed(2)}px)`,j.fontFamily=T.fontFamily,_.fontSize=x,A.setAttribute("role","presentation"),A.textContent=w.str,A.dir=w.dir,g._fontInspectorEnabled&&(A.dataset.fontName=w.fontName),I!==0&&(_.angle=I*(180/Math.PI));let q=!1;if(w.str.length>1)q=!0;else if(w.str!==" "&&w.transform[0]!==w.transform[3]){let X=Math.abs(w.transform[0]),Z=Math.abs(w.transform[3]);X!==Z&&Math.max(X,Z)/Math.min(X,Z)>1.5&&(q=!0)}q&&(_.canvasWidth=T.vertical?w.height:w.width),g._textDivProperties.set(A,_),g._isReadableStream&&g._layoutText(A)}function b(g){let{div:w,scale:E,properties:A,ctx:_,prevFontSize:C,prevFontFamily:I}=g,{style:T}=w,x="";if(A.canvasWidth!==0&&A.hasText){let{fontFamily:D}=T,{canvasWidth:L,fontSize:H}=A;(C!==H||I!==D)&&(_.font=`${H*E}px ${D}`,g.prevFontSize=H,g.prevFontFamily=D);let{width:G}=_.measureText(w.textContent);G>0&&(x=`scaleX(${L*E/G})`)}A.angle!==0&&(x=`rotate(${A.angle}deg) ${x}`),x.length>0&&(T.transform=x)}function v(g){if(g._canceled)return;let w=g._textDivs,E=g._capability;if(w.length>s){E.resolve();return}if(!g._isReadableStream)for(let _ of w)g._layoutText(_);E.resolve()}class y{constructor({textContentSource:w,container:E,viewport:A,textDivs:_,textDivProperties:C,textContentItemsStr:I,isOffscreenCanvasSupported:T}){var G;this._textContentSource=w,this._isReadableStream=w instanceof ReadableStream,this._container=this._rootContainer=E,this._textDivs=_||[],this._textContentItemsStr=I||[],this._isOffscreenCanvasSupported=T,this._fontInspectorEnabled=!!((G=globalThis.FontInspector)!=null&&G.enabled),this._reader=null,this._textDivProperties=C||new WeakMap,this._canceled=!1,this._capability=new r.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:A.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:u(0,T)};let{pageWidth:x,pageHeight:D,pageX:L,pageY:H}=A.rawDims;this._transform=[1,0,0,-1,-L,H+D],this._pageWidth=x,this._pageHeight=D,(0,i.setLayerDimensions)(E,A),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(w,E){for(let A of w){if(A.str===void 0){if(A.type==="beginMarkedContentProps"||A.type==="beginMarkedContent"){let _=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),A.id!==null&&this._container.setAttribute("id",`${A.id}`),_.append(this._container)}else A.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(A.str),m(this,A,E)}}_layoutText(w){let E=this._layoutTextParams.properties=this._textDivProperties.get(w);if(this._layoutTextParams.div=w,b(this._layoutTextParams),E.hasText&&this._container.append(w),E.hasEOL){let A=document.createElement("br");A.setAttribute("role","presentation"),this._container.append(A)}}_render(){let w=new r.PromiseCapability,E=Object.create(null);if(this._isReadableStream){let A=()=>{this._reader.read().then(({value:_,done:C})=>{if(C){w.resolve();return}Object.assign(E,_.styles),this._processItems(_.items,E),A()},w.reject)};this._reader=this._textContentSource.getReader(),A()}else if(this._textContentSource){let{items:A,styles:_}=this._textContentSource;this._processItems(A,_),w.resolve()}else throw new Error('No "textContentSource" parameter specified.');w.promise.then(()=>{E=null,v(this)},this._capability.reject)}}e.TextLayerRenderTask=y;function h(g){!g.textContentSource&&(g.textContent||g.textContentStream)&&((0,i.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),g.textContentSource=g.textContent||g.textContentStream);let{container:w,viewport:E}=g,A=getComputedStyle(w),_=A.getPropertyValue("visibility"),C=parseFloat(A.getPropertyValue("--scale-factor"));_==="visible"&&(!C||Math.abs(C-E.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");let I=new y(g);return I._render(),I}function l({container:g,viewport:w,textDivs:E,textDivProperties:A,isOffscreenCanvasSupported:_,mustRotate:C=!0,mustRescale:I=!0}){if(C&&(0,i.setLayerDimensions)(g,{rotation:w.rotation}),I){let T=u(0,_),D={prevFontSize:null,prevFontFamily:null,div:null,scale:w.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:T};for(let L of E)D.properties=A.get(L),D.div=L,b(D)}}},(n,e,t)=>{var p,m,b,v,y,h,l,g,w,E,A,_y,C,h0,T,wy,D,Ey;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var r=t(1),i=t(4),s=t(28),o=t(33),c=t(6),d=t(34);let H=class H{constructor({uiManager:j,pageIndex:q,div:X,accessibilityManager:Z,annotationLayer:$,viewport:ue,l10n:fe}){oe(this,A);oe(this,C);oe(this,T);oe(this,D);oe(this,p,void 0);oe(this,m,!1);oe(this,b,null);oe(this,v,this.pointerup.bind(this));oe(this,y,this.pointerdown.bind(this));oe(this,h,new Map);oe(this,l,!1);oe(this,g,!1);oe(this,w,!1);oe(this,E,void 0);let he=[s.FreeTextEditor,o.InkEditor,d.StampEditor];if(!H._initialized){H._initialized=!0;for(let Se of he)Se.initialize(fe)}j.registerEditorTypes(he),Me(this,E,j),this.pageIndex=q,this.div=X,Me(this,p,Z),Me(this,b,$),this.viewport=ue,k(this,E).addLayer(this)}get isEmpty(){return k(this,h).size===0}updateToolbar(j){k(this,E).updateToolbar(j)}updateMode(j=k(this,E).getMode()){ge(this,D,Ey).call(this),j===r.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),j!==r.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",j===r.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",j===r.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",j===r.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(j){if(!j&&k(this,E).getMode()!==r.AnnotationEditorType.INK)return;if(!j){for(let X of k(this,h).values())if(X.isEmpty()){X.setInBackground();return}}ge(this,C,h0).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(j){k(this,E).setEditingState(j)}addCommands(j){k(this,E).addCommands(j)}enable(){this.div.style.pointerEvents="auto";let j=new Set;for(let X of k(this,h).values())X.enableEditing(),X.annotationElementId&&j.add(X.annotationElementId);if(!k(this,b))return;let q=k(this,b).getEditableAnnotations();for(let X of q){if(X.hide(),k(this,E).isDeletedAnnotationElement(X.data.id)||j.has(X.data.id))continue;let Z=this.deserialize(X);Z&&(this.addOrRebuild(Z),Z.enableEditing())}}disable(){var q;Me(this,w,!0),this.div.style.pointerEvents="none";let j=new Set;for(let X of k(this,h).values()){if(X.disableEditing(),!X.annotationElementId||X.serialize()!==null){j.add(X.annotationElementId);continue}(q=this.getEditableAnnotation(X.annotationElementId))==null||q.show(),X.remove()}if(k(this,b)){let X=k(this,b).getEditableAnnotations();for(let Z of X){let{id:$}=Z.data;j.has($)||k(this,E).isDeletedAnnotationElement($)||Z.show()}}ge(this,D,Ey).call(this),this.isEmpty&&(this.div.hidden=!0),Me(this,w,!1)}getEditableAnnotation(j){var q;return((q=k(this,b))==null?void 0:q.getEditableAnnotation(j))||null}setActiveEditor(j){k(this,E).getActive()!==j&&k(this,E).setActiveEditor(j)}enableClick(){this.div.addEventListener("pointerdown",k(this,y)),this.div.addEventListener("pointerup",k(this,v))}disableClick(){this.div.removeEventListener("pointerdown",k(this,y)),this.div.removeEventListener("pointerup",k(this,v))}attach(j){k(this,h).set(j.id,j);let{annotationElementId:q}=j;q&&k(this,E).isDeletedAnnotationElement(q)&&k(this,E).removeDeletedAnnotationElement(j)}detach(j){var q;k(this,h).delete(j.id),(q=k(this,p))==null||q.removePointerInTextLayer(j.contentDiv),!k(this,w)&&j.annotationElementId&&k(this,E).addDeletedAnnotationElement(j)}remove(j){this.detach(j),k(this,E).removeEditor(j),j.div.contains(document.activeElement)&&setTimeout(()=>{k(this,E).focusMainContainer()},0),j.div.remove(),j.isAttachedToDOM=!1,k(this,g)||this.addInkEditorIfNeeded(!1)}changeParent(j){var q;j.parent!==this&&(j.annotationElementId&&(k(this,E).addDeletedAnnotationElement(j.annotationElementId),i.AnnotationEditor.deleteAnnotationElement(j),j.annotationElementId=null),this.attach(j),(q=j.parent)==null||q.detach(j),j.setParent(this),j.div&&j.isAttachedToDOM&&(j.div.remove(),this.div.append(j.div)))}add(j){if(this.changeParent(j),k(this,E).addEditor(j),this.attach(j),!j.isAttachedToDOM){let q=j.render();this.div.append(q),j.isAttachedToDOM=!0}j.fixAndSetPosition(),j.onceAdded(),k(this,E).addToAnnotationStorage(j)}moveEditorInDOM(j){var X;if(!j.isAttachedToDOM)return;let{activeElement:q}=document;j.div.contains(q)&&(j._focusEventsAllowed=!1,setTimeout(()=>{j.div.contains(document.activeElement)?j._focusEventsAllowed=!0:(j.div.addEventListener("focusin",()=>{j._focusEventsAllowed=!0},{once:!0}),q.focus())},0)),j._structTreeParentId=(X=k(this,p))==null?void 0:X.moveElementInDOM(this.div,j.div,j.contentDiv,!0)}addOrRebuild(j){j.needsToBeRebuilt()?j.rebuild():this.add(j)}addUndoableEditor(j){let q=()=>j._uiManager.rebuild(j),X=()=>{j.remove()};this.addCommands({cmd:q,undo:X,mustExec:!1})}getNextId(){return k(this,E).getId()}pasteEditor(j,q){k(this,E).updateToolbar(j),k(this,E).updateMode(j);let{offsetX:X,offsetY:Z}=ge(this,T,wy).call(this),$=this.getNextId(),ue=ge(this,A,_y).call(this,{parent:this,id:$,x:X,y:Z,uiManager:k(this,E),isCentered:!0,...q});ue&&this.add(ue)}deserialize(j){switch(j.annotationType??j.annotationEditorType){case r.AnnotationEditorType.FREETEXT:return s.FreeTextEditor.deserialize(j,this,k(this,E));case r.AnnotationEditorType.INK:return o.InkEditor.deserialize(j,this,k(this,E));case r.AnnotationEditorType.STAMP:return d.StampEditor.deserialize(j,this,k(this,E))}return null}addNewEditor(){ge(this,C,h0).call(this,ge(this,T,wy).call(this),!0)}setSelected(j){k(this,E).setSelected(j)}toggleSelected(j){k(this,E).toggleSelected(j)}isSelected(j){return k(this,E).isSelected(j)}unselect(j){k(this,E).unselect(j)}pointerup(j){let{isMac:q}=r.FeatureTest.platform;if(!(j.button!==0||j.ctrlKey&&q)&&j.target===this.div&&k(this,l)){if(Me(this,l,!1),!k(this,m)){Me(this,m,!0);return}if(k(this,E).getMode()===r.AnnotationEditorType.STAMP){k(this,E).unselectAll();return}ge(this,C,h0).call(this,j,!1)}}pointerdown(j){if(k(this,l)){Me(this,l,!1);return}let{isMac:q}=r.FeatureTest.platform;if(j.button!==0||j.ctrlKey&&q||j.target!==this.div)return;Me(this,l,!0);let X=k(this,E).getActive();Me(this,m,!X||X.isEmpty())}findNewParent(j,q,X){let Z=k(this,E).findParent(q,X);return Z===null||Z===this?!1:(Z.changeParent(j),!0)}destroy(){var j,q;((j=k(this,E).getActive())==null?void 0:j.parent)===this&&(k(this,E).commitOrRemove(),k(this,E).setActiveEditor(null));for(let X of k(this,h).values())(q=k(this,p))==null||q.removePointerInTextLayer(X.contentDiv),X.setParent(null),X.isAttachedToDOM=!1,X.div.remove();this.div=null,k(this,h).clear(),k(this,E).removeLayer(this)}render({viewport:j}){this.viewport=j,(0,c.setLayerDimensions)(this.div,j);for(let q of k(this,E).getEditors(this.pageIndex))this.add(q);this.updateMode()}update({viewport:j}){k(this,E).commitOrRemove(),this.viewport=j,(0,c.setLayerDimensions)(this.div,{rotation:j.rotation}),this.updateMode()}get pageDimensions(){let{pageWidth:j,pageHeight:q}=this.viewport.rawDims;return[j,q]}};p=new WeakMap,m=new WeakMap,b=new WeakMap,v=new WeakMap,y=new WeakMap,h=new WeakMap,l=new WeakMap,g=new WeakMap,w=new WeakMap,E=new WeakMap,A=new WeakSet,_y=function(j){switch(k(this,E).getMode()){case r.AnnotationEditorType.FREETEXT:return new s.FreeTextEditor(j);case r.AnnotationEditorType.INK:return new o.InkEditor(j);case r.AnnotationEditorType.STAMP:return new d.StampEditor(j)}return null},C=new WeakSet,h0=function(j,q){let X=this.getNextId(),Z=ge(this,A,_y).call(this,{parent:this,id:X,x:j.offsetX,y:j.offsetY,uiManager:k(this,E),isCentered:q});return Z&&this.add(Z),Z},T=new WeakSet,wy=function(){let{x:j,y:q,width:X,height:Z}=this.div.getBoundingClientRect(),$=Math.max(0,j),ue=Math.max(0,q),fe=Math.min(window.innerWidth,j+X),he=Math.min(window.innerHeight,q+Z),Se=($+fe)/2-j,V=(ue+he)/2-q,[O,M]=this.viewport.rotation%180===0?[Se,V]:[V,Se];return{offsetX:O,offsetY:M}},D=new WeakSet,Ey=function(){Me(this,g,!0);for(let j of k(this,h).values())j.isEmpty()&&j.remove();Me(this,g,!1)},wn(H,"_initialized",!1);let u=H;e.AnnotationEditorLayer=u},(n,e,t)=>{var d,u,p,m,b,v,y,h,l,g,T5,E,x5,_,P5,I,Cc,x,Ay,L,M5,G,Sy;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var r=t(1),i=t(5),s=t(4),o=t(29);let q=class q extends s.AnnotationEditor{constructor($){super({...$,name:"freeTextEditor"});oe(this,g);oe(this,E);oe(this,_);oe(this,I);oe(this,x);oe(this,L);oe(this,G);oe(this,d,this.editorDivBlur.bind(this));oe(this,u,this.editorDivFocus.bind(this));oe(this,p,this.editorDivInput.bind(this));oe(this,m,this.editorDivKeydown.bind(this));oe(this,b,void 0);oe(this,v,"");oe(this,y,`${this.id}-editor`);oe(this,h,void 0);oe(this,l,null);Me(this,b,$.color||q._defaultColor||s.AnnotationEditor._defaultLineColor),Me(this,h,$.fontSize||q._defaultFontSize)}static get _keyboardManager(){let $=q.prototype,ue=Se=>Se.isEmpty(),fe=i.AnnotationEditorUIManager.TRANSLATE_SMALL,he=i.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new i.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],$.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],$.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],$._translateEmpty,{args:[-fe,0],checker:ue}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$._translateEmpty,{args:[-he,0],checker:ue}],[["ArrowRight","mac+ArrowRight"],$._translateEmpty,{args:[fe,0],checker:ue}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$._translateEmpty,{args:[he,0],checker:ue}],[["ArrowUp","mac+ArrowUp"],$._translateEmpty,{args:[0,-fe],checker:ue}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$._translateEmpty,{args:[0,-he],checker:ue}],[["ArrowDown","mac+ArrowDown"],$._translateEmpty,{args:[0,fe],checker:ue}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$._translateEmpty,{args:[0,he],checker:ue}]]))}static initialize($){s.AnnotationEditor.initialize($,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});let ue=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(ue.getPropertyValue("--freetext-padding"))}static updateDefaultParams($,ue){switch($){case r.AnnotationEditorParamsType.FREETEXT_SIZE:q._defaultFontSize=ue;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:q._defaultColor=ue;break}}updateParams($,ue){switch($){case r.AnnotationEditorParamsType.FREETEXT_SIZE:ge(this,g,T5).call(this,ue);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:ge(this,E,x5).call(this,ue);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,q._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,q._defaultColor||s.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,k(this,h)],[r.AnnotationEditorParamsType.FREETEXT_COLOR,k(this,b)]]}_translateEmpty($,ue){this._uiManager.translateSelectedEditors($,ue,!0)}getInitialTranslation(){let $=this.parentScale;return[-q._internalPadding*$,-(q._internalPadding+k(this,h))*$]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",k(this,m)),this.editorDiv.addEventListener("focus",k(this,u)),this.editorDiv.addEventListener("blur",k(this,d)),this.editorDiv.addEventListener("input",k(this,p)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",k(this,y)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",k(this,m)),this.editorDiv.removeEventListener("focus",k(this,u)),this.editorDiv.removeEventListener("blur",k(this,d)),this.editorDiv.removeEventListener("input",k(this,p)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin($){this._focusEventsAllowed&&(super.focusin($),$.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var $;if(this.width){ge(this,G,Sy).call(this);return}this.enableEditMode(),this.editorDiv.focus(),($=this._initialOptions)!=null&&$.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let $=k(this,v),ue=Me(this,v,ge(this,_,P5).call(this).trimEnd());if($===ue)return;let fe=he=>{if(Me(this,v,he),!he){this.remove();return}ge(this,x,Ay).call(this),this._uiManager.rebuild(this),ge(this,I,Cc).call(this)};this.addCommands({cmd:()=>{fe(ue)},undo:()=>{fe($)},mustExec:!1}),ge(this,I,Cc).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick($){this.enterInEditMode()}keydown($){$.target===this.div&&$.key==="Enter"&&(this.enterInEditMode(),$.preventDefault())}editorDivKeydown($){q._keyboardManager.exec(this,$)}editorDivFocus($){this.isEditing=!0}editorDivBlur($){this.isEditing=!1}editorDivInput($){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let $,ue;this.width&&($=this.x,ue=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",k(this,y)),this.enableEditing(),s.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(he=>{var Se;return(Se=this.editorDiv)==null?void 0:Se.setAttribute("aria-label",he)}),s.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(he=>{var Se;return(Se=this.editorDiv)==null?void 0:Se.setAttribute("default-content",he)}),this.editorDiv.contentEditable=!0;let{style:fe}=this.editorDiv;if(fe.fontSize=`calc(${k(this,h)}px * var(--scale-factor))`,fe.color=k(this,b),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){let[he,Se]=this.parentDimensions;if(this.annotationElementId){let{position:V}=k(this,l),[O,M]=this.getInitialTranslation();[O,M]=this.pageTranslationToScreen(O,M);let[P,N]=this.pageDimensions,[U,J]=this.pageTranslation,te,re;switch(this.rotation){case 0:te=$+(V[0]-U)/P,re=ue+this.height-(V[1]-J)/N;break;case 90:te=$+(V[0]-U)/P,re=ue-(V[1]-J)/N,[O,M]=[M,-O];break;case 180:te=$-this.width+(V[0]-U)/P,re=ue-(V[1]-J)/N,[O,M]=[-O,-M];break;case 270:te=$+(V[0]-U-this.height*N)/P,re=ue+(V[1]-J-this.width*P)/N,[O,M]=[-M,O];break}this.setAt(te*he,re*Se,O,M)}else this.setAt($*he,ue*Se,this.width*he,this.height*Se);ge(this,x,Ay).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize($,ue,fe){let he=null;if($ instanceof o.FreeTextAnnotationElement){let{data:{defaultAppearanceData:{fontSize:V,fontColor:O},rect:M,rotation:P,id:N},textContent:U,textPosition:J,parent:{page:{pageNumber:te}}}=$;if(!U||U.length===0)return null;he=$={annotationType:r.AnnotationEditorType.FREETEXT,color:Array.from(O),fontSize:V,value:U.join(`
`),position:J,pageIndex:te-1,rect:M,rotation:P,id:N,deleted:!1}}let Se=super.deserialize($,ue,fe);return Me(Se,h,$.fontSize),Me(Se,b,r.Util.makeHexColor(...$.color)),Me(Se,v,$.value),Se.annotationElementId=$.id||null,Me(Se,l,he),Se}serialize($=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};let ue=q._internalPadding*this.parentScale,fe=this.getRect(ue,ue),he=s.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:k(this,b)),Se={annotationType:r.AnnotationEditorType.FREETEXT,color:he,fontSize:k(this,h),value:k(this,v),pageIndex:this.pageIndex,rect:fe,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return $?Se:this.annotationElementId&&!ge(this,L,M5).call(this,Se)?null:(Se.id=this.annotationElementId,Se)}};d=new WeakMap,u=new WeakMap,p=new WeakMap,m=new WeakMap,b=new WeakMap,v=new WeakMap,y=new WeakMap,h=new WeakMap,l=new WeakMap,g=new WeakSet,T5=function($){let ue=he=>{this.editorDiv.style.fontSize=`calc(${he}px * var(--scale-factor))`,this.translate(0,-(he-k(this,h))*this.parentScale),Me(this,h,he),ge(this,I,Cc).call(this)},fe=k(this,h);this.addCommands({cmd:()=>{ue($)},undo:()=>{ue(fe)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},E=new WeakSet,x5=function($){let ue=k(this,b);this.addCommands({cmd:()=>{Me(this,b,this.editorDiv.style.color=$)},undo:()=>{Me(this,b,this.editorDiv.style.color=ue)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_=new WeakSet,P5=function(){let $=this.editorDiv.getElementsByTagName("div");if($.length===0)return this.editorDiv.innerText;let ue=[];for(let fe of $)ue.push(fe.innerText.replace(/\r\n?|\n/,""));return ue.join(`
`)},I=new WeakSet,Cc=function(){let[$,ue]=this.parentDimensions,fe;if(this.isAttachedToDOM)fe=this.div.getBoundingClientRect();else{let{currentLayer:he,div:Se}=this,V=Se.style.display;Se.style.display="hidden",he.div.append(this.div),fe=Se.getBoundingClientRect(),Se.remove(),Se.style.display=V}this.rotation%180===this.parentRotation%180?(this.width=fe.width/$,this.height=fe.height/ue):(this.width=fe.height/$,this.height=fe.width/ue),this.fixAndSetPosition()},x=new WeakSet,Ay=function(){if(this.editorDiv.replaceChildren(),!!k(this,v))for(let $ of k(this,v).split(`
`)){let ue=document.createElement("div");ue.append($?document.createTextNode($):document.createElement("br")),this.editorDiv.append(ue)}},L=new WeakSet,M5=function($){let{value:ue,fontSize:fe,color:he,rect:Se,pageIndex:V}=k(this,l);return $.value!==ue||$.fontSize!==fe||$.rect.some((O,M)=>Math.abs(O-Se[M])>=1)||$.color.some((O,M)=>O!==he[M])||$.pageIndex!==V},G=new WeakSet,Sy=function($=!1){if(!this.annotationElementId)return;if(ge(this,I,Cc).call(this),!$&&(this.width===0||this.height===0)){setTimeout(()=>ge(this,G,Sy).call(this,!0),0);return}let ue=q._internalPadding*this.parentScale;k(this,l).rect=this.getRect(ue,ue)},wn(q,"_freeTextDefaultContent",""),wn(q,"_internalPadding",0),wn(q,"_defaultColor",null),wn(q,"_defaultFontSize",10),wn(q,"_type","freetext");let c=q;e.FreeTextEditor=c},(n,e,t)=>{var M,N,la,J,O5,re,pe,ve,Pe,ke,je,Ne,Ye,De,ye,Te,me,ae,z,Q,le,Ee,Be,k5,$e,p0,Ge,Cy,ot,Ty,_e,se,He,qe,Lt,qt,Ce,xy,gt,nt,bt,vt,R5,ze,Py;Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var r=t(1),i=t(6),s=t(3),o=t(30),c=t(31),d=t(32);let u=1e3,p=9,m=new WeakSet;function b(ft){return{width:ft[2]-ft[0],height:ft[3]-ft[1]}}class v{static create(ie){switch(ie.data.annotationType){case r.AnnotationType.LINK:return new h(ie);case r.AnnotationType.TEXT:return new l(ie);case r.AnnotationType.WIDGET:switch(ie.data.fieldType){case"Tx":return new w(ie);case"Btn":return ie.data.radioButton?new _(ie):ie.data.checkBox?new A(ie):new C(ie);case"Ch":return new I(ie);case"Sig":return new E(ie)}return new g(ie);case r.AnnotationType.POPUP:return new T(ie);case r.AnnotationType.FREETEXT:return new D(ie);case r.AnnotationType.LINE:return new L(ie);case r.AnnotationType.SQUARE:return new H(ie);case r.AnnotationType.CIRCLE:return new G(ie);case r.AnnotationType.POLYLINE:return new j(ie);case r.AnnotationType.CARET:return new X(ie);case r.AnnotationType.INK:return new Z(ie);case r.AnnotationType.POLYGON:return new q(ie);case r.AnnotationType.HIGHLIGHT:return new $(ie);case r.AnnotationType.UNDERLINE:return new ue(ie);case r.AnnotationType.SQUIGGLY:return new fe(ie);case r.AnnotationType.STRIKEOUT:return new he(ie);case r.AnnotationType.STAMP:return new Se(ie);case r.AnnotationType.FILEATTACHMENT:return new V(ie);default:return new y(ie)}}}let P=class P{constructor(ie,{isRenderable:B=!1,ignoreBorder:K=!1,createQuadrilaterals:ne=!1}={}){oe(this,M,!1);this.isRenderable=B,this.data=ie.data,this.layer=ie.layer,this.linkService=ie.linkService,this.downloadManager=ie.downloadManager,this.imageResourcesPath=ie.imageResourcesPath,this.renderForms=ie.renderForms,this.svgFactory=ie.svgFactory,this.annotationStorage=ie.annotationStorage,this.enableScripting=ie.enableScripting,this.hasJSActions=ie.hasJSActions,this._fieldObjects=ie.fieldObjects,this.parent=ie.parent,B&&(this.container=this._createContainer(K)),ne&&this._createQuadrilaterals()}static _hasPopupData({titleObj:ie,contentsObj:B,richText:K}){return!!(ie!=null&&ie.str||B!=null&&B.str||K!=null&&K.str)}get hasPopupData(){return P._hasPopupData(this.data)}_createContainer(ie){let{data:B,parent:{page:K,viewport:ne}}=this,de=document.createElement("section");de.setAttribute("data-annotation-id",B.id),this instanceof g||(de.tabIndex=u),de.style.zIndex=this.parent.zIndex++,this.data.popupRef&&de.setAttribute("aria-haspopup","dialog"),B.noRotate&&de.classList.add("norotate");let{pageWidth:Ae,pageHeight:Re,pageX:We,pageY:at}=ne.rawDims;if(!B.rect||this instanceof T){let{rotation:wt}=B;return!B.hasOwnCanvas&&wt!==0&&this.setRotation(wt,de),de}let{width:it,height:Ct}=b(B.rect),ht=r.Util.normalizeRect([B.rect[0],K.view[3]-B.rect[1]+K.view[1],B.rect[2],K.view[3]-B.rect[3]+K.view[1]]);if(!ie&&B.borderStyle.width>0){de.style.borderWidth=`${B.borderStyle.width}px`;let wt=B.borderStyle.horizontalCornerRadius,Mt=B.borderStyle.verticalCornerRadius;if(wt>0||Mt>0){let Kt=`calc(${wt}px * var(--scale-factor)) / calc(${Mt}px * var(--scale-factor))`;de.style.borderRadius=Kt}else if(this instanceof _){let Kt=`calc(${it}px * var(--scale-factor)) / calc(${Ct}px * var(--scale-factor))`;de.style.borderRadius=Kt}switch(B.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:de.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:de.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:de.style.borderBottomStyle="solid";break;default:break}let Ut=B.borderColor||null;Ut?(Me(this,M,!0),de.style.borderColor=r.Util.makeHexColor(Ut[0]|0,Ut[1]|0,Ut[2]|0)):de.style.borderWidth=0}de.style.left=`${100*(ht[0]-We)/Ae}%`,de.style.top=`${100*(ht[1]-at)/Re}%`;let{rotation:pt}=B;return B.hasOwnCanvas||pt===0?(de.style.width=`${100*it/Ae}%`,de.style.height=`${100*Ct/Re}%`):this.setRotation(pt,de),de}setRotation(ie,B=this.container){if(!this.data.rect)return;let{pageWidth:K,pageHeight:ne}=this.parent.viewport.rawDims,{width:de,height:Ae}=b(this.data.rect),Re,We;ie%180===0?(Re=100*de/K,We=100*Ae/ne):(Re=100*Ae/K,We=100*de/ne),B.style.width=`${Re}%`,B.style.height=`${We}%`,B.setAttribute("data-main-rotation",(360-ie)%360)}get _commonActions(){let ie=(B,K,ne)=>{let de=ne.detail[B],Ae=de[0],Re=de.slice(1);ne.target.style[K]=o.ColorConverters[`${Ae}_HTML`](Re),this.annotationStorage.setValue(this.data.id,{[K]:o.ColorConverters[`${Ae}_rgb`](Re)})};return(0,r.shadow)(this,"_commonActions",{display:B=>{let{display:K}=B.detail,ne=K%2===1;this.container.style.visibility=ne?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:ne,noPrint:K===1||K===2})},print:B=>{this.annotationStorage.setValue(this.data.id,{noPrint:!B.detail.print})},hidden:B=>{let{hidden:K}=B.detail;this.container.style.visibility=K?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:K,noView:K})},focus:B=>{setTimeout(()=>B.target.focus({preventScroll:!1}),0)},userName:B=>{B.target.title=B.detail.userName},readonly:B=>{B.target.disabled=B.detail.readonly},required:B=>{this._setRequired(B.target,B.detail.required)},bgColor:B=>{ie("bgColor","backgroundColor",B)},fillColor:B=>{ie("fillColor","backgroundColor",B)},fgColor:B=>{ie("fgColor","color",B)},textColor:B=>{ie("textColor","color",B)},borderColor:B=>{ie("borderColor","borderColor",B)},strokeColor:B=>{ie("strokeColor","borderColor",B)},rotation:B=>{let K=B.detail.rotation;this.setRotation(K),this.annotationStorage.setValue(this.data.id,{rotation:K})}})}_dispatchEventFromSandbox(ie,B){let K=this._commonActions;for(let ne of Object.keys(B.detail)){let de=ie[ne]||K[ne];de==null||de(B)}}_setDefaultPropertiesFromJS(ie){if(!this.enableScripting)return;let B=this.annotationStorage.getRawValue(this.data.id);if(!B)return;let K=this._commonActions;for(let[ne,de]of Object.entries(B)){let Ae=K[ne];if(Ae){let Re={detail:{[ne]:de},target:ie};Ae(Re),delete B[ne]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:ie}=this.data;if(!ie)return;let[B,K,ne,de]=this.data.rect;if(ie.length===1){let[,{x:Mt,y:Ut},{x:Kt,y:An}]=ie[0];if(ne===Mt&&de===Ut&&B===Kt&&K===An)return}let{style:Ae}=this.container,Re;if(k(this,M)){let{borderColor:Mt,borderWidth:Ut}=Ae;Ae.borderWidth=0,Re=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Mt}" stroke-width="${Ut}">`],this.container.classList.add("hasBorder")}let We=ne-B,at=de-K,{svgFactory:it}=this,Ct=it.createElement("svg");Ct.classList.add("quadrilateralsContainer"),Ct.setAttribute("width",0),Ct.setAttribute("height",0);let ht=it.createElement("defs");Ct.append(ht);let pt=it.createElement("clipPath"),wt=`clippath_${this.data.id}`;pt.setAttribute("id",wt),pt.setAttribute("clipPathUnits","objectBoundingBox"),ht.append(pt);for(let[,{x:Mt,y:Ut},{x:Kt,y:An}]of ie){let bn=it.createElement("rect"),Mr=(Kt-B)/We,Wi=(de-Ut)/at,ki=(Mt-Kt)/We,Bu=(Ut-An)/at;bn.setAttribute("x",Mr),bn.setAttribute("y",Wi),bn.setAttribute("width",ki),bn.setAttribute("height",Bu),pt.append(bn),Re==null||Re.push(`<rect vector-effect="non-scaling-stroke" x="${Mr}" y="${Wi}" width="${ki}" height="${Bu}"/>`)}k(this,M)&&(Re.push("</g></svg>')"),Ae.backgroundImage=Re.join("")),this.container.append(Ct),this.container.style.clipPath=`url(#${wt})`}_createPopup(){let{container:ie,data:B}=this;ie.setAttribute("aria-haspopup","dialog");let K=new T({data:{color:B.color,titleObj:B.titleObj,modificationDate:B.modificationDate,contentsObj:B.contentsObj,richText:B.richText,parentRect:B.rect,borderStyle:0,id:`popup_${B.id}`,rotation:B.rotation},parent:this.parent,elements:[this]});this.parent.div.append(K.render())}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ie,B=null){let K=[];if(this._fieldObjects){let ne=this._fieldObjects[ie];if(ne)for(let{page:de,id:Ae,exportValues:Re}of ne){if(de===-1||Ae===B)continue;let We=typeof Re=="string"?Re:null,at=document.querySelector(`[data-element-id="${Ae}"]`);if(at&&!m.has(at)){(0,r.warn)(`_getElementsByName - element not allowed: ${Ae}`);continue}K.push({id:Ae,exportValue:We,domElement:at})}return K}for(let ne of document.getElementsByName(ie)){let{exportValue:de}=ne,Ae=ne.getAttribute("data-element-id");Ae!==B&&m.has(ne)&&K.push({id:Ae,exportValue:de,domElement:ne})}return K}show(){var ie;this.container&&(this.container.hidden=!1),(ie=this.popup)==null||ie.maybeShow()}hide(){var ie;this.container&&(this.container.hidden=!0),(ie=this.popup)==null||ie.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let ie=this.getElementsToTriggerPopup();if(Array.isArray(ie))for(let B of ie)B.classList.add("highlightArea");else ie.classList.add("highlightArea")}_editOnDoubleClick(){let{annotationEditorType:ie,data:{id:B}}=this;this.container.addEventListener("dblclick",()=>{var K;(K=this.linkService.eventBus)==null||K.dispatch("switchannotationeditormode",{source:this,mode:ie,editId:B})})}};M=new WeakMap;let y=P;class h extends y{constructor(B,K=null){super(B,{isRenderable:!0,ignoreBorder:!!(K!=null&&K.ignoreBorder),createQuadrilaterals:!0});oe(this,N);oe(this,J);this.isTooltipOnly=B.data.isTooltipOnly}render(){let{data:B,linkService:K}=this,ne=document.createElement("a");ne.setAttribute("data-element-id",B.id);let de=!1;return B.url?(K.addLinkAttributes(ne,B.url,B.newWindow),de=!0):B.action?(this._bindNamedAction(ne,B.action),de=!0):B.attachment?(this._bindAttachment(ne,B.attachment),de=!0):B.setOCGState?(ge(this,J,O5).call(this,ne,B.setOCGState),de=!0):B.dest?(this._bindLink(ne,B.dest),de=!0):(B.actions&&(B.actions.Action||B.actions["Mouse Up"]||B.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ne,B),de=!0),B.resetForm?(this._bindResetFormAction(ne,B.resetForm),de=!0):this.isTooltipOnly&&!de&&(this._bindLink(ne,""),de=!0)),this.container.classList.add("linkAnnotation"),de&&this.container.append(ne),this.container}_bindLink(B,K){B.href=this.linkService.getDestinationHash(K),B.onclick=()=>(K&&this.linkService.goToDestination(K),!1),(K||K==="")&&ge(this,N,la).call(this)}_bindNamedAction(B,K){B.href=this.linkService.getAnchorUrl(""),B.onclick=()=>(this.linkService.executeNamedAction(K),!1),ge(this,N,la).call(this)}_bindAttachment(B,K){B.href=this.linkService.getAnchorUrl(""),B.onclick=()=>{var ne;return(ne=this.downloadManager)==null||ne.openOrDownloadData(this.container,K.content,K.filename),!1},ge(this,N,la).call(this)}_bindJSAction(B,K){B.href=this.linkService.getAnchorUrl("");let ne=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let de of Object.keys(K.actions)){let Ae=ne.get(de);Ae&&(B[Ae]=()=>{var Re;return(Re=this.linkService.eventBus)==null||Re.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K.id,name:de}}),!1})}B.onclick||(B.onclick=()=>!1),ge(this,N,la).call(this)}_bindResetFormAction(B,K){let ne=B.onclick;if(ne||(B.href=this.linkService.getAnchorUrl("")),ge(this,N,la).call(this),!this._fieldObjects){(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ne||(B.onclick=()=>!1);return}B.onclick=()=>{var Ct;ne==null||ne();let{fields:de,refs:Ae,include:Re}=K,We=[];if(de.length!==0||Ae.length!==0){let ht=new Set(Ae);for(let pt of de){let wt=this._fieldObjects[pt]||[];for(let{id:Mt}of wt)ht.add(Mt)}for(let pt of Object.values(this._fieldObjects))for(let wt of pt)ht.has(wt.id)===Re&&We.push(wt)}else for(let ht of Object.values(this._fieldObjects))We.push(...ht);let at=this.annotationStorage,it=[];for(let ht of We){let{id:pt}=ht;switch(it.push(pt),ht.type){case"text":{let Mt=ht.defaultValue||"";at.setValue(pt,{value:Mt});break}case"checkbox":case"radiobutton":{let Mt=ht.defaultValue===ht.exportValues;at.setValue(pt,{value:Mt});break}case"combobox":case"listbox":{let Mt=ht.defaultValue||"";at.setValue(pt,{value:Mt});break}default:continue}let wt=document.querySelector(`[data-element-id="${pt}"]`);if(wt){if(!m.has(wt)){(0,r.warn)(`_bindResetFormAction - element not allowed: ${pt}`);continue}}else continue;wt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Ct=this.linkService.eventBus)==null||Ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:it,name:"ResetForm"}})),!1}}}N=new WeakSet,la=function(){this.container.setAttribute("data-internal-link","")},J=new WeakSet,O5=function(B,K){B.href=this.linkService.getAnchorUrl(""),B.onclick=()=>(this.linkService.executeSetOCGState(K),!1),ge(this,N,la).call(this)};class l extends y{constructor(ie){super(ie,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let ie=document.createElement("img");return ie.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ie.alt="[{{type}} Annotation]",ie.dataset.l10nId="text_annotation_type",ie.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(ie),this.container}}class g extends y{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(ie){var B;this.data.hasOwnCanvas&&(((B=ie.previousSibling)==null?void 0:B.nodeName)==="CANVAS"&&(ie.previousSibling.hidden=!0),ie.hidden=!1)}_getKeyModifier(ie){let{isWin:B,isMac:K}=r.FeatureTest.platform;return B&&ie.ctrlKey||K&&ie.metaKey}_setEventListener(ie,B,K,ne,de){K.includes("mouse")?ie.addEventListener(K,Ae=>{var Re;(Re=this.linkService.eventBus)==null||Re.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ne,value:de(Ae),shift:Ae.shiftKey,modifier:this._getKeyModifier(Ae)}})}):ie.addEventListener(K,Ae=>{var Re;if(K==="blur"){if(!B.focused||!Ae.relatedTarget)return;B.focused=!1}else if(K==="focus"){if(B.focused)return;B.focused=!0}de&&((Re=this.linkService.eventBus)==null||Re.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ne,value:de(Ae)}}))})}_setEventListeners(ie,B,K,ne){var de,Ae,Re;for(let[We,at]of K)(at==="Action"||(de=this.data.actions)!=null&&de[at])&&((at==="Focus"||at==="Blur")&&(B||={focused:!1}),this._setEventListener(ie,B,We,at,ne),at==="Focus"&&!((Ae=this.data.actions)!=null&&Ae.Blur)?this._setEventListener(ie,B,"blur","Blur",null):at==="Blur"&&!((Re=this.data.actions)!=null&&Re.Focus)&&this._setEventListener(ie,B,"focus","Focus",null))}_setBackgroundColor(ie){let B=this.data.backgroundColor||null;ie.style.backgroundColor=B===null?"transparent":r.Util.makeHexColor(B[0],B[1],B[2])}_setTextStyle(ie){let B=["left","center","right"],{fontColor:K}=this.data.defaultAppearanceData,ne=this.data.defaultAppearanceData.fontSize||p,de=ie.style,Ae,Re=2,We=at=>Math.round(10*at)/10;if(this.data.multiLine){let at=Math.abs(this.data.rect[3]-this.data.rect[1]-Re),it=Math.round(at/(r.LINE_FACTOR*ne))||1,Ct=at/it;Ae=Math.min(ne,We(Ct/r.LINE_FACTOR))}else{let at=Math.abs(this.data.rect[3]-this.data.rect[1]-Re);Ae=Math.min(ne,We(at/r.LINE_FACTOR))}de.fontSize=`calc(${Ae}px * var(--scale-factor))`,de.color=r.Util.makeHexColor(K[0],K[1],K[2]),this.data.textAlignment!==null&&(de.textAlign=B[this.data.textAlignment])}_setRequired(ie,B){B?ie.setAttribute("required",!0):ie.removeAttribute("required"),ie.setAttribute("aria-required",B)}}class w extends g{constructor(ie){let B=ie.renderForms||!ie.data.hasAppearance&&!!ie.data.fieldValue;super(ie,{isRenderable:B})}setPropertyOnSiblings(ie,B,K,ne){let de=this.annotationStorage;for(let Ae of this._getElementsByName(ie.name,ie.id))Ae.domElement&&(Ae.domElement[B]=K),de.setValue(Ae.id,{[ne]:K})}render(){var ne,de;let ie=this.annotationStorage,B=this.data.id;this.container.classList.add("textWidgetAnnotation");let K=null;if(this.renderForms){let Ae=ie.getValue(B,{value:this.data.fieldValue}),Re=Ae.value||"",We=ie.getValue(B,{charLimit:this.data.maxLen}).charLimit;We&&Re.length>We&&(Re=Re.slice(0,We));let at=Ae.formattedValue||((ne=this.data.textContent)==null?void 0:ne.join(`
`))||null;at&&this.data.comb&&(at=at.replaceAll(/\s+/g,""));let it={userValue:Re,formattedValue:at,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(K=document.createElement("textarea"),K.textContent=at??Re,this.data.doNotScroll&&(K.style.overflowY="hidden")):(K=document.createElement("input"),K.type="text",K.setAttribute("value",at??Re),this.data.doNotScroll&&(K.style.overflowX="hidden")),this.data.hasOwnCanvas&&(K.hidden=!0),m.add(K),K.setAttribute("data-element-id",B),K.disabled=this.data.readOnly,K.name=this.data.fieldName,K.tabIndex=u,this._setRequired(K,this.data.required),We&&(K.maxLength=We),K.addEventListener("input",ht=>{ie.setValue(B,{value:ht.target.value}),this.setPropertyOnSiblings(K,"value",ht.target.value,"value"),it.formattedValue=null}),K.addEventListener("resetform",ht=>{let pt=this.data.defaultFieldValue??"";K.value=it.userValue=pt,it.formattedValue=null});let Ct=ht=>{let{formattedValue:pt}=it;pt!=null&&(ht.target.value=pt),ht.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){K.addEventListener("focus",pt=>{if(it.focused)return;let{target:wt}=pt;it.userValue&&(wt.value=it.userValue),it.lastCommittedValue=wt.value,it.commitKey=1,it.focused=!0}),K.addEventListener("updatefromsandbox",pt=>{this.showElementAndHideCanvas(pt.target);let wt={value(Mt){it.userValue=Mt.detail.value??"",ie.setValue(B,{value:it.userValue.toString()}),Mt.target.value=it.userValue},formattedValue(Mt){let{formattedValue:Ut}=Mt.detail;it.formattedValue=Ut,Ut!=null&&Mt.target!==document.activeElement&&(Mt.target.value=Ut),ie.setValue(B,{formattedValue:Ut})},selRange(Mt){Mt.target.setSelectionRange(...Mt.detail.selRange)},charLimit:Mt=>{var bn;let{charLimit:Ut}=Mt.detail,{target:Kt}=Mt;if(Ut===0){Kt.removeAttribute("maxLength");return}Kt.setAttribute("maxLength",Ut);let An=it.userValue;!An||An.length<=Ut||(An=An.slice(0,Ut),Kt.value=it.userValue=An,ie.setValue(B,{value:An}),(bn=this.linkService.eventBus)==null||bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:B,name:"Keystroke",value:An,willCommit:!0,commitKey:1,selStart:Kt.selectionStart,selEnd:Kt.selectionEnd}}))}};this._dispatchEventFromSandbox(wt,pt)}),K.addEventListener("keydown",pt=>{var Ut;it.commitKey=1;let wt=-1;if(pt.key==="Escape"?wt=0:pt.key==="Enter"&&!this.data.multiLine?wt=2:pt.key==="Tab"&&(it.commitKey=3),wt===-1)return;let{value:Mt}=pt.target;it.lastCommittedValue!==Mt&&(it.lastCommittedValue=Mt,it.userValue=Mt,(Ut=this.linkService.eventBus)==null||Ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:B,name:"Keystroke",value:Mt,willCommit:!0,commitKey:wt,selStart:pt.target.selectionStart,selEnd:pt.target.selectionEnd}}))});let ht=Ct;Ct=null,K.addEventListener("blur",pt=>{var Mt;if(!it.focused||!pt.relatedTarget)return;it.focused=!1;let{value:wt}=pt.target;it.userValue=wt,it.lastCommittedValue!==wt&&((Mt=this.linkService.eventBus)==null||Mt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:B,name:"Keystroke",value:wt,willCommit:!0,commitKey:it.commitKey,selStart:pt.target.selectionStart,selEnd:pt.target.selectionEnd}})),ht(pt)}),(de=this.data.actions)!=null&&de.Keystroke&&K.addEventListener("beforeinput",pt=>{var Wi;it.lastCommittedValue=null;let{data:wt,target:Mt}=pt,{value:Ut,selectionStart:Kt,selectionEnd:An}=Mt,bn=Kt,Mr=An;switch(pt.inputType){case"deleteWordBackward":{let ki=Ut.substring(0,Kt).match(/\w*[^\w]*$/);ki&&(bn-=ki[0].length);break}case"deleteWordForward":{let ki=Ut.substring(Kt).match(/^[^\w]*\w*/);ki&&(Mr+=ki[0].length);break}case"deleteContentBackward":Kt===An&&(bn-=1);break;case"deleteContentForward":Kt===An&&(Mr+=1);break}pt.preventDefault(),(Wi=this.linkService.eventBus)==null||Wi.dispatch("dispatcheventinsandbox",{source:this,detail:{id:B,name:"Keystroke",value:Ut,change:wt||"",willCommit:!1,selStart:bn,selEnd:Mr}})}),this._setEventListeners(K,it,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],pt=>pt.target.value)}if(Ct&&K.addEventListener("blur",Ct),this.data.comb){let pt=(this.data.rect[2]-this.data.rect[0])/We;K.classList.add("comb"),K.style.letterSpacing=`calc(${pt}px * var(--scale-factor) - 1ch)`}}else K=document.createElement("div"),K.textContent=this.data.fieldValue,K.style.verticalAlign="middle",K.style.display="table-cell";return this._setTextStyle(K),this._setBackgroundColor(K),this._setDefaultPropertiesFromJS(K),this.container.append(K),this.container}}class E extends g{constructor(ie){super(ie,{isRenderable:!!ie.data.hasOwnCanvas})}}class A extends g{constructor(ie){super(ie,{isRenderable:ie.renderForms})}render(){let ie=this.annotationStorage,B=this.data,K=B.id,ne=ie.getValue(K,{value:B.exportValue===B.fieldValue}).value;typeof ne=="string"&&(ne=ne!=="Off",ie.setValue(K,{value:ne})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let de=document.createElement("input");return m.add(de),de.setAttribute("data-element-id",K),de.disabled=B.readOnly,this._setRequired(de,this.data.required),de.type="checkbox",de.name=B.fieldName,ne&&de.setAttribute("checked",!0),de.setAttribute("exportValue",B.exportValue),de.tabIndex=u,de.addEventListener("change",Ae=>{let{name:Re,checked:We}=Ae.target;for(let at of this._getElementsByName(Re,K)){let it=We&&at.exportValue===B.exportValue;at.domElement&&(at.domElement.checked=it),ie.setValue(at.id,{value:it})}ie.setValue(K,{value:We})}),de.addEventListener("resetform",Ae=>{let Re=B.defaultFieldValue||"Off";Ae.target.checked=Re===B.exportValue}),this.enableScripting&&this.hasJSActions&&(de.addEventListener("updatefromsandbox",Ae=>{let Re={value(We){We.target.checked=We.detail.value!=="Off",ie.setValue(K,{value:We.target.checked})}};this._dispatchEventFromSandbox(Re,Ae)}),this._setEventListeners(de,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ae=>Ae.target.checked)),this._setBackgroundColor(de),this._setDefaultPropertiesFromJS(de),this.container.append(de),this.container}}class _ extends g{constructor(ie){super(ie,{isRenderable:ie.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let ie=this.annotationStorage,B=this.data,K=B.id,ne=ie.getValue(K,{value:B.fieldValue===B.buttonValue}).value;typeof ne=="string"&&(ne=ne!==B.buttonValue,ie.setValue(K,{value:ne}));let de=document.createElement("input");if(m.add(de),de.setAttribute("data-element-id",K),de.disabled=B.readOnly,this._setRequired(de,this.data.required),de.type="radio",de.name=B.fieldName,ne&&de.setAttribute("checked",!0),de.tabIndex=u,de.addEventListener("change",Ae=>{let{name:Re,checked:We}=Ae.target;for(let at of this._getElementsByName(Re,K))ie.setValue(at.id,{value:!1});ie.setValue(K,{value:We})}),de.addEventListener("resetform",Ae=>{let Re=B.defaultFieldValue;Ae.target.checked=Re!=null&&Re===B.buttonValue}),this.enableScripting&&this.hasJSActions){let Ae=B.buttonValue;de.addEventListener("updatefromsandbox",Re=>{let We={value:at=>{let it=Ae===at.detail.value;for(let Ct of this._getElementsByName(at.target.name)){let ht=it&&Ct.id===K;Ct.domElement&&(Ct.domElement.checked=ht),ie.setValue(Ct.id,{value:ht})}}};this._dispatchEventFromSandbox(We,Re)}),this._setEventListeners(de,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Re=>Re.target.checked)}return this._setBackgroundColor(de),this._setDefaultPropertiesFromJS(de),this.container.append(de),this.container}}class C extends h{constructor(ie){super(ie,{ignoreBorder:ie.data.hasAppearance})}render(){let ie=super.render();ie.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(ie.title=this.data.alternativeText);let B=ie.lastChild;return this.enableScripting&&this.hasJSActions&&B&&(this._setDefaultPropertiesFromJS(B),B.addEventListener("updatefromsandbox",K=>{this._dispatchEventFromSandbox({},K)})),ie}}class I extends g{constructor(ie){super(ie,{isRenderable:ie.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let ie=this.annotationStorage,B=this.data.id,K=ie.getValue(B,{value:this.data.fieldValue}),ne=document.createElement("select");m.add(ne),ne.setAttribute("data-element-id",B),ne.disabled=this.data.readOnly,this._setRequired(ne,this.data.required),ne.name=this.data.fieldName,ne.tabIndex=u;let de=this.data.combo&&this.data.options.length>0;this.data.combo||(ne.size=this.data.options.length,this.data.multiSelect&&(ne.multiple=!0)),ne.addEventListener("resetform",it=>{let Ct=this.data.defaultFieldValue;for(let ht of ne.options)ht.selected=ht.value===Ct});for(let it of this.data.options){let Ct=document.createElement("option");Ct.textContent=it.displayValue,Ct.value=it.exportValue,K.value.includes(it.exportValue)&&(Ct.setAttribute("selected",!0),de=!1),ne.append(Ct)}let Ae=null;if(de){let it=document.createElement("option");it.value=" ",it.setAttribute("hidden",!0),it.setAttribute("selected",!0),ne.prepend(it),Ae=()=>{it.remove(),ne.removeEventListener("input",Ae),Ae=null},ne.addEventListener("input",Ae)}let Re=it=>{let Ct=it?"value":"textContent",{options:ht,multiple:pt}=ne;return pt?Array.prototype.filter.call(ht,wt=>wt.selected).map(wt=>wt[Ct]):ht.selectedIndex===-1?null:ht[ht.selectedIndex][Ct]},We=Re(!1),at=it=>{let Ct=it.target.options;return Array.prototype.map.call(Ct,ht=>({displayValue:ht.textContent,exportValue:ht.value}))};return this.enableScripting&&this.hasJSActions?(ne.addEventListener("updatefromsandbox",it=>{let Ct={value(ht){Ae==null||Ae();let pt=ht.detail.value,wt=new Set(Array.isArray(pt)?pt:[pt]);for(let Mt of ne.options)Mt.selected=wt.has(Mt.value);ie.setValue(B,{value:Re(!0)}),We=Re(!1)},multipleSelection(ht){ne.multiple=!0},remove(ht){let pt=ne.options,wt=ht.detail.remove;pt[wt].selected=!1,ne.remove(wt),pt.length>0&&Array.prototype.findIndex.call(pt,Ut=>Ut.selected)===-1&&(pt[0].selected=!0),ie.setValue(B,{value:Re(!0),items:at(ht)}),We=Re(!1)},clear(ht){for(;ne.length!==0;)ne.remove(0);ie.setValue(B,{value:null,items:[]}),We=Re(!1)},insert(ht){let{index:pt,displayValue:wt,exportValue:Mt}=ht.detail.insert,Ut=ne.children[pt],Kt=document.createElement("option");Kt.textContent=wt,Kt.value=Mt,Ut?Ut.before(Kt):ne.append(Kt),ie.setValue(B,{value:Re(!0),items:at(ht)}),We=Re(!1)},items(ht){let{items:pt}=ht.detail;for(;ne.length!==0;)ne.remove(0);for(let wt of pt){let{displayValue:Mt,exportValue:Ut}=wt,Kt=document.createElement("option");Kt.textContent=Mt,Kt.value=Ut,ne.append(Kt)}ne.options.length>0&&(ne.options[0].selected=!0),ie.setValue(B,{value:Re(!0),items:at(ht)}),We=Re(!1)},indices(ht){let pt=new Set(ht.detail.indices);for(let wt of ht.target.options)wt.selected=pt.has(wt.index);ie.setValue(B,{value:Re(!0)}),We=Re(!1)},editable(ht){ht.target.disabled=!ht.detail.editable}};this._dispatchEventFromSandbox(Ct,it)}),ne.addEventListener("input",it=>{var ht;let Ct=Re(!0);ie.setValue(B,{value:Ct}),it.preventDefault(),(ht=this.linkService.eventBus)==null||ht.dispatch("dispatcheventinsandbox",{source:this,detail:{id:B,name:"Keystroke",value:We,changeEx:Ct,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ne,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],it=>it.target.value)):ne.addEventListener("input",function(it){ie.setValue(B,{value:Re(!0)})}),this.data.combo&&this._setTextStyle(ne),this._setBackgroundColor(ne),this._setDefaultPropertiesFromJS(ne),this.container.append(ne),this.container}}class T extends y{constructor(ie){let{data:B,elements:K}=ie;super(ie,{isRenderable:y._hasPopupData(B)}),this.elements=K}render(){this.container.classList.add("popupAnnotation");let ie=new x({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),B=[];for(let K of this.elements)K.popup=ie,B.push(K.data.id),K.addHighlightArea();return this.container.setAttribute("aria-controls",B.map(K=>`${r.AnnotationPrefix}${K}`).join(",")),this.container}}class x{constructor({container:ie,color:B,elements:K,titleObj:ne,modificationDate:de,contentsObj:Ae,richText:Re,parent:We,rect:at,parentRect:it,open:Ct}){oe(this,Be);oe(this,$e);oe(this,Ge);oe(this,ot);oe(this,re,null);oe(this,pe,ge(this,Be,k5).bind(this));oe(this,ve,ge(this,ot,Ty).bind(this));oe(this,Pe,ge(this,Ge,Cy).bind(this));oe(this,ke,ge(this,$e,p0).bind(this));oe(this,je,null);oe(this,Ne,null);oe(this,Ye,null);oe(this,De,null);oe(this,ye,null);oe(this,Te,null);oe(this,me,!1);oe(this,ae,null);oe(this,z,null);oe(this,Q,null);oe(this,le,null);oe(this,Ee,!1);var pt;Me(this,Ne,ie),Me(this,le,ne),Me(this,Ye,Ae),Me(this,Q,Re),Me(this,ye,We),Me(this,je,B),Me(this,z,at),Me(this,Te,it),Me(this,De,K);let ht=i.PDFDateString.toDateObject(de);ht&&Me(this,re,We.l10n.get("annotation_date_string",{date:ht.toLocaleDateString(),time:ht.toLocaleTimeString()})),this.trigger=K.flatMap(wt=>wt.getElementsToTriggerPopup());for(let wt of this.trigger)wt.addEventListener("click",k(this,ke)),wt.addEventListener("mouseenter",k(this,Pe)),wt.addEventListener("mouseleave",k(this,ve)),wt.classList.add("popupTriggerArea");for(let wt of K)(pt=wt.container)==null||pt.addEventListener("keydown",k(this,pe));k(this,Ne).hidden=!0,Ct&&ge(this,$e,p0).call(this)}render(){if(k(this,ae))return;let{page:{view:ie},viewport:{rawDims:{pageWidth:B,pageHeight:K,pageX:ne,pageY:de}}}=k(this,ye),Ae=Me(this,ae,document.createElement("div"));if(Ae.className="popup",k(this,je)){let bn=Ae.style.outlineColor=r.Util.makeHexColor(...k(this,je));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Ae.style.backgroundColor=`color-mix(in srgb, ${bn} 30%, white)`:Ae.style.backgroundColor=r.Util.makeHexColor(...k(this,je).map(Wi=>Math.floor(.7*(255-Wi)+Wi)))}let Re=document.createElement("span");Re.className="header";let We=document.createElement("h1");if(Re.append(We),{dir:We.dir,str:We.textContent}=k(this,le),Ae.append(Re),k(this,re)){let bn=document.createElement("span");bn.classList.add("popupDate"),k(this,re).then(Mr=>{bn.textContent=Mr}),Re.append(bn)}let at=k(this,Ye),it=k(this,Q);if(it!=null&&it.str&&(!(at!=null&&at.str)||at.str===it.str))d.XfaLayer.render({xfaHtml:it.html,intent:"richText",div:Ae}),Ae.lastChild.classList.add("richText","popupContent");else{let bn=this._formatContents(at);Ae.append(bn)}let Ct=!!k(this,Te),ht=Ct?k(this,Te):k(this,z);for(let bn of k(this,De))if(!ht||r.Util.intersect(bn.data.rect,ht)!==null){ht=bn.data.rect,Ct=!0;break}let pt=r.Util.normalizeRect([ht[0],ie[3]-ht[1]+ie[1],ht[2],ie[3]-ht[3]+ie[1]]),wt=5,Mt=Ct?ht[2]-ht[0]+wt:0,Ut=pt[0]+Mt,Kt=pt[1],{style:An}=k(this,Ne);An.left=`${100*(Ut-ne)/B}%`,An.top=`${100*(Kt-de)/K}%`,k(this,Ne).append(Ae)}_formatContents({str:ie,dir:B}){let K=document.createElement("p");K.classList.add("popupContent"),K.dir=B;let ne=ie.split(/(?:\r\n?|\n)/);for(let de=0,Ae=ne.length;de<Ae;++de){let Re=ne[de];K.append(document.createTextNode(Re)),de<Ae-1&&K.append(document.createElement("br"))}return K}forceHide(){Me(this,Ee,this.isVisible),k(this,Ee)&&(k(this,Ne).hidden=!0)}maybeShow(){k(this,Ee)&&(Me(this,Ee,!1),k(this,Ne).hidden=!1)}get isVisible(){return k(this,Ne).hidden===!1}}re=new WeakMap,pe=new WeakMap,ve=new WeakMap,Pe=new WeakMap,ke=new WeakMap,je=new WeakMap,Ne=new WeakMap,Ye=new WeakMap,De=new WeakMap,ye=new WeakMap,Te=new WeakMap,me=new WeakMap,ae=new WeakMap,z=new WeakMap,Q=new WeakMap,le=new WeakMap,Ee=new WeakMap,Be=new WeakSet,k5=function(ie){ie.altKey||ie.shiftKey||ie.ctrlKey||ie.metaKey||(ie.key==="Enter"||ie.key==="Escape"&&k(this,me))&&ge(this,$e,p0).call(this)},$e=new WeakSet,p0=function(){Me(this,me,!k(this,me)),k(this,me)?(ge(this,Ge,Cy).call(this),k(this,Ne).addEventListener("click",k(this,ke)),k(this,Ne).addEventListener("keydown",k(this,pe))):(ge(this,ot,Ty).call(this),k(this,Ne).removeEventListener("click",k(this,ke)),k(this,Ne).removeEventListener("keydown",k(this,pe)))},Ge=new WeakSet,Cy=function(){k(this,ae)||this.render(),this.isVisible?k(this,me)&&k(this,Ne).classList.add("focused"):(k(this,Ne).hidden=!1,k(this,Ne).style.zIndex=parseInt(k(this,Ne).style.zIndex)+1e3)},ot=new WeakSet,Ty=function(){k(this,Ne).classList.remove("focused"),!(k(this,me)||!this.isVisible)&&(k(this,Ne).hidden=!0,k(this,Ne).style.zIndex=parseInt(k(this,Ne).style.zIndex)-1e3)};class D extends y{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0}),this.textContent=ie.data.textContent,this.textPosition=ie.data.textPosition,this.annotationEditorType=r.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let ie=document.createElement("div");ie.classList.add("annotationTextContent"),ie.setAttribute("role","comment");for(let B of this.textContent){let K=document.createElement("span");K.textContent=B,ie.append(K)}this.container.append(ie)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=D;class L extends y{constructor(B){super(B,{isRenderable:!0,ignoreBorder:!0});oe(this,_e,null)}render(){this.container.classList.add("lineAnnotation");let B=this.data,{width:K,height:ne}=b(B.rect),de=this.svgFactory.create(K,ne,!0),Ae=Me(this,_e,this.svgFactory.createElement("svg:line"));return Ae.setAttribute("x1",B.rect[2]-B.lineCoordinates[0]),Ae.setAttribute("y1",B.rect[3]-B.lineCoordinates[1]),Ae.setAttribute("x2",B.rect[2]-B.lineCoordinates[2]),Ae.setAttribute("y2",B.rect[3]-B.lineCoordinates[3]),Ae.setAttribute("stroke-width",B.borderStyle.width||1),Ae.setAttribute("stroke","transparent"),Ae.setAttribute("fill","transparent"),de.append(Ae),this.container.append(de),!B.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return k(this,_e)}addHighlightArea(){this.container.classList.add("highlightArea")}}_e=new WeakMap;class H extends y{constructor(B){super(B,{isRenderable:!0,ignoreBorder:!0});oe(this,se,null)}render(){this.container.classList.add("squareAnnotation");let B=this.data,{width:K,height:ne}=b(B.rect),de=this.svgFactory.create(K,ne,!0),Ae=B.borderStyle.width,Re=Me(this,se,this.svgFactory.createElement("svg:rect"));return Re.setAttribute("x",Ae/2),Re.setAttribute("y",Ae/2),Re.setAttribute("width",K-Ae),Re.setAttribute("height",ne-Ae),Re.setAttribute("stroke-width",Ae||1),Re.setAttribute("stroke","transparent"),Re.setAttribute("fill","transparent"),de.append(Re),this.container.append(de),!B.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return k(this,se)}addHighlightArea(){this.container.classList.add("highlightArea")}}se=new WeakMap;class G extends y{constructor(B){super(B,{isRenderable:!0,ignoreBorder:!0});oe(this,He,null)}render(){this.container.classList.add("circleAnnotation");let B=this.data,{width:K,height:ne}=b(B.rect),de=this.svgFactory.create(K,ne,!0),Ae=B.borderStyle.width,Re=Me(this,He,this.svgFactory.createElement("svg:ellipse"));return Re.setAttribute("cx",K/2),Re.setAttribute("cy",ne/2),Re.setAttribute("rx",K/2-Ae/2),Re.setAttribute("ry",ne/2-Ae/2),Re.setAttribute("stroke-width",Ae||1),Re.setAttribute("stroke","transparent"),Re.setAttribute("fill","transparent"),de.append(Re),this.container.append(de),!B.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return k(this,He)}addHighlightArea(){this.container.classList.add("highlightArea")}}He=new WeakMap;class j extends y{constructor(B){super(B,{isRenderable:!0,ignoreBorder:!0});oe(this,qe,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let B=this.data,{width:K,height:ne}=b(B.rect),de=this.svgFactory.create(K,ne,!0),Ae=[];for(let We of B.vertices){let at=We.x-B.rect[0],it=B.rect[3]-We.y;Ae.push(at+","+it)}Ae=Ae.join(" ");let Re=Me(this,qe,this.svgFactory.createElement(this.svgElementName));return Re.setAttribute("points",Ae),Re.setAttribute("stroke-width",B.borderStyle.width||1),Re.setAttribute("stroke","transparent"),Re.setAttribute("fill","transparent"),de.append(Re),this.container.append(de),!B.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return k(this,qe)}addHighlightArea(){this.container.classList.add("highlightArea")}}qe=new WeakMap;class q extends j{constructor(ie){super(ie),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class X extends y{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Z extends y{constructor(B){super(B,{isRenderable:!0,ignoreBorder:!0});oe(this,Lt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=r.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);let B=this.data,{width:K,height:ne}=b(B.rect),de=this.svgFactory.create(K,ne,!0);for(let Ae of B.inkLists){let Re=[];for(let at of Ae){let it=at.x-B.rect[0],Ct=B.rect[3]-at.y;Re.push(`${it},${Ct}`)}Re=Re.join(" ");let We=this.svgFactory.createElement(this.svgElementName);k(this,Lt).push(We),We.setAttribute("points",Re),We.setAttribute("stroke-width",B.borderStyle.width||1),We.setAttribute("stroke","transparent"),We.setAttribute("fill","transparent"),!B.popupRef&&this.hasPopupData&&this._createPopup(),de.append(We)}return this.container.append(de),this.container}getElementsToTriggerPopup(){return k(this,Lt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lt=new WeakMap,e.InkAnnotationElement=Z;class $ extends y{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ue extends y{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class fe extends y{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class he extends y{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Se extends y{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=Se;class V extends y{constructor(B){var de;super(B,{isRenderable:!0});oe(this,Ce);oe(this,qt,null);let{filename:K,content:ne}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(K,!0),this.content=ne,(de=this.linkService.eventBus)==null||de.dispatch("fileattachmentannotation",{source:this,filename:K,content:ne})}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:B,data:K}=this,ne;K.hasAppearance||K.fillAlpha===0?ne=document.createElement("div"):(ne=document.createElement("img"),ne.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(K.name)?"paperclip":"pushpin"}.svg`,K.fillAlpha&&K.fillAlpha<1&&(ne.style=`filter: opacity(${Math.round(K.fillAlpha*100)}%);`)),ne.addEventListener("dblclick",ge(this,Ce,xy).bind(this)),Me(this,qt,ne);let{isMac:de}=r.FeatureTest.platform;return B.addEventListener("keydown",Ae=>{Ae.key==="Enter"&&(de?Ae.metaKey:Ae.ctrlKey)&&ge(this,Ce,xy).call(this)}),!K.popupRef&&this.hasPopupData?this._createPopup():ne.classList.add("popupTriggerArea"),B.append(ne),B}getElementsToTriggerPopup(){return k(this,qt)}addHighlightArea(){this.container.classList.add("highlightArea")}}qt=new WeakMap,Ce=new WeakSet,xy=function(){var B;(B=this.downloadManager)==null||B.openOrDownloadData(this.container,this.content,this.filename)};class O{constructor({div:ie,accessibilityManager:B,annotationCanvasMap:K,l10n:ne,page:de,viewport:Ae}){oe(this,vt);oe(this,ze);oe(this,gt,null);oe(this,nt,null);oe(this,bt,new Map);this.div=ie,Me(this,gt,B),Me(this,nt,K),this.l10n=ne,this.page=de,this.viewport=Ae,this.zIndex=0,this.l10n||=c.NullL10n}async render(ie){let{annotations:B}=ie,K=this.div;(0,i.setLayerDimensions)(K,this.viewport);let ne=new Map,de={data:null,layer:K,linkService:ie.linkService,downloadManager:ie.downloadManager,imageResourcesPath:ie.imageResourcesPath||"",renderForms:ie.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:ie.annotationStorage||new s.AnnotationStorage,enableScripting:ie.enableScripting===!0,hasJSActions:ie.hasJSActions,fieldObjects:ie.fieldObjects,parent:this,elements:null};for(let Ae of B){if(Ae.noHTML)continue;let Re=Ae.annotationType===r.AnnotationType.POPUP;if(Re){let it=ne.get(Ae.id);if(!it)continue;de.elements=it}else{let{width:it,height:Ct}=b(Ae.rect);if(it<=0||Ct<=0)continue}de.data=Ae;let We=v.create(de);if(!We.isRenderable)continue;if(!Re&&Ae.popupRef){let it=ne.get(Ae.popupRef);it?it.push(We):ne.set(Ae.popupRef,[We])}We.annotationEditorType>0&&k(this,bt).set(We.data.id,We);let at=We.render();Ae.hidden&&(at.style.visibility="hidden"),ge(this,vt,R5).call(this,at,Ae.id)}ge(this,ze,Py).call(this),await this.l10n.translate(K)}update({viewport:ie}){let B=this.div;this.viewport=ie,(0,i.setLayerDimensions)(B,{rotation:ie.rotation}),ge(this,ze,Py).call(this),B.hidden=!1}getEditableAnnotations(){return Array.from(k(this,bt).values())}getEditableAnnotation(ie){return k(this,bt).get(ie)}}gt=new WeakMap,nt=new WeakMap,bt=new WeakMap,vt=new WeakSet,R5=function(ie,B){var ne;let K=ie.firstChild||ie;K.id=`${r.AnnotationPrefix}${B}`,this.div.append(ie),(ne=k(this,gt))==null||ne.moveElementInDOM(this.div,ie,K,!1)},ze=new WeakSet,Py=function(){if(!k(this,nt))return;let ie=this.div;for(let[B,K]of k(this,nt)){let ne=ie.querySelector(`[data-annotation-id="${B}"]`);if(!ne)continue;let{firstChild:de}=ne;de?de.nodeName==="CANVAS"?de.replaceWith(K):de.before(K):ne.append(K)}k(this,nt).clear()},e.AnnotationLayer=O},(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function t(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function r(s){return Math.max(0,Math.min(255,255*s))}class i{static CMYK_G([o,c,d,u]){return["G",1-Math.min(1,.3*o+.59*d+.11*c+u)]}static G_CMYK([o]){return["CMYK",0,0,0,1-o]}static G_RGB([o]){return["RGB",o,o,o]}static G_rgb([o]){return o=r(o),[o,o,o]}static G_HTML([o]){let c=t(o);return`#${c}${c}${c}`}static RGB_G([o,c,d]){return["G",.3*o+.59*c+.11*d]}static RGB_rgb(o){return o.map(r)}static RGB_HTML(o){return`#${o.map(t).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([o,c,d,u]){return["RGB",1-Math.min(1,o+u),1-Math.min(1,d+u),1-Math.min(1,c+u)]}static CMYK_rgb([o,c,d,u]){return[r(1-Math.min(1,o+u)),r(1-Math.min(1,d+u)),r(1-Math.min(1,c+u))]}static CMYK_HTML(o){let c=this.CMYK_RGB(o).slice(1);return this.RGB_HTML(c)}static RGB_CMYK([o,c,d]){let u=1-o,p=1-c,m=1-d,b=Math.min(u,p,m);return["CMYK",u,p,m,b]}}e.ColorConverters=i},(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=r;let t={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};t.print_progress_percent="{{progress}}%";function r(o,c){switch(o){case"find_match_count":o=`find_match_count[${c.total===1?"one":"other"}]`;break;case"find_match_count_limit":o=`find_match_count_limit[${c.limit===1?"one":"other"}]`;break}return t[o]||""}function i(o,c){return c?o.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(d,u)=>u in c?c[u]:"{{"+u+"}}"):o}let s={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(o,c=null,d=r(o,c)){return i(d,c)},async translate(o){}};e.NullL10n=s},(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var r=t(25);class i{static setupStorage(o,c,d,u,p){let m=u.getValue(c,{value:null});switch(d.name){case"textarea":if(m.value!==null&&(o.textContent=m.value),p==="print")break;o.addEventListener("input",b=>{u.setValue(c,{value:b.target.value})});break;case"input":if(d.attributes.type==="radio"||d.attributes.type==="checkbox"){if(m.value===d.attributes.xfaOn?o.setAttribute("checked",!0):m.value===d.attributes.xfaOff&&o.removeAttribute("checked"),p==="print")break;o.addEventListener("change",b=>{u.setValue(c,{value:b.target.checked?b.target.getAttribute("xfaOn"):b.target.getAttribute("xfaOff")})})}else{if(m.value!==null&&o.setAttribute("value",m.value),p==="print")break;o.addEventListener("input",b=>{u.setValue(c,{value:b.target.value})})}break;case"select":if(m.value!==null){o.setAttribute("value",m.value);for(let b of d.children)b.attributes.value===m.value?b.attributes.selected=!0:b.attributes.hasOwnProperty("selected")&&delete b.attributes.selected}o.addEventListener("input",b=>{let v=b.target.options,y=v.selectedIndex===-1?"":v[v.selectedIndex].value;u.setValue(c,{value:y})});break}}static setAttributes({html:o,element:c,storage:d=null,intent:u,linkService:p}){let{attributes:m}=c,b=o instanceof HTMLAnchorElement;m.type==="radio"&&(m.name=`${m.name}-${u}`);for(let[v,y]of Object.entries(m))if(y!=null)switch(v){case"class":y.length&&o.setAttribute(v,y.join(" "));break;case"dataId":break;case"id":o.setAttribute("data-element-id",y);break;case"style":Object.assign(o.style,y);break;case"textContent":o.textContent=y;break;default:(!b||v!=="href"&&v!=="newWindow")&&o.setAttribute(v,y)}b&&p.addLinkAttributes(o,m.href,m.newWindow),d&&m.dataId&&this.setupStorage(o,m.dataId,c,d)}static render(o){var h;let c=o.annotationStorage,d=o.linkService,u=o.xfaHtml,p=o.intent||"display",m=document.createElement(u.name);u.attributes&&this.setAttributes({html:m,element:u,intent:p,linkService:d});let b=[[u,-1,m]],v=o.div;if(v.append(m),o.viewport){let l=`matrix(${o.viewport.transform.join(",")})`;v.style.transform=l}p!=="richText"&&v.setAttribute("class","xfaLayer xfaFont");let y=[];for(;b.length>0;){let[l,g,w]=b.at(-1);if(g+1===l.children.length){b.pop();continue}let E=l.children[++b.at(-1)[1]];if(E===null)continue;let{name:A}=E;if(A==="#text"){let C=document.createTextNode(E.value);y.push(C),w.append(C);continue}let _=(h=E==null?void 0:E.attributes)!=null&&h.xmlns?document.createElementNS(E.attributes.xmlns,A):document.createElement(A);if(w.append(_),E.attributes&&this.setAttributes({html:_,element:E,storage:c,intent:p,linkService:d}),E.children&&E.children.length>0)b.push([E,-1,_]);else if(E.value){let C=document.createTextNode(E.value);r.XfaText.shouldBuildText(A)&&y.push(C),_.append(C)}}for(let l of v.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))l.setAttribute("readOnly",!0);return{textDivs:y}}static update(o){let c=`matrix(${o.viewport.transform.join(",")})`;o.div.style.transform=c,o.div.hidden=!1}}e.XfaLayer=i},(n,e,t)=>{var u,p,m,b,v,y,h,l,g,w,E,A,_,C,I,L5,x,I5,L,N5,G,D5,q,My,Z,B5,ue,Oy,he,F5,V,H5,M,U5,N,j5,J,q5,re,Ws,ve,ky,ke,g0,Ne,m0,De,Lu,Te,Ry,ae,y0,Q,G5,Ee,Ly,tt,z5,et,W5,Xe,Iy,Le,b0,se,Iu;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var r=t(1),i=t(4),s=t(29),o=t(6),c=t(5);let qe=class qe extends i.AnnotationEditor{constructor(Ce){super({...Ce,name:"inkEditor"});oe(this,I);oe(this,x);oe(this,L);oe(this,G);oe(this,q);oe(this,Z);oe(this,ue);oe(this,he);oe(this,V);oe(this,M);oe(this,N);oe(this,J);oe(this,re);oe(this,ve);oe(this,ke);oe(this,Ne);oe(this,De);oe(this,Te);oe(this,ae);oe(this,et);oe(this,Xe);oe(this,Le);oe(this,se);oe(this,u,0);oe(this,p,0);oe(this,m,this.canvasPointermove.bind(this));oe(this,b,this.canvasPointerleave.bind(this));oe(this,v,this.canvasPointerup.bind(this));oe(this,y,this.canvasPointerdown.bind(this));oe(this,h,new Path2D);oe(this,l,!1);oe(this,g,!1);oe(this,w,!1);oe(this,E,null);oe(this,A,0);oe(this,_,0);oe(this,C,null);this.color=Ce.color||null,this.thickness=Ce.thickness||null,this.opacity=Ce.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Ce){i.AnnotationEditor.initialize(Ce,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Ce,Qe){switch(Ce){case r.AnnotationEditorParamsType.INK_THICKNESS:qe._defaultThickness=Qe;break;case r.AnnotationEditorParamsType.INK_COLOR:qe._defaultColor=Qe;break;case r.AnnotationEditorParamsType.INK_OPACITY:qe._defaultOpacity=Qe/100;break}}updateParams(Ce,Qe){switch(Ce){case r.AnnotationEditorParamsType.INK_THICKNESS:ge(this,I,L5).call(this,Qe);break;case r.AnnotationEditorParamsType.INK_COLOR:ge(this,x,I5).call(this,Qe);break;case r.AnnotationEditorParamsType.INK_OPACITY:ge(this,L,N5).call(this,Qe);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,qe._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,qe._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(qe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||qe._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||qe._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??qe._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(ge(this,ke,g0).call(this),ge(this,Ne,m0).call(this)),this.isAttachedToDOM||(this.parent.add(this),ge(this,De,Lu).call(this)),ge(this,se,Iu).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,k(this,E).disconnect(),Me(this,E,null),super.remove())}setParent(Ce){!this.parent&&Ce?this._uiManager.removeShouldRescale(this):this.parent&&Ce===null&&this._uiManager.addShouldRescale(this),super.setParent(Ce)}onScaleChanging(){let[Ce,Qe]=this.parentDimensions,gt=this.width*Ce,nt=this.height*Qe;this.setDimensions(gt,nt)}enableEditMode(){k(this,l)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",k(this,y)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",k(this,y)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){k(this,l)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Me(this,l,!0),this.div.classList.add("disabled"),ge(this,se,Iu).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Ce){this._focusEventsAllowed&&(super.focusin(Ce),this.enableEditMode())}canvasPointerdown(Ce){Ce.button!==0||!this.isInEditMode()||k(this,l)||(this.setInForeground(),Ce.preventDefault(),Ce.type!=="mouse"&&this.div.focus(),ge(this,Z,B5).call(this,Ce.offsetX,Ce.offsetY))}canvasPointermove(Ce){Ce.preventDefault(),ge(this,ue,Oy).call(this,Ce.offsetX,Ce.offsetY)}canvasPointerup(Ce){Ce.preventDefault(),ge(this,ve,ky).call(this,Ce)}canvasPointerleave(Ce){ge(this,ve,ky).call(this,Ce)}get isResizable(){return!this.isEmpty()&&k(this,l)}render(){if(this.div)return this.div;let Ce,Qe;this.width&&(Ce=this.x,Qe=this.y),super.render(),i.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Ht=>{var ze;return(ze=this.div)==null?void 0:ze.setAttribute("aria-label",Ht)});let[gt,nt,bt,vt]=ge(this,G,D5).call(this);if(this.setAt(gt,nt,0,0),this.setDims(bt,vt),ge(this,ke,g0).call(this),this.width){let[Ht,ze]=this.parentDimensions;this.setAspectRatio(this.width*Ht,this.height*ze),this.setAt(Ce*Ht,Qe*ze,this.width*Ht,this.height*ze),Me(this,w,!0),ge(this,De,Lu).call(this),this.setDims(this.width*Ht,this.height*ze),ge(this,re,Ws).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ge(this,Ne,m0).call(this),this.div}setDimensions(Ce,Qe){let gt=Math.round(Ce),nt=Math.round(Qe);if(k(this,A)===gt&&k(this,_)===nt)return;Me(this,A,gt),Me(this,_,nt),this.canvas.style.visibility="hidden";let[bt,vt]=this.parentDimensions;this.width=Ce/bt,this.height=Qe/vt,this.fixAndSetPosition(),k(this,l)&&ge(this,Te,Ry).call(this,Ce,Qe),ge(this,De,Lu).call(this),ge(this,re,Ws).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Ce,Qe,gt){var de,Ae,Re;if(Ce instanceof s.InkAnnotationElement)return null;let nt=super.deserialize(Ce,Qe,gt);nt.thickness=Ce.thickness,nt.color=r.Util.makeHexColor(...Ce.color),nt.opacity=Ce.opacity;let[bt,vt]=nt.pageDimensions,Ht=nt.width*bt,ze=nt.height*vt,Pt=nt.parentScale,ft=Ce.thickness/2;Me(nt,l,!0),Me(nt,A,Math.round(Ht)),Me(nt,_,Math.round(ze));let{paths:ie,rect:B,rotation:K}=Ce;for(let{bezier:We}of ie){We=ge(de=qe,tt,z5).call(de,We,B,K);let at=[];nt.paths.push(at);let it=Pt*(We[0]-ft),Ct=Pt*(We[1]-ft);for(let pt=2,wt=We.length;pt<wt;pt+=6){let Mt=Pt*(We[pt]-ft),Ut=Pt*(We[pt+1]-ft),Kt=Pt*(We[pt+2]-ft),An=Pt*(We[pt+3]-ft),bn=Pt*(We[pt+4]-ft),Mr=Pt*(We[pt+5]-ft);at.push([[it,Ct],[Mt,Ut],[Kt,An],[bn,Mr]]),it=bn,Ct=Mr}let ht=ge(this,Q,G5).call(this,at);nt.bezierPath2D.push(ht)}let ne=ge(Ae=nt,Xe,Iy).call(Ae);return Me(nt,p,Math.max(i.AnnotationEditor.MIN_SIZE,ne[2]-ne[0])),Me(nt,u,Math.max(i.AnnotationEditor.MIN_SIZE,ne[3]-ne[1])),ge(Re=nt,Te,Ry).call(Re,Ht,ze),nt}serialize(){if(this.isEmpty())return null;let Ce=this.getRect(0,0),Qe=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:Qe,thickness:this.thickness,opacity:this.opacity,paths:ge(this,et,W5).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Ce),pageIndex:this.pageIndex,rect:Ce,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};u=new WeakMap,p=new WeakMap,m=new WeakMap,b=new WeakMap,v=new WeakMap,y=new WeakMap,h=new WeakMap,l=new WeakMap,g=new WeakMap,w=new WeakMap,E=new WeakMap,A=new WeakMap,_=new WeakMap,C=new WeakMap,I=new WeakSet,L5=function(Ce){let Qe=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ce,ge(this,se,Iu).call(this)},undo:()=>{this.thickness=Qe,ge(this,se,Iu).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},x=new WeakSet,I5=function(Ce){let Qe=this.color;this.addCommands({cmd:()=>{this.color=Ce,ge(this,re,Ws).call(this)},undo:()=>{this.color=Qe,ge(this,re,Ws).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},L=new WeakSet,N5=function(Ce){Ce/=100;let Qe=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ce,ge(this,re,Ws).call(this)},undo:()=>{this.opacity=Qe,ge(this,re,Ws).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},G=new WeakSet,D5=function(){let{parentRotation:Ce,parentDimensions:[Qe,gt]}=this;switch(Ce){case 90:return[0,gt,gt,Qe];case 180:return[Qe,gt,Qe,gt];case 270:return[Qe,0,gt,Qe];default:return[0,0,Qe,gt]}},q=new WeakSet,My=function(){let{ctx:Ce,color:Qe,opacity:gt,thickness:nt,parentScale:bt,scaleFactor:vt}=this;Ce.lineWidth=nt*bt/vt,Ce.lineCap="round",Ce.lineJoin="round",Ce.miterLimit=10,Ce.strokeStyle=`${Qe}${(0,c.opacityToHex)(gt)}`},Z=new WeakSet,B5=function(Ce,Qe){this.canvas.addEventListener("contextmenu",o.noContextMenu),this.canvas.addEventListener("pointerleave",k(this,b)),this.canvas.addEventListener("pointermove",k(this,m)),this.canvas.addEventListener("pointerup",k(this,v)),this.canvas.removeEventListener("pointerdown",k(this,y)),this.isEditing=!0,k(this,w)||(Me(this,w,!0),ge(this,De,Lu).call(this),this.thickness||=qe._defaultThickness,this.color||=qe._defaultColor||i.AnnotationEditor._defaultLineColor,this.opacity??=qe._defaultOpacity),this.currentPath.push([Ce,Qe]),Me(this,g,!1),ge(this,q,My).call(this),Me(this,C,()=>{ge(this,M,U5).call(this),k(this,C)&&window.requestAnimationFrame(k(this,C))}),window.requestAnimationFrame(k(this,C))},ue=new WeakSet,Oy=function(Ce,Qe){let[gt,nt]=this.currentPath.at(-1);if(this.currentPath.length>1&&Ce===gt&&Qe===nt)return;let bt=this.currentPath,vt=k(this,h);if(bt.push([Ce,Qe]),Me(this,g,!0),bt.length<=2){vt.moveTo(...bt[0]),vt.lineTo(Ce,Qe);return}bt.length===3&&(Me(this,h,vt=new Path2D),vt.moveTo(...bt[0])),ge(this,N,j5).call(this,vt,...bt.at(-3),...bt.at(-2),Ce,Qe)},he=new WeakSet,F5=function(){if(this.currentPath.length===0)return;let Ce=this.currentPath.at(-1);k(this,h).lineTo(...Ce)},V=new WeakSet,H5=function(Ce,Qe){Me(this,C,null),Ce=Math.min(Math.max(Ce,0),this.canvas.width),Qe=Math.min(Math.max(Qe,0),this.canvas.height),ge(this,ue,Oy).call(this,Ce,Qe),ge(this,he,F5).call(this);let gt;if(this.currentPath.length!==1)gt=ge(this,J,q5).call(this);else{let ze=[Ce,Qe];gt=[[ze,ze.slice(),ze.slice(),ze]]}let nt=k(this,h),bt=this.currentPath;this.currentPath=[],Me(this,h,new Path2D);let vt=()=>{this.allRawPaths.push(bt),this.paths.push(gt),this.bezierPath2D.push(nt),this.rebuild()},Ht=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ge(this,ke,g0).call(this),ge(this,Ne,m0).call(this)),ge(this,se,Iu).call(this))};this.addCommands({cmd:vt,undo:Ht,mustExec:!0})},M=new WeakSet,U5=function(){if(!k(this,g))return;Me(this,g,!1);let Ce=Math.ceil(this.thickness*this.parentScale),Qe=this.currentPath.slice(-3),gt=Qe.map(ft=>ft[0]),nt=Qe.map(ft=>ft[1]),bt=Math.min(...gt)-Ce,vt=Math.max(...gt)+Ce,Ht=Math.min(...nt)-Ce,ze=Math.max(...nt)+Ce,{ctx:Pt}=this;Pt.save(),Pt.clearRect(0,0,this.canvas.width,this.canvas.height);for(let ft of this.bezierPath2D)Pt.stroke(ft);Pt.stroke(k(this,h)),Pt.restore()},N=new WeakSet,j5=function(Ce,Qe,gt,nt,bt,vt,Ht){let ze=(Qe+nt)/2,Pt=(gt+bt)/2,ft=(nt+vt)/2,ie=(bt+Ht)/2;Ce.bezierCurveTo(ze+2*(nt-ze)/3,Pt+2*(bt-Pt)/3,ft+2*(nt-ft)/3,ie+2*(bt-ie)/3,ft,ie)},J=new WeakSet,q5=function(){let Ce=this.currentPath;if(Ce.length<=2)return[[Ce[0],Ce[0],Ce.at(-1),Ce.at(-1)]];let Qe=[],gt,[nt,bt]=Ce[0];for(gt=1;gt<Ce.length-2;gt++){let[B,K]=Ce[gt],[ne,de]=Ce[gt+1],Ae=(B+ne)/2,Re=(K+de)/2,We=[nt+2*(B-nt)/3,bt+2*(K-bt)/3],at=[Ae+2*(B-Ae)/3,Re+2*(K-Re)/3];Qe.push([[nt,bt],We,at,[Ae,Re]]),[nt,bt]=[Ae,Re]}let[vt,Ht]=Ce[gt],[ze,Pt]=Ce[gt+1],ft=[nt+2*(vt-nt)/3,bt+2*(Ht-bt)/3],ie=[ze+2*(vt-ze)/3,Pt+2*(Ht-Pt)/3];return Qe.push([[nt,bt],ft,ie,[ze,Pt]]),Qe},re=new WeakSet,Ws=function(){if(this.isEmpty()){ge(this,ae,y0).call(this);return}ge(this,q,My).call(this);let{canvas:Ce,ctx:Qe}=this;Qe.setTransform(1,0,0,1,0,0),Qe.clearRect(0,0,Ce.width,Ce.height),ge(this,ae,y0).call(this);for(let gt of this.bezierPath2D)Qe.stroke(gt)},ve=new WeakSet,ky=function(Ce){this.canvas.removeEventListener("pointerleave",k(this,b)),this.canvas.removeEventListener("pointermove",k(this,m)),this.canvas.removeEventListener("pointerup",k(this,v)),this.canvas.addEventListener("pointerdown",k(this,y)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",o.noContextMenu)},10),ge(this,V,H5).call(this,Ce.offsetX,Ce.offsetY),this.addToAnnotationStorage(),this.setInBackground()},ke=new WeakSet,g0=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",i.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Ce=>{var Qe;return(Qe=this.canvas)==null?void 0:Qe.setAttribute("aria-label",Ce)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ne=new WeakSet,m0=function(){Me(this,E,new ResizeObserver(Ce=>{let Qe=Ce[0].contentRect;Qe.width&&Qe.height&&this.setDimensions(Qe.width,Qe.height)})),k(this,E).observe(this.div)},De=new WeakSet,Lu=function(){if(!k(this,w))return;let[Ce,Qe]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ce),this.canvas.height=Math.ceil(this.height*Qe),ge(this,ae,y0).call(this)},Te=new WeakSet,Ry=function(Ce,Qe){let gt=ge(this,Le,b0).call(this),nt=(Ce-gt)/k(this,p),bt=(Qe-gt)/k(this,u);this.scaleFactor=Math.min(nt,bt)},ae=new WeakSet,y0=function(){let Ce=ge(this,Le,b0).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ce,this.translationY*this.scaleFactor+Ce)},Q=new WeakSet,G5=function(Ce){let Qe=new Path2D;for(let gt=0,nt=Ce.length;gt<nt;gt++){let[bt,vt,Ht,ze]=Ce[gt];gt===0&&Qe.moveTo(...bt),Qe.bezierCurveTo(vt[0],vt[1],Ht[0],Ht[1],ze[0],ze[1])}return Qe},Ee=new WeakSet,Ly=function(Ce,Qe,gt){let[nt,bt,vt,Ht]=Qe;switch(gt){case 0:for(let ze=0,Pt=Ce.length;ze<Pt;ze+=2)Ce[ze]+=nt,Ce[ze+1]=Ht-Ce[ze+1];break;case 90:for(let ze=0,Pt=Ce.length;ze<Pt;ze+=2){let ft=Ce[ze];Ce[ze]=Ce[ze+1]+nt,Ce[ze+1]=ft+bt}break;case 180:for(let ze=0,Pt=Ce.length;ze<Pt;ze+=2)Ce[ze]=vt-Ce[ze],Ce[ze+1]+=bt;break;case 270:for(let ze=0,Pt=Ce.length;ze<Pt;ze+=2){let ft=Ce[ze];Ce[ze]=vt-Ce[ze+1],Ce[ze+1]=Ht-ft}break;default:throw new Error("Invalid rotation")}return Ce},tt=new WeakSet,z5=function(Ce,Qe,gt){let[nt,bt,vt,Ht]=Qe;switch(gt){case 0:for(let ze=0,Pt=Ce.length;ze<Pt;ze+=2)Ce[ze]-=nt,Ce[ze+1]=Ht-Ce[ze+1];break;case 90:for(let ze=0,Pt=Ce.length;ze<Pt;ze+=2){let ft=Ce[ze];Ce[ze]=Ce[ze+1]-bt,Ce[ze+1]=ft-nt}break;case 180:for(let ze=0,Pt=Ce.length;ze<Pt;ze+=2)Ce[ze]=vt-Ce[ze],Ce[ze+1]-=bt;break;case 270:for(let ze=0,Pt=Ce.length;ze<Pt;ze+=2){let ft=Ce[ze];Ce[ze]=Ht-Ce[ze+1],Ce[ze+1]=vt-ft}break;default:throw new Error("Invalid rotation")}return Ce},et=new WeakSet,W5=function(Ce,Qe,gt,nt){var Pt,ft;let bt=[],vt=this.thickness/2,Ht=Ce*Qe+vt,ze=Ce*gt+vt;for(let ie of this.paths){let B=[],K=[];for(let ne=0,de=ie.length;ne<de;ne++){let[Ae,Re,We,at]=ie[ne],it=Ce*Ae[0]+Ht,Ct=Ce*Ae[1]+ze,ht=Ce*Re[0]+Ht,pt=Ce*Re[1]+ze,wt=Ce*We[0]+Ht,Mt=Ce*We[1]+ze,Ut=Ce*at[0]+Ht,Kt=Ce*at[1]+ze;ne===0&&(B.push(it,Ct),K.push(it,Ct)),B.push(ht,pt,wt,Mt,Ut,Kt),K.push(ht,pt),ne===de-1&&K.push(Ut,Kt)}bt.push({bezier:ge(Pt=qe,Ee,Ly).call(Pt,B,nt,this.rotation),points:ge(ft=qe,Ee,Ly).call(ft,K,nt,this.rotation)})}return bt},Xe=new WeakSet,Iy=function(){let Ce=1/0,Qe=-1/0,gt=1/0,nt=-1/0;for(let bt of this.paths)for(let[vt,Ht,ze,Pt]of bt){let ft=r.Util.bezierBoundingBox(...vt,...Ht,...ze,...Pt);Ce=Math.min(Ce,ft[0]),gt=Math.min(gt,ft[1]),Qe=Math.max(Qe,ft[2]),nt=Math.max(nt,ft[3])}return[Ce,gt,Qe,nt]},Le=new WeakSet,b0=function(){return k(this,l)?Math.ceil(this.thickness*this.parentScale):0},se=new WeakSet,Iu=function(Ce=!1){if(this.isEmpty())return;if(!k(this,l)){ge(this,re,Ws).call(this);return}let Qe=ge(this,Xe,Iy).call(this),gt=ge(this,Le,b0).call(this);Me(this,p,Math.max(i.AnnotationEditor.MIN_SIZE,Qe[2]-Qe[0])),Me(this,u,Math.max(i.AnnotationEditor.MIN_SIZE,Qe[3]-Qe[1]));let nt=Math.ceil(gt+k(this,p)*this.scaleFactor),bt=Math.ceil(gt+k(this,u)*this.scaleFactor),[vt,Ht]=this.parentDimensions;this.width=nt/vt,this.height=bt/Ht,this.setAspectRatio(nt,bt);let ze=this.translationX,Pt=this.translationY;this.translationX=-Qe[0],this.translationY=-Qe[1],ge(this,De,Lu).call(this),ge(this,re,Ws).call(this),Me(this,A,nt),Me(this,_,bt),this.setDims(nt,bt);let ft=Ce?gt/this.scaleFactor/2:0;this.translate(ze-this.translationX-ft,Pt-this.translationY-ft)},oe(qe,Q),oe(qe,Ee),oe(qe,tt),wn(qe,"_defaultColor",null),wn(qe,"_defaultOpacity",1),wn(qe,"_defaultThickness",1),wn(qe,"_type","ink");let d=qe;e.InkEditor=d},(n,e,t)=>{var d,u,p,m,b,v,y,h,l,g,w,Tc,A,xc,C,v0,T,Ny,D,V5,H,$5,j,Dy,X,_0,$,J5;Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var r=t(1),i=t(4),s=t(6),o=t(29);let fe=class fe extends i.AnnotationEditor{constructor(V){super({...V,name:"stampEditor"});oe(this,w);oe(this,A);oe(this,C);oe(this,T);oe(this,D);oe(this,H);oe(this,j);oe(this,X);oe(this,$);oe(this,d,null);oe(this,u,null);oe(this,p,null);oe(this,m,null);oe(this,b,null);oe(this,v,null);oe(this,y,null);oe(this,h,null);oe(this,l,!1);oe(this,g,!1);Me(this,m,V.bitmapUrl),Me(this,b,V.bitmapFile)}static initialize(V){i.AnnotationEditor.initialize(V)}static get supportedTypes(){let V=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,r.shadow)(this,"supportedTypes",V.map(O=>`image/${O}`))}static get supportedTypesStr(){return(0,r.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(V){return this.supportedTypes.includes(V)}static paste(V,O){O.pasteEditor(r.AnnotationEditorType.STAMP,{bitmapFile:V.getAsFile()})}remove(){var V,O;k(this,u)&&(Me(this,d,null),this._uiManager.imageManager.deleteId(k(this,u)),(V=k(this,v))==null||V.remove(),Me(this,v,null),(O=k(this,y))==null||O.disconnect(),Me(this,y,null)),super.remove()}rebuild(){if(!this.parent){k(this,u)&&ge(this,C,v0).call(this);return}super.rebuild(),this.div!==null&&(k(this,u)&&ge(this,C,v0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(k(this,p)||k(this,d)||k(this,m)||k(this,b))}get isResizable(){return!0}render(){if(this.div)return this.div;let V,O;if(this.width&&(V=this.x,O=this.y),super.render(),this.div.hidden=!0,k(this,d)?ge(this,T,Ny).call(this):ge(this,C,v0).call(this),this.width){let[M,P]=this.parentDimensions;this.setAt(V*M,O*P,this.width*M,this.height*P)}return this.div}static deserialize(V,O,M){if(V instanceof o.StampAnnotationElement)return null;let P=super.deserialize(V,O,M),{rect:N,bitmapUrl:U,bitmapId:J,isSvg:te,accessibilityData:re}=V;J&&M.imageManager.isValidId(J)?Me(P,u,J):Me(P,m,U),Me(P,l,te);let[pe,ve]=P.pageDimensions;return P.width=(N[2]-N[0])/pe,P.height=(N[3]-N[1])/ve,re&&(P.altTextData=re),P}serialize(V=!1,O=null){if(this.isEmpty())return null;let M={annotationType:r.AnnotationEditorType.STAMP,bitmapId:k(this,u),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:k(this,l),structTreeParentId:this._structTreeParentId};if(V)return M.bitmapUrl=ge(this,X,_0).call(this,!0),M.accessibilityData=this.altTextData,M;let{decorative:P,altText:N}=this.altTextData;if(!P&&N&&(M.accessibilityData={type:"Figure",alt:N}),O===null)return M;O.stamps||=new Map;let U=k(this,l)?(M.rect[2]-M.rect[0])*(M.rect[3]-M.rect[1]):null;if(!O.stamps.has(k(this,u)))O.stamps.set(k(this,u),{area:U,serialized:M}),M.bitmap=ge(this,X,_0).call(this,!1);else if(k(this,l)){let J=O.stamps.get(k(this,u));U>J.area&&(J.area=U,J.serialized.bitmap.close(),J.serialized.bitmap=ge(this,X,_0).call(this,!1))}return M}};d=new WeakMap,u=new WeakMap,p=new WeakMap,m=new WeakMap,b=new WeakMap,v=new WeakMap,y=new WeakMap,h=new WeakMap,l=new WeakMap,g=new WeakMap,w=new WeakSet,Tc=function(V,O=!1){if(!V){this.remove();return}Me(this,d,V.bitmap),O||(Me(this,u,V.id),Me(this,l,V.isSvg)),ge(this,T,Ny).call(this)},A=new WeakSet,xc=function(){Me(this,p,null),this._uiManager.enableWaiting(!1),k(this,v)&&this.div.focus()},C=new WeakSet,v0=function(){if(k(this,u)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(k(this,u)).then(O=>ge(this,w,Tc).call(this,O,!0)).finally(()=>ge(this,A,xc).call(this));return}if(k(this,m)){let O=k(this,m);Me(this,m,null),this._uiManager.enableWaiting(!0),Me(this,p,this._uiManager.imageManager.getFromUrl(O).then(M=>ge(this,w,Tc).call(this,M)).finally(()=>ge(this,A,xc).call(this)));return}if(k(this,b)){let O=k(this,b);Me(this,b,null),this._uiManager.enableWaiting(!0),Me(this,p,this._uiManager.imageManager.getFromFile(O).then(M=>ge(this,w,Tc).call(this,M)).finally(()=>ge(this,A,xc).call(this)));return}let V=document.createElement("input");V.type="file",V.accept=fe.supportedTypesStr,Me(this,p,new Promise(O=>{V.addEventListener("change",async()=>{if(!V.files||V.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let M=await this._uiManager.imageManager.getFromFile(V.files[0]);ge(this,w,Tc).call(this,M)}O()}),V.addEventListener("cancel",()=>{this.remove(),O()})}).finally(()=>ge(this,A,xc).call(this))),V.click()},T=new WeakSet,Ny=function(){let{div:V}=this,{width:O,height:M}=k(this,d),[P,N]=this.pageDimensions,U=.75;if(this.width)O=this.width*P,M=this.height*N;else if(O>U*P||M>U*N){let pe=Math.min(U*P/O,U*N/M);O*=pe,M*=pe}let[J,te]=this.parentDimensions;this.setDims(O*J/P,M*te/N),this._uiManager.enableWaiting(!1);let re=Me(this,v,document.createElement("canvas"));V.append(re),V.hidden=!1,ge(this,j,Dy).call(this,O,M),ge(this,$,J5).call(this),k(this,g)||(this.parent.addUndoableEditor(this),Me(this,g,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},D=new WeakSet,V5=function(V,O){var U;let[M,P]=this.parentDimensions;this.width=V/M,this.height=O/P,this.setDims(V,O),(U=this._initialOptions)!=null&&U.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,k(this,h)!==null&&clearTimeout(k(this,h)),Me(this,h,setTimeout(()=>{Me(this,h,null),ge(this,j,Dy).call(this,V,O)},200))},H=new WeakSet,$5=function(V,O){let{width:M,height:P}=k(this,d),N=M,U=P,J=k(this,d);for(;N>2*V||U>2*O;){let te=N,re=U;N>2*V&&(N=N>=16384?Math.floor(N/2)-1:Math.ceil(N/2)),U>2*O&&(U=U>=16384?Math.floor(U/2)-1:Math.ceil(U/2));let pe=new OffscreenCanvas(N,U);pe.getContext("2d").drawImage(J,0,0,te,re,0,0,N,U),J=pe.transferToImageBitmap()}return J},j=new WeakSet,Dy=function(V,O){V=Math.ceil(V),O=Math.ceil(O);let M=k(this,v);if(!M||M.width===V&&M.height===O)return;M.width=V,M.height=O;let P=k(this,l)?k(this,d):ge(this,H,$5).call(this,V,O),N=M.getContext("2d");N.filter=this._uiManager.hcmFilter,N.drawImage(P,0,0,P.width,P.height,0,0,V,O)},X=new WeakSet,_0=function(V){if(V){if(k(this,l)){let P=this._uiManager.imageManager.getSvgUrl(k(this,u));if(P)return P}let O=document.createElement("canvas");return{width:O.width,height:O.height}=k(this,d),O.getContext("2d").drawImage(k(this,d),0,0),O.toDataURL()}if(k(this,l)){let[O,M]=this.pageDimensions,P=Math.round(this.width*O*s.PixelsPerInch.PDF_TO_CSS_UNITS),N=Math.round(this.height*M*s.PixelsPerInch.PDF_TO_CSS_UNITS),U=new OffscreenCanvas(P,N);return U.getContext("2d").drawImage(k(this,d),0,0,k(this,d).width,k(this,d).height,0,0,P,N),U.transferToImageBitmap()}return structuredClone(k(this,d))},$=new WeakSet,J5=function(){Me(this,y,new ResizeObserver(V=>{let O=V[0].contentRect;O.width&&O.height&&ge(this,D,V5).call(this,O.width,O.height)})),k(this,y).observe(this.div)},wn(fe,"_type","stamp");let c=fe;e.StampEditor=c}],__webpack_module_cache__={};function __w_pdfjs_require__(n){var e=__webpack_module_cache__[n];if(e!==void 0)return e.exports;var t=__webpack_module_cache__[n]={exports:{}};return __webpack_modules__[n](t,t.exports,__w_pdfjs_require__),t.exports}var __webpack_exports__={};return(()=>{var n=__webpack_exports__;Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(n,"AnnotationEditorLayer",{enumerable:!0,get:function(){return s.AnnotationEditorLayer}}),Object.defineProperty(n,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(n,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(n,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return o.AnnotationEditorUIManager}}),Object.defineProperty(n,"AnnotationLayer",{enumerable:!0,get:function(){return c.AnnotationLayer}}),Object.defineProperty(n,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(n,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(n,"DOMSVGFactory",{enumerable:!0,get:function(){return r.DOMSVGFactory}}),Object.defineProperty(n,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(n,"GlobalWorkerOptions",{enumerable:!0,get:function(){return d.GlobalWorkerOptions}}),Object.defineProperty(n,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(n,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(n,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(n,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(n,"PDFDataRangeTransport",{enumerable:!0,get:function(){return t.PDFDataRangeTransport}}),Object.defineProperty(n,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(n,"PDFWorker",{enumerable:!0,get:function(){return t.PDFWorker}}),Object.defineProperty(n,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(n,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(n,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(n,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(n,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(n,"SVGGraphics",{enumerable:!0,get:function(){return t.SVGGraphics}}),Object.defineProperty(n,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(n,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(n,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(n,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(n,"build",{enumerable:!0,get:function(){return t.build}}),Object.defineProperty(n,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(n,"getDocument",{enumerable:!0,get:function(){return t.getDocument}}),Object.defineProperty(n,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(n,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(n,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(n,"isDataScheme",{enumerable:!0,get:function(){return r.isDataScheme}}),Object.defineProperty(n,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(n,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(n,"noContextMenu",{enumerable:!0,get:function(){return r.noContextMenu}}),Object.defineProperty(n,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(n,"renderTextLayer",{enumerable:!0,get:function(){return i.renderTextLayer}}),Object.defineProperty(n,"setLayerDimensions",{enumerable:!0,get:function(){return r.setLayerDimensions}}),Object.defineProperty(n,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(n,"updateTextLayer",{enumerable:!0,get:function(){return i.updateTextLayer}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return t.version}});var e=__w_pdfjs_require__(1),t=__w_pdfjs_require__(2),r=__w_pdfjs_require__(6),i=__w_pdfjs_require__(26),s=__w_pdfjs_require__(27),o=__w_pdfjs_require__(5),c=__w_pdfjs_require__(29),d=__w_pdfjs_require__(14),u=__w_pdfjs_require__(32);let p="3.11.174",m="ce8716743"})(),__webpack_exports__})())});var nG={};Dp(nG,{Link:()=>Pu,default:()=>eG,load:()=>tG});F();F();F();var k_=Rt(M_()),R_=Rt(ir());F();var O_=Rt(ir());function Ha(n,e){return O_.TaJson.deserialize(n,e)}var Os=class extends k_.Publication{static async fromUrl(t,r){let s=await(await fetch(t.href,r)).json(),o=Ha(s,Os);return o.manifestUrl=t,o}get readingOrder(){return this.Spine??[]}get resources(){return this.Resources??[]}get tableOfContents(){var t,r;return(t=this.sample)!=null&&t.isSampleRead&&((r=this.positions)==null?void 0:r.length)>0?this.limitedTOC():this.TOC}limitedTOC(){function t(i){for(let s=0;s<i.Children.length;s++){let o=i.Children[s];o.Href=void 0,o.Children&&t(o)}}return this.TOC.map(i=>{var s,o;if(i.Href){let c=this.positionsByHref(this.getRelativeHref(i.Href));if((c==null?void 0:c.length)>0){let d=c[0],u=Math.round((d.locations.totalProgression?d.locations.totalProgression:0)*100);(s=this.sample)!=null&&s.limit&&(u<=((o=this.sample)==null?void 0:o.limit)||(i.Href=void 0,i.Children&&t(i)))}}return i})}get landmarks(){return this.Landmarks}get pageList(){return this.PageList}get isFixedLayout(){var t;return((t=this.Metadata.Rendition)==null?void 0:t.Layout)==="fixed"}get isReflowable(){return!this.isFixedLayout}get layout(){return this.isFixedLayout?"fixed":"reflowable"}get hasMediaOverlays(){return this.readingOrder?this.readingOrder.filter(t=>{var r;return(r=t.Properties)==null?void 0:r.MediaOverlay}).length>0:!1}getStartLink(){if(this.readingOrder!==void 0&&this.readingOrder.length>0)return this.readingOrder[0]}getPreviousSpineItem(t){let r=this.getSpineIndex(t);if(r!==void 0&&this.readingOrder!==void 0&&r>0)return this.readingOrder[r-1]}getNextSpineItem(t){let r=this.getSpineIndex(t);if(r!==void 0&&this.readingOrder!==void 0&&r<this.readingOrder.length-1)return this.readingOrder[r+1]}getSpineItem(t){let r=this.getSpineIndex(t);if(r!==void 0&&this.readingOrder!==void 0)return this.readingOrder[r]}getSpineIndex(t){var r;return(r=this.readingOrder)==null?void 0:r.findIndex(i=>i.Href&&this.getAbsoluteHref(i.Href)===t)}getAbsoluteHref(t){return new URL(t,this.manifestUrl.href).href}getRelativeHref(t){let r=this.manifestUrl.href.replace("/manifest.json",""),i=t.replace(r,"");return i.indexOf("#")>0&&(i=i.slice(0,i.indexOf("#"))),i.charAt(0)==="/"&&(i=i.substring(1)),i}getTOCItemAbsolute(t){let r=this.getAbsoluteHref(t),i=(o,c)=>{for(let d=0;d<c.length;d++){let u=c[d];if(u.Href){let p=u.Href.indexOf("#")!==-1?u.Href.slice(0,u.Href.indexOf("#")):u.Href;if(this.getAbsoluteHref(p)===o)return u}if(u.Children){let p=i(o,u.Children);if(p!==void 0)return p}}},s=i(r,this.tableOfContents);return s===void 0&&this.readingOrder!==void 0&&(s=i(r,this.readingOrder)),s}getTOCItem(t){let r=(s,o)=>{for(let c=0;c<o.length;c++){let d=o[c];if(d.Href&&this.getAbsoluteHref(d.Href)===s)return d;if(d.Children){let u=r(s,d.Children);if(u!==void 0)return u}}},i=r(t,this.tableOfContents);if(i===void 0&&this.readingOrder!==void 0&&(i=r(t,this.readingOrder)),i===void 0&&t.indexOf("#")!==-1){let s=t.slice(0,t.indexOf("#"));i=r(s,this.tableOfContents),i===void 0&&this.readingOrder!==void 0&&(i=r(s,this.readingOrder))}return i}positionsByHref(t){var i;let r=decodeURI(t)??"";return(i=this.positions)==null?void 0:i.filter(s=>r.includes(s.href))}async autoGeneratePositions(t,r=JI){let i=0,s=0,o=[];if(this.readingOrder!==void 0)for(let d of this.readingOrder)if(this.isFixedLayout){let u={href:d.Href,locations:{progression:0,position:i+1},type:d.TypeLink};o.push(u),i=i+1}else{let u=this.getAbsoluteHref(d.Href),p=await r(u,t);d.contentLength=p,s+=p;let b=Math.max(1,Math.ceil(p/1024));for(let v=0;v<b;v++){let y={href:d.Href,locations:{progression:v/b,position:i+(v+1)},type:d.TypeLink};o.push(y)}i=i+b}var c=0;if(this.isReflowable&&this.readingOrder!==void 0)for(let d of this.readingOrder){if(!d.contentLength){console.error("Link is missing contentLength",d);return}d.contentWeight=100/s*d.contentLength,c=c+d.contentWeight}for(let d of o){let u=o.filter(m=>m.href===decodeURI(d.href)),p=Math.ceil((d.locations.progression?d.locations.progression:0)*(u.length-1));d.locations.position&&(d.locations.totalProgression=(d.locations.position-1)/o.length),d.locations.remainingPositions=Math.abs(p-(u.length-1)),d.locations.position&&(d.locations.totalRemainingPositions=Math.abs(d.locations.position-1-(o.length-1)))}this.positions=o}async fetchPositionsFromService(t,r){let s=await(await fetch(t,r)).json();this.positions=s.positions}async fetchWeightsFromService(t,r){if(this.isFixedLayout){console.warn("Not fetching weights from service for fixed layout publication.");return}let s=await(await fetch(t,r)).json();this.readingOrder!==void 0&&this.readingOrder.forEach(o=>{o.contentWeight=s[o.Href]})}};Os=pd([(0,R_.JsonObject)()],Os);var JI=async(n,e)=>(await(await fetch(n,e)).blob()).size;F();F();var Go=class{json(){return JSON.stringify(this)}},Fg=class extends Go{constructor(t,r,i){super();this.value=t,this.ref=r,this.name=i}toString(){return this.value}},Hg=class extends Go{constructor(t,r,i){super();this.value=t,this.ref=r,this.name=i}toString(){return this.value}toJson(){return JSON.parse(this.value)}},Ug=class extends Go{constructor(t,r,i,s){super();this.value=t,this.values=r,this.ref=i,this.name=s}toString(){return this.values[this.value]}},jg=class extends Go{constructor(t,r,i,s,o,c,d){super();this.countDecimals=function(t){return t%1!==0?t.toString().split(".")[1].length:1};this.value=t,this.min=r,this.max=i,this.step=s,this.suffix=o,this.ref=c,this.name=d}toString(){return this.value.toString()+this.suffix}increment(){let t=this.countDecimals(this.max);parseFloat(this.value.toFixed(t))<this.max&&(this.value=parseFloat(this.value.toFixed(t))+this.step)}decrement(){let t=this.countDecimals(this.min);parseFloat(this.value.toFixed(t))>this.min&&(this.value=parseFloat(this.value.toFixed(t))-this.step)}},Ua=class extends Go{constructor(t,r,i,s,o){super();this.value=i,this.onValue=t,this.offValue=r,this.ref=s,this.name=o}toString(){return this.value?this.onValue:this.offValue}switch(){this.value=!this.value}},rs=class{constructor(){this.properties=[]}addIncremental(e,t,r,i,s,o,c){this.properties.push(new jg(e,t,r,i,s,o,c))}addStringable(e,t,r){this.properties.push(new Fg(e,t,r))}addJSONable(e,t,r){this.properties.push(new Hg(e,t,r))}addSwitchable(e,t,r,i,s){this.properties.push(new Ua(e,t,r,i,s))}addEnumerable(e,t,r,i){this.properties.push(new Ug(e,t,r,i))}getByRef(e){let t=this.properties.filter(r=>r.ref===e);return t.length>0?t[0]:null}getByKey(e){let t=this.properties.filter(r=>r.key===e);return t.length>0?t[0]:null}};F();var on=class on{};on.FONT_SIZE_REF="fontSize",on.FONT_FAMILY_REF="fontFamily",on.FONT_OVERRIDE_REF="fontOverride",on.APPEARANCE_REF="appearance",on.SCROLL_REF="scroll",on.TEXT_ALIGNMENT_REF="textAlign",on.COLUMN_COUNT_REF="colCount",on.WORD_SPACING_REF="wordSpacing",on.LETTER_SPACING_REF="letterSpacing",on.PAGE_MARGINS_REF="pageMargins",on.LINE_HEIGHT_REF="lineHeight",on.FONT_SIZE_KEY="--USER__"+on.FONT_SIZE_REF,on.FONT_FAMILY_KEY="--USER__"+on.FONT_FAMILY_REF,on.FONT_OVERRIDE_KEY="--USER__"+on.FONT_OVERRIDE_REF,on.APPEARANCE_KEY="--USER__"+on.APPEARANCE_REF,on.SCROLL_KEY="--USER__"+on.SCROLL_REF,on.TEXT_ALIGNMENT_KEY="--USER__"+on.TEXT_ALIGNMENT_REF,on.COLUMN_COUNT_KEY="--USER__"+on.COLUMN_COUNT_REF,on.WORD_SPACING_KEY="--USER__"+on.WORD_SPACING_REF,on.LETTER_SPACING_KEY="--USER__"+on.LETTER_SPACING_REF,on.PAGE_MARGINS_KEY="--USER__"+on.PAGE_MARGINS_REF,on.LINE_HEIGHT_KEY="--USER__"+on.LINE_HEIGHT_REF;var Fe=on;F();function st(n,e){return n.querySelector(e)}function Wt(n,e){let t=st(n,e);if(t&&t instanceof HTMLElement)return t;throw new Error("required element "+e+" not found")}function zn(n,e){if(n===null)throw new Error("parent element is null");return n.querySelector(e)}function ks(n,e){let t=zn(n,e);if(t)return t;throw new Error("required element "+e+" not found in iframe")}function cr(n,e,t){n.setAttribute(e,t)}F();F();var M6=Rt(Fm());var tu=class{constructor(e){this.getScrollingElement=e=>e.scrollingElement?e.scrollingElement:e.body;this.navigator=e}async handleFootnote(e,t){var i,s;let r=e.getAttribute("href");if(r&&r.indexOf("#")>0){let c=function(u){let p=document.location.href;return new URL(u,p).href},o=r.substring(r.indexOf("#")+1),d=c(r);d&&(d=d.substring(0,d.indexOf("#")),t.preventDefault(),t.stopPropagation(),(i=this.navigator.api)!=null&&i.getContent?await((s=this.navigator.api)==null?void 0:s.getContent(r).then(u=>{let b=new DOMParser().parseFromString(u,"text/html").querySelector("#"+o);b&&(t.preventDefault(),t.stopPropagation(),this.showPopup(b,t))})):await fetch(d,this.navigator.requestConfig).then(u=>u.text()).then(async u=>{let b=new DOMParser().parseFromString(u,"text/html").querySelector("#"+o);b&&(t.preventDefault(),t.stopPropagation(),this.showPopup(b,t))}))}}async hidePopover(){var r,i;let e=(r=this.navigator.iframes[0].contentDocument)==null?void 0:r.getElementById("d2-popover");e&&((i=e.parentElement)==null||i.removeChild(e));let t=Wt(document,"#iframe-wrapper");t.style.overflow="auto"}async showPopover(e,t){var o,c,d,u,p,m;let r=e.getAttribute("href"),i=e.getAttribute("src");function s(b){let v=document.location.href;return new URL(b,v).href}if(r){let b=s(r);if(b){t.preventDefault(),t.stopPropagation();let v=(o=this.navigator.iframes[0].contentDocument)==null?void 0:o.getElementById("d2-popover");v&&((c=v.parentElement)==null||c.removeChild(v));let y=document.createElement("div");y.id="d2-popover",y.className="d2-popover is-active";let h=Wt(document,"#iframe-wrapper");h.style.overflow="hidden",y.style.top=h.scrollTop+"px",y.style.height=h.clientHeight*.9+"px";let l=document.createElement("div");l.className="d2-popover-wrapper",y.appendChild(l);let g=document.createElement("div");g.className="d2-popover-content",l.appendChild(g),(d=this.navigator.api)!=null&&d.getContent?await((u=this.navigator.api)==null?void 0:u.getContent(r).then(A=>{g.innerHTML=A;let _=this.navigator.iframes[0].contentDocument;_&&_.body.appendChild(y)})):await fetch(b,this.navigator.requestConfig).then(A=>A.text()).then(async A=>{g.innerHTML=A;let _=this.navigator.iframes[0].contentDocument;_&&_.body.appendChild(y)});let w=this.navigator.iframes[0].contentWindow;if(!w)return;let E=this;w.onclick=function(A){t.target!==A.target&&y.parentElement&&(E.hidePopover(),w&&(w.onclick=null))}}}else if(i&&s(i)){t.preventDefault(),t.stopPropagation();let v=(p=this.navigator.iframes[0].contentDocument)==null?void 0:p.getElementById("d2-popover");v&&((m=v.parentElement)==null||m.removeChild(v));let y=document.createElement("div");y.id="d2-popover",y.className="d2-popover is-active";let h=Wt(document,"#iframe-wrapper");h.style.overflow="hidden",y.style.top=h.scrollTop+"px",y.style.height=h.clientHeight*.9+"px";let l=document.createElement("div");l.className="d2-popover-wrapper",y.appendChild(l);let g=document.createElement("img");g.className="d2-popover-content",l.appendChild(g),g.src=i;let w=this.navigator.iframes[0].contentDocument;w&&w.body.appendChild(y);let E=this.navigator.iframes[0].contentWindow;if(!E)return;let A=this;E.onclick=function(_){t.target!==_.target&&y.parentElement&&(A.hidePopover(),E&&(E.onclick=null))}}}showPopup(e,t){var l,g,w;let r=(l=this.navigator.iframes[0].contentDocument)==null?void 0:l.getElementById("d2-popup");r&&((g=r.parentElement)==null||g.removeChild(r));let i=document.createElement("aside");i.id="d2-popup",i.className="d2-popup is-active";let s=document.createElement("div");s.className="d2-popup-wrapper",i.appendChild(s);let o=document.createElement("div");o.className="d2-popup-content",s.appendChild(o);let c=document.createElement("p");o.appendChild(c),typeof e=="string"?c.innerHTML=e:c.innerHTML=(0,M6.default)(e.innerHTML,{allowedTags:[],allowedAttributes:{}});let d=(w=this.navigator.view)==null?void 0:w.isPaginated(),u=this.navigator.iframes[0].contentDocument;if(!u)return;let p=this.getScrollingElement(u),m=d?p.scrollLeft:0,b=d?p.scrollTop:0,v=t.x+m,y=t.y+b;i.style.top=y+"px",d&&(i.style.left=v+"px"),u.body.appendChild(i);let h=this.navigator.iframes[0].contentWindow;h&&(h.onclick=function(E){t.target!==E.target&&i.parentElement&&(i.style.display="none",i.parentElement.removeChild(i),h&&(h.onclick=null))})}};var fh=Rt(Pn());function Ie(n,e,t){n&&n.addEventListener(e,t,!0)}function dt(n,e,t){n&&n.removeEventListener(e,t,!0)}var Jl=class{constructor(e){this.onInternalLink=()=>{};this.onClickThrough=()=>{};this.checkForLink=e=>{let t=e.target;for(;t&&t.tagName.toLowerCase()!=="body";){if(t.tagName.toLowerCase()==="a"&&t.href)return t;t=t.parentElement}return null};this.linkInPublication=(e,t)=>e.some(r=>{var i;return!((i=r.Rel)!=null&&i.includes("external"))&&this.navigator.publication.getRelativeHref(t).includes(r.Href)});this.isReadingOrderInternal=e=>(fh.default.log("clickedLink: ",e),this.linkInPublication(this.navigator.publication.readingOrder,e.href));this.isResourceInternal=e=>(fh.default.log("clickedLink: ",e),this.linkInPublication(this.navigator.publication.resources,e.href));this.handleLinks=async e=>{fh.default.log("R2 Click Handler");let t=this.checkForLink(e);if(t){let r=window.location.protocol===t.protocol&&window.location.port===t.port&&window.location.hostname===t.hostname,i=this.isReadingOrderInternal(t),s=this.isResourceInternal(t);s||await this.popup.hidePopover();let o=t.href.indexOf("#");if(!i&&!s)window.open(t.href,t.target??"_blank"),e.preventDefault(),e.stopPropagation();else if(e.target.href=t.href,(r||i)&&o!==-1){let c=e.target;c?c.getAttribute("epub:type")==="noteref"?await this.popup.handleFootnote(c,e):s&&!i?await this.popup.showPopover(c,e):this.onInternalLink(e):this.onInternalLink(e)}else(r||i)&&o===-1&&this.onInternalLink(e)}else this.onClickThrough(e)};this.navigator=e,this.popup=new tu(this.navigator)}setupEvents(e){if(e!==null)e.addEventListener("dblclick",async t=>{let r=t.target;t.target&&r.tagName.toLowerCase()==="img"&&await this.popup.showPopover(r,t)},!0),e.addEventListener("click",this.handleLinks.bind(this));else throw"cannot setup events for null"}};F();F();function k6(){return Wt(document,"#iframe-wrapper").clientWidth}function Ui(){return Wt(document,"#iframe-wrapper").clientHeight}var L6=Rt(po()),Kl=class{constructor(e){this.layout="reflowable";this.USERSETTINGS="userSetting";this.sideMargin=20;this.height=0;this.attributes={margin:0};this.hasFixedScrollWidth=!1;this.store=e,this.scrollMode?(this.name="readium-scroll-on",this.label="Scrolling"):(this.name="readium-scroll-off",this.label="Paginated")}setMode(e){var t;if(this.scrollMode=e,e){this.name="readium-scroll-on",this.label="Scrolling";let r=this.iframe.contentDocument;if(r){let i=zn(r,"head");if(i){let o=st(i,"meta[name=viewport]");o&&o.remove()}let s=zn(r,"html");s&&s.style.setProperty("--USER__scroll","readium-scroll-on")}this.setSize(),this.setIframeHeight(this.iframe)}else{this.height=Ui()-40-this.attributes.margin,this.name="readium-scroll-off",this.label="Paginated",this.checkForFixedScrollWidth();let r=this.iframe.contentDocument;if(r){let i=zn(r,"html");i&&i.style.setProperty("--USER__scroll","readium-scroll-off")}this.setSize()}this.navigator.rights.enableContentProtection&&((t=this.navigator.contentProtectionModule)==null||t.recalculate())}start(){if(this.scrollMode){let e=this.iframe.contentDocument;if(e){let t=zn(e,"head");if(t){let r=st(t,"meta[name=viewport]");r&&r.remove()}}this.setSize(),this.setIframeHeight(this.iframe)}else{this.iframe.height="0",this.iframe.width="0",this.setSize();let e=document.createElement("meta");e.name="viewport",e.content="width=device-width, initial-scale=1, maximum-scale=1",this.checkForFixedScrollWidth()}}stop(){if(this.iframe.height="0",this.iframe.width="0",this.iframe.contentDocument){let t=zn(this.iframe.contentDocument,"body"),r=Array.prototype.slice.call(t.querySelectorAll("img"));for(let i of r)i.style.maxWidth=""}}getCurrentPosition(){let e=Wt(document,"#iframe-wrapper");if(this.scrollMode)return e.scrollTop/this.scrollingElement.scrollHeight;{let t=this.getColumnWidth(),r=this.getLeftColumnsWidth(),i=this.getRightColumnsWidth(),s=r+t+i;return r/s}}goToProgression(e){let t=Wt(document,"#iframe-wrapper");if(this.scrollMode)t.scrollTop=this.scrollingElement.scrollHeight*e;else{let r=this.getColumnWidth(),i=this.getLeftColumnsWidth(),s=this.getRightColumnsWidth(),o=i+r+s,c=e*o,d=Math.round(c/r)*r;d>=o&&(d=d-r),this.setLeftColumnsWidth(d)}}goToCssSelector(e,t){let r=this.iframe.contentDocument;if(r){let i=r.querySelector(e);this.goToElement(i,t)}}goToFragment(e,t){let r=this.iframe.contentDocument;if(r){let i=r.getElementById(e);this.goToElement(i,t)}}snap(e,t){var r;if(e&&!this.scrollMode){let i=e.style.height;e.style.height="0";let s=this.getColumnWidth(),o=this.getLeftColumnsWidth()+e.getBoundingClientRect().left,c=Math.floor(o/s)*s;e.style.height=i,this.setLeftColumnsWidth(c),this.navigator.rights.enableContentProtection&&((r=this.navigator.contentProtectionModule)==null||r.recalculate(0))}}goToElement(e,t){var r;if(this.scrollMode)e&&e.scrollIntoView({block:"center"});else if(e){let i=e.style.height;e.style.height="0";let s=e.getBoundingClientRect().left,o=this.getColumnWidth(),c=this.scrollingElement.scrollLeft-o,d=Math.ceil(s/o)*o+c;if(t){let u=this.getLeftColumnsWidth();d=Math.ceil(s/o)*o+u}e.style.height=i,this.setLeftColumnsWidth(d),this.navigator.rights.enableContentProtection&&((r=this.navigator.contentProtectionModule)==null||r.recalculate(200))}}atStart(){return this.scrollMode?Wt(document,"#iframe-wrapper").scrollTop===0:this.getLeftColumnsWidth()<=0}atEnd(){if(this.scrollMode){let e=Wt(document,"#iframe-wrapper");return Math.ceil(this.scrollingElement.scrollHeight-e.scrollTop)-1<=Ui()}else return Math.floor(this.getRightColumnsWidth())<=0||Math.ceil(this.getCurrentPage())===this.getPageCount()}goToPreviousPage(){var t;let e=Wt(document,"#iframe-wrapper");if(this.scrollMode){let r=e.scrollTop,i=this.getScreenHeight()-40,s=r-i;s>=0?e.scrollTop=s:e.scrollTop=0}else{let r=this.getLeftColumnsWidth(),i=this.getColumnWidth(),s=r-i;s>=0?this.setLeftColumnsWidth(s):this.setLeftColumnsWidth(0),this.navigator.checkResourcePosition()}this.navigator.rights.enableContentProtection&&((t=this.navigator.contentProtectionModule)==null||t.recalculate())}goToNextPage(){var t;let e=Wt(document,"#iframe-wrapper");if(this.scrollMode){let r=e.scrollTop,i=this.getScreenHeight()-40,s=this.scrollingElement.scrollHeight,o=r+i;o<s?e.scrollTop=o:e.scrollTop=s}else{let r=this.getLeftColumnsWidth(),i=this.getColumnWidth(),s=this.scrollWidth,o=r+i;o<s?this.setLeftColumnsWidth(o):this.setLeftColumnsWidth(s),this.navigator.checkResourcePosition()}this.navigator.rights.enableContentProtection&&((t=this.navigator.contentProtectionModule)==null||t.recalculate())}getCurrentPage(){return this.scrollMode?0:this.getCurrentPosition()*this.getPageCount()+1}getPageCount(){if(this.scrollMode)return 0;{let e=this.getColumnWidth();return this.scrollWidth/e}}isPaginated(){if(this.iframe){let e=this.iframe.contentDocument;if(e){let t=zn(e,"html");if(t)return!(t.style.getPropertyValue("--USER__scroll")==="readium-scroll-on")}}return!this.scrollMode}isScrollMode(){if(this.iframe){let e=this.iframe.contentDocument;if(e){let t=zn(e,"html");if(t)return t.style.getPropertyValue("--USER__scroll")==="readium-scroll-on"}}return this.scrollMode}async getProperty(e){let t=await this.store.get(this.USERSETTINGS);if(t){let r=JSON.parse(t);return r=r.filter(i=>i.name===e),r.length===0?null:r[0]}return null}getScreenHeight(){return Wt(document,"#iframe-wrapper").clientHeight}setIframeHeight(e){(0,L6.debounce)(r=>{if(r){let i=r.contentWindow.document.body,s=r.contentWindow.document.documentElement,o=Math.max(i==null?void 0:i.scrollHeight,i==null?void 0:i.offsetHeight,s==null?void 0:s.clientHeight,s==null?void 0:s.scrollHeight,s==null?void 0:s.offsetHeight);if(o){let c=Ui()-this.attributes.margin;r.height=Math.max(c,o)+"px"}}},200)(e)}checkForFixedScrollWidth(){let e=this.iframe.contentDocument;if(e){let t=zn(e,"body"),r=t==null?void 0:t.scrollWidth;this.hasFixedScrollWidth=(t==null?void 0:t.scrollWidth)===r}}setSize(){var e,t;if(this.iframe.width=k6()+"px",this.scrollMode){let r=(t=(e=this.iframe.contentWindow)==null?void 0:e.document)==null?void 0:t.documentElement;this.iframe.height=(r==null?void 0:r.offsetHeight)+"px"}else{let r=this.iframe.contentDocument;r&&r.documentElement&&(r.documentElement.style.height=this.height+"px"),this.iframe.height=this.height+"px"}}getLeftColumnsWidth(){return Math.ceil(this.scrollingElement.scrollLeft)}getRightColumnsWidth(){let e=this.getColumnWidth(),t=this.scrollWidth-e;if(this.hasFixedScrollWidth){let r=this.getLeftColumnsWidth();t=Math.max(0,t-r)}return t}getColumnWidth(){return this.scrollingElement.clientWidth}setLeftColumnsWidth(e){this.scrollingElement.scrollLeft=e}get scrollingElement(){var e,t,r,i;return(e=this.iframe.contentDocument)!=null&&e.scrollingElement?(t=this.iframe.contentDocument)==null?void 0:t.scrollingElement:(r=this.iframe.contentDocument)!=null&&r.body?(i=this.iframe.contentDocument)==null?void 0:i.body:document.createElement("body")}get scrollWidth(){var i;let e=(i=this.scrollingElement)==null?void 0:i.scrollWidth,t=this.getColumnWidth();return Math.ceil(e/t)*t}};F();var Yl=class{constructor(){this.layout="fixed";this.sideMargin=20;this.height=0;this.attributes={margin:0}}start(){}stop(){}getCurrentPosition(){return 0}getScreenHeight(){return Wt(document,"#iframe-wrapper").clientHeight}goToProgression(e){}goToCssSelector(e,t){}goToFragment(e,t){}snap(e,t){}getCurrentPage(){return 0}getPageCount(){return 1}setSize(){}isPaginated(){return!0}isScrollMode(){return!1}atEnd(){return!0}atStart(){return!0}};var ai=Rt(Pn()),rn=class rn{constructor(e,t,r,i,s){this.USERSETTINGS="userSetting";this.fontSize=100;this.fontOverride=!1;this.fontFamily=0;this.appearance=0;this.verticalScroll=!0;this.textAlignment=0;this.columnCount=0;this.wordSpacing=0;this.letterSpacing=0;this.pageMargins=2;this.lineHeight=1;this.settingsChangeCallback=()=>{};this.settingsColumnsChangeCallback=()=>{};this.viewChangeCallback=()=>{};var o;this.store=e,this.view=s==="fixed"?new Yl:new Kl(this.store),this.headerMenu=t,this.api=r,this.injectables=i,(o=this.injectables)==null||o.forEach(c=>{c.type==="style"&&(c.fontFamily&&this.addFont(c.fontFamily),c.appearance&&this.addAppearance(c.appearance))})}async isPaginated(){return!await this.getPropertyAndFallback("verticalScroll",Fe.SCROLL_KEY)}async isScrollMode(){return!await this.isPaginated()}static async create(e){let t=new this(e.store,e.headerMenu,e.api,e.injectables,e.layout);if(await t.initialise(),e.initialUserSettings){t.userProperties||(t.userProperties=t.getUserSettings());let r=e.initialUserSettings;if(r.verticalScroll!==void 0){t.verticalScroll=this.parseScrollSetting(r.verticalScroll);let i=t.userProperties.getByRef(Fe.SCROLL_REF);i&&(i.value=t.verticalScroll,await t.saveProperty(i)),ai.default.log(t.verticalScroll)}if(r.appearance){t.appearance=rn.parseAppearanceSetting(r.appearance);let i=t.userProperties.getByRef(Fe.APPEARANCE_REF);i&&(i.value=t.appearance,await t.saveProperty(i)),ai.default.log(t.appearance)}if(r.fontSize){t.fontSize=r.fontSize;let i=t.userProperties.getByRef(Fe.FONT_SIZE_REF);i&&(i.value=t.fontSize,await t.saveProperty(i)),ai.default.log(t.fontSize)}if(r.fontFamily){t.fontFamily=rn.fontFamilyValues.findIndex(s=>s===r.fontFamily);let i=t.userProperties.getByRef(Fe.FONT_FAMILY_REF);i&&(i.value=t.fontFamily,await t.saveProperty(i)),ai.default.log(t.fontFamily),t.fontFamily!==0&&(t.fontOverride=!0)}if(r.textAlignment){t.textAlignment=rn.textAlignmentValues.findIndex(s=>s===r.textAlignment);let i=t.userProperties.getByRef(Fe.TEXT_ALIGNMENT_REF);i&&(i.value=t.textAlignment,await t.saveProperty(i)),ai.default.log(t.textAlignment)}if(r.columnCount){t.columnCount=rn.columnCountValues.findIndex(s=>s===r.columnCount);let i=t.userProperties.getByRef(Fe.COLUMN_COUNT_REF);i&&(i.value=t.columnCount,await t.saveProperty(i)),ai.default.log(t.columnCount)}if(r.wordSpacing){t.wordSpacing=r.wordSpacing;let i=t.userProperties.getByRef(Fe.WORD_SPACING_REF);i&&(i.value=t.wordSpacing,await t.saveProperty(i)),ai.default.log(t.wordSpacing)}if(r.letterSpacing){t.letterSpacing=r.letterSpacing;let i=t.userProperties.getByRef(Fe.LETTER_SPACING_REF);i&&(i.value=t.letterSpacing,await t.saveProperty(i)),ai.default.log(t.letterSpacing)}if(r.pageMargins){t.pageMargins=r.pageMargins;let i=t.userProperties.getByRef(Fe.PAGE_MARGINS_REF);i&&(i.value=t.pageMargins,await t.saveProperty(i)),ai.default.log(t.pageMargins)}if(r.lineHeight){t.lineHeight=r.lineHeight;let i=t.userProperties.getByRef(Fe.LINE_HEIGHT_REF);i&&(i.value=t.lineHeight,await t.saveProperty(i)),ai.default.log(t.lineHeight)}t.userProperties=t.getUserSettings(),await t.initialise()}return await t.initializeSelections(),new Promise(r=>r(t))}stop(){ai.default.log("book settings stop")}async initialise(){this.appearance=await this.getPropertyAndFallback("appearance",Fe.APPEARANCE_KEY),this.verticalScroll=await this.getPropertyAndFallback("verticalScroll",Fe.SCROLL_KEY),this.fontFamily=await this.getPropertyAndFallback("fontFamily",Fe.FONT_FAMILY_KEY),this.fontFamily!==0&&(this.fontOverride=!0),this.textAlignment=await this.getPropertyAndFallback("textAlignment",Fe.TEXT_ALIGNMENT_KEY),this.columnCount=await this.getPropertyAndFallback("columnCount",Fe.COLUMN_COUNT_KEY),this.fontSize=await this.getPropertyAndFallback("fontSize",Fe.FONT_SIZE_KEY),this.wordSpacing=await this.getPropertyAndFallback("wordSpacing",Fe.WORD_SPACING_KEY),this.letterSpacing=await this.getPropertyAndFallback("letterSpacing",Fe.LETTER_SPACING_KEY),this.pageMargins=await this.getPropertyAndFallback("pageMargins",Fe.PAGE_MARGINS_KEY),this.lineHeight=await this.getPropertyAndFallback("lineHeight",Fe.LINE_HEIGHT_KEY),this.userProperties=this.getUserSettings()}async reset(){this.appearance=0,this.verticalScroll=!0,this.fontSize=100,this.fontOverride=!1,this.fontFamily=0,this.textAlignment=0,this.columnCount=0,this.wordSpacing=0,this.letterSpacing=0,this.pageMargins=2,this.lineHeight=1,this.userProperties=this.getUserSettings();let e=this.iframe.contentDocument;if(e){let t=zn(e,"html");if(t){let r=document.documentElement,i=Wt(r,"body");t.style.removeProperty(Fe.FONT_SIZE_KEY),t.style.removeProperty(Fe.WORD_SPACING_KEY),t.style.removeProperty(Fe.LETTER_SPACING_KEY),t.style.removeProperty(Fe.COLUMN_COUNT_KEY),t.style.removeProperty(Fe.TEXT_ALIGNMENT_KEY),t.style.removeProperty(Fe.LINE_HEIGHT_KEY),t.style.removeProperty(Fe.PAGE_MARGINS_KEY),t.style.removeProperty(Fe.APPEARANCE_KEY),cr(r,"data-viewer-theme","day"),cr(i,"data-viewer-theme","day"),t.style.removeProperty(Fe.FONT_FAMILY_KEY),cr(t,"data-viewer-font","publisher"),t.style.setProperty(Fe.FONT_OVERRIDE_KEY,"readium-font-off")}}}async initializeSelections(){this.headerMenu&&(this.settingsView=st(this.headerMenu,"#container-view-settings"))}async applyProperties(){var t,r,i,s,o,c,d,u,p,m,b,v,y,h,l,g,w,E,A,_,C,I;this.userProperties=this.getUserSettings();let e=this.iframe.contentDocument;if(e){let T=zn(e,"html");if(T){let x=document.documentElement,D=Wt(x,"body");if((t=this.view)!=null&&t.navigator.publication.isReflowable&&(await this.getProperty(Fe.FONT_SIZE_KEY)&&T.style.setProperty(Fe.FONT_SIZE_KEY,((r=this.userProperties.getByRef(Fe.FONT_SIZE_REF))==null?void 0:r.toString())??null),await this.getProperty(Fe.WORD_SPACING_KEY)&&T.style.setProperty(Fe.WORD_SPACING_KEY,((i=this.userProperties.getByRef(Fe.WORD_SPACING_REF))==null?void 0:i.toString())??null),await this.getProperty(Fe.LETTER_SPACING_KEY)&&T.style.setProperty(Fe.LETTER_SPACING_KEY,((s=this.userProperties.getByRef(Fe.LETTER_SPACING_REF))==null?void 0:s.toString())??null)),await this.getProperty(Fe.COLUMN_COUNT_KEY)&&T.style.setProperty(Fe.COLUMN_COUNT_KEY,((o=this.userProperties.getByRef(Fe.COLUMN_COUNT_REF))==null?void 0:o.toString())??null),(c=this.view)!=null&&c.navigator.publication.isReflowable&&(await this.getProperty(Fe.TEXT_ALIGNMENT_KEY)&&(((d=this.userProperties.getByRef(Fe.TEXT_ALIGNMENT_REF))==null?void 0:d.toString())==="auto"?T.style.removeProperty(Fe.TEXT_ALIGNMENT_KEY):T.style.setProperty(Fe.TEXT_ALIGNMENT_KEY,((u=this.userProperties.getByRef(Fe.TEXT_ALIGNMENT_REF))==null?void 0:u.toString())??null)),await this.getProperty(Fe.LINE_HEIGHT_KEY)&&T.style.setProperty(Fe.LINE_HEIGHT_KEY,((p=this.userProperties.getByRef(Fe.LINE_HEIGHT_REF))==null?void 0:p.toString())??null),await this.getProperty(Fe.PAGE_MARGINS_KEY)&&T.style.setProperty(Fe.PAGE_MARGINS_KEY,((m=this.userProperties.getByRef(Fe.PAGE_MARGINS_REF))==null?void 0:m.toString())??null)),await this.getProperty(Fe.APPEARANCE_KEY)?(T.style.setProperty(Fe.APPEARANCE_KEY,((b=this.userProperties.getByRef(Fe.APPEARANCE_REF))==null?void 0:b.toString())??null),((v=this.userProperties.getByRef(Fe.APPEARANCE_REF))==null?void 0:v.value)===0?(cr(x,"data-viewer-theme","day"),cr(D,"data-viewer-theme","day")):((y=this.userProperties.getByRef(Fe.APPEARANCE_REF))==null?void 0:y.value)===1?(cr(x,"data-viewer-theme","sepia"),cr(D,"data-viewer-theme","sepia")):((h=this.userProperties.getByRef(Fe.APPEARANCE_REF))==null?void 0:h.value)===2&&(cr(x,"data-viewer-theme","night"),cr(D,"data-viewer-theme","night"))):(T.style.setProperty(Fe.APPEARANCE_KEY,((l=this.userProperties.getByRef(Fe.APPEARANCE_REF))==null?void 0:l.toString())??null),cr(x,"data-viewer-theme","day"),cr(D,"data-viewer-theme","day")),(g=this.view)!=null&&g.navigator.publication.isReflowable){if(await this.getProperty(Fe.FONT_FAMILY_KEY))if(T.style.setProperty(Fe.FONT_FAMILY_KEY,((w=this.userProperties.getByRef(Fe.FONT_FAMILY_REF))==null?void 0:w.toString())??null),((E=this.userProperties.getByRef(Fe.FONT_FAMILY_REF))==null?void 0:E.value)===0)cr(T,"data-viewer-font","publisher"),T.style.setProperty(Fe.FONT_OVERRIDE_KEY,"readium-font-off");else if(((A=this.userProperties.getByRef(Fe.FONT_FAMILY_REF))==null?void 0:A.value)===1)cr(T,"data-viewer-font","serif"),T.style.setProperty(Fe.FONT_OVERRIDE_KEY,"readium-font-on");else if(((_=this.userProperties.getByRef(Fe.FONT_FAMILY_REF))==null?void 0:_.value)===2)cr(T,"data-viewer-font","sans"),T.style.setProperty(Fe.FONT_OVERRIDE_KEY,"readium-font-on");else{let L=this.userProperties.getByRef(Fe.FONT_FAMILY_REF);L&&cr(T,"data-viewer-font",L.toString()),T.style.setProperty(Fe.FONT_OVERRIDE_KEY,"readium-font-on")}else T.style.setProperty(Fe.FONT_FAMILY_KEY,((C=this.userProperties.getByRef(Fe.FONT_FAMILY_REF))==null?void 0:C.toString())??null),cr(T,"data-viewer-font","publisher"),T.style.setProperty(Fe.FONT_OVERRIDE_KEY,"readium-font-off");await this.getProperty(Fe.SCROLL_KEY)?((I=this.userProperties.getByRef(Fe.SCROLL_REF))==null?void 0:I.value)===!0?T.style.setProperty("--USER__scroll","readium-scroll-on"):T.style.setProperty("--USER__scroll","readium-scroll-off"):T.style.setProperty("--USER__scroll","readium-scroll-on"),T.style.setProperty("--USER__advancedSettings","readium-advanced-on"),this.isScrollMode().then(L=>{var H,G;(G=(H=this.view)==null?void 0:H.setMode)==null||G.call(H,L)})}}}}setIframe(e){this.iframe=e,this.view&&(this.view.iframe=e),this.settingsView&&rn.renderControls(this.settingsView)}static renderControls(e){Ie(st(e,"ul"),"click",t=>{t.stopPropagation()})}onSettingsChange(e){this.settingsChangeCallback=e}onColumnSettingsChange(e){this.settingsColumnsChangeCallback=e}onViewChange(e){this.viewChangeCallback=e}async storeProperty(e){await this.updateUserSettings(),await this.saveProperty(e)}addAppearance(e){rn.appearanceValues.includes(e)||rn.appearanceValues.push(e)}initAddedAppearance(){this.applyProperties()}addFont(e){rn.fontFamilyValues.includes(e)||rn.fontFamilyValues.push(e)}initAddedFont(){this.applyProperties()}async updateUserSettings(){var t,r,i,s,o,c,d,u,p,m,b,v,y,h,l,g,w,E;let e={fontFamily:rn.fontFamilyValues[await((r=(t=this.userProperties)==null?void 0:t.getByRef(Fe.FONT_FAMILY_REF))==null?void 0:r.value)],fontSize:(s=(i=this.userProperties)==null?void 0:i.getByRef(Fe.FONT_SIZE_REF))==null?void 0:s.value,appearance:rn.appearanceValues[await((c=(o=this.userProperties)==null?void 0:o.getByRef(Fe.APPEARANCE_REF))==null?void 0:c.value)],textAlignment:rn.textAlignmentValues[await((u=(d=this.userProperties)==null?void 0:d.getByRef(Fe.TEXT_ALIGNMENT_REF))==null?void 0:u.value)],columnCount:rn.columnCountValues[await((m=(p=this.userProperties)==null?void 0:p.getByRef(Fe.COLUMN_COUNT_REF))==null?void 0:m.value)],wordSpacing:(v=(b=this.userProperties)==null?void 0:b.getByRef(Fe.WORD_SPACING_REF))==null?void 0:v.value,letterSpacing:(h=(y=this.userProperties)==null?void 0:y.getByRef(Fe.LETTER_SPACING_REF))==null?void 0:h.value,verticalScroll:(g=(l=this.userProperties)==null?void 0:l.getByRef(Fe.SCROLL_REF))==null?void 0:g.value};(w=this.api)!=null&&w.updateSettings&&((E=this.api)==null||E.updateSettings(e).then(A=>{ai.default.log("api updated user settings",JSON.stringify(e))}))}getUserSettings(){let e=new rs;return e.addSwitchable("readium-font-on","readium-font-off",this.fontOverride,Fe.FONT_OVERRIDE_REF,Fe.FONT_OVERRIDE_KEY),e.addEnumerable(this.columnCount,rn.columnCountValues,Fe.COLUMN_COUNT_REF,Fe.COLUMN_COUNT_KEY),e.addEnumerable(this.appearance,rn.appearanceValues,Fe.APPEARANCE_REF,Fe.APPEARANCE_KEY),e.addIncremental(this.pageMargins,.5,4,.25,"",Fe.PAGE_MARGINS_REF,Fe.PAGE_MARGINS_KEY),e.addEnumerable(this.textAlignment,rn.textAlignmentValues,Fe.TEXT_ALIGNMENT_REF,Fe.TEXT_ALIGNMENT_KEY),e.addEnumerable(this.fontFamily,rn.fontFamilyValues,Fe.FONT_FAMILY_REF,Fe.FONT_FAMILY_KEY),e.addIncremental(this.fontSize,100,300,25,"%",Fe.FONT_SIZE_REF,Fe.FONT_SIZE_KEY),e.addIncremental(this.lineHeight,1,2,.25,"em",Fe.LINE_HEIGHT_REF,Fe.LINE_HEIGHT_KEY),e.addIncremental(this.wordSpacing,0,1,.25,"rem",Fe.WORD_SPACING_REF,Fe.WORD_SPACING_KEY),e.addIncremental(this.letterSpacing,0,.5,.0625,"em",Fe.LETTER_SPACING_REF,Fe.LETTER_SPACING_KEY),e.addSwitchable("readium-scroll-on","readium-scroll-off",this.verticalScroll,Fe.SCROLL_REF,Fe.SCROLL_KEY),e}async saveProperty(e){let t=await this.store.get(this.USERSETTINGS);if(t){let r=JSON.parse(t);r=r.filter(i=>i.name!==e.name),e.value!==void 0&&r.push(e),await this.store.set(this.USERSETTINGS,JSON.stringify(r))}else{let r=[];r.push(e),await this.store.set(this.USERSETTINGS,JSON.stringify(r))}return new Promise(r=>r(e))}async getProperty(e){let t=await this.store.get(this.USERSETTINGS);if(t){let r=JSON.parse(t);return r=r.filter(i=>i.name===e),r.length===0?null:r[0]}return null}async getPropertyAndFallback(e,t){var r;return((r=await this.getProperty(t))==null?void 0:r.value)??this[e]}async resetUserSettings(){await this.store.remove(this.USERSETTINGS),await this.reset(),this.settingsChangeCallback()}get currentSettings(){var e,t,r,i,s,o,c,d;return{appearance:rn.appearanceValues[(t=(e=this.userProperties)==null?void 0:e.getByRef(Fe.APPEARANCE_REF))==null?void 0:t.value],fontFamily:rn.fontFamilyValues[(i=(r=this.userProperties)==null?void 0:r.getByRef(Fe.FONT_FAMILY_REF))==null?void 0:i.value],textAlignment:rn.textAlignmentValues[(o=(s=this.userProperties)==null?void 0:s.getByRef(Fe.TEXT_ALIGNMENT_REF))==null?void 0:o.value],columnCount:rn.columnCountValues[(d=(c=this.userProperties)==null?void 0:c.getByRef(Fe.COLUMN_COUNT_REF))==null?void 0:d.value],verticalScroll:this.verticalScroll,fontSize:this.fontSize,wordSpacing:this.wordSpacing,letterSpacing:this.letterSpacing,pageMargins:this.pageMargins,lineHeight:this.lineHeight}}async applyUserSettings(e){var t,r,i,s,o,c,d,u,p,m,b,v,y,h;if(e.appearance){this.appearance=rn.parseAppearanceSetting(e.appearance);let l=(t=this.userProperties)==null?void 0:t.getByRef(Fe.APPEARANCE_REF);l&&(l.value=this.appearance,await this.storeProperty(l))}if(e.fontSize){this.fontSize=e.fontSize;let l=(r=this.userProperties)==null?void 0:r.getByRef(Fe.FONT_SIZE_REF);l&&(l.value=this.fontSize,await this.storeProperty(l))}if(e.fontFamily){this.fontFamily=rn.fontFamilyValues.findIndex(g=>g===e.fontFamily);let l=(i=this.userProperties)==null?void 0:i.getByRef(Fe.FONT_FAMILY_REF);l&&(l.value=this.fontFamily,await this.storeProperty(l))}if(e.letterSpacing){this.letterSpacing=e.letterSpacing;let l=(s=this.userProperties)==null?void 0:s.getByRef(Fe.LETTER_SPACING_REF);l&&(l.value=this.letterSpacing,await this.storeProperty(l))}if(e.wordSpacing){this.wordSpacing=e.wordSpacing;let l=(o=this.userProperties)==null?void 0:o.getByRef(Fe.WORD_SPACING_REF);l&&(l.value=this.wordSpacing,await this.storeProperty(l))}if(e.columnCount){this.columnCount=rn.columnCountValues.findIndex(g=>g===e.columnCount);let l=(c=this.userProperties)==null?void 0:c.getByRef(Fe.COLUMN_COUNT_REF);l&&(l.value=this.columnCount,await this.storeProperty(l)),this.settingsColumnsChangeCallback()}if(e.textAlignment){this.textAlignment=rn.textAlignmentValues.findIndex(g=>g===e.textAlignment);let l=(d=this.userProperties)==null?void 0:d.getByRef(Fe.TEXT_ALIGNMENT_REF);l&&(l.value=this.textAlignment,await this.storeProperty(l))}if(e.lineHeight){this.lineHeight=e.lineHeight;let l=(u=this.userProperties)==null?void 0:u.getByRef(Fe.LINE_HEIGHT_REF);l&&(l.value=this.lineHeight,await this.storeProperty(l))}if(e.pageMargins){this.pageMargins=e.pageMargins;let l=(p=this.userProperties)==null?void 0:p.getByRef(Fe.PAGE_MARGINS_REF);l&&(l.value=this.pageMargins,await this.storeProperty(l))}if(e.verticalScroll!==void 0){let l=(m=this.view)==null?void 0:m.getCurrentPosition();this.verticalScroll=rn.parseScrollSetting(e.verticalScroll);let g=(b=this.userProperties)==null?void 0:b.getByRef(Fe.SCROLL_REF);g&&(g.value=this.verticalScroll,await this.saveProperty(g)),(y=(v=this.view)==null?void 0:v.setMode)==null||y.call(v,this.verticalScroll),l&&((h=this.view)==null||h.goToProgression(l)),this.viewChangeCallback()}await this.applyProperties(),this.settingsChangeCallback()}static parseScrollSetting(e){switch(e){case!0:case"scroll":case"readium-scroll-on":return!0;case!1:case"paginated":case"readium-scroll-off":return!1;default:return!1}}static parseAppearanceSetting(e){let t;return e==="day"||e==="readium-default-on"?t=rn.appearanceValues[0]:e==="sepia"||e==="readium-sepia-on"?t=rn.appearanceValues[1]:e==="night"||e==="readium-night-on"?t=rn.appearanceValues[2]:t=e,rn.appearanceValues.findIndex(r=>r===t)}async scroll(e){var i,s,o,c,d;let t=(i=this.view)==null?void 0:i.getCurrentPosition();this.verticalScroll=e;let r=(s=this.userProperties)==null?void 0:s.getByRef(Fe.SCROLL_REF);r&&(r.value=this.verticalScroll,await this.saveProperty(r)),await this.applyProperties(),(c=(o=this.view)==null?void 0:o.setMode)==null||c.call(o,this.verticalScroll),t&&((d=this.view)==null||d.goToProgression(t)),this.viewChangeCallback()}async increase(e){var t,r,i,s,o,c,d,u,p,m,b,v,y,h,l,g;if(e==="fontSize"){((t=this.userProperties)==null?void 0:t.getByRef(Fe.FONT_SIZE_REF)).increment(),this.fontSize=(i=(r=this.userProperties)==null?void 0:r.getByRef(Fe.FONT_SIZE_REF))==null?void 0:i.value;let w=(s=this.userProperties)==null?void 0:s.getByRef(Fe.FONT_SIZE_REF);w&&await this.storeProperty(w)}else if(e==="letterSpacing"){((o=this.userProperties)==null?void 0:o.getByRef(Fe.LETTER_SPACING_REF)).increment(),this.letterSpacing=(d=(c=this.userProperties)==null?void 0:c.getByRef(Fe.LETTER_SPACING_REF))==null?void 0:d.value;let w=(u=this.userProperties)==null?void 0:u.getByRef(Fe.LETTER_SPACING_REF);w&&await this.storeProperty(w)}else if(e==="wordSpacing"){((p=this.userProperties)==null?void 0:p.getByRef(Fe.WORD_SPACING_REF)).increment(),this.wordSpacing=(b=(m=this.userProperties)==null?void 0:m.getByRef(Fe.WORD_SPACING_REF))==null?void 0:b.value;let w=(v=this.userProperties)==null?void 0:v.getByRef(Fe.WORD_SPACING_REF);w&&await this.storeProperty(w)}else if(e==="lineHeight"){((y=this.userProperties)==null?void 0:y.getByRef(Fe.LINE_HEIGHT_REF)).increment(),this.lineHeight=(l=(h=this.userProperties)==null?void 0:h.getByRef(Fe.LINE_HEIGHT_REF))==null?void 0:l.value;let w=(g=this.userProperties)==null?void 0:g.getByRef(Fe.LINE_HEIGHT_REF);w&&await this.storeProperty(w)}await this.applyProperties(),this.settingsChangeCallback()}async decrease(e){var t,r,i,s,o,c,d,u,p,m,b,v,y,h,l,g;if(e==="fontSize"){((t=this.userProperties)==null?void 0:t.getByRef(Fe.FONT_SIZE_REF)).decrement(),this.fontSize=(i=(r=this.userProperties)==null?void 0:r.getByRef(Fe.FONT_SIZE_REF))==null?void 0:i.value;let w=(s=this.userProperties)==null?void 0:s.getByRef(Fe.FONT_SIZE_REF);w&&await this.storeProperty(w)}else if(e==="letterSpacing"){((o=this.userProperties)==null?void 0:o.getByRef(Fe.LETTER_SPACING_REF)).decrement(),this.letterSpacing=(d=(c=this.userProperties)==null?void 0:c.getByRef(Fe.LETTER_SPACING_REF))==null?void 0:d.value;let w=(u=this.userProperties)==null?void 0:u.getByRef(Fe.LETTER_SPACING_REF);w&&await this.storeProperty(w)}else if(e==="wordSpacing"){((p=this.userProperties)==null?void 0:p.getByRef(Fe.WORD_SPACING_REF)).decrement(),this.wordSpacing=(b=(m=this.userProperties)==null?void 0:m.getByRef(Fe.WORD_SPACING_REF))==null?void 0:b.value;let w=(v=this.userProperties)==null?void 0:v.getByRef(Fe.WORD_SPACING_REF);w&&await this.storeProperty(w)}else if(e==="lineHeight"){((y=this.userProperties)==null?void 0:y.getByRef(Fe.LINE_HEIGHT_REF)).decrement(),this.wordSpacing=(l=(h=this.userProperties)==null?void 0:h.getByRef(Fe.LINE_HEIGHT_REF))==null?void 0:l.value;let w=(g=this.userProperties)==null?void 0:g.getByRef(Fe.LINE_HEIGHT_REF);w&&await this.storeProperty(w)}await this.applyProperties(),this.settingsChangeCallback()}};rn.appearanceValues=["readium-default-on","readium-sepia-on","readium-night-on"],rn.fontFamilyValues=["Original","serif","sans-serif"],rn.textAlignmentValues=["auto","justify","start"],rn.columnCountValues=["auto","1","2"];var Xl=rn;F();F();F();F();F();F();F();F();var I6={stringify(n){let e=n.nSigBytes,t=n.words,r=[];for(let i=0;i<e;i++){let s=t[i>>>2]>>>24-i%4*8&255;r.push((s>>>4).toString(16)),r.push((s&15).toString(16))}return r.join("")},parse(n){let e=n.length;if(e%2!==0)throw new Error("Hex string count must be even");if(!/^[a-fA-F0-9]+$/.test(n))throw new Error(`Invalid Hex string: ${n}`);let t=[];for(let r=0;r<e;r+=2)t[r>>>3]|=parseInt(n.substr(r,2),16)<<24-r%8*4;return new ui(t,e/2)}};F();F();var N6=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",Yo=(()=>{let n=parseInt((/msie (\d+)/.exec(N6)||[])[1],10);return isNaN(n)?(n=parseInt((/trident\/.*; rv:(\d+)/.exec(N6)||[])[1],10),isNaN(n)?!1:n):n})();function D6(n,e){return Yo===!1?!1:e?n==="<"?Yo<e:n==="<="?Yo<=e:n===">"?Yo>e:n===">="?Yo>=e:Yo===e:!0}function LF(){if(typeof window<"u"){let n=window.crypto||window.msCrypto;if(!n){if(D6("<",11))return console.warn("IE <= 10 uses insecure random generator. Please consider to use IE11 or another modern browser"),function(){return Math.floor(Math.random()*512)%256};throw new Error("Crypto module not found")}return function(){return n.getRandomValues(new Uint32Array(1))[0]}}else{if(typeof globalThis<"u"&&globalThis.crypto)return function(){return globalThis.crypto.randomBytes(4).readInt32LE()};if(typeof Zu=="function")return function(){return __non_webpack_require__("crypto").randomBytes(4).readInt32LE()}}throw new Error("Unable to find crypto module")}var B6=LF();var ui=class n{constructor(e,t){if(Array.isArray(e)||!e){this._words=Array.isArray(e)?e:[],this._nSignificantBytes=typeof t=="number"?t:this._words.length*4;return}else if(e instanceof n){this._words=e.words.slice(),this._nSignificantBytes=e.nSigBytes;return}let r;try{e instanceof ArrayBuffer?r=new Uint8Array(e):(e instanceof Uint8Array||e instanceof Int8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}catch{throw new Error("Invalid argument")}if(!r)throw new Error("Invalid argument");let i=r.byteLength,s=[];for(let o=0;o<i;o++)s[o>>>2]|=r[o]<<24-o%4*8;this._words=s,this._nSignificantBytes=i}get nSigBytes(){return this._nSignificantBytes}set nSigBytes(e){this._nSignificantBytes=e}get words(){return this._words}toString(e){return e?e.stringify(this):I6.stringify(this)}toUint8Array(){let e=this._words,t=this._nSignificantBytes,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e[i>>>2]>>>24-i%4*8&255;return r}concat(e){let t=e.words.slice(),r=e.nSigBytes;if(this.clamp(),this._nSignificantBytes%4)for(let i=0;i<r;i++){let s=t[i>>>2]>>>24-i%4*8&255;this._words[this._nSignificantBytes+i>>>2]|=s<<24-(this._nSignificantBytes+i)%4*8}else for(let i=0;i<r;i+=4)this._words[this._nSignificantBytes+i>>>2]=t[i>>>2];return this._nSignificantBytes+=r,this}clamp(){let e=this._nSignificantBytes;this._words[e>>>2]&=4294967295<<32-e%4*8,this._words.length=Math.ceil(e/4)}clone(){return new n(this._words.slice(),this._nSignificantBytes)}static random(e){let t=[];for(let r=0;r<e;r+=4)t.push(B6());return new n(t,e)}};F();F();var jm={stringify(n){let e=n.nSigBytes,t=n.words,r=[];for(let i=0;i<e;i++){let s=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(s))}return r.join("")},parse(n){let e=n.length,t=[];for(let r=0;r<e;r++)t[r>>>2]|=(n.charCodeAt(r)&255)<<24-r%4*8;return new ui(t,e)}};var F6={stringify(n){try{return decodeURIComponent(escape(jm.stringify(n)))}catch{throw new Error("Malformed UTF-8 data")}},parse(n){return jm.parse(unescape(encodeURIComponent(n)))}};var hh=class{constructor(e){this._minBufferSize=0,this._blockSize=0,this._props=e,this._data=e&&typeof e.data<"u"?e.data.clone():new ui,this._nBytes=e&&typeof e.nBytes=="number"?e.nBytes:0}get blockSize(){return this._blockSize}reset(e,t){this._data=typeof e<"u"?e.clone():new ui,this._nBytes=typeof t=="number"?t:0}_append(e){let t=typeof e=="string"?F6.parse(e):e;this._data.concat(t),this._nBytes+=t.nSigBytes}_process(e){let t,r=this._data.words,i=this._data.nSigBytes,s=this._blockSize,o=this._blockSize*4,c=i/o;e?c=Math.ceil(c):c=Math.max((c|0)-this._minBufferSize,0);let d=c*s,u=Math.min(d*4,i);if(d){for(let p=0;p<d;p+=s)this._doProcessBlock(r,p);t=r.splice(0,d),this._data.nSigBytes-=u}return new ui(t,u)}_doProcessBlock(e,t){throw new Error("Not implemented")}};var ph=class extends hh{constructor(e){super(e),this._blockSize=512/32,this._props=e,e&&typeof e.blockSize=="number"&&(this._blockSize=e.blockSize),this.reset(e?e.data:void 0,e?e.nBytes:void 0)}get blockSize(){return this._blockSize}reset(e,t){super.reset.call(this,e,t),this._doReset()}update(e){return this._append(e),this._process(),this}finalize(e){return e&&this._append(e),this._doFinalize()}_doReset(){throw new Error("Not implemented")}_doFinalize(){throw new Error("Not implemented")}};var qm=[],U6=[];function IF(n){let e=Math.sqrt(n);for(let t=2;t<=e;t++)if(!(n%t))return!1;return!0}function H6(n){return(n-(n|0))*4294967296|0}(function(){let e=2,t=0;for(;t<64;)IF(e)&&(t<8&&(qm[t]=H6(Math.pow(e,1/2))),U6[t]=H6(Math.pow(e,1/3)),t++),e++})();var Xo=[],cs=class n extends ph{constructor(e){super(e),this._hash=new ui(qm.slice(0)),this._props=e,e&&typeof e.hash<"u"&&(this._hash=e.hash.clone())}_doReset(){this._hash=new ui(qm.slice(0))}_doProcessBlock(e,t){let r=this._hash.words,i=r[0],s=r[1],o=r[2],c=r[3],d=r[4],u=r[5],p=r[6],m=r[7];for(let b=0;b<64;b++){if(b<16)Xo[b]=e[t+b]|0;else{let E=Xo[b-15],A=(E<<25|E>>>7)^(E<<14|E>>>18)^E>>>3,_=Xo[b-2],C=(_<<15|_>>>17)^(_<<13|_>>>19)^_>>>10;Xo[b]=A+Xo[b-7]+C+Xo[b-16]}let v=d&u^~d&p,y=i&s^i&o^s&o,h=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),l=(d<<26|d>>>6)^(d<<21|d>>>11)^(d<<7|d>>>25),g=m+l+v+U6[b]+Xo[b],w=h+y;m=p,p=u,u=d,d=c+g|0,c=o,o=s,s=i,i=g+w|0}r[0]=r[0]+i|0,r[1]=r[1]+s|0,r[2]=r[2]+o|0,r[3]=r[3]+c|0,r[4]=r[4]+d|0,r[5]=r[5]+u|0,r[6]=r[6]+p|0,r[7]=r[7]+m|0}_doFinalize(){let e=this._data.words,t=this._nBytes*8,r=this._data.nSigBytes*8;return e[r>>>5]|=128<<24-r%32,e[(r+64>>>9<<4)+14]=Math.floor(t/4294967296),e[(r+64>>>9<<4)+15]=t,this._data.nSigBytes=e.length*4,this._process(),this._hash}clone(){let e={hash:this._hash,blockSize:this._blockSize,data:this._data,nBytes:this._nBytes};return new n(e)}static hash(e,t){return new n(t).finalize(e)}};var ec=Rt(po());F();F();var gr=Rt(Pn());function mh(n,e){let t=n.getClientRects();return Gm(t,e)}function Gm(n,e){let r=[];for(let d of n)r.push({bottom:d.bottom,height:d.height,left:d.left,right:d.right,top:d.top,width:d.width});let i=q6(r,1,e),s=UF(i,1),o=G6(s),c=2*2;for(let d=o.length-1;d>=0;d--){let u=o[d];if(!(u.width*u.height>c))if(o.length>1)gr.default.log("CLIENT RECT: remove small"),o.splice(d,1);else{gr.default.log("CLIENT RECT: remove small, but keep otherwise empty!");break}}return z6(o),gr.default.log(`CLIENT RECT: reduced ${r.length} --> ${o.length}`),o}function Ti(n,e,t){return Math.abs(n-e)<=t}function NF(n,e){let t=Math.max(n.left,e.left),r=Math.min(n.right,e.right),i=Math.max(n.top,e.top),s=Math.min(n.bottom,e.bottom);return{bottom:s,height:Math.max(0,s-i),left:t,right:r,top:i,width:Math.max(0,r-t)}}function j6(n,e){let t=NF(e,n);if(t.height===0||t.width===0)return[n];let r=[];{let i={bottom:n.bottom,height:0,left:n.left,right:t.left,top:n.top,width:0};i.width=i.right-i.left,i.height=i.bottom-i.top,i.height!==0&&i.width!==0&&r.push(i)}{let i={bottom:t.top,height:0,left:t.left,right:t.right,top:n.top,width:0};i.width=i.right-i.left,i.height=i.bottom-i.top,i.height!==0&&i.width!==0&&r.push(i)}{let i={bottom:n.bottom,height:0,left:t.left,right:t.right,top:t.bottom,width:0};i.width=i.right-i.left,i.height=i.bottom-i.top,i.height!==0&&i.width!==0&&r.push(i)}{let i={bottom:n.bottom,height:0,left:t.right,right:n.right,top:n.top,width:0};i.width=i.right-i.left,i.height=i.bottom-i.top,i.height!==0&&i.width!==0&&r.push(i)}return r}function gh(n,e,t,r){return(n.left<e||Ti(n.left,e,r))&&(n.right>e||Ti(n.right,e,r))&&(n.top<t||Ti(n.top,t,r))&&(n.bottom>t||Ti(n.bottom,t,r))}function DF(n,e,t){return gh(n,e.left,e.top,t)&&gh(n,e.right,e.top,t)&&gh(n,e.left,e.bottom,t)&&gh(n,e.right,e.bottom,t)}function BF(n,e){let t=Math.min(n.left,e.left),r=Math.max(n.right,e.right),i=Math.min(n.top,e.top),s=Math.max(n.bottom,e.bottom);return{bottom:s,height:s-i,left:t,right:r,top:i,width:r-t}}function zm(n,e,t){return(n.left<e.right||t>=0&&Ti(n.left,e.right,t))&&(e.left<n.right||t>=0&&Ti(e.left,n.right,t))&&(n.top<e.bottom||t>=0&&Ti(n.top,e.bottom,t))&&(e.top<n.bottom||t>=0&&Ti(e.top,n.bottom,t))}function q6(n,e,t){for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){let s=n[r],o=n[i];if(s===o){gr.default.log("mergeTouchingRects rect1 === rect2 ??!");continue}let c=Ti(s.top,o.top,e)&&Ti(s.bottom,o.bottom,e),d=Ti(s.left,o.left,e)&&Ti(s.right,o.right,e);if((d&&!t||c&&!d)&&zm(s,o,e)){gr.default.log(`CLIENT RECT: merging two into one, VERTICAL: ${c} HORIZONTAL: ${d} (${t})`);let b=n.filter(y=>y!==s&&y!==o),v=BF(s,o);return b.push(v),q6(b,e,t)}}return n}function G6(n){for(let e=0;e<n.length;e++)for(let t=e+1;t<n.length;t++){let r=n[e],i=n[t];if(r===i){gr.default.log("replaceOverlappingRects rect1 === rect2 ??!");continue}if(zm(r,i,-1)){let s=[],o,c,d=j6(r,i);if(d.length===1)s=d,o=r,c=i;else{let m=j6(i,r);d.length<m.length?(s=d,o=r,c=i):(s=m,o=i,c=r)}let u=[];u.push(c),Array.prototype.push.apply(u,s),z6(u),gr.default.log(`CLIENT RECT: overlap, cut one rect into ${s.length}`);let p=n.filter(m=>m!==o);return Array.prototype.push.apply(p,s),G6(p)}}return n}function FF(n,e){return Math.max(0,Math.min(n.right,e.right)-Math.max(n.left,e.left))}function HF(n,e){return Math.max(0,Math.min(n.bottom,e.bottom)-Math.max(n.top,e.top))}function UF(n,e){let t=new Set(n);for(let r of n){if(!(r.width>1&&r.height>1)){gr.default.log("CLIENT RECT: remove tiny"),t.delete(r);continue}for(let s of n)if(r!==s&&t.has(s)&&DF(s,r,e)){gr.default.log("CLIENT RECT: remove contained"),t.delete(r);break}}return Array.from(t)}function z6(n){let e=[];for(let t of n)for(let r of n){if(t===r)continue;let i=e.indexOf(t)>=0,s=e.indexOf(r)>=0;if((!i||!s)&&zm(t,r,-1)){i||e.push(t),s||e.push(r),gr.default.log("CLIENT RECT: overlap ---"),gr.default.log(`#1 TOP:${t.top} BOTTOM:${t.bottom} LEFT:${t.left} RIGHT:${t.right} WIDTH:${t.width} HEIGHT:${t.height}`),gr.default.log(`#2 TOP:${r.top} BOTTOM:${r.bottom} LEFT:${r.left} RIGHT:${r.right} WIDTH:${r.width} HEIGHT:${r.height}`);let o=FF(t,r);gr.default.log(`xOverlap: ${o}`);let c=HF(t,r);gr.default.log(`yOverlap: ${c}`)}}e.length&&gr.default.log(`CLIENT RECT: overlaps ${e.length}`)}F();var yn=Rt(Pn());function ds(n,e){let t=n?n.getSelection():null;if(!t)return;if(t.isCollapsed){yn.default.log("^^^ SELECTION COLLAPSED.");return}let r=t.toString(),i=r.trim().replace(/\n/g," ").replace(/\s\s+/g," ");if(i.length===0){yn.default.log("^^^ SELECTION TEXT EMPTY.");return}if(!t.anchorNode||!t.focusNode)return;let s=t.rangeCount===1?t.getRangeAt(0):$6(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset);if(!s||s.collapsed){yn.default.log("$$$$$$$$$$$$$$$$$ CANNOT GET NON-COLLAPSED SELECTION RANGE?!");return}let o=qF(s);o.startContainer!==s.startContainer&&(yn.default.log(">>>>>>>>>>>>>>>>>>>>>>> SELECTION RANGE NORMALIZE diff: startContainer"),yn.default.log(o.startContainer),yn.default.log(s.startContainer)),o.startOffset!==s.startOffset&&(yn.default.log(">>>>>>>>>>>>>>>>>>>>>>> SELECTION RANGE NORMALIZE diff: startOffset"),yn.default.log(`${o.startOffset} !== ${s.startOffset}`)),o.endContainer!==s.endContainer&&(yn.default.log(">>>>>>>>>>>>>>>>>>>>>>> SELECTION RANGE NORMALIZE diff: endContainer"),yn.default.log(o.endContainer),yn.default.log(s.endContainer)),o.endOffset!==s.endOffset&&(yn.default.log(">>>>>>>>>>>>>>>>>>>>>>> SELECTION RANGE NORMALIZE diff: endOffset"),yn.default.log(`${o.endOffset} !== ${s.endOffset}`));let c=Ds(o,e);if(!c){yn.default.log("^^^ SELECTION RANGE INFO FAIL?!");return}return{rangeInfo:c,cleanText:i,rawText:r,range:o}}function $6(n,e,t,r){try{let i=new Range;if(i.setStart(n,e),i.setEnd(t,r),!i.collapsed)return yn.default.log(">>> createOrderedRange RANGE OK"),i;yn.default.log(">>> createOrderedRange COLLAPSED ... RANGE REVERSE?");let s=new Range;if(s.setStart(t,r),s.setEnd(n,e),!s.collapsed)return yn.default.log(">>> createOrderedRange RANGE REVERSE OK."),i;yn.default.log(">>> createOrderedRange RANGE REVERSE ALSO COLLAPSED?!");return}catch(i){console.warn(i.message);return}}function Ds(n,e){let t=n.startContainer.nodeType===Node.ELEMENT_NODE,r=t?n.startContainer:n.startContainer.parentNode&&n.startContainer.parentNode.nodeType===Node.ELEMENT_NODE?n.startContainer.parentNode:void 0;if(!r)return;let i=t?-1:Array.from(r.childNodes).indexOf(n.startContainer);if(i<-1)return;let s=e(r),o=n.endContainer.nodeType===Node.ELEMENT_NODE,c=o?n.endContainer:n.endContainer.parentNode&&n.endContainer.parentNode.nodeType===Node.ELEMENT_NODE?n.endContainer.parentNode:void 0;if(!c)return;let d=o?-1:Array.from(c.childNodes).indexOf(n.endContainer);if(d<-1)return;let u=e(c),p=jF(n.startContainer,n.endContainer);if(!p){yn.default.log("^^^ NO RANGE COMMON ANCESTOR?!");return}if(n.commonAncestorContainer){let m=n.commonAncestorContainer.nodeType===Node.ELEMENT_NODE?n.commonAncestorContainer:n.commonAncestorContainer.parentNode;m&&m.nodeType===Node.ELEMENT_NODE&&p!==m&&(yn.default.log(">>>>>> COMMON ANCESTOR CONTAINER DIFF??!"),yn.default.log(e(p)),yn.default.log(e(m)))}if(u&&s)return{endContainerChildTextNodeIndex:d,endContainerElementCssSelector:u,endOffset:n.endOffset,startContainerChildTextNodeIndex:i,startContainerElementCssSelector:s,startOffset:n.startOffset}}function yh(n,e){let t=n.querySelector(e.startContainerElementCssSelector);if(!t){yn.default.log("^^^ convertRangeInfo NO START ELEMENT CSS SELECTOR?!");return}let r=t;if(e.startContainerChildTextNodeIndex>=0){if(e.startContainerChildTextNodeIndex>=t.childNodes.length){yn.default.log("^^^ convertRangeInfo rangeInfo.startContainerChildTextNodeIndex >= startElement.childNodes.length?!");return}if(r=t.childNodes[e.startContainerChildTextNodeIndex],r.nodeType!==Node.TEXT_NODE){yn.default.log("^^^ convertRangeInfo startContainer.nodeType !== Node.TEXT_NODE?!");return}}let i=n.querySelector(e.endContainerElementCssSelector);if(!i){yn.default.log("^^^ convertRangeInfo NO END ELEMENT CSS SELECTOR?!");return}let s=i;if(e.endContainerChildTextNodeIndex>=0){if(e.endContainerChildTextNodeIndex>=i.childNodes.length){yn.default.log("^^^ convertRangeInfo rangeInfo.endContainerChildTextNodeIndex >= endElement.childNodes.length?!");return}if(s=i.childNodes[e.endContainerChildTextNodeIndex],s.nodeType!==Node.TEXT_NODE){yn.default.log("^^^ convertRangeInfo endContainer.nodeType !== Node.TEXT_NODE?!");return}}return $6(r,e.startOffset,s,e.endOffset)}function jF(n,e){if(n.nodeType===Node.ELEMENT_NODE&&n===e||n.nodeType===Node.ELEMENT_NODE&&n.contains(e))return n;if(e.nodeType===Node.ELEMENT_NODE&&e.contains(n))return e;let t=[],r=n.parentNode;for(;r&&r.nodeType===Node.ELEMENT_NODE;)t.push(r),r=r.parentNode;let i=[];for(r=e.parentNode;r&&r.nodeType===Node.ELEMENT_NODE;)i.push(r),r=r.parentNode;let s=t.find(o=>i.indexOf(o)>=0);return s||(s=i.find(o=>t.indexOf(o)>=0)),s}function qF(n){let e=n.cloneRange(),t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset;t.childNodes.length&&r>0&&(t=V6(t.childNodes[r-1]),r=t.length||0),s<i.childNodes.length&&(i=W6(i.childNodes[s]),s=0);let o=W6(t),c=V6(i);function d(u){if(u.childNodes.length)return!1;let p=u.length||0;return u===t&&r===p?!1:!(u===i&&s===0)}for(;o&&!d(o)&&o!==c;)o=GF(o);for(o===t?e.setStart(t,r):o!==null&&(o.nodeType===3?e.setStart(o,0):e.setStartBefore(o));c&&!d(c)&&c!==o;)c=zF(c);return c===i?e.setEnd(i,s):c!==null&&(c.nodeType===3?e.setEnd(c,c.length):e.setEndAfter(c)),e}function GF(n){if(n.firstChild)return n.firstChild;let e=n;for(;!e.nextSibling;)if(e=e.parentNode,!e)return null;return e.nextSibling}function zF(n){if(n.lastChild)return n.lastChild;let e=n;for(;!e.previousSibling;)if(e=e.parentNode,!e)return null;return e.previousSibling}function W6(n){for(;n.firstChild;)n=n.firstChild;return n}function V6(n){for(;n.lastChild;)n=n.lastChild;return n}F();var Ym=Rt(K6());var Bs,Xm;function tr(n,e,t){if(n.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if(n.tagName.toLowerCase()==="html")return n.tagName.toLowerCase();let r={className:s=>!0,idName:s=>!0,optimizedMinLength:2,root:e.body,seedMinLength:1,tagName:s=>!0,threshold:1e3};Bs={...r,...t},Xm=XF(Bs.root,r);let i=Vm(n,0,()=>Vm(n,1,()=>Vm(n,2)));if(i){let s=eA(tA(i,n));return s.length>0&&(i=s[0]),bh(i)}else throw new Error("Selector was not found.")}function XF(n,e){return n.nodeType===Node.DOCUMENT_NODE?n:n===e.root?n.ownerDocument:n}function Vm(n,e,t){let r=null,i=[],s=n,o=0;for(;s&&s!==Bs.root.parentElement;){let c=Km(QF(s))||Km(...ZF(s))||Km(eH(s))||[tH()],d=nH(s);if(e===0)d&&(c=c.concat(c.filter(Jm).map(u=>$m(u,d))));else if(e===1)c=c.slice(0,1),d&&(c=c.concat(c.filter(Jm).map(u=>$m(u,d))));else if(e===2){let[u]=c=c.slice(0,1);d&&Jm(u)&&(c=[$m(u,d)])}for(let u of c)u.level=o;if(i.push(c),i.length>=Bs.seedMinLength&&(r=Y6(i,t),r))break;s=s.parentElement,o++}return r||(r=Y6(i,t)),r}function Y6(n,e){let t=eA(Z6(n));if(t.length>Bs.threshold)return e?e():null;for(let r of t)if(Q6(r))return r;return null}function bh(n){let e=n[0],t=e.name;for(let r=1;r<n.length;r++){let i=n[r].level||0;e.level===i-1?t=`${n[r].name} > ${t}`:t=`${n[r].name} ${t}`,e=n[r]}return t}function X6(n){return n.map(e=>e.penalty).reduce((e,t)=>e+t,0)}function Q6(n){switch(Xm.querySelectorAll(bh(n)).length){case 0:throw new Error(`Can't select any node with this selector: ${bh(n)}`);case 1:return!0;default:return!1}}function QF(n){let e=n.getAttribute("id");return e&&Bs.idName(e)?{name:"#"+(0,Ym.default)(e,{isIdentifier:!0}),penalty:0}:null}function ZF(n){return Array.from(n.classList).filter(Bs.className).map(t=>({name:"."+(0,Ym.default)(t,{isIdentifier:!0}),penalty:1}))}function eH(n){let e=n.tagName.toLowerCase();return Bs.tagName(e)?{name:e,penalty:2}:null}function tH(){return{name:"*",penalty:3}}function nH(n){let e=n.parentNode;if(!e)return null;let t=e.firstChild;if(!t)return null;let r=0;for(;t&&(t.nodeType===Node.ELEMENT_NODE&&r++,t!==n);)t=t.nextSibling;return r}function $m(n,e){return{name:n.name+`:nth-child(${e})`,penalty:n.penalty+1}}function Jm(n){return n.name!=="html"&&!n.name.startsWith("#")}function Km(...n){let e=n.filter(rH);return e.length>0?e:null}function rH(n){return n!=null}function*Z6(n,e=[]){if(n.length>0)for(let t of n[0])yield*Z6(n.slice(1,n.length),e.concat(t));else yield e}function eA(n){return Array.from(n).sort((e,t)=>X6(e)-X6(t))}function*tA(n,e){if(n.length>2&&n.length>Bs.optimizedMinLength)for(let t=1;t<n.length-1;t++){let r=[...n];r.splice(t,1),Q6(r)&&iH(r,e)&&(yield r,yield*tA(r,e))}}function iH(n,e){return Xm.querySelector(bh(n))===e}F();F();var nA="0 0 24 24",Ur=(n,e,t,r="icon")=>`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="${nA}" preserveAspectRatio="xMidYMid meet" role="img" class="${r}" aria-labelledBy="${n}">
  <title id="${n}">${e}</title>
  ${t}
</svg>`,sH=(n,e,t,r,i="icon")=>`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="${r}" preserveAspectRatio="xMidYMid meet" role="img" class="${i}" aria-labelledBy="${n}">
  <title id="${n}">${e}</title>
  ${t}
</svg>`,nu=(n,e,t,r="icon",i,s)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${i}" height="${i}" viewBox="${nA}" style="fill:${s}" preserveAspectRatio="xMidYMid meet" role="img" class="${r}" aria-labelledBy="${n}">
  <title id="${n}">${e}</title>
  ${t}
</svg>`,ji={error:Ur("error-icon","Warning",'<path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>'),home:'<path d="M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z"/>',expand:Ur("expand-icon","Enter fullscreen",'<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>',"icon active-icon"),loading:sH("loading-icon","Loading",'<path fill="#BBBBBB" d="M145,241.6c-53.3,0-96.6-43.2-96.6-96.6c0-53.3,43.2-96.6,96.6-96.6c53.3,0,96.6,43.2,96.6,96.6 c0,26.7-10.8,50.9-28.3,68.3l7.6,7.6c19.4-19.4,31.5-46.3,31.5-75.9c0-59.3-48-107.3-107.3-107.3S37.7,85.7,37.7,145 c0,59.3,48,107.3,107.3,107.3V241.6z"/>',"0 0 290 290"),next:Ur("next-icon","Next Chapter",'<path d="M6.49 20.13l1.77 1.77 9.9-9.9-9.9-9.9-1.77 1.77L14.62 12l-8.13 8.13z"/>'),previous:Ur("previous-icon","Previous Chapter",'<path d="M17.51 3.87L15.73 2.1 5.84 12l9.9 9.9 1.77-1.77L9.38 12l8.13-8.13z"/>'),settings:Ur("settings-icon","Settings",'<path d="M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/>',"icon open"),toc:Ur("toc-icon","Table of Contents",'<path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"/>',"icon open"),bookmarks:Ur("toc-icon","Bookmarks",'<path d="M4,6H2v16h16v-2H4V6z"/><path d="M22,2H6v16h16V2z M20,12l-2.5-1.5L15,12V4h5V12z"/>',"icon open"),bookmark:Ur("toc-icon","Bookmark",'<path d="M19,3H5v18l7-3l7,3V3z"/>',"icon open"),delete:Ur("delete-icon","Delete",'<path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>',"icon open"),close:Ur("close-icon","Close",'<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>',"icon open"),text:Ur("text-icon","Text",'<path d="M5 4v3h5.5v12h3V7H19V4z"/>',"icon open"),speak:Ur("speak-icon","Speak",'<circle cx="9" cy="9" r="4"/><path d="M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"/><path d="M0 0h24v24H0z" fill="none"/>',"icon open"),note:Ur("note-icon","Note",'<polygon points="17.71 24.66 22.3 20.07 17.71 20.07 17.71 24.66" fill="none"/><path d="M22.42.07H5.58A3.28,3.28,0,0,0,2.29,3.35V24.79a3.28,3.28,0,0,0,3.29,3.28H16.71a1,1,0,0,0,.71-.29l8-8a1,1,0,0,0,.29-.71V3.35A3.28,3.28,0,0,0,22.42.07Zm-8.17,15h-7v-2h7Zm-7-6v-2h13v2ZM16.5,25.86v-6a1,1,0,0,1,1-1h6Z" />',"icon open"),highlight:Ur("highlight-icon","Highlight",'<path d="M27.71,7.78,21.12,1.19a1,1,0,0,0-1.38,0L4.32,15A1,1,0,0,0,4,15.7a1,1,0,0,0,.3.73c1.22,1.22,1.2,2.37,0,3.62a1,1,0,0,0,0,1.41l3.2,3.2a1,1,0,0,0,1.41,0c1.28-1.28,2.36-1.29,3.62,0a1,1,0,0,0,1.45,0L27.74,9.16A1,1,0,0,0,27.71,7.78Z" /><path d="M3.09,22.59l-2.8,2.8a1,1,0,0,0-.21,1.09A1,1,0,0,0,1,27.1H4.6a1,1,0,0,0,.71-.29l1-1Z" />',"icon open")};var e1=Rt(vh());var Cr=Rt(Pn()),Qo=(d=>(d.R2_ID_HIGHLIGHTS_CONTAINER="R2_ID_HIGHLIGHTS_CONTAINER",d.R2_ID_BOOKMAKRS_CONTAINER="R2_ID_BOOKMAKRS_CONTAINER",d.R2_ID_READALOUD_CONTAINER="R2_ID_READALOUD_CONTAINER",d.R2_ID_PAGEBREAK_CONTAINER="R2_ID_PAGEBREAK_CONTAINER",d.R2_ID_SEARCH_CONTAINER="R2_ID_SEARCH_CONTAINER",d.R2_ID_DEFINITIONS_CONTAINER="R2_ID_DEFINITIONS_CONTAINER",d.R2_ID_LINEFOCUS_CONTAINER="R2_ID_LINEFOCUS_CONTAINER",d.R2_ID_GUTTER_RIGHT_CONTAINER="R2_ID_GUTTER_RIGHT_CONTAINER",d))(Qo||{}),iA="R2_CLASS_HIGHLIGHT_CONTAINER",tc="R2_CLASS_HIGHLIGHT_BOUNDING_AREA",mr="R2_CLASS_HIGHLIGHT_AREA",Zl="R2_CLASS_HIGHLIGHT_ICON",fs=.5,rA=.75,Zo={blue:100,green:50,red:230},In=[],aH="data-highlighted",uH="data-timestamp",iu={ELEMENT_NODE:1,TEXT_NODE:3};var li=["R2_ID_HIGHLIGHTS_CONTAINER","R2_ID_PAGEBREAK_CONTAINER","R2_ID_SEARCH_CONTAINER","R2_ID_READALOUD_CONTAINER","R2_ID_BOOKMAKRS_CONTAINER","R2_ID_DEFINITIONS_CONTAINER","R2_ID_LINEFOCUS_CONTAINER","R2_ID_GUTTER_RIGHT_CONTAINER",iA,mr,tc],Qm=-1,Zm=-1,Mn=class n{constructor(e,t,r,i,s){this.lastSelectedHighlight=void 0;this.activeAnnotationMarkerId=void 0;this.showTool=(0,ec.debounce)(e=>{this.isAndroid()||this.snapSelectionToWord(e),this.toolboxShow()},navigator.userAgent.toLowerCase().indexOf("firefox")>-1?200:100);this.isSelectionMenuOpen=!1;this.selectionMenuOpened=(0,ec.debounce)(()=>{var e,t;this.isSelectionMenuOpen||(this.isSelectionMenuOpen=!0,(e=this.api)!=null&&e.selectionMenuOpen&&((t=this.api)==null||t.selectionMenuOpen()),this.navigator.emit("toolbox.opened","opened"))},100);this.selectionMenuClosed=(0,ec.debounce)(()=>{var e,t;this.isSelectionMenuOpen&&(this.isSelectionMenuOpen=!1,(e=this.api)!=null&&e.selectionMenuClose&&((t=this.api)==null||t.selectionMenuClose()),this.navigator.emit("toolbox.closed","closed"))},100);this.selection=(0,ec.debounce)((e,t)=>{var r,i;(r=this.api)!=null&&r.selection&&((i=this.api)==null||i.selection(e,t))},100);this.getScrollingElement=e=>e!=null&&e.scrollingElement?e==null?void 0:e.scrollingElement:e!=null&&e.body?e==null?void 0:e.body:document.createElement("body");this.layerSettings=e,this.properties=t,this.properties.menuPosition===void 0&&(this.properties.menuPosition="inline"),this.api=s,this.hasEventListener=r,this.options=this.defaults(i,{color:"#fce300",highlightedClass:"highlighted",contextClass:"highlighter-context",onBeforeHighlight:function(){return!0},onAfterHighlight:function(){}})}static async create(e){let t=new this(e.layerSettings,e,!1,{},e.api);return new Promise(r=>r(t))}async initialize(){var i;let e=this.navigator.iframes[0].contentDocument;e&&this.dom(e.body).addClass(this.options.contextClass),this.bindEvents((i=this.navigator.iframes[0].contentDocument)==null?void 0:i.body,this,this.hasEventListener),this.initializeToolbox(),Qm=-1,Zm=-1;let t=this;async function r(){t.lastSelectedHighlight===void 0||(t.lastSelectedHighlight=void 0)}setTimeout(async()=>{var o;let s=this.navigator.iframes[0].contentDocument;s&&await((o=s.body)==null?void 0:o.addEventListener("click",r))},100)}haveSameColor(e,t){return this.dom(e).color()===this.dom(t).color()}defaults(e,t){e=e||{};for(let r in t)t.hasOwnProperty(r)&&e[r]===void 0&&(e[r]=t[r]);return e}unique(e){return e.filter(function(t,r,i){return i.indexOf(t)===r})}refineRangeBoundaries(e){let t=e.startContainer,r=e.endContainer,i=e.commonAncestorContainer,s=!0;if(e.endOffset===0){for(;!r.previousSibling&&r.parentNode!==i;)r=r.parentNode;r=r.previousSibling}else r.nodeType===iu.TEXT_NODE?e.endOffset<r.nodeValue.length&&r.splitText(e.endOffset):e.endOffset>0&&(r=r.childNodes.item(e.endOffset-1));return t.nodeType===iu.TEXT_NODE?e.startOffset===t.nodeValue.length?s=!1:e.startOffset>0&&(t=t.splitText(e.startOffset),r===t.previousSibling&&(r=t)):e.startOffset<t.childNodes.length?t=t.childNodes.item(e.startOffset):t=t.nextSibling,{startContainer:t,endContainer:r,goDeeper:s}}sortByDepth(e,t){let r=this;e.sort(function(i,s){return r.dom(t?s:i).parents().length-r.dom(t?i:s).parents().length})}groupHighlights(e){let t=[],r={},i=[];return e.forEach(function(s){let o=s.getAttribute(uH);typeof r[o]>"u"&&(r[o]=[],t.push(o)),r[o].push(s)}),t.forEach(function(s){let o=r[s];i.push({chunks:o,timestamp:s,toString:function(){return o.map(function(c){return c.textContent}).join("")}})}),i}dom(e){let t=this;return{addClass:function(r){e.classList?e.classList.add(r):e.className+=" "+r},removeClass:function(r){e.classList?e.classList.remove(r):e.className=e.className.replace(new RegExp("(^|\\b)"+r+"(\\b|$)","gi")," ")},prepend:function(r){let i=Array.prototype.slice.call(r),s=i.length;for(;s--;)e.insertBefore(i[s],e.firstChild)},append:function(r){let i=Array.prototype.slice.call(r);for(let s=0,o=i.length;s<o;++s)e.appendChild(i[s])},insertAfter:function(r){var i;return(i=r.parentNode)==null?void 0:i.insertBefore(e,r.nextSibling)},insertBefore:function(r){var i;return(i=r.parentNode)==null?void 0:i.insertBefore(e,r)},remove:function(){e.parentNode.removeChild(e),e=null},contains:function(r){return e!==r&&e.contains(r)},wrap:function(r){return e.parentNode&&e.parentNode.insertBefore(r,e),r.appendChild(e),r},unwrap:function(){let r=Array.prototype.slice.call(e.childNodes),i;return r.forEach(function(s){i=s.parentNode,t.dom(s).insertBefore(s.parentNode),t.dom(i).remove()}),r},parents:function(){let r,i=[];for(;r=e.parentNode;)i.push(r),e=r;return i},normalizeTextNodes:function(){if(e){if(e.nodeType===iu.TEXT_NODE)for(;e.nextSibling&&e.nextSibling.nodeType===iu.TEXT_NODE;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);else t.dom(e.firstChild).normalizeTextNodes();t.dom(e.nextSibling).normalizeTextNodes()}},color:function(){return e.style.backgroundColor},fromHTML:function(r){let i=document.createElement("div");return i.innerHTML=r,i.childNodes},getRange:function(){var s;let r=(s=t.dom(e))==null?void 0:s.getSelection(),i;return(r==null?void 0:r.rangeCount)>0&&(i=r==null?void 0:r.getRangeAt(0)),i},removeAllRanges:function(){var i;let r=(i=t.dom(e))==null?void 0:i.getSelection();r==null||r.removeAllRanges(),t.toolboxHide()},getSelection:function(){var r;return(r=t.dom(e).getWindow())==null?void 0:r.getSelection()},getWindow:function(){var r;return(r=t.dom(e).getDocument())==null?void 0:r.defaultView},getDocument:function(){return(e==null?void 0:e.ownerDocument)||e}}}disableContext(e){return e.preventDefault(),e.stopPropagation(),!1}bindEvents(e,t,r){let i=e.ownerDocument;e.addEventListener("mouseup",this.toolboxShowDelayed.bind(this)),e.addEventListener("touchend",this.toolboxShowDelayed.bind(this)),i.addEventListener("mouseup",this.toolboxShowDelayed.bind(this)),i.addEventListener("touchend",this.toolboxShowDelayed.bind(this)),r||window.addEventListener("resize",this.toolboxPlacement.bind(this)),i.addEventListener("selectionchange",this.toolboxPlacement.bind(this)),i.addEventListener("selectionchange",this.toolboxShowDelayed.bind(this)),e.addEventListener("mousedown",this.toolboxHide.bind(this)),e.addEventListener("touchstart",this.toolboxHide.bind(this)),this.isAndroid()&&e.addEventListener("contextmenu",this.disableContext),e.addEventListener("mousedown",this.mousedown.bind(this)),e.addEventListener("mouseup",this.mouseup.bind(this)),e.addEventListener("touchstart",this.mousedown.bind(this)),e.addEventListener("touchend",this.mouseup.bind(this)),this.hasEventListener=!0}async mousedown(e){var t;if(Qm=e.clientX,Zm=e.clientY,(t=this.properties)!=null&&t.preventScrollOnSelection){let r=Wt(document,"#iframe-wrapper");r.style.overflow="hidden"}}async mouseup(e){Math.abs(Qm-e.clientX)<3&&Math.abs(Zm-e.clientY)<3&&await this.processMouseEvent(e)}async mousemove(e){await this.processMouseEvent(e)}unbindEvents(e,t){let r=e.ownerDocument;e.removeEventListener("mouseup",this.toolboxShowDelayed.bind(this)),e.removeEventListener("touchend",this.toolboxShowDelayed.bind(this)),r.removeEventListener("mouseup",this.toolboxShowDelayed.bind(this)),r.removeEventListener("touchend",this.toolboxShowDelayed.bind(this)),window.removeEventListener("resize",this.toolboxPlacement.bind(this)),r.removeEventListener("selectionchange",this.toolboxPlacement.bind(this)),e.removeEventListener("mousedown",this.toolboxHide.bind(this)),e.removeEventListener("touchstart",this.toolboxHide.bind(this)),this.isAndroid()&&e.removeEventListener("contextmenu",this.disableContext),e.removeEventListener("mousedown",this.mousedown.bind(this)),e.removeEventListener("mouseup",this.mouseup.bind(this)),e.removeEventListener("mousemove",this.mousemove.bind(this)),e.removeEventListener("touchstart",this.mousedown.bind(this)),e.removeEventListener("touchend",this.mouseup.bind(this)),e.removeEventListener("touchmove",this.mousemove.bind(this)),this.hasEventListener=!1}destroy(){this.toolboxHide();let e=this.navigator.iframes[0].contentDocument;e&&(this.unbindEvents(e.body,this),this.dom(e.body).removeClass(this.options.contextClass))}initializeToolbox(){let e=document.getElementById("highlight-toolbox-mode-colors"),t=document.getElementById("highlight-toolbox-mode-add"),r=["#fce300","#48e200","#00bae5","#157cf9","#6a39b7","#ea426a","#ff8500"],i=document.getElementById("colorIcon"),s=document.getElementById("actionIcon"),o=document.getElementById("dismissIcon"),c=document.getElementById("collapseIcon"),d=document.getElementById("highlightIcon"),u=this;if(o&&(o.innerHTML=ji.close,o.addEventListener("click",function(){u.toolboxMode("add")})),c&&(c.innerHTML=ji.close,c.addEventListener("click",function(){u.toolboxMode("add")})),i){i.style.position="relative",i.style.zIndex="20",r.forEach(b=>{let v=document.getElementById(b),y=document.getElementById(`c${b}`);v&&(e!=null&&e.contains(v))&&e.removeChild(v),t&&y&&t.contains(y)&&t.removeChild(y)});let p=[],m=[];if(i.addEventListener("click",function(){u.toolboxMode("colors")}),this.navigator.rights.enableAnnotations){let b=10;r.forEach(v=>{b--;let y=i==null?void 0:i.cloneNode(!0),h=y.lastChild,l=n.hexToRgbChannels(v);h.style.backgroundColor="rgba("+[l.red,l.green,l.blue].join(",")+",.5)",y.id=`c${v}`,y.style.display="unset",y.style.position="relative",y.style.zIndex=`${b}`,y.style.marginLeft="-30px",m.push(y),t==null||t.insertBefore(y,d)})}r.forEach(b=>{let v=i==null?void 0:i.cloneNode(!0),y=v.lastChild;y.style.backgroundColor=b,v.id=b,v.style.position="relative",v.style.display="unset",p.push(v),i&&v.addEventListener("click",function(){var E,A,_;u.setColor(b);let h=i==null?void 0:i.lastChild;h&&(h.style.backgroundColor=b);let l=document.getElementById("highlightIcon"),g=document.getElementById("underlineIcon"),w=document.getElementById("noteIcon");(((E=l==null?void 0:l.getElementsByTagName)==null?void 0:E.call(l,"span").length)??0)>0&&((l==null?void 0:l.getElementsByTagName("span")[0]).style.background=u.getColor()),(((A=g==null?void 0:g.getElementsByTagName)==null?void 0:A.call(g,"span").length)??0)>0&&((g==null?void 0:g.getElementsByTagName("span")[0]).style.borderBottomColor=u.getColor()),(((_=w==null?void 0:w.getElementsByTagName)==null?void 0:_.call(w,"span").length)??0)>0&&((w==null?void 0:w.getElementsByTagName("span")[0]).style.borderBottomColor=u.getColor()),u.toolboxMode("add")}),e==null||e.insertBefore(v,o)})}s&&s.addEventListener("click",function(){u.toolboxMode("action")}),u.toolboxMode("add")}toolboxMode(e){let t=document.getElementById("highlight-toolbox-mode-colors"),r=document.getElementById("highlight-toolbox-mode-add"),i=document.getElementById("highlight-toolbox-mode-edit"),s=document.getElementById("highlight-toolbox-mode-action");switch(e){case"colors":t&&(t.style.display="unset"),r&&(r.style.display="none"),i&&(i.style.display="none"),s&&(s.style.display="none");break;case"edit":t&&(t.style.display="none"),r&&(r.style.display="none"),i&&(i.style.display="unset"),s&&(s.style.display="none");break;case"action":t&&(t.style.display="none"),r&&(r.style.display="none"),i&&(i.style.display="none"),s&&(s.style.display="unset");break;default:t&&(t.style.display="none"),r&&(r.style.display="unset"),i&&(i.style.display="none"),s&&(s.style.display="none");break}}toolboxHide(){var t;let e=document.getElementById("highlight-toolbox");if(e&&(e.style.display="none"),this.selectionMenuClosed(),(t=this.properties)!=null&&t.preventScrollOnSelection){let r=Wt(document,"#iframe-wrapper");r.style.overflow="auto"}}toolboxShowDelayed(e){this.showTool(e.detail===1)}snapSelectionToWord(e=!1){var s;let t=this,r=this.navigator.iframes[0].contentDocument;if(r){let o=(s=t.dom(r.body))==null?void 0:s.getSelection();if(t.dom(r.body)&&o&&!(o!=null&&o.isCollapsed)){let p=function(g){let w=g.match(new RegExp("[^a-zA-Z0-9]+$"));return!w||!w.index?g:g.slice(0,w.index)},c=o.toString(),d=c.length-c.trimStart().length,u=c.length-c.trimEnd().length,m=c.length;var i=/[-!$%^&*()_+|~=`{}[\]:/;<>?,.@#]/;c=c.replace(i,""),d=m-c.trimStart().length,c=p(c),u=m-c.trimEnd().length;let b=document.createRange();e?(b.setStart(o.anchorNode,o.anchorOffset+d),b.setEnd(o.focusNode,o.focusOffset-u)):(b.setStart(o.anchorNode,o.anchorOffset),b.setEnd(o.focusNode,o.focusOffset));let v=b.collapsed;b.detach();let y=o.focusNode,h;e?(h=o.focusOffset-u,o.collapse(o.anchorNode,o.anchorOffset+d)):(h=o.focusOffset,o.collapse(o.anchorNode,o.anchorOffset));let l=["forward","backward"];v&&(l=["backward","forward"]),e?(o.modify("move",l[0],"character"),o.modify("move",l[1],"word"),o.extend(y,h),o.modify("extend",l[1],"character"),o.modify("extend",l[0],"word")):o.extend(y,h),this.selection(o.toString(),o)}return o}}toolboxShow(){var e;if(this.activeAnnotationMarkerId===void 0){let t=this,r=document.getElementById("highlight-toolbox-mode-add"),i=this.dom((e=this.navigator.iframes[0].contentDocument)==null?void 0:e.body).getRange();if((!i||i.collapsed)&&r){getComputedStyle(r).display!=="none"&&t.toolboxHide();return}this.isIOS()&&setTimeout(function(){let s=t.navigator.iframes[0].contentDocument;if(s){let o=t.dom(s.body).getSelection();o.removeAllRanges(),setTimeout(function(){var p,m;o.addRange(i);function c(b){let v={className:h=>li.indexOf(h)<0,idName:h=>li.indexOf(h)<0},y=t.navigator.iframes[0].contentDocument;if(y)return tr(b,y,v)}let d=t.navigator.iframes[0].contentWindow,u=ds(d,c);(m=(p=t.navigator.annotationModule)==null?void 0:p.annotator)==null||m.saveTemporarySelectionInfo(u)},5)}},100),this.toolboxPlacement(),this.toolboxHandler()}}toolboxPlacement(){var i,s,o,c,d;let e=this.dom((i=this.navigator.iframes[0].contentDocument)==null?void 0:i.body).getRange();if(!e||e.collapsed)return;let t=e.getBoundingClientRect(),r=document.getElementById("highlight-toolbox");r&&(((s=this.properties)==null?void 0:s.menuPosition)==="top"?(r.style.left="0px",r.style.transform="revert",r.style.width="100%",r.style.textAlign="center",r.style.position="absolute",r.style.setProperty("--content","revert")):((o=this.properties)==null?void 0:o.menuPosition)==="bottom"?(r.style.bottom="0px",r.style.left="0px",r.style.transform="revert",r.style.width="100%",r.style.textAlign="center",r.style.position="absolute",r.style.setProperty("--content","revert")):(((c=this.navigator.view)==null?void 0:c.isPaginated())?r.style.top=t.top+(((d=this.navigator.attributes)==null?void 0:d.navHeight)??0)+"px":r.style.top=t.top+"px",r.style.left=(t.right-t.left)/2+t.left+"px"))}toolboxHandler(){var t,r,i,s,o,c,d;let e=document.getElementById("highlight-toolbox");if(e&&getComputedStyle(e).display==="none"){e.style.display="block",((t=this.navigator.view)==null?void 0:t.isPaginated())?e.style.position="absolute":e.style.position="relative",this.selectionMenuOpened();let p=this;p.toolboxMode("add");let m=document.getElementById("highlightIcon"),b=document.getElementById("collapseIcon"),v=document.getElementById("underlineIcon"),y=document.getElementById("noteIcon"),h=document.getElementById("colorIcon"),l=document.getElementById("speakIcon");if(this.navigator.rights.enableAnnotations){if(m&&(m.style.display="unset",h&&m.getElementsByTagName("span").length>0&&(m.getElementsByTagName("span")[0].style.background=this.getColor())),v&&(v.style.display="unset",h&&v.getElementsByTagName("span").length>0&&(v.getElementsByTagName("span")[0].style.borderBottomColor=this.getColor())),y&&(y.style.display="unset",h&&y.getElementsByTagName("span").length>0&&(y.getElementsByTagName("span")[0].style.borderBottomColor=this.getColor())),h){h.style.display="unset";let g=h.lastChild;g.style.backgroundColor=this.getColor()}if(m){let g=function(){p.doHighlight(!1,0),p.toolboxHide(),m==null||m.removeEventListener("click",g)},w=m.cloneNode(!0);(r=m==null?void 0:m.parentNode)==null||r.replaceChild(w,m),m=document.getElementById("highlightIcon"),m==null||m.addEventListener("click",g)}if(v){let g=function(){p.doHighlight(!1,1),p.toolboxHide(),v==null||v.removeEventListener("click",g)},w=v.cloneNode(!0);(i=v==null?void 0:v.parentNode)==null||i.replaceChild(w,v),v=document.getElementById("underlineIcon"),v==null||v.addEventListener("click",g)}if(y){let g=function(){p.doHighlight(!1,4),p.toolboxHide(),y==null||y.removeEventListener("click",g)},w=y.cloneNode(!0);(s=y==null?void 0:y.parentNode)==null||s.replaceChild(w,y),y=document.getElementById("noteIcon"),y==null||y.addEventListener("click",g)}}else m&&m.style.setProperty("display","none"),v&&v.style.setProperty("display","none"),y&&y.style.setProperty("display","none"),h&&h.style.setProperty("display","none"),b&&b.style.setProperty("display","none");if(this.navigator.rights.enableTTS){if(l){let g=function(){l==null||l.removeEventListener("click",g),p.speak()},w=l.cloneNode(!0);(o=l==null?void 0:l.parentNode)==null||o.replaceChild(w,l),l=document.getElementById("speakIcon"),l==null||l.addEventListener("click",g)}}else l&&l.style.setProperty("display","none");(((c=this.properties)==null?void 0:c.selectionMenuItems)??[])&&(((d=this.properties)==null?void 0:d.selectionMenuItems)??[]).forEach(g=>{var _;g.icon&&(g.icon.id=g.id);let w=document.getElementById(g.id),E=this;function A(){var T,x,D,L,H,G,j;w==null||w.removeEventListener("click",A);function C(q){let X={className:$=>li.indexOf($)<0,idName:$=>li.indexOf($)<0},Z=E.navigator.iframes[0].contentDocument;if(Z)return tr(q,Z,X)}let I=E.navigator.iframes[0].contentWindow;if(I){let q=ds(I,C);if(q===void 0){let X=E.navigator.iframes[0].contentDocument;q=(x=(T=E.navigator.annotationModule)==null?void 0:T.annotator)==null?void 0:x.getTemporarySelectionInfo(X)}if(q!==void 0)if(g.callback)g.callback(q.cleanText,(D=q.range)==null?void 0:D.startContainer.parentElement);else{let X=(L=g.highlight)==null?void 0:L.style,Z=g.marker?g.marker:3;if(Z===3&&E.navigator.rights.enableAnnotations||Z===2&&E.navigator.rights.enableBookmarks){let $=E.navigator.iframes[0].contentDocument;if($){let ue=E.createHighlight(E.dom($.body).getWindow(),q,(H=g.highlight)==null?void 0:H.color,!0,Z,g.icon,g.popup,X);E.options.onAfterHighlight(ue,Z),E.navigator.rights.enableAnnotations?(G=E.navigator.annotationModule)==null||G.saveAnnotation(ue[0]).then(fe=>{var he,Se;g!=null&&g.note&&fe.highlight&&((Se=(he=E.navigator.annotationModule)==null?void 0:he.api)==null||Se.addCommentToAnnotation(fe).then(V=>{var O;(O=E.navigator.annotationModule)==null||O.updateAnnotation(V).then(async()=>{Cr.default.log("update highlight "+V.id)})}))}):E.navigator.rights.enableBookmarks&&((j=E.navigator.bookmarkModule)==null||j.saveAnnotation(ue[0]))}}}}E.callbackComplete()}if(w){let C=w.cloneNode(!0);(_=w==null?void 0:w.parentNode)==null||_.replaceChild(C,w),w=document.getElementById(g.id),w==null||w.addEventListener("click",A)}})}}doHighlight(e,t){var o,c,d,u,p,m;let r=this;function i(b){let v={className:h=>li.indexOf(h)<0,idName:h=>li.indexOf(h)<0},y=r.navigator.iframes[0].contentDocument;if(y)return tr(b,y,v)}let s=r.navigator.iframes[0].contentWindow;if(s){let b=ds(s,i);if(b===void 0){let v=r.navigator.iframes[0].contentDocument;b=(c=(o=this.navigator.annotationModule)==null?void 0:o.annotator)==null?void 0:c.getTemporarySelectionInfo(v)}if(b){if(this.options.onBeforeHighlight(b)===!0){let v;v=this.getColor(),n.isHexColor(v)&&(v=n.hexToRgbChannels(v));let y=r.navigator.iframes[0].contentDocument;if(y){let h=this.createHighlight(r.dom(y.body).getWindow(),b,v,!0,t??0);this.options.onAfterHighlight(h,t),this.navigator.rights.enableAnnotations&&t!==2?(d=this.navigator.annotationModule)==null||d.saveAnnotation(h[0]):this.navigator.rights.enableBookmarks&&t===2&&((u=this.navigator.bookmarkModule)==null||u.saveAnnotation(h[0]))}}e||this.dom((p=this.navigator.iframes[0].contentDocument)==null?void 0:p.body).removeAllRanges()}else e||this.dom((m=this.navigator.iframes[0].contentDocument)==null?void 0:m.body).removeAllRanges()}}speak(){var e,t;if(this.navigator.rights.enableTTS){let i=function(d){let u={className:m=>li.indexOf(m)<0,idName:m=>li.indexOf(m)<0},p=r.navigator.iframes[0].contentDocument;if(p)return tr(d,p,u)},r=this,s=r.navigator.iframes[0].contentWindow;if(s){let d=ds(s,i);if(d===void 0){let u=r.navigator.iframes[0].contentDocument;d=(t=(e=r.navigator.annotationModule)==null?void 0:e.annotator)==null?void 0:t.getTemporarySelectionInfo(u)}d!==void 0&&this.navigator.ttsModule.speak(d,!0,()=>{})}let o=r.navigator.iframes[0].contentDocument;o&&r.dom(o.body).getSelection().removeAllRanges();let c=document.getElementById("highlight-toolbox");c&&(c.style.display="none"),this.selectionMenuClosed()}}stopReadAloud(){this.navigator.rights.enableTTS&&this.doneSpeaking()}callbackComplete(){this.toolboxHide();let e=this.navigator.iframes[0].contentDocument;e&&this.dom(e.body).removeAllRanges()}isOutsideViewport(e){let t=Wt(document,"#iframe-wrapper"),r=t.scrollLeft,i=r+t.clientWidth,s=e.left+e.width,o=e.top+e.height,c=t.scrollTop,d=c+t.clientHeight,u=o<c,p=e.top>d,m=s<r,b=e.left>i;return u||p||m||b}isInsideViewport(e){let t=Wt(document,"#iframe-wrapper"),r=t.scrollTop,i=r+t.clientHeight,s=e.top+20>=r,o=e.top<=i,c=t.scrollLeft,d=c+t.clientWidth,u=e.left+e.width,p=e.left>c,m=u<d;return s&&o&&p&&m}get visibleTextRects(){let e=this.navigator.iframes[0].contentDocument;if(e){let r=function(c,d=[]){var p;let u=c.firstChild;for(;u;)u.nodeType===1&&r(u,d),u.nodeType===3&&(p=u.textContent)!=null&&p.trim()&&d.push(u),u=u.nextSibling;return d},i=function(c){return r(c).map(u=>{let{top:p,height:m,left:b,width:v}=s(u);return{top:p,height:m,width:v,left:b,node:u,textContent:u.textContent??""}})},s=function(c){try{let d=document.createRange();d.selectNode(c);let u=d.getBoundingClientRect();return d.detach(),u}catch(d){Cr.default.log("measureTextNode "+d),Cr.default.log("measureTextNode "+c),Cr.default.log(`${c.textContent}`)}},t=ks(e,"body");return i(t).filter(c=>this.isInsideViewport(c))}return[]}doneSpeaking(e=!1){if(this.navigator.rights.enableTTS){this.toolboxHide();let t=this.navigator.iframes[0].contentDocument;t&&this.dom(t.body).removeAllRanges(),this.navigator.ttsModule.cancel(),e&&this.navigator.reload()}}normalizeHighlights(e){var t;return t=e.filter(function(r){return r.parentElement?r:null}),t=this.unique(t),t.sort(function(r,i){return r.offsetTop-i.offsetTop||r.offsetLeft-i.offsetLeft}),t}flattenNestedHighlights(e){let t,r=this;r.sortByDepth(e,!0);function i(){let s=!1;return e.forEach(function(o,c){let d=o.parentElement,u=d.previousSibling,p=d.nextSibling;r.isHighlight(d)&&(r.haveSameColor(d,o)?(d.replaceChild(o.firstChild,o),e[c]=d,s=!0):(o.nextSibling||(r.dom(o).insertBefore(p||d),s=!0),o.previousSibling||(r.dom(o).insertAfter(u||d),s=!0),d.hasChildNodes()||r.dom(d).remove()))}),s}do t=i();while(t)}mergeSiblingHighlights(e){let t=this;function r(i,s){return s&&s.nodeType===iu.ELEMENT_NODE&&t.haveSameColor(i,s)&&t.isHighlight(s)}e.forEach(function(i){let s=i.previousSibling,o=i.nextSibling;r(i,s)&&(t.dom(i).prepend(s.childNodes),t.dom(s).remove()),r(i,o)&&(t.dom(i).append(o.childNodes),t.dom(o).remove()),t.dom(i).normalizeTextNodes()})}setColor(e){this.options.color=e}getColor(){return this.options.color}isHighlight(e){return e&&e.nodeType===iu.ELEMENT_NODE&&e.hasAttribute(aH)}createWrapper(){let e=document.createElement("mark");return e.style.background="linear-gradient("+n.hexToRgbA(this.options.color)+", "+n.hexToRgbA(this.options.color)+")",e.className=this.options.highlightedClass,e}static isHexColor(e){return/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)}static hexToRgbString(e){let t;return t=e.substring(1).split(""),t.length===3&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),t}static hexToRgbChannels(e){let t;if(this.isHexColor(e))return t=this.hexToRgbString(e),{red:t>>16&255,green:t>>8&255,blue:t&255};throw new Error("Bad Hex")}static hexToRgbA(e){let t;if(this.isHexColor(e))return t=this.hexToRgbChannels(e),"rgba("+[t.red,t.green,t.blue].join(",")+",.5)";if(typeof e=="object"){let r=e;return"rgba("+[r.red,r.green,r.blue].join(",")+",.5)"}throw new Error("Bad Hex")}static hexToRgbAWithOpacity(e,t){let r;if(this.isHexColor(e))return r=this.hexToRgbChannels(e),"rgba("+[r.red,r.green,r.blue].join(",")+","+t+")";if(typeof e=="object"){let i=e;return"rgba("+[i.red,i.green,i.blue].join(",")+","+t+")"}throw new Error("Bad Hex")}resetHighlightBoundingStyle(e){e.style.outline="none",e.style.setProperty("background-color","transparent","important")}resetHighlightAreaStyle(e,t){var s,o,c,d,u,p,m,b,v,y,h,l,g,w,E;let r=(s=this.navigator.iframes[0].contentWindow)==null?void 0:s.document,i=e.parentNode&&e.parentNode.nodeType===Node.ELEMENT_NODE&&e.parentNode.getAttribute?e.parentNode.getAttribute("id"):void 0;if(i){let A=In.find(_=>_.id===i);if(A){if(A.marker===3||A.marker===2)if((o=A.style)!=null&&o.hover){if((c=A.style)!=null&&c.hover)for(let I=0;I<((u=(d=A.style)==null?void 0:d.hover)==null?void 0:u.length);I++){let T=(p=A.style)==null?void 0:p.hover[I];e.style.removeProperty(T.property)}let C="";if((m=A.style)!=null&&m.default)for(let I=0;I<((v=(b=A.style)==null?void 0:b.default)==null?void 0:v.length);I++){let T=(y=A.style)==null?void 0:y.default[I];e.style.removeProperty(T.property),C+=`${T.property}: ${T.value} !${T.priority};`}e.setAttribute("style",`${e.getAttribute("style")}; ${C}`)}else if((h=A.style)!=null&&h.hoverClass){(l=A.style)!=null&&l.hoverClass&&e.classList.remove((g=A.style)==null?void 0:g.hoverClass);let C="";(w=A.style)!=null&&w.defaultClass&&e.classList.add((E=A.style)==null?void 0:E.defaultClass),e.setAttribute("style",`${e.getAttribute("style")}; ${C}`)}else if(n.isHexColor(A.color)){let C=n.hexToRgbChannels(A.color);e.style.setProperty("background-color",`rgba(${C.red}, ${C.green}, ${C.blue}, 0)`,"important")}else e.classList.remove("hover");else if(A.marker===1||A.marker===4)if(typeof A.color=="object"){let C=A.color;e.style.setProperty("background-color",`rgba(${C.red}, ${C.green}, ${C.blue}, 0)`,"important"),e.style.setProperty("border-bottom",`2px solid rgba(${C.red}, ${C.green}, ${C.blue}, 1)`,"important")}else if(n.isHexColor(A.color)){let C=n.hexToRgbChannels(A.color);e.style.setProperty("background-color",`rgba(${C.red}, ${C.green}, ${C.blue}, 0)`,"important"),e.style.setProperty("border-bottom",`2px solid rgba(${C.red}, ${C.green}, ${C.blue}, 1)`,"important")}else e.classList.remove("hover");else if(typeof A.color=="object"){let C=A.color;e.style.setProperty("background-color",`rgba(${C.red}, ${C.green}, ${C.blue}, ${fs})`,"important")}else if(n.isHexColor(A.color)){let C=n.hexToRgbChannels(A.color);e.style.setProperty("background-color",`rgba(${C.red}, ${C.green}, ${C.blue}, ${fs})`,"important")}else e.classList.remove("hover");let _;if(r){let C=r.getElementById(t);C&&(_=C.querySelector(`#${A.id}`))}if(_){let C=_.getElementsByClassName(Zl);if(C.length>0){let I=C.item(0).getElementsByClassName("icon-tooltip");I.length>0&&I.item(0).style.removeProperty("display")}}}}}setHighlightAreaStyle(e,t,r){var i,s,o,c,d,u,p,m,b,v,y,h;for(let l of t){if(r.marker===3||r.marker===2)if((i=r.style)!=null&&i.hover){if((s=r.style)!=null&&s.default)for(let w=0;w<((c=(o=r.style)==null?void 0:o.default)==null?void 0:c.length);w++){let E=(d=r.style)==null?void 0:d.default[w];l.style.removeProperty(E.property)}let g="";for(let w=0;w<((p=(u=r.style)==null?void 0:u.hover)==null?void 0:p.length);w++){let E=(m=r.style)==null?void 0:m.hover[w];l.style.removeProperty(E.property),g+=`${E.property}: ${E.value} !${E.priority};`}l.setAttribute("style",`${l.getAttribute("style")}; ${g}`)}else if((b=r.style)!=null&&b.hoverClass){(v=r.style)!=null&&v.defaultClass&&l.classList.remove((y=r.style)==null?void 0:y.defaultClass);let g="";l.classList.add((h=r.style)==null?void 0:h.hoverClass),l.setAttribute("style",`${l.getAttribute("style")}; ${g}`)}else if(n.isHexColor(r.color)){let g=n.hexToRgbChannels(r.color);l.style.setProperty("background-color",`rgba(${g.red}, ${g.green}, ${g.blue}, ${.1})`,"important")}else l.classList.add("hover");else if(r.marker===1||r.marker===4)if(typeof r.color=="object"){let g=r.color;l.style.setProperty("background-color",`rgba(${g.red}, ${g.green}, ${g.blue}, ${.1})`,"important"),l.style.setProperty("border-bottom",`2px solid rgba(${g.red}, ${g.green}, ${g.blue}, 1)`,"important")}else if(n.isHexColor(r.color)){let g=n.hexToRgbChannels(r.color);l.style.setProperty("background-color",`rgba(${g.red}, ${g.green}, ${g.blue}, ${.1})`,"important"),l.style.setProperty("border-bottom",`2px solid rgba(${g.red}, ${g.green}, ${g.blue}, 1)`,"important")}else l.classList.add("hover");else if(typeof r.color=="object"){let g=r.color;l.style.setProperty("background-color",`rgba(${g.red}, ${g.green}, ${g.blue}, ${rA})`,"important")}else if(n.isHexColor(r.color)){let g=n.hexToRgbChannels(r.color);l.style.setProperty("background-color",`rgba(${g.red}, ${g.green}, ${g.blue}, ${rA})`,"important")}else l.classList.add("hover");if(r.type!==4){let w=e.getElementById("R2_ID_HIGHLIGHTS_CONTAINER").querySelector(`#${r.id}`).getElementsByClassName(Zl);if(w.length>0){let E=w.item(0).getElementsByClassName("icon-tooltip");E.length>0&&E.item(0).style.setProperty("display","block")}}}}setAndResetSearchHighlight(e,t){var s;let r=(s=this.navigator.iframes[0].contentWindow)==null?void 0:s.document,i=Array.from(r.getElementById("R2_ID_SEARCH_CONTAINER").querySelectorAll(`.${mr}`));for(let o of i){let c=o,d=c.parentNode&&c.parentNode.nodeType===Node.ELEMENT_NODE&&c.parentNode.getAttribute?c.parentNode.getAttribute("id"):void 0;if(t.forEach(u=>{if(d===u.id&&u){if(typeof u.color=="object"){let b=u.color;c.style.setProperty("background-color",`rgba(${b.red}, ${b.green}, ${b.blue}, ${fs})`,"important")}else if(n.isHexColor(u.color)){let b=n.hexToRgbChannels(u.color);c.style.setProperty("background-color",`rgba(${b.red}, ${b.green}, ${b.blue}, ${fs})`,"important")}else c.classList.remove("hover");let m=r.getElementById("R2_ID_SEARCH_CONTAINER").querySelector(`#${u.id}`).getElementsByClassName(Zl);if(m.length>0){let b=m.item(0).getElementsByClassName("icon-tooltip");b.length>0&&b.item(0).style.removeProperty("display")}}}),d===e.id&&e){if(typeof e.color=="object"){let m=e.color;c.style.setProperty("background-color",`rgba(${m.red}, ${m.green}, ${m.blue}, ${fs})`,"important")}else if(n.isHexColor(e.color)){let m=n.hexToRgbChannels(e.color);c.style.setProperty("background-color",`rgba(${m.red}, ${m.green}, ${m.blue}, ${fs})`,"important")}else c.classList.remove("hover");let p=r.getElementById("R2_ID_SEARCH_CONTAINER").querySelector(`#${e.id}`).getElementsByClassName(Zl);if(p.length>0){let m=p.item(0).getElementsByClassName("icon-tooltip");m.length>0&&m.item(0).style.removeProperty("display")}}}}isIOS(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)!=null||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1}isAndroid(){return navigator.userAgent.match(/Android/i)!=null}async processMouseEvent(e){var s,o,c,d,u,p,m,b,v,y,h,l,g;let t=(s=this.navigator.iframes[0].contentWindow)==null?void 0:s.document;if(!t||!(e.type==="mouseup"||e.type==="click"||e.type==="touchup")||!t.getElementById("R2_ID_HIGHLIGHTS_CONTAINER")&&!t.getElementById("R2_ID_SEARCH_CONTAINER")&&!t.getElementById("R2_ID_PAGEBREAK_CONTAINER")&&!t.getElementById("R2_ID_READALOUD_CONTAINER")&&!t.getElementById("R2_ID_DEFINITIONS_CONTAINER"))return;let r=e.target,i=In.find(w=>{var E;return w.id===((E=e.target.parentElement)==null?void 0:E.id)});if(!i||!r){for(let w in Qo){let E=t.getElementById(w);if(E){let A=E.querySelectorAll(`.${tc}`);for(let C of A)this.resetHighlightBoundingStyle(C);let _=Array.from(E.querySelectorAll(`.${mr}`));for(let C of _)this.resetHighlightAreaStyle(C,w)}}return}if(r.getAttribute("data-click")&&(e.type==="mouseup"||e.type==="click"||e.type==="touchup")&&((o=r.parentElement)==null?void 0:o.style.display)!=="none"){let w={highlight:i};Cr.default.log(JSON.stringify(w));let E=this,A;if(E.navigator.rights.enableAnnotations?A=await((c=this.navigator.annotationModule)==null?void 0:c.getAnnotation(w.highlight)):E.navigator.rights.enableBookmarks&&(A=await((d=this.navigator.bookmarkModule)==null?void 0:d.getAnnotation(w.highlight))),w.highlight.type===0&&((p=(u=this.navigator.annotationModule)==null?void 0:u.api)==null||p.selectedAnnotation(A).then(async()=>{})),A!=null&&A.id){Cr.default.log("selected highlight "+A.id),E.lastSelectedHighlight=A.id;let _=document.getElementById("highlight-toolbox");if(_)if(_.style.top=e.clientY+(((m=this.navigator.attributes)==null?void 0:m.navHeight)??0)+"px",_.style.left=e.clientX+"px",getComputedStyle(_).display==="none"){let T=function(){var j,q;(q=(j=E.navigator.annotationModule)==null?void 0:j.api)==null||q.addCommentToAnnotation(A).then(X=>{var Z;(Z=E.navigator.annotationModule)==null||Z.updateAnnotation(X).then(async()=>{Cr.default.log("update highlight "+X.id),_&&(_.style.display="none"),E.selectionMenuClosed()}),_&&(_.style.display="none"),E.selectionMenuClosed(),x==null||x.removeEventListener("click",T,!1)})},L=function(){var j,q;E.navigator.rights.enableAnnotations?(j=E.navigator.annotationModule)==null||j.deleteSelectedHighlight(A).then(async()=>{Cr.default.log("delete highlight "+A.id),_&&(_.style.display="none"),E.selectionMenuClosed()}):E.navigator.rights.enableBookmarks&&((q=E.navigator.bookmarkModule)==null||q.deleteSelectedHighlight(A).then(async()=>{Cr.default.log("delete highlight "+A.id),_&&(_.style.display="none"),E.selectionMenuClosed()}))};_.style.display="block",this.toolboxMode("edit");let C=document.getElementById("colorIcon"),I=document.getElementById("highlightIcon");C&&(C.style.display="none"),I&&(I.style.display="none");let x=document.getElementById("commentIcon"),D=document.getElementById("cloneCommentIcon");if(D){let j=D.parentElement;j&&j.removeChild(D)}if(x){x.style.display="none";let j=x.cloneNode(!0),q=x.parentElement;j.style.display="unset",j.id="cloneCommentIcon",j.addEventListener("click",T,!1),q&&q.append(j)}let H=document.getElementById("deleteIcon"),G=document.getElementById("cloneDeleteIcon");if(G){let j=G.parentElement;j&&j.removeChild(G)}if(H){H.style.display="none";let j=H.cloneNode(!0),q=H.parentElement;j.style.display="unset",j.id="cloneDeleteIcon",j.addEventListener("click",L,!1),q&&q.append(j)}}else _.style.display="none",this.selectionMenuClosed(),_.offsetWidth,_.style.display="block"}else{r.dataset.definition&&new tu(this.navigator).showPopup(r.dataset.definition,e);let _=(y=(v=(b=this.navigator.definitionsModule)==null?void 0:b.properties)==null?void 0:v.definitions)==null?void 0:y.filter(C=>C.order===Number(r==null?void 0:r.dataset.order))[0];Cr.default.log(_),(l=(h=this.navigator.definitionsModule)==null?void 0:h.api)!=null&&l.click&&((g=this.navigator.definitionsModule.api)==null||g.click(e1.omit(_,"callbacks"),e1.omit(i,"definition")),this.navigator.emit("definition.click",_,i))}}}async prepareContainers(e){for(let t in Qo)await this.ensureHighlightsContainer(e,t)}async ensureHighlightsContainer(e,t){var i,s;let r=e.document;if(!r.getElementById(t)){let o=r.createElement("div");o.setAttribute("id",t),t!=="R2_ID_GUTTER_RIGHT_CONTAINER"&&o.style.setProperty("pointer-events","none"),((i=this.navigator.view)==null?void 0:i.layout)==="fixed"&&(o.style.setProperty("position","absolute"),o.style.setProperty("top","0"),o.style.setProperty("left","0")),r.body&&r.body.append(o),((s=await this.layerSettings.getProperty(t))==null?void 0:s.value)===!1&&(o.style.display="none")}return r.getElementById(t)}hideAllhighlights(e){this.removeAllChildNodes(e.getElementById("R2_ID_HIGHLIGHTS_CONTAINER")),this.removeAllChildNodes(e.getElementById("R2_ID_SEARCH_CONTAINER")),this.removeAllChildNodes(e.getElementById("R2_ID_READALOUD_CONTAINER")),this.removeAllChildNodes(e.getElementById("R2_ID_PAGEBREAK_CONTAINER")),this.removeAllChildNodes(e.getElementById("R2_ID_DEFINITIONS_CONTAINER"))}destroyAllhighlights(e){this.hideAllhighlights(e),In.splice(0,In.length)}removeAllChildNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}destroyHighlights(e){var r;let t=(r=this.navigator.iframes[0].contentWindow)==null?void 0:r.document;if(t){let i;switch(e){case 2:i=t.getElementById("R2_ID_READALOUD_CONTAINER"),i&&this.removeAllChildNodes(i);break;case 1:i=t.getElementById("R2_ID_SEARCH_CONTAINER"),i&&this.removeAllChildNodes(i);break;case 3:i=t.getElementById("R2_ID_PAGEBREAK_CONTAINER"),i&&this.removeAllChildNodes(i);break;case 4:i=t.getElementById("R2_ID_DEFINITIONS_CONTAINER"),i&&this.removeAllChildNodes(i);break;case 5:i=t.getElementById("R2_ID_LINEFOCUS_CONTAINER"),i&&this.removeAllChildNodes(i);break;case 6:i=t.getElementById("R2_ID_GUTTER_RIGHT_CONTAINER"),i&&this.removeAllChildNodes(i);break;default:i=t.getElementById("R2_ID_HIGHLIGHTS_CONTAINER"),i&&this.removeAllChildNodes(i),In.splice(0,In.length);break}}}destroyHighlight(e,t){if(!e)return;let r=-1;In.find((o,c)=>(r=c,o.id===t))&&r>=0&&r<In.length&&In.splice(r,1);let s=e.getElementById(t);s&&this.removeAllChildNodes(s)}createHighlight(e,t,r,i,s,o,c,d,u,p){try{let m=`${t.rangeInfo.startContainerElementCssSelector}${t.rangeInfo.startContainerChildTextNodeIndex}${t.rangeInfo.startOffset}${t.rangeInfo.endContainerElementCssSelector}${t.rangeInfo.endContainerChildTextNodeIndex}${t.rangeInfo.endOffset}`,b=cs.hash(m),v=(p||"R2_HIGHLIGHT_")+b;this.destroyHighlight(e.document,v);let y=`rgb(${Zo.red}, ${Zo.green}, ${Zo.blue})`,h={color:r||y,id:v,pointerInteraction:i,selectionInfo:t,marker:s,icon:o,popup:c,style:d,type:u||0};(u===0||u===4||u===void 0)&&In.push(h);let l=this.createHighlightDom(e,h);return h.position=parseInt((l!=null&&l.hasChildNodes()?l.childNodes[0]:l).style.top.replace("px","")),[h,l]}catch(m){throw"Can't create highlight: "+m}}createHighlightDom(e,t){var H,G,j,q,X,Z,$,ue,fe,he,Se,V,O,M,P,N,U,J,te,re,pe,ve,Pe,ke,je,Ne,Ye,De,ye,Te,me,ae;let r=e.document,i=yh(r,t.selectionInfo.rangeInfo);if(!i)return;for(let z in Qo)this.ensureHighlightsContainer(e,z);let s=r.createElement("div");s.setAttribute("id",t.id),s.setAttribute("class",iA),s.style.setProperty("pointer-events","none"),t.pointerInteraction&&(s.setAttribute("data-click","1"),s.addEventListener("mouseover",z=>{var Q;if(z.target.classList.contains("R2_CLASS_HIGHLIGHT_AREA")){let le=z.currentTarget,Ee=In.find(Be=>Be.id===z.currentTarget.id);if(z.type==="mouseover"&&((Q=le.parentElement)==null?void 0:Q.style.display)!=="none"&&Ee){let Be=Array.from(le.querySelectorAll(`.${mr}`));this.setHighlightAreaStyle(r,Be,Ee)}}}),s.addEventListener("mouseleave",z=>{let Q=z.currentTarget,le=Array.from(Q.querySelectorAll(`.${mr}`));for(let tt of le)this.resetHighlightAreaStyle(tt,Q.id);let Ee=Q.querySelector(`.${tc}`),Be=Q.querySelectorAll(`.${tc}`);for(let tt of Be)(!Ee||tt!==Ee)&&this.resetHighlightBoundingStyle(tt)}));let o=(H=this.navigator.view)==null?void 0:H.isPaginated();o?r.body.style.position="revert":r.body.style.position="relative";let c=r.body.getBoundingClientRect(),d=this.getScrollingElement(r),u=o?-d.scrollLeft:c.left,p=o?-d.scrollTop:c.top,m=1,b=!1,v=!1,h=b||v||!1;Cr.default.debug(h),h=!0;let l=mh(i,h),g=3,w=2,E=3,A=0,_=24,C,I;for(let z of l){let Q=r.createElement("div");Q.setAttribute("class",mr),Q.dataset.marker=""+t.marker;let le="";if(b&&t.marker!==3&&t.marker!==2&&t.marker!==4){let se=t.color;n.isHexColor(se)&&(se=n.hexToRgbChannels(se)),le+=`border-bottom: ${w*m}px solid rgba(${se.red}, ${se.green}, ${se.blue}, ${fs}) !important`}if(t.marker===3||t.marker===2)if((G=t.style)!=null&&G.default){for(let se=0;se<((q=(j=t.style)==null?void 0:j.default)==null?void 0:q.length);se++){let He=(X=t.style)==null?void 0:X.default[se];le+=`${He.property}: ${He.value} !${He.priority};`}Q.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${g}px !important; ${le}`)}else(Z=t.style)!=null&&Z.defaultClass&&(Q.classList.add(($=t.style)==null?void 0:$.defaultClass),Q.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${g}px !important; ${le}`));else if(t.marker===1||t.marker===4)if(typeof t.color=="object"){let se=t.color;Q.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${g}px !important; background-color: rgba(${se.red}, ${se.green}, ${se.blue}, 0) !important; ${le}`),Q.style.setProperty("border-bottom",`2px solid rgba(${se.red}, ${se.green}, ${se.blue}, 1)`,"important")}else if(n.isHexColor(t.color)){let se=n.hexToRgbChannels(t.color);Q.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${g}px !important; background-color: rgba(${se.red}, ${se.green}, ${se.blue}, 0) !important; ${le}`),Q.style.setProperty("border-bottom",`2px solid rgba(${se.red}, ${se.green}, ${se.blue}, 1)`,"important")}else Q.setAttribute("style",`border-radius: ${g}px !important; ${le}`);else if(typeof t.color=="object"){let se=t.color;Q.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${g}px !important; background-color: rgba(${se.red}, ${se.green}, ${se.blue}, ${fs}) !important; ${le}`)}else if(n.isHexColor(t.color)){let se=n.hexToRgbChannels(t.color);Q.setAttribute("style",`mix-blend-mode: multiply; border-radius: ${g}px !important; background-color: rgba(${se.red}, ${se.green}, ${se.blue}, ${fs}) !important; ${le}`)}else Q.setAttribute("style",`border-radius: ${g}px !important; ${le}`);t.type===1||t.type===2||t.type===5||t.type===3?Q.style.setProperty("pointer-events","none"):(Q.style.setProperty("pointer-events","all"),Q.style.setProperty("cursor","hand")),Q.style.position="absolute",Q.scale=m,Q.rect={height:z.height,left:z.left-u,top:z.top-p,width:z.width},t.pointerInteraction&&(Q.setAttribute("data-click","1"),Q.tabIndex=0),Q.style.width=`${Q.rect.width*m}px`,Q.style.height=`${Q.rect.height*m}px`,Q.style.left=`${Q.rect.left*m}px`,Q.style.top=`${Q.rect.top*m}px`,s.append(Q);let Ee=parseInt(Q.style.top.replace("px",""));if((Ee<A||A===0)&&(A=Ee),_=parseInt(Q.style.height.replace("px","")),v){let se=r.createElement("div");se.setAttribute("class",mr);let He=t.color;n.isHexColor(He)&&(He=n.hexToRgbChannels(He)),se.setAttribute("style",`background-color: rgba(${He.red}, ${He.green}, ${He.blue}, ${fs}) !important;`),t.type===1||t.type===2||t.type===5||t.type===3?se.style.setProperty("pointer-events","none"):(se.style.setProperty("pointer-events","all"),se.style.setProperty("cursor","hand")),se.style.position="absolute",se.scale=m,se.rect={height:z.height,left:z.left-u,top:z.top-p,width:z.width},se.style.width=`${se.rect.width*m}px`,se.style.height=`${E*m}px`,se.style.left=`${se.rect.left*m}px`,se.style.top=`${(se.rect.top+se.rect.height/2-E/2)*m}px`,s.append(se)}let Be=(ue=this.navigator.iframes[0].contentWindow)==null?void 0:ue.innerWidth,tt=parseInt(getComputedStyle(r.documentElement).getPropertyValue("column-count")),$e=parseInt(getComputedStyle(r.documentElement).getPropertyValue("column-width")),et=parseInt(getComputedStyle(r.body).getPropertyValue("padding-left")),Ge=Be/(tt||1);Ge<$e&&(Ge=Be),o||(Ge=parseInt(getComputedStyle(r.body).width.replace("px","")));let Xe=this.navigator.settings.fontSize/100,ot=20*Xe;Xe<=1&&(ot=-60);let Le=0*Xe;Xe<=1&&(Le=-60),C=Math.floor(z.left/Ge)*Ge+Ge-(_<40?40:_)+Le,I=Math.floor(z.left/Ge)*Ge+(_<40?40:_)-ot;let _e=parseInt(this.navigator.iframes[0].contentDocument.documentElement.style.getPropertyValue("--USER__pageMargins"));_e>=2&&(I=I+et/tt,C=C-et/tt),o||(C=parseInt(getComputedStyle((fe=this.navigator.iframes[0].contentDocument)==null?void 0:fe.body).width.replace("px","")),I=parseInt(getComputedStyle((he=this.navigator.iframes[0].contentDocument)==null?void 0:he.body).width.replace("px",""))-Ge,_e>=2&&(I=I+et/2,C=C-et/2))}let T=i.getBoundingClientRect(),x=r.createElement("div");x.setAttribute("class",tc),x.style.setProperty("pointer-events","none"),x.style.position="absolute",x.scale=m,x.rect={height:T.height,left:T.left-u,top:T.top-p,width:T.width},x.style.width=`${x.rect.width*m}px`,x.style.height=`${x.rect.height*m}px`,x.style.left=`${x.rect.left*m}px`,x.style.top=`${x.rect.top*m}px`,s.append(x);let D=r.createElement("div");if(D.setAttribute("class",Zl),((Se=t.icon)==null?void 0:Se.position)==="left")D.setAttribute("style",`position: absolute;top:${A}px;left:${I+((O=(V=this.navigator.iframes[0].contentDocument)==null?void 0:V.scrollingElement)==null?void 0:O.scrollLeft)}px;height:${_}px; width:${_}px;`);else if(((M=t.icon)==null?void 0:M.position)==="inline")D.setAttribute("style",`position: absolute;top:${A-_/2}px;left:${parseInt(x.style.left.replace("px",""))+parseInt(x.style.width.replace("px",""))-_/2}px;height:${_}px; width:${_}px;`);else if(((P=t.icon)==null?void 0:P.position)==="center"){let Q=_/3*2;D.setAttribute("style",`position: absolute;top:${A}px;left:${parseInt(x.style.left.replace("px",""))+parseInt(x.style.width.replace("px",""))-Q}px;height:${_}px; width:${_}px;`)}else t.note&&t.marker!==3&&t.marker!==2&&t.marker!==4&&t.marker!==0&&t.marker!==1?D.setAttribute("style",`position: absolute;top:${A-_/2}px;left:${parseInt(x.style.left.replace("px",""))+parseInt(x.style.width.replace("px",""))-_/2}px;height:${_}px; width:${_}px;`):t.note&&t.marker===4||t.marker===0||t.marker===1?D.setAttribute("style",`position: absolute;top:${A}px;left:${C+((U=(N=this.navigator.iframes[0].contentDocument)==null?void 0:N.scrollingElement)==null?void 0:U.scrollLeft)}px;height:${_}px; width:${_}px;`):D.setAttribute("style",`position: absolute;top:${A}px;left:${C+((te=(J=this.navigator.iframes[0].contentDocument)==null?void 0:J.scrollingElement)==null?void 0:te.scrollLeft)}px;height:${_}px; width:${_}px;`);if(t.marker===3||t.marker===2)(re=t.icon)!=null&&re.class?(D.classList.add((pe=t.icon)==null?void 0:pe.class),D.id=(ve=t.icon)==null?void 0:ve.id):(Pe=t.icon)!=null&&Pe.svgPath?D.innerHTML=nu(`${(ke=t.icon)==null?void 0:ke.id}`,`${(je=t.icon)==null?void 0:je.title}`,`${(Ne=t.icon)==null?void 0:Ne.svgPath}`,"icon open",_,`${(Ye=t.icon)==null?void 0:Ye.color} !important`):(De=t.icon)!=null&&De.title&&(D.innerHTML=(ye=t.icon)==null?void 0:ye.title);else if(t.note){let z=t.color;n.isHexColor(z)&&(z=n.hexToRgbChannels(z)),t.marker===4||t.marker===0||t.marker===1?D.innerHTML=nu("","",'<path d="M24 24H0V0h24v24z" fill="none"/><circle cx="12" cy="12" r="14"/>',"icon open",_/2,`rgba(${z.red}, ${z.green}, ${z.blue}, 1) !important`):D.innerHTML=nu("note-icon","Note",'<rect fill="none" height="24" width="24"/><path d="M19,5v9l-5,0l0,5H5V5H19 M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h10l6-6V5C21,3.9,20.1,3,19,3z M12,14H7v-2h5V14z M17,10H7V8h10V10z"/>',"icon open",_,`rgba(${z.red}, ${z.green}, ${z.blue}, 1) !important`)}t.type===1||t.type===2||t.type===5||t.type===3?D.style.setProperty("pointer-events","none"):(D.style.setProperty("pointer-events","all"),D.style.setProperty("cursor","hand"));let L=this;if(t.type!==3&&t.type!==4&&D.addEventListener("click",async function(z){var Be,tt,$e,et,Ge;let Q;L.navigator.rights.enableAnnotations?(Q=await((Be=L.navigator.annotationModule)==null?void 0:Be.getAnnotationByID(t.id)),($e=(tt=L.navigator.annotationModule)==null?void 0:tt.api)==null||$e.selectedAnnotation(Q).then(async()=>{})):L.navigator.rights.enableBookmarks&&(Q=await((et=L.navigator.bookmarkModule)==null?void 0:et.getAnnotationByID(t.id))),Cr.default.log("selected highlight "+Q.id),L.lastSelectedHighlight=Q.id;let le=document.getElementById("highlight-toolbox");if(le)if(le.style.top=z.clientY+(((Ge=L.navigator.attributes)==null?void 0:Ge.navHeight)??0)+"px",le.style.left=z.clientX+"px",getComputedStyle(le).display==="none"){let se=function(){var Lt,qt;L.navigator.rights.enableAnnotations?(Lt=L.navigator.annotationModule)==null||Lt.deleteSelectedHighlight(Q).then(async()=>{Cr.default.log("delete highlight "+Q.id),le.style.display="none",L.selectionMenuClosed()}):L.navigator.rights.enableBookmarks&&((qt=L.navigator.bookmarkModule)==null||qt.deleteSelectedHighlight(Q).then(async()=>{Cr.default.log("delete highlight "+Q.id),le.style.display="none",L.selectionMenuClosed()}))};le.style.display="block",L.toolboxMode("edit");let Xe=document.getElementById("colorIcon"),ot=document.getElementById("highlightIcon");Xe&&(Xe.style.display="none"),ot&&(ot.style.display="none");let Le=document.getElementById("commentIcon"),_e=document.getElementById("cloneCommentIcon");if(_e){let Lt=_e.parentElement;Lt&&Lt.removeChild(_e)}Le&&(Le.style.display="none");let He=document.getElementById("deleteIcon"),qe=document.getElementById("cloneDeleteIcon");if(qe){let Lt=qe.parentElement;Lt&&Lt.removeChild(qe)}if(He){He.style.display="none";let Lt=He.cloneNode(!0),qt=He.parentElement;Lt.style.display="unset",Lt.id="cloneDeleteIcon",Lt.addEventListener("click",se,!1),qt&&qt.append(Lt)}}else le.style.display="none",L.selectionMenuClosed(),le.offsetWidth,le.style.display="block";let Ee=Array.from(s.querySelectorAll(`.${mr}`));L.setHighlightAreaStyle(r,Ee,t)}),t.note){let z=document.createElement("span");z.innerHTML=t.note,z.className="icon-tooltip",t.marker===3||t.marker===2?((Te=t.popup)!=null&&Te.background&&z.style.setProperty("background",t.popup.background),(me=t.popup)!=null&&me.textColor&&z.style.setProperty("color",t.popup.textColor),(ae=t.popup)!=null&&ae.class&&z.classList.add(t.popup.class)):(z.style.setProperty("background","lightyellow"),z.style.setProperty("color","black"))}switch((t.note||t.marker===3||t.marker===2)&&s.append(D),t.type){case 1:r.getElementById("R2_ID_SEARCH_CONTAINER").append(s);break;case 2:r.getElementById("R2_ID_READALOUD_CONTAINER").append(s);break;case 3:r.getElementById("R2_ID_PAGEBREAK_CONTAINER").append(s);break;case 4:r.getElementById("R2_ID_DEFINITIONS_CONTAINER").append(s);break;default:r.getElementById("R2_ID_HIGHLIGHTS_CONTAINER").append(s);break}return s}addSelectionMenuItem(e){var t,r;(((t=this.properties)==null?void 0:t.selectionMenuItems)??[])&&(((r=this.properties)==null?void 0:r.selectionMenuItems)??[]).push(e)}};var yA=Rt(c1());F();var yH=Rt(Pn());var mo={className:n=>!0,idName:n=>!0,tagName:n=>!0};var bA=Rt(vh()),xi=Rt(Pn());F();var gA=Rt(Pn());var ou=class{constructor(e,t,r){this.currSeconds=0;this.publication=e,this.properties=t,this.api=r}static async create(e){let t=new this(e.publication,e,e.api);return await t.start(),t}async start(){this.startResearchSession()}async stop(){gA.default.log("Consumption module stop"),this.endResearchSession()}initialize(){let e=this.navigator.iframes[0].contentWindow;if(e){let t=this;e.onload=function(){t.resetTimer()},e.onmousemove=function(){t.resetTimer()},e.onmousedown=function(){t.resetTimer()},e.ontouchstart=function(){t.resetTimer()},e.onclick=function(){t.resetTimer()},e.onkeypress=function(){t.resetTimer()}}}trackAction(e,t){var r;(r=this.api)==null||r.actionTracked(e,t)}startReadingSession(e){if(this.firstReadingLocator&&this.lastReadingLocator){let t=this.lastReadingLocator.locations.totalProgression-this.firstReadingLocator.locations.totalProgression,r=(new Date().getTime()-this.startReadingTimer.getTime())/1e3;this.readingSessions.push({lastLocator:this.lastReadingLocator,firstLocator:this.firstReadingLocator,time:r,progress:Math.round(t*100)})}this.firstReadingLocator=e,this.startReadingTimer=new Date}continueReadingSession(e){this.properties.enableTrackingSession&&(this.startResearchTimer===void 0&&this.startResearchSession(),(this.lastReadingLocator===void 0||this.lastReadingLocator.locations.totalProgression<e.locations.totalProgression)&&(this.lastReadingLocator=e),this.firstReadingLocator===void 0&&(this.firstReadingLocator=e),this.startReadingTimer===void 0&&(this.startReadingTimer=new Date))}startResearchSession(){var e;if(this.properties.enableTrackingSession){this.startResearchTimer=new Date,this.readingSessions=[],clearInterval(this.readingSessionsInterval);let t=(new Date().getTime()-this.startResearchTimer.getTime())/1e3;this.researchSessionId=(e=this.api)==null?void 0:e.startResearchSession(this.readingSessions,Math.round(t));let r=this;this.readingSessionsInterval=setInterval(function(){r.updateResearchSession()},this.properties.updateSessionInterval*1e3)}}updateResearchSession(){var e;if(this.properties.enableTrackingSession){let t=(new Date().getTime()-this.startResearchTimer.getTime())/1e3;(e=this.api)==null||e.updateResearchSession(this.researchSessionId,this.readingSessions,Math.round(t))}}endResearchSession(){var e,t;if(this.properties.enableTrackingSession){if(this.firstReadingLocator&&this.lastReadingLocator){let i=this.lastReadingLocator.locations.totalProgression-this.firstReadingLocator.locations.totalProgression,s=(new Date().getTime()-this.startReadingTimer.getTime())/1e3;this.readingSessions.push({lastLocator:this.lastReadingLocator,firstLocator:this.firstReadingLocator,time:s,progress:Math.round(i*100)})}let r=(new Date().getTime()-this.startResearchTimer.getTime())/1e3;(e=this.api)==null||e.updateResearchSession(this.researchSessionId,this.readingSessions,Math.round(r)),(t=this.api)==null||t.endResearchSession(this.researchSessionId,this.readingSessions,Math.round(r)),this.researchSessionId=void 0,this.readingSessions=[],this.startResearchTimer=void 0,clearInterval(this.readingSessionsInterval),clearInterval(this.timer)}}startIdleTimer(){var e;this.currSeconds++,this.currSeconds===this.properties.idleTimeout&&((e=this.api)==null||e.idleSince(this.currSeconds),this.startResearchTimer!==void 0?this.updateResearchSession():this.startResearchSession()),this.currSeconds===this.properties.idleTimeout+this.properties.responseTimeout&&this.endResearchSession()}resetTimer(){clearInterval(this.timer),this.currSeconds=0;let e=this;this.timer=setInterval(function(){e.startIdleTimer()},1e3)}};var au=class n{constructor(e,t,r,i,s,o,c,d){this.hide=st(document,"#menu-button-hide");this.show=st(document,"#menu-button-show");this.annotator=e,this.rights=t,this.publication=r,this.headerMenu=d,this.initialAnnotations=i,this.highlighter=o,this.properties=s,this.api=c}static async create(e){let t=new this(e.annotator,e.rights||{enableAnnotations:!1,enableTTS:!1},e.publication,e.initialAnnotations||null,e,e.highlighter,e.api,e.headerMenu);return await t.start(),t}async stop(){xi.default.log("Annotation module stop")}async start(){var t;if(this.headerMenu&&(this.highlightsView=st(this.headerMenu,"#container-view-highlights")),this.initialAnnotations){var e=this.initialAnnotations.highlights||null;e&&((t=this.annotator)==null||t.initAnnotations(e))}setTimeout(()=>{var r;(r=this.properties)!=null&&r.hideLayer?this.navigator.hideLayer("highlights"):this.navigator.showLayer("highlights")},10)}hideAnnotationLayer(){let e=this.navigator.iframes[0].contentDocument;if(e){let t=st(e,"#R2_ID_HIGHLIGHTS_CONTAINER");t&&(t.style.display="none")}this.show&&this.hide&&(this.show.style.display="block",this.hide.style.display="none")}showAnnotationLayer(){let e=this.navigator.iframes[0].contentDocument;if(e){let t=st(e,"#R2_ID_HIGHLIGHTS_CONTAINER");t&&(t.style.display="block")}this.show&&this.hide&&(this.show.style.display="none",this.hide.style.display="block")}async handleResize(){setTimeout(async()=>{await this.drawHighlights(),await this.showHighlights()},200)}initialize(){return new Promise(async e=>{await document.fonts.ready,this.rights.enableAnnotations&&setTimeout(()=>{var t;this.drawHighlights(),this.showHighlights(),Ie((t=this.navigator.iframes[0].contentDocument)==null?void 0:t.body,"click",this.click.bind(this))},300),e(null)})}click(e){var t,r,i,s,o,c,d;if(this.activeAnnotationMarkerId){let u=(i=(r=(t=this.highlighter)==null?void 0:t.properties)==null?void 0:r.selectionMenuItems)==null?void 0:i.filter(p=>p.id===this.activeAnnotationMarkerId);if(u&&(u==null?void 0:u.length)>0){let p=bA.cloneDeep(u[0]);p.marker=3,this.activeAnnotationMarkerPosition&&(p.icon.position=this.activeAnnotationMarkerPosition),p.highlight.style.default=null,p.highlight.style.hover=null;let m=this.navigator.iframes[0].contentDocument;if(m){let l=function(w){try{let E=h.navigator.iframes[0].contentDocument;return E?tr(w,E,mo):""}catch(E){return xi.default.log("uniqueCssSelector:"),xi.default.error(E),""}},b=(s=this.highlighter)==null?void 0:s.dom(m.body).getSelection(),v=b.getRangeAt(0),y=b.anchorNode;v.setStart(y,v.startOffset),v.setEnd(y,v.endOffset+1),b.removeAllRanges(),b.addRange(v);let h=this,g=Ds(v,l);if(b.removeAllRanges(),g){let w={rangeInfo:g},E=(c=this.navigator.highlighter)==null?void 0:c.createHighlight((o=this.navigator.highlighter)==null?void 0:o.dom(m.body).getWindow(),w,p.highlight.color,!0,2,p.icon,p.popup,p.highlight.style);E&&this.saveAnnotation(E[0]).then(A=>{xi.default.log("saved bookmark "+A.id)})}(d=m.getSelection())==null||d.removeAllRanges()}}}}async scrollToHighlight(e){var r;xi.default.log("still need to scroll to "+e);var t=await((r=this.annotator)==null?void 0:r.getAnnotationElement(e,this.navigator.iframes[0].contentWindow));t.scrollIntoView({block:"center",behavior:"smooth"})}async updateLocalHighlight(e){if(this.annotator){let t=await this.annotator.deleteAnnotation(e.id),r=await this.addAnnotation(e);return xi.default.log("Highlight deleted "+JSON.stringify(t)),xi.default.log("Highlight added "+JSON.stringify(r)),await this.showHighlights(),await this.drawHighlights(),r}else return new Promise(t=>t(null))}async deleteLocalHighlight(e){if(this.annotator){var t=await this.annotator.deleteAnnotation(e);return xi.default.log("Highlight deleted "+JSON.stringify(t)),await this.showHighlights(),await this.drawHighlights(),t}else return new Promise(r=>r(null))}async deleteAnnotation(e){await this.deleteLocalHighlight(e.id)}async addAnnotation(e){var t;await((t=this.annotator)==null?void 0:t.saveAnnotation(e)),await this.showHighlights(),await this.drawHighlights()}async deleteHighlight(e){var t,r;(t=this.api)!=null&&t.deleteAnnotation?(r=this.api)==null||r.deleteAnnotation(e).then(async()=>{this.deleteLocalHighlight(e.id)}):this.deleteLocalHighlight(e.id)}async deleteSelectedHighlight(e){var t;(t=this.api)!=null&&t.deleteAnnotation?this.api.deleteAnnotation(e).then(async()=>{this.deleteLocalHighlight(e.id)}):this.deleteLocalHighlight(e.id)}async updateAnnotation(e){var t;(t=this.api)!=null&&t.updateAnnotation?this.api.updateAnnotation(e).then(async()=>{this.updateLocalHighlight(e)}):this.updateLocalHighlight(e)}async saveAnnotation(e){var r,i,s;if(this.annotator){var t=this.publication.getTOCItem(this.navigator.currentChapterLink.href);this.navigator.currentTocUrl&&(t=this.publication.getTOCItem(this.navigator.currentTocUrl)),t===void 0&&(t=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href));let o=(r=this.navigator.view)==null?void 0:r.getCurrentPosition(),c=this.navigator.iframes[0].contentDocument;if(c){let d=ks(c,"body"),u=e.position?e.position/d.scrollHeight:o,p=(0,yA.v4)(),m;if(t){let b=t.Href;if(b.indexOf("#")>0&&(b=b.slice(0,b.indexOf("#"))),this.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions){let v=this.publication.positionsByHref(this.publication.getRelativeHref(this.navigator.currentChapterLink.href)),y=Math.ceil((u??0)*(v.length-1));m={...v[y],id:p,href:b,created:new Date,title:this.navigator.currentChapterLink.title,highlight:e,text:{highlight:e.selectionInfo.cleanText}}}else m={id:p,href:b,locations:{progression:u},created:new Date,type:this.navigator.currentChapterLink.type,title:this.navigator.currentChapterLink.title,highlight:e,text:{highlight:e.selectionInfo.cleanText}}}if(m)if((i=this.navigator.consumptionModule)==null||i.trackAction(m,"HighlightCreated"),(s=this.api)!=null&&s.addAnnotation)try{let b=await this.api.addAnnotation(m),v=await this.annotator.saveAnnotation(b);return await this.showHighlights(),await this.drawHighlights(),new Promise(y=>y(v))}catch{await this.showHighlights(),await this.drawHighlights()}else{let b=await this.annotator.saveAnnotation(m);return await this.showHighlights(),await this.drawHighlights(),new Promise(v=>v(b))}}}return new Promise(o=>o(null))}getAnnotations(){let e=[];return this.annotator&&(e=this.annotator.getAnnotations()),e}showHighlights(){let e=[];this.annotator&&(e=this.annotator.getAnnotations(),e&&(e=e.filter(t=>t.highlight.marker!==2),e.forEach(t=>{In.push(t.highlight)}))),this.highlightsView&&this.createTree(1,e,this.highlightsView)}async drawHighlights(){var t,r,i,s;if(this.rights.enableAnnotations&&this.highlighter){if(this.api){let o=[];if(this.annotator&&(o=this.annotator.getAnnotationsByChapter(this.navigator.currentLocator().href)),this.highlighter&&o&&((t=this.navigator.iframes[0].contentDocument)==null?void 0:t.readyState)==="complete"){await this.highlighter.destroyHighlights(0);for(let c of o){In.push(c.highlight);let d=c,u=this.navigator.currentChapterLink.href;var e=this.publication.getTOCItem(u);if(this.navigator.currentTocUrl!==void 0&&(e=this.publication.getTOCItem(this.navigator.currentTocUrl)),e===null&&(e=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href)),e){let p=e.Href;p.indexOf("#")>0&&(p=p.slice(0,p.indexOf("#"))),d.href===p&&(await this.highlighter.createHighlightDom(this.navigator.iframes[0].contentWindow,c.highlight),setTimeout(async()=>{var m,b;if(((m=d.highlight)==null?void 0:m.marker)===1){let y='<div class="comment" style="top: '+await((b=this.annotator)==null?void 0:b.getAnnotationPosition(c.id,this.navigator.iframes[0].contentWindow))+'px;width:20px"></div>',h=document.createElement("div");h.innerHTML=y;let l=h.childNodes[0],g=document.createElement("i");g.innerHTML="sticky_note_2",g.className="material-icons",g.style.color=d.highlight.color,l.appendChild(g),Ie(h,"click",w=>{w.preventDefault(),w.stopPropagation(),this.scrollToHighlight(d.id)})}},100))}}}}else{let o=[];if(this.annotator&&(o=this.annotator.getAnnotationsByChapter(this.navigator.currentLocator().href)),this.highlighter&&o&&((r=this.navigator.iframes[0].contentDocument)==null?void 0:r.readyState)==="complete"){await this.highlighter.destroyHighlights(0);for(let c of o){In.push(c.highlight);let d=c,u=this.navigator.currentChapterLink.href,p=this.publication.getTOCItem(u);if(this.navigator.currentTocUrl&&(p=this.publication.getTOCItem(this.navigator.currentTocUrl)),p===null&&(p=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href)),p){let m=p.Href;m.indexOf("#")>0&&(m=m.slice(0,m.indexOf("#"))),d.href===m&&(await this.highlighter.createHighlightDom(this.navigator.iframes[0].contentWindow,c.highlight),setTimeout(async()=>{var b,v,y;if(((b=d.highlight)==null?void 0:b.marker)===1){let l='<div class="comment" style="top: '+await((v=this.annotator)==null?void 0:v.getAnnotationPosition(c.id,this.navigator.iframes[0].contentWindow))+"px;background: "+((y=d.highlight)==null?void 0:y.color)+';width:20px"></div>',g=document.createElement("div");g.innerHTML=l,g.childNodes[0].innerHTML=ji.note,Ie(g,"click",w=>{w.preventDefault(),w.stopPropagation(),this.scrollToHighlight(d.id)})}},100))}}}}(i=this.properties)!=null&&i.initialAnnotationColor&&this.highlighter.setColor((s=this.properties)==null?void 0:s.initialAnnotationColor),this.repositionGutters()}}repositionGutters(){var t,r,i,s,o,c;let e=this.navigator.iframes[0].contentDocument;if(e&&(this.commentGutter=e.getElementById("R2_ID_GUTTER_RIGHT_CONTAINER"),(t=this.navigator.view)!=null&&t.isScrollMode()&&((r=this.properties)!=null&&r.enableComments)?(i=this.commentGutter)==null||i.style.removeProperty("display"):(s=this.commentGutter)==null||s.style.setProperty("display","none"),this.commentGutter&&((o=this.navigator.view)!=null&&o.isScrollMode())&&((c=this.properties)!=null&&c.enableComments))){this.commentGutter.innerHTML="";let d=[];this.annotator&&(d=this.annotator.getAnnotationsByChapter(this.navigator.currentLocator().href),d&&(d=d.filter(u=>{var p,m;return((m=(p=u.highlight)==null?void 0:p.note)==null?void 0:m.length)>0}),d=this.syncPosition(d),d=this.reposition(d),d.forEach(u=>{var _,C;let p=document.createElement("i");p.innerHTML="sticky_note_2",p.className="material-icons",p.style.color=u.highlight.color;let m=e.getElementById("R2_ID_HIGHLIGHTS_CONTAINER"),b,v;m&&(b=m.querySelector(`#${u.highlight.id}`)),v=b.getElementsByClassName(mr)[0];let h=parseInt(v.style.height.replace("px","")),l=u.highlight.position,g=e.createElement("div");g.setAttribute("style",`position: absolute;top:${l}px;display: flex;max-width: 250px !important;height:${h}px;width: 200px;align-items: center;`);let w=e.createElement("div");g.appendChild(w);let E=u.highlight.color;Mn.isHexColor(E)&&(E=Mn.hexToRgbChannels(E)),g.innerHTML=nu("","",'<path d="M24 24H0V0h24v24z" fill="none"/><circle cx="12" cy="12" r="8"/>',"icon open",10,`rgba(${E.red}, ${E.green}, ${E.blue}, 1) !important`);let A=e.createElement("div");A.innerHTML=(_=u.highlight)==null?void 0:_.note,A.setAttribute("style",`height:${h}px;overflow: hidden;padding-left: 5px;`),g.appendChild(A),Ie(g,"click",I=>{I.preventDefault(),I.stopPropagation(),this.scrollToHighlight(u.highlight.id)}),(C=this.commentGutter)==null||C.appendChild(g)})))}}createTree(e,t,r){if(t){let i=this,s=this.publication.readingOrder;if(s.length){let o=(c,d)=>{let u=document.createElement("ul");u.className="sidenav-annotations";for(let p of d){let m=document.createElement("li"),b=document.createElement("a"),v=document.createElement("span");if(b.tabIndex=-1,b.className="chapter-link",p.Href){let h=this.publication.getAbsoluteHref(p.Href),l=this.publication.getTOCItemAbsolute(h);b.href=h,b.innerHTML=(l==null?void 0:l.Title)||"",m.appendChild(b)}else v.innerHTML=p.Title||"",v.className="chapter-title",m.appendChild(v);Ie(b,"click",h=>{h.preventDefault(),h.stopPropagation();let l={href:b.href,locations:{progression:0},type:p.TypeLink,title:b.title};this.navigator.stopReadAloud(),this.navigator.navigate(l)});let y=document.createElement("ol");t.forEach(function(h){var g,w,E,A,_,C,I;let l=p.Href.indexOf("#")!==-1?p.Href.slice(0,p.Href.indexOf("#")):p.Href;if(p.Href&&h.href.endsWith(l)){let T=document.createElement("li");T.className="annotation-item";let x=document.createElement("a");if(x.setAttribute("href",h.href),e===1){x.className="highlight-link";let L=document.createElement("span"),H=document.createElement("span");if(L.className="title",H.innerHTML=h.highlight.selectionInfo.cleanText,((g=h.highlight)==null?void 0:g.marker)===1)if(typeof((w=h.highlight)==null?void 0:w.color)=="object"){let q=(E=h.highlight)==null?void 0:E.color;q&&H.style.setProperty("border-bottom",`2px solid ${Mn.hexToRgbA(q)}`,"important")}else H.style.setProperty("border-bottom",`2px solid ${(A=h.highlight)==null?void 0:A.color}`,"important");else if(typeof((_=h.highlight)==null?void 0:_.color)=="object"){let q=(C=h.highlight)==null?void 0:C.color;q&&(H.style.backgroundColor=Mn.hexToRgbA(q))}else{let q=(I=h.highlight)==null?void 0:I.color;q&&(H.style.backgroundColor=q)}L.appendChild(H),x.appendChild(L);let G=document.createElement("span"),j=Math.round((h.locations.progression??0)*100)+"% through resource";G.className="subtitle",G.innerHTML=j,x.appendChild(G)}let D=document.createElement("span");if(D.className="timestamp",D.innerHTML=n.readableTimestamp(h.created),x.appendChild(D),Ie(x,"click",L=>{L.preventDefault(),L.stopPropagation(),i.handleAnnotationLinkClick(L,h)}),T.appendChild(x),i.navigator.sideNavExpanded){let L=document.createElement("button");L.className="delete",L.innerHTML=ji.delete,Ie(L,"click",H=>{H.preventDefault(),H.stopPropagation(),i.handleAnnotationLinkDeleteClick(e,H,h)}),T.appendChild(L)}y.appendChild(T)}}),y.children.length>0&&(u.appendChild(m),u.appendChild(y)),u.children.length>0&&c.appendChild(u),p.Children&&p.Children.length>0&&o(c,p.Children)}};r.innerHTML="",o(r,s)}}}handleAnnotationLinkClick(e,t){t?(t.href=this.publication.getAbsoluteHref(t.href),this.navigator.stopReadAloud(),this.navigator.navigate(t)):xi.default.log("annotation data missing: ",e)}handleAnnotationLinkDeleteClick(e,t,r){xi.default.log("annotation data locator: ",r),r?e===1&&this.deleteHighlight(r):xi.default.log("annotation data missing: ",t)}static readableTimestamp(e){let t=new Date(e);return t.toDateString()+" "+t.toLocaleTimeString()}async getAnnotation(e){var t;return(t=this.annotator)==null?void 0:t.getAnnotation(e)}async getAnnotationByID(e){var t;return(t=this.annotator)==null?void 0:t.getAnnotationByID(e)}syncPosition(e){let t=this.navigator.iframes[0].contentDocument,r=(i,s)=>{let o=t.getElementById("R2_ID_HIGHLIGHTS_CONTAINER"),c,d;o&&(c=o.querySelector(`#${s.highlight.id}`)),d=c.getElementsByClassName(mr)[0];let p=parseInt(d.style.top.replace("px","")),m={...s,highlight:{...s.highlight,position:p}};return[...i,m]};return e.reduce(r,[])}reposition(e){let t=this.navigator.iframes[0].contentDocument,r=(i,s,o)=>{let c=e[0],d=t.getElementById("R2_ID_HIGHLIGHTS_CONTAINER"),u,p;d&&(u=d.querySelector(`#${c.highlight.id}`)),p=u.getElementsByClassName(mr)[0];let b=parseInt(p.style.height.replace("px","")),v=s.highlight.position,y=i[o-1]&&i[o-1].highlight.position,l=o===0?0:y+b+0,g=l>v?l:v,w={...s,highlight:{...s.highlight,position:g}};return[...i,w]};return e.sort(function(i,s){return i.highlight.position-s.highlight.position}).reduce(r,[])}};F();var d1=Rt(c1());var Pi=Rt(Pn());var uu=class n{static async create(e){let t=new this(e.annotator,e.rights||{enableBookmarks:!1},e.publication,e,e.initialAnnotations,e.api,e.headerMenu);return await t.start(),new Promise(r=>r(t))}constructor(e,t,r,i,s,o,c){this.annotator=e,this.rights=t,this.publication=r,this.headerMenu=c,this.initialAnnotations=s,this.properties=i,this.api=o}stop(){Pi.default.log("Bookmark module stop")}async start(){var e,t;if(this.headerMenu&&(this.bookmarksView=st(this.headerMenu,"#container-view-bookmarks")),this.headerMenu&&(this.sideNavSectionBookmarks=st(this.headerMenu,"#sidenav-section-bookmarks")),this.headerMenu){let r=st(this.headerMenu,"#menu-button-bookmark");r&&((e=r.parentElement)==null||e.style.removeProperty("display")),r&&Ie(r,"click",this.saveBookmark.bind(this))}if(this.initialAnnotations){let r=this.initialAnnotations.bookmarks||null;r&&((t=this.annotator)==null||t.initBookmarks(r))}}async handleResize(){setTimeout(async()=>{await this.drawBookmarks(),await this.showBookmarks(),setTimeout(()=>{this.properties.hideLayer?this.navigator.hideLayer("highlights"):this.navigator.showLayer("highlights")},10)},100)}initialize(){return new Promise(async e=>{await document.fonts.ready,this.rights.enableBookmarks&&setTimeout(()=>{this.drawBookmarks(),this.showBookmarks()},300),e(null)})}async deleteBookmark(e){var t,r;if(this.annotator)if((t=this.api)!=null&&t.deleteBookmark){await((r=this.api)==null?void 0:r.deleteBookmark(e));let i=await this.annotator.deleteBookmark(e);return Pi.default.log("Bookmark deleted "+JSON.stringify(i)),await this.showBookmarks(),await this.drawBookmarks(),i}else{let i=await this.annotator.deleteBookmark(e);return Pi.default.log("Bookmark deleted "+JSON.stringify(i)),await this.showBookmarks(),await this.drawBookmarks(),i}else return new Promise(i=>i(null))}async saveBookmarkPlus(){await this.addBookmarkPlus()}async saveBookmark(){var t,r,i;if(this.annotator){var e=this.publication.getTOCItem(this.navigator.currentChapterLink.href);if(this.navigator.currentTocUrl&&(e=this.publication.getTOCItem(this.navigator.currentTocUrl)),e===void 0&&(e=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href)),e){let s=e.Href;s.indexOf("#")>0&&(s=s.slice(0,s.indexOf("#")));let o=(t=this.navigator.view)==null?void 0:t.getCurrentPosition(),c=(0,d1.v4)(),d;if(this.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions){let u=this.publication.positionsByHref(this.publication.getRelativeHref(this.navigator.currentChapterLink.href)),p=Math.ceil((o??0)*(u.length-1));d={...u[p],id:c,href:s,created:new Date,title:this.navigator.currentChapterLink.title}}else d={id:c,href:s,locations:{progression:o},created:new Date,type:this.navigator.currentChapterLink.type,title:this.navigator.currentChapterLink.title};if(!this.annotator.locatorExists(d,0))if((r=this.navigator.consumptionModule)==null||r.trackAction(d,"BookmarkCreated"),(i=this.api)!=null&&i.addBookmark){let u=await this.api.addBookmark(d);u&&(d=u),Pi.default.log(d);let p=this.annotator.saveBookmark(d);return Pi.default.log("Bookmark added "+JSON.stringify(p)),this.showBookmarks(),await this.drawBookmarks(),p}else{let u=this.annotator.saveBookmark(d);return Pi.default.log("Bookmark added "+JSON.stringify(u)),this.showBookmarks(),await this.drawBookmarks(),u}}}}async addBookmarkPlus(){var c,d,u,p,m,b,v,y,h,l,g,w,E;let e=this,t=(c=this.navigator.highlighter)==null?void 0:c.visibleTextRects[0],r=this.navigator.iframes[0].contentDocument;if(r){let A=(d=this.navigator.highlighter)==null?void 0:d.dom(r.body).getWindow().document.createRange(),_=(p=this.navigator.highlighter)==null?void 0:p.dom((u=this.navigator.iframes[0].contentDocument)==null?void 0:u.body).getSelection();_.removeAllRanges(),t&&A.selectNodeContents(t.node),_.addRange(A);let C=mh(A,!1),I=0;for(let T of C){if(!((m=this.navigator.highlighter)!=null&&m.isOutsideViewport(T))){let x=_.focusNode,D=_.focusOffset;_.collapse(_.anchorNode,_.anchorOffset);for(let j=0;j<I;j++)_.modify("move","forward","line");_.extend(x,D);let L=_.focusNode,H=_.focusNode.length;_.collapse(_.anchorNode,_.anchorOffset);let G=H;_.anchorOffset>H?G=H:G=_.anchorOffset+1,_.modify("move","forward","character"),_.modify("move","backward","word"),_.extend(L,G),_.modify("extend","backward","character"),_.modify("extend","forward","word");break}I++}}function i(A){var I;let _={},C=e.navigator.iframes[0].contentDocument;if(C)return tr(A,(I=e.navigator.highlighter)==null?void 0:I.dom(C.body).getDocument(),_)}let s=this.navigator.iframes[0].contentWindow,o={id:"bookmarkIcon",marker:2,icon:{id:"bookmarkIcon",title:"Bookmark",svgPath:'<path d="M0 0h24v24H0V0z" fill="none"/><path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"/>',color:"#000000",position:"left"},popup:{background:"#000000",textColor:"#ffffff"},highlight:{color:"#000000",style:{default:[{property:"border-bottom",value:"0px dashed #000000",priority:"important"}]}}};if(s!==null){let A=ds(s,i);if(A===void 0){let C=e.navigator.iframes[0].contentDocument;A=(v=(b=this.navigator.annotationModule)==null?void 0:b.annotator)==null?void 0:v.getTemporarySelectionInfo(C)}let _=e.navigator.iframes[0].contentDocument;if(A&&_){let C=(g=this.navigator.highlighter)==null?void 0:g.createHighlight((y=this.navigator.highlighter)==null?void 0:y.dom(_.body).getWindow(),A,(h=o.highlight)==null?void 0:h.color,!0,2,o.icon,o.popup,(l=o.highlight)==null?void 0:l.style);if((E=(w=this.navigator.iframes[0].contentDocument)==null?void 0:w.getSelection())==null||E.removeAllRanges(),C)return this.saveAnnotation(C[0]).then(I=>{Pi.default.log("saved bookmark "+(I==null?void 0:I.id))})}}}async saveAnnotation(e){var r,i,s;if(this.annotator){var t=this.publication.getTOCItem(this.navigator.currentChapterLink.href);this.navigator.currentTocUrl&&(t=this.publication.getTOCItem(this.navigator.currentTocUrl)),t===null&&(t=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href));let o=(r=this.navigator.view)==null?void 0:r.getCurrentPosition(),c=this.navigator.iframes[0].contentDocument;if(c){let d=ks(c,"body"),u=e.position?e.position/d.scrollHeight:o,p=(0,d1.v4)(),m;if(t){let b=t.Href;if(b.indexOf("#")>0&&(b=b.slice(0,b.indexOf("#"))),this.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions){let v=this.publication.positionsByHref(this.publication.getRelativeHref(this.navigator.currentChapterLink.href)),y=Math.ceil((u??0)*(v.length-1));m={...v[y],id:p,href:b,created:new Date,title:this.navigator.currentChapterLink.title,highlight:e,text:{highlight:e.selectionInfo.cleanText}}}else m={id:p,href:b,locations:{progression:u},created:new Date,type:this.navigator.currentChapterLink.type,title:this.navigator.currentChapterLink.title,highlight:e,text:{highlight:e.selectionInfo.cleanText}}}if(m)if((i=this.navigator.consumptionModule)==null||i.trackAction(m,"BookmarkCreated"),(s=this.api)!=null&&s.addBookmark){let b=await this.api.addBookmark(m),v=await this.annotator.saveAnnotation(b);return await this.showBookmarks(),await this.drawBookmarks(),new Promise(y=>y(v))}else{let b=await this.annotator.saveAnnotation(m);return await this.showBookmarks(),await this.drawBookmarks(),new Promise(v=>v(b))}}}return new Promise(o=>o(void 0))}getBookmarks(){let e=[];return this.annotator&&(e=this.annotator.getBookmarks()),e}showBookmarks(){let e=[];this.annotator&&(e=this.annotator.getBookmarks());let t=[];this.annotator&&(t=this.annotator.getAnnotations(),t&&(t=t.filter(r=>r.highlight.marker===2),e?e.push.apply(e,t):e=t)),this.bookmarksView&&this.createTree(0,e,this.bookmarksView)}async drawBookmarks(){var t,r;if(this.rights.enableBookmarks&&this.navigator.highlighter)if(this.api){let i=[];if(this.annotator&&(i=await this.annotator.getAnnotations()),this.navigator.highlighter&&i&&((t=this.navigator.iframes[0].contentDocument)==null?void 0:t.readyState)==="complete"){await this.navigator.highlighter.destroyHighlights(0);for(let s of i){In.push(s.highlight);let o=s,c=this.navigator.currentChapterLink.href;var e=this.publication.getTOCItem(c);if(this.navigator.currentTocUrl&&(e=this.publication.getTOCItem(this.navigator.currentTocUrl)),e===void 0&&(e=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href)),e){let d=e.Href;d.indexOf("#")>0&&(d=d.slice(0,d.indexOf("#"))),o.href===d&&await this.navigator.highlighter.createHighlightDom(this.navigator.iframes[0].contentWindow,s.highlight)}}}}else{let i=[];if(this.annotator&&(i=await this.annotator.getAnnotations()),this.navigator.highlighter&&i&&((r=this.navigator.iframes[0].contentDocument)==null?void 0:r.readyState)==="complete"){await this.navigator.highlighter.destroyHighlights(0);for(let s of i){In.push(s.highlight);let o=s,c=this.navigator.currentChapterLink.href,d=this.publication.getTOCItem(c);if(this.navigator.currentTocUrl&&(d=this.publication.getTOCItem(this.navigator.currentTocUrl)),d===void 0&&(d=this.publication.getTOCItemAbsolute(this.navigator.currentChapterLink.href)),d){let u=d.Href;u.indexOf("#")>0&&(u=u.slice(0,u.indexOf("#"))),o.href===u&&await this.navigator.highlighter.createHighlightDom(this.navigator.iframes[0].contentWindow,s.highlight)}}}}}async deleteSelectedHighlight(e){var t;(t=this.api)!=null&&t.deleteBookmark?this.api.deleteBookmark(e).then(async()=>{this.deleteLocalHighlight(e.id)}):this.deleteLocalHighlight(e.id)}async deleteLocalHighlight(e){if(this.annotator){var t=await this.annotator.deleteAnnotation(e);return Pi.default.log("Highlight deleted "+JSON.stringify(t)),await this.showBookmarks(),await this.drawBookmarks(),t}else return new Promise(r=>r(null))}createTree(e,t,r){if(t){let i=this,s=this.publication.readingOrder;if(s.length){let o=(c,d)=>{let u=document.createElement("ul");u.className="sidenav-annotations";for(let p of d){let m=document.createElement("li"),b=document.createElement("a"),v=document.createElement("span");if(b.tabIndex=-1,b.className="chapter-link",p.Href){let h=this.publication.getAbsoluteHref(p.Href),l=this.publication.getTOCItemAbsolute(h);b.href=h,b.innerHTML=(l==null?void 0:l.Title)||"",m.appendChild(b)}else v.innerHTML=p.Title||"",v.className="chapter-title",m.appendChild(v);Ie(b,"click",h=>{h.preventDefault(),h.stopPropagation();let l={href:b.href,locations:{progression:0},type:p.TypeLink,title:b.title};this.navigator.stopReadAloud(),this.navigator.navigate(l)});let y=document.createElement("ol");t.forEach(function(h){let l=p.Href.indexOf("#")!==-1?p.Href.slice(0,p.Href.indexOf("#")):p.Href;if(p.Href&&h.href.endsWith(l)){let g=document.createElement("li");g.className="annotation-item";let w=document.createElement("a");if(w.setAttribute("href",h.href),e===0){w.className="bookmark-link";let A=document.createElement("span"),_=Math.round((h.locations.progression??0)*100)+"% through resource";A.className="title",A.innerHTML=_,w.appendChild(A)}let E=document.createElement("span");if(E.className="timestamp",E.innerHTML=n.readableTimestamp(h.created),w.appendChild(E),Ie(w,"click",A=>{A.preventDefault(),A.stopPropagation(),i.handleAnnotationLinkClick(A,h)}),g.appendChild(w),i.navigator.sideNavExpanded){let A=document.createElement("button");A.className="delete",A.innerHTML=ji.delete,Ie(A,"click",_=>{_.preventDefault(),_.stopPropagation(),i.handleAnnotationLinkDeleteClick(e,_,h)}),g.appendChild(A)}y.appendChild(g)}}),y.children.length>0&&(u.appendChild(m),u.appendChild(y)),u.children.length>0&&c.appendChild(u),p.Children&&p.Children.length>0&&o(c,p.Children)}};r.innerHTML="",o(r,s)}}}handleAnnotationLinkClick(e,t){t?(t.href=this.publication.getAbsoluteHref(t.href),this.navigator.stopReadAloud(),this.navigator.navigate(t)):Pi.default.log("bookmark data missing: ",e)}handleAnnotationLinkDeleteClick(e,t,r){Pi.default.log("bookmark data locator: ",r),r?e===0&&this.deleteBookmark(r):Pi.default.log("bookmark data missing: ",t)}static readableTimestamp(e){let t=new Date(e);return t.toDateString()+" "+t.toLocaleTimeString()}async getAnnotation(e){var t;return(t=this.annotator)==null?void 0:t.getAnnotation(e)}async getAnnotationByID(e){var t;return(t=this.annotator)==null?void 0:t.getAnnotationByID(e)}};F();var _A=Rt(vA());F();var jr=Rt(Pn()),h1="r2-mo-active",dr=class dr{};dr.COLOR_REF="color",dr.AUTO_SCROLL_REF="autoscroll",dr.AUTO_TURN_REF="autoturn",dr.VOLUME_REF="volume",dr.RATE_REF="rate",dr.COLOR_KEY="mediaoverlay-"+dr.COLOR_REF,dr.AUTO_SCROLL_KEY="mediaoverlay-"+dr.AUTO_SCROLL_REF,dr.AUTO_TURN_KEY="mediaoverlay-"+dr.AUTO_TURN_REF,dr.VOLUME_KEY="mediaoverlay-"+dr.VOLUME_REF,dr.RATE_KEY="mediaoverlay-"+dr.RATE_REF;var Dt=dr,_h=class{constructor(e,t,r){this.MEDIAOVERLAYSETTINGS="mediaOverlaySetting";this.color="r2-mo-active";this.autoScroll=!0;this.autoTurn=!0;this.volume=1;this.rate=1;this.playing=!1;this.resourceReady=!1;this.wait=1;this.settingsChangeCallback=()=>{};this.store=e,this.api=t,this.headerMenu=r,this.initialise(),jr.default.log(this.api)}static create(e){let t=new this(e.store,e.api,e.headerMenu);if(e.initialMediaOverlaySettings){let r=e.initialMediaOverlaySettings;r!=null&&r.color&&(t.color=r.color,jr.default.log(t.color)),r!=null&&r.autoScroll&&(t.autoScroll=r.autoScroll,jr.default.log(t.autoScroll)),r!=null&&r.autoTurn&&(t.autoTurn=r.autoTurn,jr.default.log(t.autoScroll)),r!=null&&r.volume&&(t.volume=r.volume,jr.default.log(t.volume)),r!=null&&r.rate&&(t.rate=r.rate,jr.default.log(t.rate)),r!=null&&r.wait&&(t.wait=r.wait,jr.default.log(t.wait))}return t.initializeSelections(),t}stop(){jr.default.log("MediaOverlay settings stop")}initialise(){this.autoScroll=this.getProperty(Dt.AUTO_SCROLL_KEY)!=null?this.getProperty(Dt.AUTO_SCROLL_KEY).value:this.autoScroll,this.autoTurn=this.getProperty(Dt.AUTO_TURN_KEY)!=null?this.getProperty(Dt.AUTO_TURN_KEY).value:this.autoTurn,this.color=this.getProperty(Dt.COLOR_KEY)!=null?this.getProperty(Dt.COLOR_KEY).value:this.color,this.volume=this.getProperty(Dt.VOLUME_KEY)!=null?this.getProperty(Dt.VOLUME_KEY).value:this.volume,this.rate=this.getProperty(Dt.RATE_KEY)!=null?this.getProperty(Dt.RATE_KEY).value:this.rate,this.userProperties=this.getMediaOverlaySettings()}reset(){this.color="redtext",this.autoScroll=!0,this.autoTurn=!0,this.volume=1,this.rate=1,this.wait=1,this.userProperties=this.getMediaOverlaySettings()}initializeSelections(){this.headerMenu&&(this.settingsView=st(this.headerMenu,"#container-view-mediaoverlay-settings"))}setControls(){this.settingsView&&this.renderControls(this.settingsView)}renderControls(e){this.headerMenu&&(this.speechAutoTurn=st(this.headerMenu,"#mediaOverlayAutoTurn")),this.headerMenu&&(this.speechAutoScroll=st(this.headerMenu,"#mediaOverlayAutoScroll")),this.headerMenu&&(this.speechVolume=st(this.headerMenu,"#mediaOverlayVolume")),this.headerMenu&&(this.speechRate=st(this.headerMenu,"#mediaOverlayRate")),this.speechAutoScroll&&(this.speechAutoScroll.checked=this.autoScroll),this.speechAutoTurn&&(this.speechAutoTurn.checked=this.autoTurn),this.speechVolume&&(this.speechVolume.value=this.volume.toString()),this.speechRate&&(this.speechRate.value=this.volume.toString()),Ie(st(e,"ul"),"click",t=>{t.stopPropagation()})}onSettingsChange(e){this.settingsChangeCallback=e}storeProperty(e){this.updateUserSettings(),this.saveProperty(e)}updateUserSettings(){var t,r,i,s,o,c,d;let e={color:(t=this.userProperties.getByRef(Dt.COLOR_REF))==null?void 0:t.value,autoScroll:(r=this.userProperties.getByRef(Dt.AUTO_SCROLL_REF))==null?void 0:r.value,autoTurn:(i=this.userProperties.getByRef(Dt.AUTO_TURN_REF))==null?void 0:i.value,volume:(s=this.userProperties.getByRef(Dt.VOLUME_REF))==null?void 0:s.value,rate:(o=this.userProperties.getByRef(Dt.RATE_REF))==null?void 0:o.value};this.applyMediaOverlaySettings(e),(c=this.api)!=null&&c.updateSettings&&((d=this.api)==null||d.updateSettings(e).then(async u=>{jr.default.log("api updated sync settings",u)}))}getMediaOverlaySettings(){let e=new rs;return e.addSwitchable("mediaoverlay-auto-scroll-off","mediaoverlay-auto-scroll-on",this.autoScroll,Dt.AUTO_SCROLL_REF,Dt.AUTO_SCROLL_KEY),e.addSwitchable("mediaoverlay-auto-turn-off","mediaoverlay-auto-turn-on",this.autoTurn,Dt.AUTO_TURN_REF,Dt.AUTO_TURN_KEY),e.addStringable(this.color,Dt.COLOR_REF,Dt.COLOR_KEY),e.addIncremental(this.volume,.1,1,.1,"",Dt.VOLUME_REF,Dt.VOLUME_KEY),e.addIncremental(this.rate,.1,3,.1,"",Dt.RATE_REF,Dt.RATE_KEY),e}saveProperty(e){let t=this.store.get(this.MEDIAOVERLAYSETTINGS);if(t){let r=JSON.parse(t);r=r.filter(i=>i.name!==e.name),r.push(e),this.store.set(this.MEDIAOVERLAYSETTINGS,JSON.stringify(r))}else{let r=[];r.push(e),this.store.set(this.MEDIAOVERLAYSETTINGS,JSON.stringify(r))}return e}getProperty(e){let t=this.store.get(this.MEDIAOVERLAYSETTINGS);if(t){let r=JSON.parse(t);return r=r.filter(i=>i.name===e),r.length===0?null:r[0]}return null}resetMediaOverlaySettings(){this.store.remove(this.MEDIAOVERLAYSETTINGS),this.reset(),this.settingsChangeCallback()}applyMediaOverlaySettings(e){if(e.color){this.color=e.color;let t=this.userProperties.getByRef(Dt.COLOR_REF);t&&(t.value=this.color,this.saveProperty(t)),this.settingsChangeCallback()}if(e.autoScroll!==void 0){jr.default.log("autoScroll "+this.autoScroll),this.autoScroll=e.autoScroll;let t=this.userProperties.getByRef(Dt.AUTO_SCROLL_REF);t&&(t.value=this.autoScroll,this.saveProperty(t)),this.settingsChangeCallback()}if(e.autoTurn!==void 0){jr.default.log("autoTurn "+this.autoTurn),this.autoTurn=e.autoTurn;let t=this.userProperties.getByRef(Dt.AUTO_TURN_REF);t&&(t.value=this.autoTurn,this.saveProperty(t)),this.settingsChangeCallback()}if(e.volume){jr.default.log("volume "+this.volume),this.volume=e.volume;let t=this.userProperties.getByRef(Dt.VOLUME_REF);t&&(t.value=this.volume,this.saveProperty(t)),this.settingsChangeCallback()}if(e.rate){jr.default.log("rate "+this.rate),this.rate=e.rate;let t=this.userProperties.getByRef(Dt.RATE_REF);t&&(t.value=this.rate,this.saveProperty(t)),this.settingsChangeCallback()}}applyMediaOverlaySetting(e,t){if(e===Dt.COLOR_REF){this.color=t;let r=this.userProperties.getByRef(Dt.COLOR_REF);r&&(r.value=this.color,this.saveProperty(r)),this.settingsChangeCallback()}else if(e===Dt.AUTO_SCROLL_REF){this.autoScroll=t;let r=this.userProperties.getByRef(Dt.AUTO_SCROLL_REF);r&&(r.value=this.autoScroll,this.saveProperty(r)),this.settingsChangeCallback()}else if(e===Dt.AUTO_TURN_REF){this.autoTurn=t;let r=this.userProperties.getByRef(Dt.AUTO_TURN_REF);r&&(r.value=this.autoTurn,this.saveProperty(r)),this.settingsChangeCallback()}}increase(e){var t,r;if(e==="mo_volume"){this.userProperties.getByRef(Dt.VOLUME_REF).increment(),this.volume=(t=this.userProperties.getByRef(Dt.VOLUME_REF))==null?void 0:t.value;let i=this.userProperties.getByRef(Dt.VOLUME_REF);i&&this.storeProperty(i),this.settingsChangeCallback()}else if(e==="mo_rate"){this.userProperties.getByRef(Dt.RATE_REF).increment(),this.rate=(r=this.userProperties.getByRef(Dt.RATE_REF))==null?void 0:r.value;let i=this.userProperties.getByRef(Dt.RATE_REF);i&&this.storeProperty(i),this.settingsChangeCallback()}}decrease(e){var t,r;if(e==="mo_volume"){this.userProperties.getByRef(Dt.VOLUME_REF).decrement(),this.volume=(t=this.userProperties.getByRef(Dt.VOLUME_REF))==null?void 0:t.value;let i=this.userProperties.getByRef(Dt.VOLUME_REF);i&&this.storeProperty(i),this.settingsChangeCallback()}else if(e==="mo_rate"){this.userProperties.getByRef(Dt.RATE_REF).decrement(),this.rate=(r=this.userProperties.getByRef(Dt.RATE_REF))==null?void 0:r.value;let i=this.userProperties.getByRef(Dt.RATE_REF);i&&this.storeProperty(i),this.settingsChangeCallback()}}};var xt=Rt(Pn()),cu=class{constructor(e,t,r){this.play=st(document,"#menu-button-play");this.pause=st(document,"#menu-button-pause");this.currentLinkIndex=0;this.pid=void 0;this.__ontimeupdate=!1;this.ontimeupdate=async e=>{xt.default.log("ontimeupdate"),this.trackCurrentTime()};this.ensureOnTimeUpdate=(e,t)=>{e?this.__ontimeupdate&&(this.__ontimeupdate=!1,this.audioElement&&this.audioElement.removeEventListener("timeupdate",this.ontimeupdate),cancelAnimationFrame(this.myReq)):(!this.__ontimeupdate||t)&&(this.__ontimeupdate=!0,t&&(this.audioElement&&this.audioElement.removeEventListener("timeupdate",this.ontimeupdate),this.audioElement.addEventListener("timeupdate",this.ontimeupdate)))};this.publication=e,this.settings=t,this.properties=r}static create(e){let t=new this(e.publication,e.settings,e);return t.start(),t}stop(){xt.default.log("MediaOverlay module stop")}start(){xt.default.log("MediaOverlay module start")}async initialize(){return new Promise(async e=>{await document.fonts.ready,this.settings.setControls(),this.settings.onSettingsChange(()=>{this.audioElement.volume=this.settings.volume,this.audioElement.playbackRate=this.settings.rate}),e()})}async initializeResource(e){this.currentLinks=e,this.currentLinkIndex=0,await this.playLink()}async playLink(){var t,r;let e=this.currentLinks[this.currentLinkIndex];if((t=e==null?void 0:e.Properties)!=null&&t.MediaOverlay){this.ensureOnTimeUpdate(!1,!1);let i=(r=e.Properties)==null?void 0:r.MediaOverlay,o=new URL(i,this.publication.manifestUrl).toString(),c;try{c=await fetch(o,this.navigator.requestConfig)}catch(m){console.error(m,o);return}c.ok||xt.default.log("BAD RESPONSE?!");let d;try{d=await c.json()}catch(m){console.error(m)}if(!d){xt.default.log("## moJson"+d);return}e.MediaOverlays=Ha(d,_A.MediaOverlayNode),e.MediaOverlays.initialized=!0;let u=e.HrefDecoded||e.Href,p=new URL("https://dita.digital/"+u);await this.playMediaOverlays(p.pathname.substr(1),e.MediaOverlays,void 0)}else this.audioElement&&await this.audioElement.pause(),this.currentLinks.length>1&&this.currentLinkIndex===0?(this.currentLinkIndex++,await this.playLink()):this.settings.autoTurn&&this.settings.playing?(this.audioElement&&await this.audioElement.pause(),this.navigator.nextResource()):await this.stopReadAloud()}async startReadAloud(){var e;if(this.navigator.rights.enableMediaOverlays){if(this.settings.playing=!0,this.audioElement&&((e=this.currentLinks[this.currentLinkIndex])!=null&&e.Properties.MediaOverlay)){let t=this.currentAudioBegin?this.currentAudioBegin:0;this.audioElement.currentTime=t,await this.audioElement.play(),this.ensureOnTimeUpdate(!1,!0),this.audioElement.volume=this.settings.volume,this.audioElement.playbackRate=this.settings.rate}else this.currentLinks.length>1&&this.currentLinkIndex===0?(this.currentLinkIndex++,await this.playLink()):this.settings.autoTurn&&this.settings.playing?this.navigator.nextResource():await this.stopReadAloud();this.play&&(this.play.style.display="none"),this.pause&&this.pause.style.removeProperty("display")}}async stopReadAloud(){this.navigator.rights.enableMediaOverlays&&(this.settings.playing=!1,this.audioElement&&this.audioElement.pause(),this.play&&this.play.style.removeProperty("display"),this.pause&&(this.pause.style.display="none"))}pauseReadAloud(){this.navigator.rights.enableMediaOverlays&&(this.settings.playing=!1,this.audioElement.pause(),this.play&&this.play.style.removeProperty("display"),this.pause&&(this.pause.style.display="none"))}async resumeReadAloud(){this.navigator.rights.enableMediaOverlays&&(this.settings.playing=!0,await this.audioElement.play(),this.play&&(this.play.style.display="none"),this.pause&&this.pause.style.removeProperty("display"))}findDepthFirstTextAudioPair(e,t,r){xt.default.log("findDepthFirstTextAudioPair()");let i,s;if(t.Text){let d=new URL("https://dita.digital/"+t.Text);if(d.pathname.substr(1)===e){if(i=!0,d.hash&&r){s=!1;let u=d.hash.substr(1);for(let p of r)if(p===u){s=!0;break}}}else i=!1}if(xt.default.log("isFragmentIDMatch: "+s),xt.default.log("isTextUrlMatch: "+i),!t.Children||!t.Children.length){if(xt.default.log("findDepthFirstTextAudioPair() - leaf text/audio pair"),!i){xt.default.log("findDepthFirstTextAudioPair() - leaf - !isTextUrlMatch");return}return s||i&&!r?(xt.default.log("findDepthFirstTextAudioPair() - leaf - isFragmentIDMatch || (isTextUrlMatch && !textFragmentIDChain"),t):void 0}let o=r,c=r;for(let d of t.Children){xt.default.log("findDepthFirstTextAudioPair() - child"),xt.default.log(JSON.stringify(d));let u=this.findDepthFirstTextAudioPair(e,d,c);if(u===null&&(xt.default.log("findDepthFirstTextAudioPair() - child - match null (skip)"),c=void 0),u)return xt.default.log("findDepthFirstTextAudioPair() - child - match"),xt.default.log(JSON.stringify(u)),u}if(s){xt.default.log("findDepthFirstTextAudioPair() - post isFragmentIDMatch");let d=this.findDepthFirstTextAudioPair(e,t,void 0);return d&&(xt.default.log("findDepthFirstTextAudioPair() - post isFragmentIDMatch - match"),xt.default.log(JSON.stringify(d)),d)}if(o&&!c)return null}trackCurrentTime(){if(cancelAnimationFrame(this.myReq),this.mediaOverlayTextAudioPair)try{this.currentAudioEnd&&this.audioElement.currentTime>=this.currentAudioEnd-.05&&(xt.default.log("ontimeupdate - mediaOverlaysNext()"),this.mediaOverlaysNext());let e=this.mediaOverlayTextAudioPair.Text.lastIndexOf("#"),t=this.mediaOverlayTextAudioPair.Text.substr(e+1);this.mediaOverlayHighlight(t),this.myReq=requestAnimationFrame(this.trackCurrentTime.bind(this))}catch{}}mediaOverlaysNext(e){if(xt.default.log("mediaOverlaysNext()"),this.mediaOverlayRoot&&this.mediaOverlayTextAudioPair){let t=this.findNextTextAudioPair(this.mediaOverlayRoot,this.mediaOverlayTextAudioPair,{prev:void 0},!!e);if(!t)xt.default.log("mediaOverlaysNext() - navLeftOrRight()"),this.mediaOverlaysStop(),this.currentLinks.length>1&&this.currentLinkIndex===0?(this.currentLinkIndex++,this.playLink()):(this.audioElement.pause(),this.settings.autoTurn&&this.settings.playing?(this.audioElement.pause(),this.navigator.nextResource()):this.stopReadAloud());else{let r=!1;if(this.mediaOverlayTextAudioPair.Text&&t.Text){let i=new URL("https://dita.digital/"+this.mediaOverlayTextAudioPair.Text),s=new URL("https://dita.digital/"+t.Text);i.pathname!==s.pathname&&(xt.default.log("mediaOverlaysNext() SWITCH! "+i.pathname+" != "+s.pathname),r=!0)}r?this.mediaOverlaysStop():(xt.default.log("mediaOverlaysNext() - playMediaOverlaysAudio()"),setTimeout(async()=>{await this.playMediaOverlaysAudio(t,void 0,void 0)},0))}}else xt.default.log("mediaOverlaysNext() - navLeftOrRight() 2"),this.mediaOverlaysStop(),this.currentLinks.length>1&&this.currentLinkIndex===0?(this.currentLinkIndex++,this.playLink()):(this.audioElement.pause(),this.settings.autoTurn&&this.settings.playing?(this.audioElement.pause(),this.navigator.nextResource()):this.stopReadAloud())}mediaOverlaysStop(){xt.default.log("mediaOverlaysStop()"),this.mediaOverlaysPause(),this.mediaOverlayRoot=void 0,this.mediaOverlayTextAudioPair=void 0}mediaOverlaysPause(){xt.default.log("mediaOverlaysPause()"),this.mediaOverlayHighlight(void 0),this.audioElement&&this.audioElement.pause()}findNextTextAudioPair(e,t,r,i){if(!e.Children||!e.Children.length){if((r==null?void 0:r.prev)===t)return xt.default.log("findNextTextAudioPair() - prevMo === moToMatch"),e;xt.default.log("findNextTextAudioPair() - set previous"),xt.default.log(JSON.stringify(e)),r.prev=e;return}for(let s of e.Children){xt.default.log("findNextTextAudioPair() - child"),xt.default.log(JSON.stringify(s));let o=this.findNextTextAudioPair(s,t,r,i);if(o)return xt.default.log("findNextTextAudioPair() - match"),xt.default.log(JSON.stringify(o)),o}}async playMediaOverlaysAudio(e,t,r){if(xt.default.log("playMediaOverlaysAudio()"),this.mediaOverlayTextAudioPair=e,!e.Audio)return;let i=new URL(e.Audio,this.publication.manifestUrl),s=i.toString(),o=new URL(s);o.hash="",o.search="";let c=o.toString(),d=typeof t<"u",u=typeof r<"u";if(this.previousAudioEnd=this.currentAudioEnd,this.currentAudioBegin=void 0,this.currentAudioEnd=void 0,!d&&!u){if(i.hash){let m=i.hash.match(/t=([0-9.]+)(,([0-9.]+))?/);if(m&&m.length>=1){let b=m[1];try{this.currentAudioBegin=parseFloat(b)}catch(v){xt.default.error(v)}if(m.length>=3){let v=m[3];try{this.currentAudioEnd=parseFloat(v)}catch(y){xt.default.error(y)}}}}}else this.currentAudioBegin=t,this.currentAudioEnd=r;xt.default.log(`${s} => [${this.currentAudioBegin}-${this.currentAudioEnd}]`);let p=async m=>{if(!this.audioElement)return;let b=this.currentAudioBegin?this.currentAudioBegin:0;if(m||this.audioElement.paused)if(m&&!b||this.audioElement.currentTime===b){if(xt.default.log("playMediaOverlaysAudio() - playClip() - _currentAudioElement.play()"),this.ensureOnTimeUpdate(!1,!1),this.audioElement.playbackRate=this.settings.rate,this.audioElement.volume=this.settings.volume,this.settings.playing){let y=function(){v.settings.resourceReady?setTimeout(async()=>{await v.audioElement.play(),v.ensureOnTimeUpdate(!1,!0)},v.settings.wait*1e3):setTimeout(y,200)},v=this;y()}}else{xt.default.log("playMediaOverlaysAudio() - playClip() - ontimeupdateSeeked");let v=async y=>{if(this.audioElement.removeEventListener("timeupdate",v),xt.default.log("playMediaOverlaysAudio() - playClip() - ontimeupdateSeeked - .play()"),this.ensureOnTimeUpdate(!1,!1),this.audioElement&&(this.audioElement.playbackRate=this.settings.rate,this.audioElement.volume=this.settings.volume,this.settings.playing)){let l=function(){h.settings.resourceReady?setTimeout(async()=>{await h.audioElement.play(),h.ensureOnTimeUpdate(!1,!0)},h.settings.wait*1e3):setTimeout(l,200)},h=this;l()}};this.audioElement.addEventListener("timeupdate",v),this.audioElement.currentTime=b}else{let v=this.previousAudioUrl===this.currentAudioUrl&&typeof this.previousAudioEnd<"u"&&this.previousAudioEnd>b-.02&&this.previousAudioEnd<=b&&this.audioElement.currentTime>=b-.1;this.ensureOnTimeUpdate(!1,!1),v?xt.default.log("playMediaOverlaysAudio() - playClip() - ensureOnTimeUpdate"):(xt.default.log("playMediaOverlaysAudio() - playClip() - currentTime = timeToSeekTo"),this.audioElement.currentTime=b)}};if(this.previousAudioUrl=this.currentAudioUrl,!this.currentAudioUrl||c!==this.currentAudioUrl){this.currentAudioUrl=c,xt.default.log("playMediaOverlaysAudio() - RESET: "+this.previousAudioUrl+" => "+this.currentAudioUrl),this.audioElement=document.getElementById("AUDIO_MO_ID"),this.audioElement&&(this.audioElement.pause(),this.audioElement.setAttribute("src",""),this.audioElement.parentNode&&this.audioElement.parentNode.removeChild(this.audioElement)),this.audioElement=document.createElement("audio"),this.audioElement.setAttribute("style","display: none"),this.audioElement.setAttribute("id","AUDIO_MO_ID"),this.audioElement.setAttribute("role","media-overlays"),this.audioElement.volume=this.settings.volume,this.audioElement.playbackRate=this.settings.rate,document.body.appendChild(this.audioElement),this.audioElement.addEventListener("error",v=>{xt.default.log("-1) error: "+(this.currentAudioUrl!==v.currentTarget.src?this.currentAudioUrl+" -- ":"")+v.currentTarget.src.substr(v.currentTarget.src.lastIndexOf("/"))),this.audioElement&&this.audioElement.error&&(xt.default.log(this.audioElement.error.code),xt.default.log(this.audioElement.error.message))});let m=async v=>{v.currentTarget.removeEventListener("canplaythrough",m),xt.default.log("oncanplaythrough"),await p(!0)};this.audioElement.addEventListener("canplaythrough",m);let b=async v=>{xt.default.log("onended"),this.currentLinks.length>1&&this.currentLinkIndex===0?(this.currentLinkIndex++,await this.playLink()):this.settings.autoTurn&&this.settings.playing?(this.audioElement.pause(),this.navigator.nextResource()):this.stopReadAloud()};this.audioElement.addEventListener("ended",b),this.audioElement.playbackRate=this.settings.rate,this.audioElement.setAttribute("src",this.currentAudioUrl)}else xt.default.log("playMediaOverlaysAudio() - playClip()"),await p(!1)}async playMediaOverlays(e,t,r){xt.default.log("playMediaOverlays()");let i=r?r.filter(o=>o):void 0;i&&i.length===0&&(i=void 0);let s=this.findDepthFirstTextAudioPair(e,t,i);!s&&i&&(xt.default.log("playMediaOverlays() - findDepthFirstTextAudioPair() SECOND CHANCE "),xt.default.log(JSON.stringify(i,null,4)),xt.default.log(JSON.stringify(t,null,4)),s=this.findDepthFirstTextAudioPair(e,t,void 0)),s?s.Audio&&(xt.default.log("playMediaOverlays() - playMediaOverlaysAudio()"),this.mediaOverlayRoot=t,await this.playMediaOverlaysAudio(s,void 0,void 0)):xt.default.log("playMediaOverlays() - !moTextAudioPair "+e)}mediaOverlayHighlight(e){var c,d,u,p,m,b,v,y,h;xt.default.log("moHighlight:  ## "+e);let t=(d=(c=this.publication.Metadata)==null?void 0:c.MediaOverlay)==null?void 0:d.ActiveClass;t||(t=this.settings.color);let r=(u=this.navigator.iframes[0].contentDocument)==null?void 0:u.documentElement.getAttribute("style"),i=r?r.indexOf("readium-night-on")>0:!1,s=r?r.indexOf("readium-sepia-on")>0:!1;if((((p=this.publication.Metadata.Rendition)==null?void 0:p.Layout)??"unknown")!=="fixed"&&(t=i||s?h1:t||h1),this.pid){let l;this.currentLinkIndex===0?l=(m=this.navigator.iframes[0].contentDocument)==null?void 0:m.getElementById(this.pid):l=(b=this.navigator.iframes[1].contentDocument)==null?void 0:b.getElementById(this.pid),l&&l.classList.remove(t)}let o;e&&(this.currentLinkIndex===0?o=(v=this.navigator.iframes[0].contentDocument)==null?void 0:v.getElementById(e):o=(y=this.navigator.iframes[1].contentDocument)==null?void 0:y.getElementById(e),o&&o.classList.add(t),this.pid=e),o&&(((h=this.publication.Metadata.Rendition)==null?void 0:h.Layout)??"unknown")!=="fixed"&&o.scrollIntoView({block:"center",behavior:"smooth"})}};F();var p1=Rt(Pn()),du=class{static async create(e){let t=new this(e.publication);return await t.start(),t}constructor(e){this.publication=e}async stop(){p1.default.log("Timeline module stop")}async start(){this.timelineContainer=st(document,"#container-view-timeline"),this.positionSlider=st(document,"#positionSlider"),this.publication.positions?this.positionSlider&&(this.positionSlider.style.display="block"):this.positionSlider&&(this.positionSlider.style.display="none")}async initialize(){return new Promise(async e=>{var r;await document.fonts.ready;let t=this.navigator.currentLocator();(this.navigator.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions)&&(this.positionSlider&&(this.positionSlider.value=(t.locations.position??0).toString()),this.positionSlider&&(this.positionSlider.max=((t.locations.totalRemainingPositions??0)+(t.locations.position??0)).toString())),this.timelineContainer&&(this.timelineContainer.innerHTML=""),(r=this.publication.readingOrder)==null||r.forEach(i=>{var b,v;let s=this.publication.getAbsoluteHref(i.Href),o=this.publication.getTOCItemAbsolute(s),c=(o==null?void 0:o.Href.indexOf("#"))!==-1?o==null?void 0:o.Href.slice(0,o==null?void 0:o.Href.indexOf("#")):o.Href,d=this.publication.getAbsoluteHref(c??"");var u;this.publication.positions&&((b=this.navigator.view)==null?void 0:b.layout)!=="fixed"?i.contentWeight?u=i.contentWeight:u=1:u=100/(((v=this.publication.readingOrder)==null?void 0:v.length)??0);var p=document.createElement("div");if(p.style.height=u+"%",p.style.width="100%",p.className="chapter",(o==null?void 0:o.Title)!==void 0){var m=document.createElement("span");m.innerHTML=o.Title,m.className="chapter-tooltip",p.appendChild(m)}Ie(p,"click",y=>{y.preventDefault(),y.stopPropagation();var h;this.publication.positions||this.navigator.rights.autoGeneratePositions&&this.publication.positions?(h={...this.publication.positions.filter(l=>l.href===i.Href)[0]},h.href=this.publication.getAbsoluteHref(h.href)):h={href:d,locations:{progression:0},type:i.TypeLink,title:i.Title},p1.default.log(h),this.navigator.navigate(h)}),d===this.navigator.currentChapterLink.href?p.className+=" active":p.className=p.className.replace(" active",""),this.timelineContainer&&this.timelineContainer.appendChild(p)}),e()})}};F();var Q1=Rt(po());F();var wA=Rt(Pn());function EA(n,e){return new Promise(function(t){setTimeout(t.bind(null,e),n)})}var wH=!1;wA.default.setLevel(wH?"trace":"warn",!0);var Xh=Rt(AA()),fr=Rt(Pn());F();var FC=Rt(hS(),1),Gi=Rt(MC(),1);F();var OC=[{regex:/IE (\d+)\.(\d+)/,family:"ie",maxVersion:[7,1/0,1/0]},{regex:/Trident\/4\.0/,family:"ie",version:[8,0,0]},{regex:/Trident\/5\.0/,family:"ie",version:[9,0,0]},{regex:/Trident\/6\.0/,family:"ie",version:[10,0,0]},{regex:/Trident\/[78]\.0/,family:"ie",version:[11,0,0]},{regex:/Edge?\/(\d+)(\.(\d+)|)(\.(\d+)|)/,family:"edge"},{regex:/Firefox\/(\d+)\.(\d+)(\.(\d+)|)/,family:"firefox"},{regex:/Chrom(ium|e)\/(\d+)\.(\d+)(\.(\d+)|)/,family:"chrome"},{regex:/Chrom(ium|e)\/(\d+)\.(\d+)(\.(\d+)|)([\d.]+$|.*Safari\/(?![\d.]+ Edge\/[\d.]+$))/,family:"chrome",maxVersion:[70,1/0,1/0]},{regex:/Maci.+ Version\/(\d+)\.(\d+)([.,](\d+)|)( \(\w+\)|)( Mobile\/\w+|) Safari\//,family:"safari"},{regex:/Opera\/9\.80.+Version\/(\d+)\.(\d+)(\.(\d+)|)/,family:"opera",maxVersion:[12,15,0]},{regex:/Chrome.+OPR\/(\d+)\.(\d+)\.(\d+)/,family:"opera",minVersion:[15,0,0]},{regex:/(CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS|CPU iPad OS)[ +]+(\d+)[_.](\d+)([_.](\d+)|)/,family:"ios_saf"},{regex:/[^e] (CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS|CPU iPad OS)[ +]+(\d+)[_.](\d+)([_.](\d+)|)/,family:"ios_saf",version:[7,0,3]},{regex:/Opera Mini/,family:"op_mini"},{regex:/Android Donut/,family:"android",version:[1,2,0]},{regex:/Android Eclair/,family:"android",version:[2,1,0]},{regex:/Android Froyo/,family:"android",version:[2,2,0]},{regex:/Android Gingerbread/,family:"android",version:[2,3,0]},{regex:/Android Honeycomb/,family:"android",version:[3,0,0]},{regex:/Android:?[ /-](\d+)(\.(\d+)|)(\.(\d+)|)/,family:"android"},{regex:/Android:?[ /-](\d+)(\.(\d+)|)(\.(\d+)|);(?! ARM; Trident)/,family:"android",version:[4,0,0]},{regex:/PlayBook.+RIM Tablet OS (\d+)\.(\d+)\.(\d+)/,family:"bb"},{regex:/(Black[bB]erry|BB10).+Version\/(\d+)\.(\d+)\.(\d+)/,family:"bb"},{regex:/Opera\/.+Opera Mobi.+Version\/(\d+)\.(\d+)/,family:"op_mob",maxVersion:[12,16,0]},{regex:/Mobile Safari.+OPR\/(\d+)\.(\d+)\.(\d+)/,family:"op_mob",minVersion:[14,0,0]},{regex:/Android.+Firefox\/(\d+)\.(\d+)(\.(\d+)|)/,family:"and_ff"},{regex:/Android.+Chrom(ium|e)\/(\d+)\.(\d+)(\.(\d+)|)/,family:"and_chr"},{regex:/IEMobile[ /](\d+)\.(\d+)/,family:"ie_mob"},{regex:/Android.+(UC? ?Browser|UCWEB|U3)[ /]?(\d+)\.(\d+)\.(\d+)/,family:"and_uc"},{regex:/SamsungBrowser\/(\d+)\.(\d+)/,family:"samsung"},{regex:/Android.+MQQBrowser\/(\d+)(\.(\d+)|)(\.(\d+)|)/,family:"and_qq"},{regex:/baidubrowser[/\s](\d+)(\.(\d+)|)(\.(\d+)|)/,family:"baidu"},{regex:/K[Aa][Ii]OS\/(\d+)\.(\d+)(\.(\d+)|)/,family:"kaios"}];function $1(n){return typeof n=="number"?n:n.length===1?n[0]:[n[0],n[n.length-1]]}var Vn;(function(n){n[n.Major=0]="Major",n[n.Minor=1]="Minor",n[n.Patch=2]="Patch"})(Vn||(Vn={}));function kC(n){let e=Array.isArray(n)?n:n.toString().split(".");if(e[0]==="all")return[1/0,0,0];let t=null,r=null,i=[0,0,0];for(let s=0;s<3;s++)if(t=e[s],!(typeof t>"u")){if(r=typeof t=="number"?t:parseInt(t,10),isNaN(r))return null;i[s]=r}return i}function cq(n,e){let t=0,r=[];for(let i=2;i>=0;i--)if(n[i]!==e[i]){t=i;break}for(let i=n[t],s=e[t];i<=s;i++)r.push(n.map((o,c)=>c===t?i:o));return r}function RC(n,e,t){let[r,i,s]=n,[o,c,d]=e,{ignoreMinor:u,ignorePatch:p,allowHigherVersions:m}=t;if(o===1/0)return!0;let b=!u,v=b&&!p;return m?v&&s<d||b&&i<c?!1:r>=o:v&&s!==d||b&&i!==c?!1:r===o}function dq(n,e){let{ignoreMinor:t,ignorePatch:r,allowZeroSubversions:i}=e,s=t?1:r?2:3;if(i)for(let o=s-1;o>0&&!(n[o]!==0||s===1);o--)s--;return s}function fq(n){return n.reduce((e,t)=>{let[r,i,s]=t.split(/ |-/),o=kC(i);return(o?s?cq(o,kC(s)):[o]:[]).reduce((d,u)=>(u&&d.push({family:r,version:u}),d),e)},[])}function hq(n={}){let{browsers:e,...t}=n,r=(0,FC.default)(e,t);return fq(r)}function pq(n,e,t=0){let r=n.length;for(let i=t;i<r;i++)if(n[i]!==e[i])return!1;return!0}function HC(n){if(n===null||typeof n!="object")return n;let e=Array.isArray(n)?[]:{},t;for(t in n)e[t]=HC(n[t]);return e}function Kh(n){return[].concat(...n)}function gq(n){let e=new Map;return n.forEach(({family:t,version:r})=>{let i=e.get(t);if(i){let s=r.join(".");i.every(o=>o.join(".")!==s)&&i.push(r);return}e.set(t,[r])}),e.forEach(t=>{t.sort((r,i)=>{for(let s in r)if(r[s]!==i[s])return r[s]-i[s];return 0})}),e}function mq(n){if(n.length<2)return n;let e=n.length+1,t=[],r=null,i=n[0],s=[i[Vn.Major]],o=[i[Vn.Minor]],c=[i[Vn.Patch]],d=null;for(let u=1;u<e;u++){r=n[u-1],i=n[u]||[];for(let p=Vn.Major;p<=Vn.Patch;p++){if((p===d||d===null)&&r[p]+1===i[p]&&pq(r,i,p+1)){d=p,p===Vn.Major?s.push(i[Vn.Major]):s=i[Vn.Major],p===Vn.Minor?o.push(i[Vn.Minor]):o=i[Vn.Minor],p===Vn.Patch?c.push(i[Vn.Patch]):c=i[Vn.Patch];break}if(d===p||r[p]!==i[p]){t.push([$1(s),$1(o),$1(c)]),s=[i[Vn.Major]],o=[i[Vn.Minor]],c=[i[Vn.Patch]],d=null;break}}}return t}function yq(n){return{type:"RegExp",body:n,flags:""}}function Gs(...n){let e=Kh(n).filter(Boolean);return e.length===1?e[0]:{type:"Alternative",expressions:e}}function Mi(n){return{type:"Char",kind:"simple",value:String(n),codePoint:NaN}}function bq(n){return{type:"Char",kind:"meta",value:n,codePoint:NaN}}function UC(n,e){return{type:"ClassRange",from:n,to:e}}function J1(...n){return{type:"CharacterClass",expressions:Kh(n).filter(Boolean)}}function vq(n){return{type:"Quantifier",kind:n,greedy:!0}}function _q(n,e){return{type:"Quantifier",kind:"Range",from:n,to:e,greedy:!0}}function jC(n){return{type:"Group",capturing:!0,expression:n,number:null}}function wq(n,e){return{type:"Repetition",expression:n,quantifier:e}}function Eq(...n){let e=Kh(n).filter(Boolean);if(e.length===1)return e[0];let t={type:"Disjunction",left:null,right:e.pop()};return e.reduceRight((r,i,s)=>s===0?(r.left=i,r):(r.left={type:"Disjunction",left:null,right:i},r.left),t),t}function Yh(...n){let e=Eq(...n);return e.type==="Disjunction"?jC(e):e}function Eu(){return bq("\\d")}function wu(n=vq("+")){return wq(Eu(),n)}function LC(n){return Gs(Array.from(String(n),Mi))}function Jh(n){if(n.type==="Group"&&n.expression.type==="Repetition"){let{expression:e,quantifier:t}=n.expression;return e.type==="Char"&&e.value==="\\d"&&t.kind==="+"&&t.greedy}return!1}function _u(n,e){return n&&n.type==="Char"?typeof e>"u"||e instanceof RegExp&&e.test(n.value)||String(e)===n.value:!1}function IC(n){if(n.type==="CharacterClass"&&n.expressions.length===1){let[e]=n.expressions;return e.type==="ClassRange"&&_u(e.from,/\d/)&&_u(e.to,/\d/)}return!1}function NC(n){return n.type!=="RegExp"&&n.type!=="ClassRange"&&n.type!=="Quantifier"}function Au(n){return typeof n=="string"?Gi.default.parse(n.replace(/^([^/])/,"/$1").replace(/([^/])$/,"$1/")):n instanceof RegExp?Gi.default.parse(n):n}function Aq(n){return typeof n=="string"?new RegExp(n):new RegExp(Gi.default.generate(n.body),n.flags)}function Sq(n){return typeof n=="string"?n:n instanceof RegExp?n.toString():Gi.default.generate(n)}var Cq=["RegExp","Disjunction","Alternative","Assertion","Char","CharacterClass","ClassRange","Backreference","Group","Repetition","Quantifier"];function X1(n){let{every:e}=n;return e?typeof e=="function"?{"*":e,...n}:Cq.reduce((t,r)=>{let i=n[r],s=i?"pre"in i?i.pre:i:null,o=i&&"post"in i?i.post:null;return t[r]={pre(c){return e.pre(c)!==!1&&s?s(c):!0},post(c){return e.post(c)!==!1&&o?o(c):!0}},t},{}):n}function Tq(n){let e=Gi.default.optimize(Au(Sq(n))).getAST();return Gi.default.traverse(e,{Group(t){let{parent:r,node:i}=t,{expression:s}=i;i.capturing=!0,(r.type==="RegExp"||s.type!=="Disjunction"&&r.type!=="Repetition"||s.type==="Disjunction"&&r.type==="Disjunction")&&t.replace(t.node.expression)}}),e}function xq(n,e){return _u(n)&&_u(e)&&n.value===e.value?e:_u(n,/\d/)&&IC(e)&&Number(e.expressions[0].from.value)-Number(n.value)===1?{...e,expressions:[{...e.expressions[0],from:n}]}:IC(n)&&_u(e,/\d/)&&Number(e.value)-Number(n.expressions[0].to.value)===1?{...n,expressions:[{...n.expressions[0],to:e}]}:null}function Pq(n){return n.reduce((e,t)=>{let r=e[e.length-1];if(r&&t.type==="Alternative"&&r.type==="Alternative"&&t.expressions.length===r.expressions.length){let i=r.expressions.reduceRight((s,o,c)=>{if(!s)return s;let d=xq(o,t.expressions[c]);if(d)s.unshift(d);else return null;return s},[]);i&&(t.expressions=i,e.pop())}return e.push(t),e},[])}function K1(n){return Array.from(n.toString(),Number)}function DC(n,e){let t=n+ +!e;return t===0?Eu():t===9?Mi("9"):t>9?null:J1(UC(Mi(t),Mi("9")))}function Mq(n){if(n===0)return[wu()];let e=K1(n),t=e.length,r=wu(_q(t+1)),i=t-1;if(n/Math.pow(10,i)===e[0])return[Gs(DC(e[0],!0),Array.from({length:i},Eu)),r];let o=e.reduce((c,d,u)=>{let p=t-u-1,m=u===0,b=Mi(""),v=e.reduce((y,h,l)=>{if(l<p)y.push(Mi(h));else if(b)if(l>p)y.push(Eu());else if(b=DC(h,m),b)y.push(b);else return[];return y},[]);return v.length&&c.push(v),c},[]).map(c=>Gs(c));return o.push(r),o}function vu(n,e,t){if(e<n)return null;let r=Mi(n),i=Mi(e),s=typeof t=="number"&&t>0?Array.from({length:t},()=>Mi(0)):[],o=s.length?c=>Gs(s,c):c=>c;return n===e?o(r):n===0&&e===9?o(Eu()):e-n===1?o(J1(r,i)):o(J1(UC(r,i)))}function Oq(n,e){let t=[],r=n,i=1;do i*=10,r<i&&(t.push([r,Math.min(i-1,e)]),r=i);while(i<=e);return t}function kq(n,e){let t=n.length;if(t!==e.length||n[0]!==e[0])return null;let r=n[0].toString(),i=0,s=0,o="",c="";for(let d=1;d<t;d++)i=n[d],s=e[d],i===s?r+=i:(o+=i,c+=s);return[r,parseInt(o,10),parseInt(c,10)]}function Y1(n,e,t=0){let r=K1(n),i=r.length;if(n<10&&e<10||n===e){let p=t-i;return[vu(n,e,p)]}let s=K1(e);if(i!==s.length){let p=Oq(n,e);return Kh(p.map(([b,v])=>Y1(b,v,t)))}let o=kq(r,s);if(Array.isArray(o)){let[p,m,b]=o,v=i-p.length,y=Y1(m,b,v);return[Gs(Array.from(p,Mi),Yh(y))]}let c=Array.from({length:i-1}),d=vu(r[0]+1,s[0]-1),u=[...c.map((p,m)=>{let b=i-m-1,v=+(m>0);return Gs(r.map((y,h)=>h<b?Mi(y):h>b?vu(0,9):vu(y+v,9)))}),...d?[Gs(d,Array.from({length:i-1},()=>Eu()))]:[],...c.map((p,m)=>{let b=i-m-1,v=+(m>0);return Gs(s.map((y,h)=>h<b?Mi(y):h>b?vu(0,9):vu(0,y-v)))})];return Pq(u)}function BC(n,e=1/0){if(n===1/0)return wu();let t=e===1/0?Mq(n):Y1(n,e);return Yh(t)}function Rq(n,e,t,r){let i={...r,allowHigherVersions:!0},s=d=>RC(d,n,i),o=d=>RC(e,d,i),c=n&&e?d=>s(d)&&o(d):n?s:e?o:()=>!0;return t.filter(c)}function Lq(n,e,t=OC){let r=[],i="",s=!1;return t.forEach(o=>{let c=n.get(o.family);if(!c)return;let{version:d,minVersion:u,maxVersion:p}=o;d&&(u=d,p=d);let m=Rq(u,p,c,e);m.length&&(i===o.family&&s&&(d=void 0,u=void 0,p=void 0,m=c,r.pop()),r.push({...o,version:d,minVersion:u,maxVersion:p,requestVersions:c,matchedVersions:m})),s=!d&&!u&&!p,i=o.family}),r}function Iq(n){let e=n.map(({regexAst:r})=>jC(r.body)),t=Tq(yq(Yh(e)));return Aq(t)}function Nq(n){let e=Au(n),t=0;return Gi.default.traverse(e,{Group(r){Jh(r.node)&&t++}}),t}function Dq(n,e,t){let r=Au(n),i=typeof t=="number"&&t<e.length?e.slice(0,t):e.slice();return Gi.default.traverse(r,X1({every(){return!!i.length},Group(s){return Jh(s.node)&&i.length?(r===s.node?r=i.shift():s.replace(i.shift()),!1):!0}})),r}function qC(n,e){let t=Au(n),r=Math.min(Nq(t),e||1/0),i=[],s=0,o=!1;return Gi.default.traverse(t,X1({every:{pre({node:c,parent:d}){return c===t?!0:NC(c)?(d===t&&(o=!1),s<r):!1},post({node:c,parent:d}){c!==t&&d===t&&NC(c)&&(o||s>0&&s<r)&&i.push(c)}},Group(c){return Jh(c.node)&&s<r?(o=!0,s++,!1):!0}})),i.length===1&&!Jh(i[0])?qC(i[0],r):i}function Bq(n,e){let{ignoreMinor:t,ignorePatch:r,allowHigherVersions:i}=e,s=n[0]===1/0?0:t?1:r?2:3;if(i){let c=[],d=!0,u=0,p=0,m=b=>(v,y)=>y>=s?wu():(p=Array.isArray(v)?v[0]:v,y<b?LC(p):y>b?wu():BC(p+u));for(let b=s-1;b>=0;b--)d&&!n[b]||(d=!1,c.push(n.map(m(b))),u=1);return c}return[n.map((c,d)=>d>=s?wu():Array.isArray(c)?BC(c[0],c[1]):LC(c))]}function Fq(n,e,t){let{allowHigherVersions:r}=t,i=Au(n),s=r&&e.length?[e[0]]:e,o=s.reduce((u,p)=>Math.max(u,dq(p,t)),1),c=qC(i,o),d=Yh(...s.map(u=>Bq(u,t).map(p=>Dq(Gs(HC(c)),p,o))));return Gi.default.traverse(i,X1({every(u){return c.length?(u.node===c[0]&&(c.length===1?u.replace(d):u.remove(),c.shift()),!0):!1}})),i}function Hq(n,e){return n.map(({regex:t,version:r,maxVersion:i,matchedVersions:s,...o})=>{let c=Au(t);return r||(c=Fq(c,mq(s),{...e,allowHigherVersions:!i&&e.allowHigherVersions})),{regex:null,sourceRegex:t,regexAst:c,version:r,maxVersion:i,matchedVersions:s,...o}})}var Uq={ignoreMinor:!1,ignorePatch:!0,allowZeroSubversions:!1,allowHigherVersions:!1};function jq(n={}){let e={...Uq,...n},t=hq(e),r=gq(t),i=Lq(r,e);return Hq(i,e)}function GC(n={}){return Iq(jq(n))}var na=class{constructor(e){this.hasEventListener=!1;this.isHacked=!1;this.properties=e}static async setupPreloadProtection(e){if(this.isCurrentBrowserSupported(e))e.detectInspect&&await this.startInspectorProtection(e);else throw new Error("Browser not supported")}static async create(e){let t=new this(e);return await t.start(),t}static async startInspectorProtection(e){(0,Xh.addListener)(r=>{var i;r&&(e.clearOnInspect&&(console.clear(),window.localStorage.clear(),window.sessionStorage.clear(),window.location.replace(window.location.origin)),e.detectInspect&&typeof((i=e.api)==null?void 0:i.inspectDetected)=="function"&&e.api.inspectDetected())}),(0,Xh.launch)(),await EA(e.detectInspectInitDelay??100)}static isCurrentBrowserSupported(e){if(!e.enforceSupportedBrowsers)return!0;let t=[];return(e.supportedBrowsers??[]).forEach(i=>{t.push("last 1 "+i+" version")}),GC({browsers:t,allowHigherVersions:!0}).test(navigator.userAgent)}async start(){var t;if((t=this.properties)!=null&&t.enableObfuscation){this.wrapper=Wt(document,"#iframe-wrapper"),this.securityContainer=st(document,"#container-view-security");var e=this;this.mutationObserver=new MutationObserver(function(r){r.forEach(function(i){fr.default.log(i.type),e.isHacked=!0})})}}async stop(){var e,t,r,i,s,o,c,d;if(fr.default.log("Protection module stop"),(e=this.properties)!=null&&e.enableObfuscation&&this.mutationObserver.disconnect(),(t=this.properties)!=null&&t.disableKeys){dt(this.navigator.mainElement,"keydown",this.disableSave),dt(this.navigator.headerMenu,"keydown",this.disableSave);for(let u of this.navigator.iframes)dt(u.contentDocument,"keydown",this.disableSave),dt(u.contentWindow,"keydown",this.disableSave);dt(window,"keydown",this.disableSave),dt(document,"keydown",this.disableSave)}if((r=this.properties)!=null&&r.disableCopy){dt(this.navigator.mainElement,"copy",this.preventCopy),dt(this.navigator.headerMenu,"copy",this.preventCopy);for(let u of this.navigator.iframes)dt(u.contentDocument,"copy",this.preventCopy),dt(u.contentWindow,"copy",this.preventCopy);dt(window,"copy",this.preventCopy),dt(document,"copy",this.preventCopy),dt(this.navigator.mainElement,"cut",this.preventCopy),dt(this.navigator.headerMenu,"cut",this.preventCopy);for(let u of this.navigator.iframes)dt(u.contentDocument,"cut",this.preventCopy),dt(u.contentWindow,"cut",this.preventCopy);dt(window,"cut",this.preventCopy),dt(document,"cut",this.preventCopy),dt(this.navigator.mainElement,"keydown",this.preventCopyKey),dt(this.navigator.headerMenu,"keydown",this.preventCopyKey);for(let u of this.navigator.iframes)dt(u.contentDocument,"keydown",this.preventCopyKey),dt(u.contentWindow,"keydown",this.preventCopyKey);dt(window,"keydown",this.preventCopyKey),dt(document,"keydown",this.preventCopyKey)}else if((i=this.properties)!=null&&i.canCopy){dt(this.navigator.mainElement,"copy",this.restrictCopy),dt(this.navigator.headerMenu,"copy",this.restrictCopy);for(let u of this.navigator.iframes)dt(u.contentDocument,"copy",this.restrictCopy),dt(u.contentWindow,"copy",this.restrictCopy);dt(window,"copy",this.restrictCopy),dt(document,"copy",this.restrictCopy),dt(this.navigator.mainElement,"cut",this.restrictCopy),dt(this.navigator.headerMenu,"cut",this.restrictCopy);for(let u of this.navigator.iframes)dt(u.contentDocument,"cut",this.restrictCopy),dt(u.contentWindow,"cut",this.restrictCopy);dt(window,"cut",this.restrictCopy),dt(document,"cut",this.restrictCopy),dt(this.navigator.mainElement,"keydown",this.restrictCopyKey),dt(this.navigator.headerMenu,"keydown",this.restrictCopyKey);for(let u of this.navigator.iframes)dt(u.contentDocument,"keydown",this.restrictCopyKey),dt(u.contentWindow,"keydown",this.restrictCopyKey);dt(window,"keydown",this.restrictCopyKey),dt(document,"keydown",this.restrictCopyKey)}if((s=this.properties)!=null&&s.disablePrint){dt(this.navigator.mainElement,"beforeprint",this.beforePrint.bind(this)),dt(this.navigator.headerMenu,"beforeprint",this.beforePrint.bind(this));for(let u of this.navigator.iframes)dt(u.contentDocument,"beforeprint",this.beforePrint),dt(u.contentWindow,"beforeprint",this.beforePrint);dt(window,"beforeprint",this.beforePrint),dt(document,"beforeprint",this.beforePrint),dt(this.navigator.mainElement,"afterprint",this.afterPrint.bind(this)),dt(this.navigator.headerMenu,"afterprint",this.afterPrint.bind(this));for(let u of this.navigator.iframes)dt(u.contentDocument,"afterprint",this.afterPrint.bind(this)),dt(u.contentWindow,"afterprint",this.afterPrint.bind(this));dt(window,"afterprint",this.afterPrint.bind(this)),dt(document,"afterprint",this.afterPrint.bind(this))}if((o=this.properties)!=null&&o.disableContextMenu){dt(this.navigator.mainElement,"contextmenu",this.disableContext),dt(this.navigator.headerMenu,"contextmenu",this.disableContext);for(let u of this.navigator.iframes)dt(u.contentDocument,"contextmenu",this.disableContext),dt(u.contentWindow,"contextmenu",this.disableContext);dt(window,"contextmenu",this.disableContext),dt(document,"contextmenu",this.disableContext)}(c=this.properties)!=null&&c.hideTargetUrl&&this.hideTargetUrls(!1),(d=this.properties)!=null&&d.disableDrag&&this.preventDrag(!1),dt(this.wrapper,"scroll",this.handleScroll.bind(this))}observe(){var t;if((t=this.properties)!=null&&t.enableObfuscation){this.securityContainer.hasAttribute("style")&&(this.isHacked=!0),this.mutationObserver.disconnect();var e={attributes:!0,childList:!0,characterData:!0};this.mutationObserver.observe(this.securityContainer,e)}}async deactivate(){var e;(e=this.properties)!=null&&e.enableObfuscation&&(this.observe(),this.rects.forEach(t=>this.deactivateRect(t,this.securityContainer,this.isHacked)))}async activate(){var e;if((e=this.properties)!=null&&e.enableObfuscation){this.observe();for(let t of this.navigator.iframes)if(t.contentDocument){let r=ks(t.contentDocument,"body");this.rects=this.findRects(r),this.rects.forEach(i=>this.toggleRect(i,this.securityContainer,this.isHacked))}}}setupEvents(){var e,t,r,i,s,o,c,d,u,p,m,b,v,y,h;if((e=this.properties)!=null&&e.disableKeys){Ie(this.navigator.mainElement,"keydown",this.disableSave),Ie(this.navigator.headerMenu,"keydown",this.disableSave);for(let l of this.navigator.iframes)Ie(l,"keydown",this.disableSave),Ie(l.ownerDocument,"keydown",this.disableSave),Ie(l.contentDocument,"keydown",this.disableSave),Ie(l.contentWindow,"keydown",this.disableSave),Ie((t=l.contentWindow)==null?void 0:t.document,"keydown",this.disableSave);Ie(window,"keydown",this.disableSave),Ie(document,"keydown",this.disableSave)}if((r=this.properties)!=null&&r.disableCopy){Ie(this.navigator.mainElement,"copy",this.preventCopy),Ie(this.navigator.headerMenu,"copy",this.preventCopy);for(let l of this.navigator.iframes)Ie(l,"copy",this.preventCopy),Ie(l.ownerDocument,"copy",this.preventCopy),Ie(l.contentDocument,"copy",this.preventCopy),Ie(l.contentWindow,"copy",this.preventCopy),Ie((i=l.contentWindow)==null?void 0:i.document,"copy",this.preventCopy);Ie(window,"copy",this.preventCopy),Ie(document,"copy",this.preventCopy),Ie(this.navigator.mainElement,"cut",this.preventCopy),Ie(this.navigator.headerMenu,"cut",this.preventCopy);for(let l of this.navigator.iframes)Ie(l,"cut",this.preventCopy),Ie(l.ownerDocument,"cut",this.preventCopy),Ie(l.contentDocument,"cut",this.preventCopy),Ie(l.contentWindow,"cut",this.preventCopy),Ie((s=l.contentWindow)==null?void 0:s.document,"cut",this.preventCopy);Ie(window,"cut",this.preventCopy),Ie(document,"cut",this.preventCopy),Ie(this.navigator.mainElement,"keydown",this.preventCopyKey),Ie(this.navigator.headerMenu,"keydown",this.preventCopyKey);for(let l of this.navigator.iframes)Ie(l,"keydown",this.preventCopyKey),Ie(l.ownerDocument,"keydown",this.preventCopyKey),Ie(l.contentDocument,"keydown",this.preventCopyKey),Ie(l.contentWindow,"keydown",this.preventCopyKey),Ie((o=l.contentWindow)==null?void 0:o.document,"keydown",this.preventCopyKey);Ie(window,"keydown",this.preventCopyKey),Ie(document,"keydown",this.preventCopyKey)}else if((c=this.properties)!=null&&c.canCopy){Ie(this.navigator.mainElement,"copy",this.restrictCopy.bind(this)),Ie(this.navigator.headerMenu,"copy",this.restrictCopy.bind(this));for(let l of this.navigator.iframes)Ie(l,"copy",this.restrictCopy),Ie(l.ownerDocument,"copy",this.restrictCopy.bind(this)),Ie(l.contentDocument,"copy",this.restrictCopy.bind(this)),Ie(l.contentWindow,"copy",this.restrictCopy.bind(this)),Ie((d=l.contentWindow)==null?void 0:d.document,"copy",this.restrictCopy.bind(this));Ie(window,"copy",this.restrictCopy.bind(this)),Ie(document,"copy",this.restrictCopy.bind(this)),Ie(this.navigator.mainElement,"cut",this.restrictCopy.bind(this)),Ie(this.navigator.headerMenu,"cut",this.restrictCopy.bind(this));for(let l of this.navigator.iframes)Ie(l,"cut",this.restrictCopy.bind(this)),Ie(l.ownerDocument,"cut",this.restrictCopy.bind(this)),Ie(l.contentDocument,"cut",this.restrictCopy.bind(this)),Ie(l.contentWindow,"cut",this.restrictCopy.bind(this)),Ie((u=l.contentWindow)==null?void 0:u.document,"cut",this.restrictCopy.bind(this));Ie(window,"cut",this.restrictCopy.bind(this)),Ie(document,"cut",this.restrictCopy.bind(this)),Ie(this.navigator.mainElement,"keydown",this.restrictCopyKey.bind(this)),Ie(this.navigator.headerMenu,"keydown",this.restrictCopyKey.bind(this));for(let l of this.navigator.iframes)Ie(l,"keydown",this.restrictCopyKey.bind(this)),Ie(l.ownerDocument,"keydown",this.restrictCopyKey.bind(this)),Ie(l.contentDocument,"keydown",this.restrictCopyKey.bind(this)),Ie(l.contentWindow,"keydown",this.restrictCopyKey.bind(this)),Ie((p=l.contentWindow)==null?void 0:p.document,"keydown",this.restrictCopyKey.bind(this));Ie(window,"keydown",this.restrictCopyKey.bind(this)),Ie(document,"keydown",this.restrictCopyKey.bind(this))}if((m=this.properties)!=null&&m.disablePrint){Ie(this.navigator.mainElement,"beforeprint",this.beforePrint),Ie(this.navigator.headerMenu,"beforeprint",this.beforePrint);for(let l of this.navigator.iframes)Ie(l,"beforeprint",this.beforePrint.bind(this)),Ie(l.ownerDocument,"beforeprint",this.beforePrint.bind(this)),Ie(l.contentDocument,"beforeprint",this.beforePrint.bind(this)),Ie(l.contentWindow,"beforeprint",this.beforePrint.bind(this)),Ie((b=l.contentWindow)==null?void 0:b.document,"beforeprint",this.beforePrint.bind(this));Ie(window,"beforeprint",this.beforePrint.bind(this)),Ie(document,"beforeprint",this.beforePrint.bind(this)),Ie(this.navigator.mainElement,"afterprint",this.afterPrint),Ie(this.navigator.headerMenu,"afterprint",this.afterPrint);for(let l of this.navigator.iframes)Ie(l,"afterprint",this.afterPrint.bind(this)),Ie(l.ownerDocument,"afterprint",this.afterPrint.bind(this)),Ie(l.contentDocument,"afterprint",this.afterPrint.bind(this)),Ie(l.contentWindow,"afterprint",this.afterPrint.bind(this)),Ie((v=l.contentWindow)==null?void 0:v.document,"afterprint",this.afterPrint.bind(this));Ie(window,"afterprint",this.afterPrint.bind(this)),Ie(document,"afterprint",this.afterPrint.bind(this))}if((y=this.properties)!=null&&y.disableContextMenu){Ie(this.navigator.mainElement,"contextmenu",this.disableContext),Ie(this.navigator.headerMenu,"contextmenu",this.disableContext);for(let l of this.navigator.iframes)Ie(l,"contextmenu",this.disableContext),Ie(l.ownerDocument,"contextmenu",this.disableContext),Ie(l.contentDocument,"contextmenu",this.disableContext),Ie(l.contentWindow,"contextmenu",this.disableContext),Ie((h=l.contentWindow)==null?void 0:h.document,"contextmenu",this.disableContext);Ie(window,"contextmenu",this.disableContext),Ie(document,"contextmenu",this.disableContext)}}initializeResource(){var e,t;(e=this.properties)!=null&&e.hideTargetUrl&&this.hideTargetUrls(!0),(t=this.properties)!=null&&t.disableDrag&&this.preventDrag(!0)}async initialize(){var e;if((e=this.properties)!=null&&e.enableObfuscation)return new Promise(async t=>{await document.fonts.ready;for(let r of this.navigator.iframes)if(r.contentDocument){let i=ks(r.contentDocument,"body");this.observe(),setTimeout(()=>{this.rects=this.findRects(i),this.rects.forEach(s=>this.toggleRect(s,this.securityContainer,this.isHacked)),this.setupEvents(),this.hasEventListener||(this.hasEventListener=!0,Ie(this.wrapper,"scroll",this.handleScroll.bind(this))),t()},10)}})}handleScroll(){this.rects.forEach(e=>this.toggleRect(e,this.securityContainer,this.isHacked))}handleResize(){var e;if((e=this.properties)!=null&&e.enableObfuscation){let t=(0,Q1.debounce)(()=>{this.calcRects(this.rects),this.rects!==void 0&&this.rects.forEach(r=>this.toggleRect(r,this.securityContainer,this.isHacked))},10);this.rects&&(this.observe(),t())}}disableContext(e){return e.preventDefault(),e.stopPropagation(),!1}disableSave(e){return(navigator.platform==="MacIntel"||navigator.platform.match("Mac")?e.metaKey:e.ctrlKey&&(e.key==="s"||e.keyCode===83))?(e.preventDefault(),e.stopPropagation(),!1):!0}preventCopy(e){return fr.default.log("copy action initiated"),e.clipboardData.setData("text/plain","copy not allowed"),e.stopPropagation(),e.preventDefault(),!1}preventCopyKey(e){return(navigator.platform==="MacIntel"||navigator.platform.match("Mac")?e.metaKey:e.ctrlKey&&(e.key==="c"||e.keyCode===67))?(e.preventDefault(),e.stopPropagation(),!1):!0}restrictCopy(e){var r,i,s,o;if(this.citation)return;fr.default.log("copy action initiated");let t=this.navigator.iframes[0].contentWindow;if(t){let d=function(p){let m={className:v=>li.indexOf(v)<0,idName:v=>li.indexOf(v)<0},b=c.navigator.iframes[0].contentDocument;if(b)return tr(p,b,m)},c=this,u=ds(t,d);if(u===void 0){let p=this.navigator.iframes[0].contentDocument;u=(i=(r=this.navigator.annotationModule)==null?void 0:r.annotator)==null?void 0:i.getTemporarySelectionInfo(p)}e.clipboardData.setData("text/plain",(o=u==null?void 0:u.cleanText)==null?void 0:o.substring(0,((s=this.properties)==null?void 0:s.charactersToCopy)??0))}else e.clipboardData.setData("text/plain","");return e.stopPropagation(),e.preventDefault(),!1}restrictCopyKey(e){var t,r,i,s;if(navigator.platform==="MacIntel"||navigator.platform.match("Mac")?e.metaKey:e.ctrlKey&&(e.key==="c"||e.keyCode===67)){let o=this.navigator.iframes[0].contentWindow;if(o){let d=function(p){let m={className:v=>li.indexOf(v)<0,idName:v=>li.indexOf(v)<0},b=c.navigator.iframes[0].contentDocument;if(b)return tr(p,b,m)},c=this,u=ds(o,d);if(u===void 0){let p=this.navigator.iframes[0].contentDocument;u=(r=(t=this.navigator.annotationModule)==null?void 0:t.annotator)==null?void 0:r.getTemporarySelectionInfo(p)}this.copyToClipboard((s=u==null?void 0:u.cleanText)==null?void 0:s.substring(0,((i=this.properties)==null?void 0:i.charactersToCopy)??0))}else this.copyToClipboard("");return e.stopPropagation(),e.preventDefault(),!1}return!0}copyToClipboard(e){var t;if(e=e.substring(0,((t=this.properties)==null?void 0:t.charactersToCopy)??0),window.clipboardData)window.clipboardData.setData("text/plain",e);else{let r=this.createElementForExecCommand(e);this.selectContent(r);try{window.netscape&&netscape.security&&netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect"),document.execCommand("copy",!1)}catch{}document.body.removeChild(r)}}createElementForExecCommand(e){let t=document.createElement("div");return t.style.position="absolute",t.style.left="-10000px",t.style.top="-10000px",t.innerHTML=e,document.body.appendChild(t),t.contentEditable=!0,t}selectContent(e){let t=document.createRange();t.selectNodeContents(e);let r=window.getSelection();r==null||r.removeAllRanges(),r==null||r.addRange(t)}beforePrint(e){return fr.default.log("before print"),this.navigator&&this.navigator.headerMenu&&(this.navigator.headerMenu.style.display="none",this.navigator.mainElement.style.display="none"),e.stopPropagation(),e.preventDefault(),!1}afterPrint(e){return fr.default.log("after print"),this.navigator&&this.navigator.headerMenu&&(this.navigator.headerMenu.style.removeProperty("display"),this.navigator.mainElement.style.removeProperty("display")),e.stopPropagation(),e.preventDefault(),!1}hideTargetUrls(e){var r;function t(i){i.preventDefault();let s=i.currentTarget.getAttribute("data-href-resolved"),o=document.createElement("a");o.setAttribute("href",s),o.click()}for(let i of this.navigator.iframes){let s=(r=i.contentDocument)==null?void 0:r.querySelectorAll("a");s==null||s.forEach(o=>{let c=o.getAttribute("data-href"),d=o.getAttribute("href");!c&&d&&(o.setAttribute("data-href",d),o.setAttribute("data-href-resolved",o.href))}),e?s==null||s.forEach(o=>{o.setAttribute("href",""),o.addEventListener("click",t)}):s==null||s.forEach(o=>{let c=o.getAttribute("data-href");c&&o.setAttribute("href",c),o.removeEventListener("click",t)})}}preventDrag(e){var i,s,o,c,d;let t="-webkit-user-drag: none; -khtml-user-drag: none; -moz-user-drag: none; -ms-user-drag: none; user-drag: none; -webkit-pointer-events: none; -khtml-pointer-events: none; -moz-pointer-events: none; -ms-pointer-events: none; pointer-events: none;",r=u=>{u.preventDefault()};for(let u of this.navigator.iframes){let p=((i=u.contentDocument)==null?void 0:i.body.getAttribute("style"))||"";e?((s=u.contentDocument)==null||s.body.addEventListener("dragstart",r),(o=u.contentDocument)==null||o.body.setAttribute("style",p+t)):((c=u.contentDocument)==null||c.body.removeEventListener("dragstart",r),(d=u.contentDocument)==null||d.body.setAttribute("style",p.replace(t,"")))}}recalculate(e=0){return new Promise(t=>{var r;if((r=this.properties)!=null&&r.enableObfuscation){let i=(0,Q1.debounce)(()=>{this.calcRects(this.rects),this.rects!==void 0&&this.rects.forEach(s=>this.toggleRect(s,this.securityContainer,this.isHacked)),t(!0)},e);this.rects?(this.observe(),i()):t(!1)}else t(!1)})}calcRects(e){e!==void 0&&e.forEach(t=>{try{let{top:r,height:i,left:s,width:o}=this.measureTextNode(t.node);t.top=r,t.height=i,t.width=o,t.left=s}catch(r){fr.default.log("error "+r),fr.default.log(t),fr.default.log(t.node),fr.default.log("scrambledTextContent "+t.scrambledTextContent),fr.default.log("textContent "+t.textContent),fr.default.log("isObfuscated "+t.isObfuscated)}})}deactivateRect(e,t,r){this.isBeingHacked(t)||r?(e.node.textContent=e.scrambledTextContent,e.isObfuscated=!0):(e.node.textContent=e.textContent,e.isObfuscated=!1)}toggleRect(e,t,r){let i=this.isOutsideViewport(e),s=this.isBeingHacked(t);e.isObfuscated&&!i&&!s&&!r&&(e.node.textContent=e.textContent,e.isObfuscated=!1),!e.isObfuscated&&(i||s||r)&&(e.node.textContent=e.scrambledTextContent,e.isObfuscated=!0)}findRects(e){return this.findTextNodes(e).map(r=>{var p,m,b,v;let{top:i,height:s,left:o,width:c}=this.measureTextNode(r),d=r.parentElement&&((p=this.properties)!=null&&p.excludeNodes&&((m=this.properties)==null?void 0:m.excludeNodes.indexOf(r.parentElement.nodeName.toLowerCase()))>-1||((b=r.parentElement)==null?void 0:b.nodeName.toLowerCase())==="option"||((v=r.parentElement)==null?void 0:v.nodeName.toLowerCase())==="script")?r.textContent:this.obfuscateText(r.textContent??"");return{top:i,height:s,width:c,left:o,node:r,textContent:r.textContent??"",scrambledTextContent:d??"",isObfuscated:!1}})}obfuscateText(e){return this.scramble(e,!0)}measureTextNode(e){try{let t=document.createRange();t.selectNode(e);let r=t.getBoundingClientRect();return t.detach(),r}catch(t){fr.default.log("measureTextNode "+t),fr.default.log("measureTextNode "+e),fr.default.log(e.textContent)}}isBeingHacked(e){return e.style.animation||e.style.transition||e.style.position||e.hasAttribute("style")?(fr.default.log("content being hacked"),!0):!1}isOutsideViewport(e){let t=this.wrapper.scrollLeft,r=t+this.wrapper.clientWidth,i=e.left+e.width,s=e.top+e.height,o=this.wrapper.scrollTop,c=o+this.wrapper.clientHeight,d=s<o,u=e.top>c,p=i<t-window.innerWidth,m=e.left>r+window.innerWidth;return d||u||p||m}findTextNodes(e,t=[]){var i;let r=e.firstChild;for(;r;)r.nodeType===1&&this.findTextNodes(r,t),r.nodeType===3&&(i=r.textContent)!=null&&i.trim()&&t.push(r),r=r.nextSibling;return t}scramble(e,t=!1,r=!1){var i=e.split(" ");function s(o){for(var c=o.length,d,u;c>0;)u=Math.floor(Math.random()*c),c--,d=o[c],o[c]=o[u],o[u]=d;return o}return t&&(i=i.map(function(o){return o.includes("-")?o:s(o.split("")).join("")})),r?s(i).join(" "):i.join(" ")}};F();var KC=Rt(WC());F();var Qh=n=>n.replace(/\n/g," ").replace(/\s\s+/g," "),qq=n=>Qh(n).trim(),$C=/[\\^$.*+?()[\]{}|]/g,Gq=RegExp($C.source);function VC(n){return n&&Gq.test(n)?n.replace($C,"\\$&"):n||""}var Zh=0,zq=()=>()=>Number.isSafeInteger(++Zh)?Zh:Zh=1,JC=()=>{Zh=0},Wq=zq(),Vq=n=>e=>{try{return tr(e,n,mo)}catch(t){return console.error("uniqueCssSelector:",t),""}};async function Eo(n,e,t,r,i=!1){var v,y,h;if(!e)return[];let s=(v=e.body)==null?void 0:v.textContent;if(!s)return[];if(n=qq(n),!n.length)return[];let o=e.createNodeIterator(e.body,NodeFilter.SHOW_TEXT,{acceptNode:l=>NodeFilter.FILTER_ACCEPT}),c=new RegExp(VC(n).replace(/ /g,"\\s+"),"gim");i&&(c=new RegExp("\\b"+VC(n).replace(/ /g,"\\s+")+"\\b","gim"));let d=[],u=100,p=30,m=0,b;for(;b=c.exec(s);){let l=Math.max(0,b.index-u),g=Math.min(u,b.index),w=Qh(s.substr(l,g));w=w.substr(w.length-p),l=c.lastIndex,g=Math.min(u,s.length-l);let E=Qh(s.substr(l,g)).substr(0,p),A=new Range,_=b.index;for(;m<=_;){let T=o.nextNode();T&&T.nodeValue&&(m+=T.nodeValue.length)}let C=o.referenceNode.nodeValue?((y=o.referenceNode.nodeValue)==null?void 0:y.length)-(m-_):0;for(A.setStart(o.referenceNode,C),_=b.index+b[0].length;m<=_;){let T=o.nextNode(),x=T==null?void 0:T.nodeValue;x&&(m+=x.length)}C=o.referenceNode.nodeValue?((h=o.referenceNode.nodeValue)==null?void 0:h.length)-(m-_):0,A.setEnd(o.referenceNode,C),e.getCssSelector||(e.getCssSelector=Vq(e));let I=Ds(A,e.getCssSelector);I&&d.push({textMatch:Qh(b[0]),textBefore:w,textAfter:E,rangeInfo:I,href:t,title:r,uuid:Wq().toString()})}return d}var YC=Rt(Pn()),Su=class{constructor(e,t,r,i,s){this.currentChapterSearchResult=[];this.bookSearchResult=[];this.currentSearchHighlights=[];this.headerMenu=s,this.publication=e,this.properties=t,this.api=i,this.highlighter=r}static async create(e){let t=new this(e.publication,e,e.highlighter,e.api,e.headerMenu);return await t.start(),t}async stop(){YC.default.log("Search module stop"),dt(this.searchInput,"keypress",this.handleSearch.bind(this)),dt(this.searchGo,"click",this.handleSearch.bind(this))}async start(){var t;if(this.headerMenu){this.searchInput=st(this.headerMenu,"#searchInput"),Ie(this.searchInput,"keypress",this.handleSearch.bind(this)),this.searchGo=st(this.headerMenu,"#searchGo"),Ie(this.searchGo,"click",this.handleSearch.bind(this));var e=st(this.headerMenu,"#menu-button-search");e&&((t=e.parentElement)==null||t.style.removeProperty("display"))}setTimeout(()=>{this.properties.hideLayer?this.navigator.hideLayer("search"):this.navigator.showLayer("search")},10)}async handleSearch(e){(e.key==="Enter"||e.type==="click")&&(await this.handleSearchChapter(),await this.handleSearchBook())}async handleSearchChapter(e){var t=this,r=this.searchInput.value;let i=this.navigator.currentChapterLink.href,s=this.publication.getSpineItem(i);if(this.headerMenu)var o=st(document,"#searchResultChapter");t.currentChapterSearchResult=[],t.currentSearchHighlights=[];var c=[];await this.searchAndPaintChapter(r,e,async u=>{var p;c=u,d(1),this.navigator.rights.enableContentProtection&&((p=this.navigator.contentProtectionModule)==null||p.recalculate(200))});async function d(u){o.innerHTML="";var p;if(p=t.paginate(c,u,10),p.total===0){let m=document.createElement("a");m.className="collection-item",m.innerHTML="nothing found",o.appendChild(m)}else{for(let h=0;h<p.data.length;h++){let l=document.createElement("a"),g=p.data[h];l.className="collection-item",l.href=(s==null?void 0:s.Href)??"",l.innerHTML="..."+g.textBefore+"<mark>"+g.textMatch+"</mark>"+g.textAfter+"...",Ie(l,"click",w=>{w.preventDefault(),w.stopPropagation(),t.jumpToMark(h+u*10-10)}),o.appendChild(l)}let m=document.createElement("div");m.style.textAlign="center",m.style.marginTop="10px";let b=document.createElement("ul");b.className="pagination";let v=document.createElement("li");if(v.className="disabled",v.innerHTML='<a href="#!"> < </a>',p.pre_page!==void 0){let h=p.pre_page;v.className="waves-effect",Ie(v,"click",l=>{l.preventDefault(),l.stopPropagation(),d(h)})}b.appendChild(v);for(let h=1;h<=p.total_pages;h++){let l,g=document.createElement("li");g.className="waves-effect",h===p.page&&(g.className="active",l=g),g.innerHTML='<a href="#!">'+h+"</a>",Ie(g,"click",w=>{w.preventDefault(),w.stopPropagation(),l&&(l.className="waves-effect"),g.className="active",l=g,d(h)}),b.appendChild(g)}let y=document.createElement("li");if(y.className="disabled",y.innerHTML='<a href="#!"> > </a>',p.next_page!==void 0){let h=p.next_page;y.className="waves-effect",Ie(y,"click",l=>{l.preventDefault(),l.stopPropagation(),d(h)})}b.appendChild(y),m.appendChild(b),o.appendChild(m)}}}async searchAndPaintChapter(e,t=0,r){var d,u;this.navigator.rights.enableContentProtection&&((d=this.navigator.contentProtectionModule)==null||d.deactivate());let i=this.publication.getAbsoluteHref(this.publication.readingOrder[this.navigator.currentResource()??0].Href),s=this.publication.getTOCItem(i);s===null&&(s=this.publication.readingOrder[this.navigator.currentResource()??0]);let o=[];(u=this.highlighter)==null||u.destroyHighlights(1),this.navigator.rights.enableSearch&&this.drawSearch();let c=0;if(s){let p=this.navigator.iframes[0].contentDocument;p&&s&&Eo(e,p,s.Href,s.Title).then(m=>{m.forEach(b=>{let v={rangeInfo:b.rangeInfo};setTimeout(()=>{var h,l;let y;c===t?(y=this.createSearchHighlight(v,(h=this.properties)==null?void 0:h.current),this.jumpToMark(t)):y=this.createSearchHighlight(v,(l=this.properties)==null?void 0:l.color),b.highlight=y,o.push(b),this.currentChapterSearchResult.push(b),this.currentSearchHighlights.push(y),c++},500)}),setTimeout(()=>{r(o)},500)})}}createSearchHighlight(e,t){var s;try{var r=t;Mn.isHexColor(r)&&(r=Mn.hexToRgbChannels(r));let o=`${e.rangeInfo.startContainerElementCssSelector}${e.rangeInfo.startContainerChildTextNodeIndex}${e.rangeInfo.startOffset}${e.rangeInfo.endContainerElementCssSelector}${e.rangeInfo.endContainerChildTextNodeIndex}${e.rangeInfo.endOffset}`,d="R2_SEARCH_"+KC.SHA256.hash(o);var i=!1;let u={color:r||Zo,id:d,pointerInteraction:i,selectionInfo:e,marker:0,type:1},p=(s=this.highlighter)==null?void 0:s.createHighlightDom(this.navigator.iframes[0].contentWindow,u);return u.position=parseInt((p!=null&&p.hasChildNodes()?p.childNodes[0]:p).style.top.replace("px","")),u}catch(o){throw"Can't create highlight: "+o}}clearSearch(){var e;this.currentChapterSearchResult=[],this.currentSearchHighlights=[],(e=this.highlighter)==null||e.destroyHighlights(1)}async search(e,t){return this.currentChapterSearchResult=[],this.currentSearchHighlights=[],this.bookSearchResult=[],JC(),await this.searchAndPaintChapter(e,0,async()=>{var r;this.navigator.rights.enableContentProtection&&((r=this.navigator.contentProtectionModule)==null||r.recalculate(200))}),t?(await this.searchBook(e),await this.searchChapter(e)):(await this.searchChapter(e),await this.searchBook(e))}async goToSearchID(e,t,r){var i=t,s;let o=this.navigator.currentChapterLink.href;var c=this.publication.getAbsoluteHref(e);let d=this.bookSearchResult.filter(u=>u.href===e);if(r?(s=this.currentChapterSearchResult.filter(u=>u.uuid===t)[0],i=this.currentChapterSearchResult.findIndex(u=>u.uuid===t)):(s=d.filter(u=>u.uuid===t)[0],i=d.findIndex(u=>u.uuid===t)),s!==void 0)if(o===c)this.jumpToMark(i);else{let p={href:c,locations:{progression:0},title:"title"};this.navigator.navigate(p),setTimeout(()=>{this.searchAndPaintChapter(s.textMatch,i,async()=>{var m;this.navigator.rights.enableContentProtection&&((m=this.navigator.contentProtectionModule)==null||m.recalculate(200))})},300)}}async goToSearchIndex(e,t,r){var i=t,s;let o=this.navigator.currentChapterLink.href;var c=this.publication.getAbsoluteHref(e);let d=this.bookSearchResult.filter(u=>u.href===e);if(r?s=this.currentChapterSearchResult[i]:s=d[i],s!==void 0)if(o===c)this.jumpToMark(i);else{let p={href:c,locations:{progression:0},title:"title"};this.navigator.navigate(p),setTimeout(()=>{this.searchAndPaintChapter(s.textMatch,i,async()=>{var m;this.navigator.rights.enableContentProtection&&((m=this.navigator.contentProtectionModule)==null||m.recalculate(200))})},300)}}async handleSearchBook(){var e=this,t=this.searchInput.value;if(e.headerMenu)var r=st(document,"#searchResultBook");i(1);async function i(o){r.innerHTML="";var c,d=await e.searchBook(t);if(c=e.paginate(d,o,10),c.total===0){let u=document.createElement("a");u.className="collection-item",u.innerHTML="nothing found",r.appendChild(u)}else{s(c.data,y=>y.href).forEach(y=>{let h=document.createElement("div");if(h.style.marginBottom="10px",y[0].title){let l=document.createElement("span");l.className="collection-item",l.style.display="block",l.innerHTML=y[0].title,h.appendChild(l)}r.appendChild(h),y.forEach(l=>{let g=document.createElement("a");g.className="collection-item";var w=e.publication.getAbsoluteHref(l.href);g.innerHTML="..."+l.textBefore+"<mark>"+l.textMatch+"</mark>"+l.textAfter+"...",Ie(g,"click",E=>{E.preventDefault(),E.stopPropagation();let _=d.filter(I=>I.href===l.href).findIndex(I=>I===l);if(e.navigator.currentChapterLink.href===w)e.jumpToMark(_);else{let T={href:w,locations:{progression:0},title:"title"};e.navigator.navigate(T),setTimeout(()=>{e.handleSearchChapter(_)},300)}}),h.appendChild(g)})});let p=document.createElement("div");p.style.textAlign="center",p.style.marginTop="10px";let m=document.createElement("ul");m.className="pagination";let b=document.createElement("li");if(b.className="disabled",b.innerHTML='<a href="#!"> < </a>',c.pre_page!=null){let y=c.pre_page;b.className="waves-effect",Ie(b,"click",h=>{h.preventDefault(),h.stopPropagation(),i(y)})}m.appendChild(b);for(let y=1;y<=c.total_pages;y++){let h,l=document.createElement("li");l.className="waves-effect",y===c.page&&(l.className="active",h=l),l.innerHTML='<a href="#!">'+y+"</a>",Ie(l,"click",g=>{g.preventDefault(),g.stopPropagation(),h&&(h.className="waves-effect"),l.className="active",h=l,i(y)}),m.appendChild(l)}let v=document.createElement("li");if(v.className="disabled",v.innerHTML='<a href="#!"> > </a>',c.next_page!=null){let y=c.next_page;v.className="waves-effect",Ie(v,"click",h=>{h.preventDefault(),h.stopPropagation(),i(y)})}m.appendChild(v),p.appendChild(m),r.appendChild(p)}}function s(o,c){let d=new Map;return o.forEach(u=>{let p=c(u),m=d.get(p);m?m.push(u):d.set(p,[u])}),Array.from(d.values())}}async searchBook(e){var r,i;this.bookSearchResult=[];let t=[];for(let s=0;s<this.publication.readingOrder.length;s++){let o=this.publication.getAbsoluteHref(this.publication.readingOrder?this.publication.readingOrder[s].Href:""),c=this.publication.getTOCItem(o);if(c===void 0&&this.publication.readingOrder&&(c=this.publication.readingOrder[s]),c){let d=this.publication.getAbsoluteHref(c.Href);(r=this.navigator.api)!=null&&r.getContent?await((i=this.navigator.api)==null?void 0:i.getContent(d).then(u=>{let m=new DOMParser().parseFromString(u,"application/xhtml+xml");c&&Eo(e,m,c.Href,c.Title).then(b=>{b.forEach(v=>{t.push(v),this.bookSearchResult.push(v)})})})):await fetch(d,this.navigator.requestConfig).then(u=>u.text()).then(async u=>{var b;let m=new DOMParser().parseFromString((b=this.navigator.requestConfig)!=null&&b.encoded?this.decodeBase64(u):u,"application/xhtml+xml");c&&Eo(e,m,c.Href,c.Title).then(v=>{v.forEach(y=>{t.push(y),this.bookSearchResult.push(y)})})})}if(s===this.publication.readingOrder.length-1)return t}}decodeBase64(e){let t=atob(e),r=t.length,i=new Uint8Array(r);for(let o=0;o<r;o++)i[o]=t.charCodeAt(o);return new TextDecoder().decode(i)}async searchChapter(e){var s,o;let t=[],r=this.publication.getAbsoluteHref(this.publication.readingOrder[this.navigator.currentResource()??0].Href),i=this.publication.getTOCItem(r);if(i===null&&(i=this.publication.readingOrder[this.navigator.currentResource()??0]),i){let c=this.publication.getAbsoluteHref(i.Href);(s=this.navigator.api)!=null&&s.getContent?await((o=this.navigator.api)==null?void 0:o.getContent(c).then(d=>{let p=new DOMParser().parseFromString(d,"application/xhtml+xml");i&&Eo(e,p,i.Href,i.Title).then(m=>{m.forEach(b=>{t.push(b)})})})):await fetch(c,this.navigator.requestConfig).then(d=>d.text()).then(async d=>{var m;let p=new DOMParser().parseFromString((m=this.navigator.requestConfig)!=null&&m.encoded?this.decodeBase64(d):d,"application/xhtml+xml");i&&Eo(e,p,i.Href,i.Title).then(b=>{b.forEach(v=>{t.push(v)})})})}return t}drawSearch(){setTimeout(()=>{this.currentSearchHighlights=[],this.currentChapterSearchResult.forEach(e=>{var r,i;let t={rangeInfo:e.rangeInfo};if((r=this.properties)!=null&&r.color){let s=this.createSearchHighlight(t,(i=this.properties)==null?void 0:i.color);e.highlight=s,this.currentSearchHighlights.push(s)}})},100)}async handleResize(){var e;await((e=this.highlighter)==null?void 0:e.destroyHighlights(1)),this.drawSearch()}jumpToMark(e){setTimeout(()=>{var i,s,o;if(this.currentChapterSearchResult.length){var t=this.currentChapterSearchResult[e];this.currentSearchHighlights.forEach(c=>{var u;var d=(u=this.properties)==null?void 0:u.color;Mn.isHexColor(d)&&(d=Mn.hexToRgbChannels(d)),c.color=d});var r=(i=this.properties)==null?void 0:i.current;Mn.isHexColor(r)&&(r=Mn.hexToRgbChannels(r)),t.highlight.color=r,(s=this.highlighter)==null||s.setAndResetSearchHighlight(t.highlight,this.currentSearchHighlights),(o=this.navigator.view)==null||o.goToCssSelector(t.rangeInfo.startContainerElementCssSelector),this.navigator.updatePositionInfo()}},200)}paginate(e,t,r){let i=t||1,s=r||10,o=(i-1)*s,c=e.slice(o).slice(0,s),d=Math.ceil(e.length/s);return{page:i,per_page:s,pre_page:i-1?i-1:void 0,next_page:d>i?i+1:void 0,total:e.length,total_pages:d,data:c}}};F();var zr=Rt(Pn()),Un=class Un{};Un.COLOR_REF="color",Un.AUTO_SCROLL_REF="autoscroll",Un.RATE_REF="rate",Un.PITCH_REF="pitch",Un.VOLUME_REF="volume",Un.VOICE_REF="voice",Un.COLOR_KEY="tts-"+Un.COLOR_REF,Un.AUTO_SCROLL_KEY="tts-"+Un.AUTO_SCROLL_REF,Un.RATE_KEY="tts-"+Un.RATE_REF,Un.PITCH_KEY="tts-"+Un.PITCH_REF,Un.VOLUME_KEY="tts-"+Un.VOLUME_REF,Un.VOICE_KEY="tts-"+Un.VOICE_REF;var Bt=Un,e0=class{constructor(e,t,r){this.TTSSETTINGS="ttsSetting";this.color="orange";this.autoScroll=!0;this.rate=1;this.pitch=1;this.volume=1;this.voice={usePublication:!0};this.settingsChangeCallback=()=>{};this.restartCallback=()=>{};this.store=e,this.api=t,this.headerMenu=r,this.initialise()}static create(e){let t=new this(e.store,e.api,e.headerMenu);if(e.initialTTSSettings){let r=e.initialTTSSettings;r!=null&&r.rate&&(t.rate=r.rate,zr.default.log(t.rate)),r!=null&&r.pitch&&(t.pitch=r.pitch,zr.default.log(t.pitch)),r!=null&&r.volume&&(t.volume=r.volume,zr.default.log(t.volume)),r!=null&&r.color&&(t.color=r.color,zr.default.log(t.color)),r!=null&&r.autoScroll&&(t.autoScroll=r.autoScroll,zr.default.log(t.autoScroll)),r!=null&&r.voice&&(t.voice=r.voice,zr.default.log(t.voice))}return t.initializeSelections(),t}stop(){zr.default.log("tts settings stop")}initialise(){this.autoScroll=this.getProperty(Bt.AUTO_SCROLL_KEY)!=null?this.getProperty(Bt.AUTO_SCROLL_KEY).value:this.autoScroll,this.rate=this.getProperty(Bt.RATE_KEY)!=null?this.getProperty(Bt.RATE_KEY).value:this.rate,this.pitch=this.getProperty(Bt.PITCH_KEY)!=null?this.getProperty(Bt.PITCH_KEY).value:this.pitch,this.volume=this.getProperty(Bt.VOLUME_KEY)!=null?this.getProperty(Bt.VOLUME_KEY).value:this.volume,this.color=this.getProperty(Bt.COLOR_KEY)!=null?this.getProperty(Bt.COLOR_KEY).value:this.color,this.voice=this.getProperty(Bt.VOICE_REF)!=null?this.getProperty(Bt.VOICE_REF).value:this.voice,this.userProperties=this.getTTSSettings()}reset(){this.color="orange",this.autoScroll=!0,this.rate=1,this.pitch=1,this.volume=1,this.voice={usePublication:!0},this.userProperties=this.getTTSSettings()}initializeSelections(){this.headerMenu&&(this.settingsView=st(this.headerMenu,"#container-view-tts-settings"))}setControls(){this.settingsView&&this.renderControls(this.settingsView)}renderControls(e){this.headerMenu&&(this.speechRate=st(this.headerMenu,"#speechRate")),this.headerMenu&&(this.speechPitch=st(this.headerMenu,"#speechPitch")),this.headerMenu&&(this.speechVolume=st(this.headerMenu,"#speechVolume")),this.headerMenu&&(this.speechAutoScroll=st(this.headerMenu,"#autoScroll")),this.speechRate&&(this.speechRate.value=this.rate.toString()),this.speechPitch&&(this.speechPitch.value=this.pitch.toString()),this.speechVolume&&(this.speechVolume.value=this.volume.toString()),this.speechAutoScroll&&(this.speechAutoScroll.checked=this.autoScroll),Ie(st(e,"ul"),"click",t=>{t.stopPropagation()})}onSettingsChange(e){this.settingsChangeCallback=e}onRestart(e){this.restartCallback=e}storeProperty(e){this.updateUserSettings(),this.saveProperty(e)}updateUserSettings(){var t,r,i,s,o,c,d,u;var e={rate:(t=this.userProperties.getByRef(Bt.RATE_REF))==null?void 0:t.value,pitch:(r=this.userProperties.getByRef(Bt.PITCH_REF))==null?void 0:r.value,volume:(i=this.userProperties.getByRef(Bt.VOLUME_REF))==null?void 0:i.value,voice:(s=this.userProperties.getByRef(Bt.VOLUME_REF))==null?void 0:s.value,color:(o=this.userProperties.getByRef(Bt.COLOR_REF))==null?void 0:o.value,autoScroll:(c=this.userProperties.getByRef(Bt.AUTO_SCROLL_REF))==null?void 0:c.value};this.applyTTSSettings(e),(d=this.api)!=null&&d.updateSettings&&((u=this.api)==null||u.updateSettings(e).then(async p=>{zr.default.log("api updated tts settings",p)}))}getTTSSettings(){var e=new rs;return e.addSwitchable("tts-auto-scroll-off","tts-auto-scroll-on",this.autoScroll,Bt.AUTO_SCROLL_REF,Bt.AUTO_SCROLL_KEY),e.addIncremental(this.rate,.1,10,.1,"",Bt.RATE_REF,Bt.RATE_KEY),e.addIncremental(this.pitch,.1,2,.1,"",Bt.PITCH_REF,Bt.PITCH_KEY),e.addIncremental(this.volume,.1,1,.1,"",Bt.VOLUME_REF,Bt.VOLUME_KEY),e.addStringable(this.color,Bt.COLOR_REF,Bt.COLOR_KEY),e.addJSONable(JSON.stringify(this.voice),Bt.VOICE_REF,Bt.VOICE_KEY),e}saveProperty(e){let t=this.store.get(this.TTSSETTINGS);if(t){let r=JSON.parse(t);r=r.filter(i=>i.name!==e.name),r.push(e),this.store.set(this.TTSSETTINGS,JSON.stringify(r))}else{let r=[];r.push(e),this.store.set(this.TTSSETTINGS,JSON.stringify(r))}return e}getProperty(e){let t=this.store.get(this.TTSSETTINGS);if(t){let r=JSON.parse(t);return r=r.filter(i=>i.name===e),r.length===0?void 0:r[0]}}resetTTSSettings(){this.store.remove(this.TTSSETTINGS),this.reset(),this.settingsChangeCallback(),this.restartCallback()}applyTTSSettings(e){if(e.rate){zr.default.log("rate "+this.rate),this.rate=e.rate;let t=this.userProperties.getByRef(Bt.RATE_REF);t&&(t.value=this.rate,this.saveProperty(t)),this.settingsChangeCallback(),this.restartCallback()}if(e.pitch){zr.default.log("pitch "+this.pitch),this.pitch=e.pitch;let t=this.userProperties.getByRef(Bt.PITCH_REF);t&&(t.value=this.pitch,this.saveProperty(t)),this.settingsChangeCallback(),this.restartCallback()}if(e.volume){zr.default.log("volume "+this.volume),this.volume=e.volume;let t=this.userProperties.getByRef(Bt.VOLUME_REF);t&&(t.value=this.volume,this.saveProperty(t)),this.settingsChangeCallback(),this.restartCallback()}if(e.color){this.color=e.color;let t=this.userProperties.getByRef(Bt.COLOR_REF);t&&(t.value=this.color,this.saveProperty(t)),this.settingsChangeCallback()}if(e.autoScroll!==void 0){zr.default.log("autoScroll "+this.autoScroll),this.autoScroll=e.autoScroll;let t=this.userProperties.getByRef(Bt.AUTO_SCROLL_REF);t&&(t.value=this.autoScroll,this.saveProperty(t)),this.settingsChangeCallback()}if(e.voice){zr.default.log("voice "+this.voice),this.voice=e.voice;let t=this.userProperties.getByRef(Bt.VOICE_REF);t&&(t.value=this.voice,this.saveProperty(t)),this.settingsChangeCallback(),this.restartCallback()}}applyPreferredVoice(e){var t=e.indexOf(":")!==-1?e.slice(0,e.indexOf(":")):void 0,r=e.indexOf(":")!==-1?e.slice(e.indexOf(":")+1):e;t!==void 0&&r!==void 0?this.applyTTSSettings({voice:{usePublication:!0,name:t,lang:r}}):r!==void 0&&t===void 0&&this.applyTTSSettings({voice:{usePublication:!0,lang:r}})}increase(e){if(e==="rate"){this.userProperties.getByRef(Bt.RATE_REF).increment();let t=this.userProperties.getByRef(Bt.RATE_REF);t&&this.storeProperty(t),this.settingsChangeCallback(),this.restartCallback()}else if(e==="pitch"){this.userProperties.getByRef(Bt.PITCH_REF).increment();let t=this.userProperties.getByRef(Bt.PITCH_REF);t&&this.storeProperty(t),this.settingsChangeCallback(),this.restartCallback()}else if(e==="volume"){this.userProperties.getByRef(Bt.VOLUME_REF).increment();let t=this.userProperties.getByRef(Bt.VOLUME_REF);t&&this.storeProperty(t),this.settingsChangeCallback(),this.restartCallback()}}decrease(e){if(e==="rate"){this.userProperties.getByRef(Bt.RATE_REF).decrement();let t=this.userProperties.getByRef(Bt.RATE_REF);t&&this.storeProperty(t),this.settingsChangeCallback(),this.restartCallback()}else if(e==="pitch"){this.userProperties.getByRef(Bt.PITCH_REF).decrement();let t=this.userProperties.getByRef(Bt.PITCH_REF);t&&this.storeProperty(t),this.settingsChangeCallback(),this.restartCallback()}else if(e==="volume"){this.userProperties.getByRef(Bt.VOLUME_REF).decrement();let t=this.userProperties.getByRef(Bt.VOLUME_REF);t&&this.storeProperty(t),this.settingsChangeCallback(),this.restartCallback()}}};F();F();var t0=`${ji.loading}`,XC=`
    <span>
    ${ji.error}
    </span>
    <span>There was an error loading this page.</span>
    <button class="go-back">Go back</button>
    <button class="try-again">Try again</button>
`;var s0=Rt(po());F();var zs=class zs{constructor(e){this.onBackwardSwipe=()=>{};this.onForwardSwipe=()=>{};this.setupEvents=e=>{let t=null,r=null,i=this;e&&(e.addEventListener("touchstart",function(s){s.changedTouches.length===1&&(t=s)},!1),e.addEventListener("touchend",function(s){if(s.changedTouches.length!==1||!t)return;let o=t.changedTouches[0],c=s.changedTouches[0];if(!o)return;let d=window.devicePixelRatio,u=(o.clientX-c.clientX)/d,p=(o.clientY-c.clientY)/d;if(Math.abs(u)<zs.TAP_TOLERANCE&&Math.abs(p)<zs.TAP_TOLERANCE){if(r){t=null,r=null;return}if(s.timeStamp-t.timeStamp>zs.LONG_PRESS_MS){t=null,r=null;return}t=null,r=s;return}if(r=null,s.timeStamp-t.timeStamp>zs.SLOW_SWIPE_MS){t=null;return}let m=(o.clientY-c.clientY)/(o.clientX-c.clientX);if(Math.abs(m)>.5){t=null;return}u<0?i.onBackwardSwipe(s):i.onForwardSwipe(s),t=null},!1))};this.navigator=e}};zs.TAP_TOLERANCE=10,zs.LONG_PRESS_MS=500,zs.SLOW_SWIPE_MS=500;var hc=zs;F();var pc=class{constructor(e){this.onBackwardSwipe=()=>{};this.onForwardSwipe=()=>{};this.setupEvents=e=>{e&&(this.focusin(e),this.keydown(e))};this.focusin=e=>{let t=this;e.addEventListener("focusin",function(r){var i;(i=t.navigator.view)==null||i.snap(r.target)},!0)};this.keydown=e=>{let t=this;this.navigator.rights.customKeyboardEvents||e.addEventListener("keydown",function(r){let i=r.target;if(/input|select|option|textarea/i.test(i.tagName)||!(i.ownerDocument||i).defaultView.getSelection().isCollapsed)return;switch(r.key){case"ArrowRight":t.onForwardSwipe(r);break;case"ArrowLeft":t.onBackwardSwipe(r);break}switch(r.code){case"Space":r.ctrlKey?t.onBackwardSwipe(r):t.onForwardSwipe(r);break}},!1)};this.navigator=e}};F();var QC=Rt(po()),gc=class{constructor(e){this.enforceSampleRead=(0,QC.debounce)(e=>{var y,h,l,g,w,E;let t=Math.round(e.locations.totalProgression*100),r=!1;(y=this.navigator.sample)!=null&&y.limit&&(r=t<=((h=this.navigator.sample)==null?void 0:h.limit),((l=this.navigator.view)==null?void 0:l.layout)==="fixed"&&!r&&(g=this.navigator.sample)!=null&&g.minimum&&e.locations.position<=((w=this.navigator.sample)==null?void 0:w.minimum)&&(r=!0));let i={37:1,38:0,39:1,40:1,32:1,33:1,34:1,35:1,36:1};function s(A){A.preventDefault()}function o(A){i[A.keyCode]&&!r&&s(A)}let c=!1,d=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("test",function(){},d);let u=c?{passive:!1}:!1;function p(A){A=A||window.event;let _=Math.max(-1,Math.min(1,A.wheelDelta||-A.detail));return _===-1&&!r&&A.preventDefault(),!1}let m;function b(A){A=A||window.event;let _=A.target||A.srcElement,C=A.touches[0].clientY;if(!(C>m)){if(C<m&&!r)return _.className.match(/\baltNav\b/)||(A.returnValue=!1,A.cancelable&&(A.cancelBubble=!0),A.preventDefault&&A.cancelable&&(A.preventDefault(),A.stopPropagation())),!1}return m=C,!1}function v(A){return A=A||window.event,m=A.touches[0].clientY,!1}window.addEventListener("mousewheel",p,u),window.addEventListener("DOMMouseScroll",p,u),window.addEventListener("keydown",o,u),window.addEventListener("touchmove",b,u),window.addEventListener("touchstart",v,u),r?(this.navigator.iframes[0].focus(),this.navigator.errorMessage&&(this.navigator.errorMessage.style.display="none",this.navigator.errorMessage.style.removeProperty("background-color"))):(this.navigator.iframes[0].blur(),this.navigator.errorMessage&&(this.navigator.errorMessage.style.display="block",this.navigator.errorMessage.style.backgroundColor="rgb(255, 255, 255)",this.navigator.errorMessage.innerHTML="<span>"+((E=this.navigator.sample)==null?void 0:E.popup)+"</span>"))},300);this.navigator=e}};F();var mc=Rt(Pn()),Cu=class{static async create(e){let t=new this(e.publication,e,e.headerMenu);return await t.start(),t}constructor(e,t,r){this.headerMenu=r,this.publication=e,this.properties=t}async stop(){mc.default.log("Page Break module stop")}async start(){var e,t;this.headerMenu&&(this.goToPageView=st(this.headerMenu,"#sidenav-section-gotopage")),this.headerMenu&&(this.goToPageNumberInput=st(this.headerMenu,"#goToPageNumberInput")),this.headerMenu&&(this.goToPageNumberButton=st(this.headerMenu,"#goToPageNumberButton")),Ie(this.goToPageNumberInput,"keypress",this.goToPageNumber.bind(this)),Ie(this.goToPageNumberButton,"click",this.goToPageNumber.bind(this)),this.goToPageView&&((e=this.publication.pageList)!=null&&e.length||(t=this.goToPageView.parentElement)==null||t.removeChild(this.goToPageView)),setTimeout(()=>{this.properties.hideLayer?this.navigator.hideLayer("pagebreak"):this.navigator.showLayer("pagebreak")},10)}async goToPageNumber(e){var i;if(this.goToPageNumberInput.value&&(e.key==="Enter"||e.type==="click")){var t=(i=this.publication.pageList)==null?void 0:i.filter(s=>s.Href.slice(s.Href.indexOf("#")+1).replace(/[^0-9]/g,"")===this.goToPageNumberInput.value);if(t&&t.length>0){var r=t[0];let s={progression:0};if(r.Href.indexOf("#")!==-1){let c=r.Href.slice(r.Href.indexOf("#")+1);c!==null&&(s={fragment:c})}let o={href:this.publication.getAbsoluteHref(r.Href),locations:s,type:r.TypeLink,title:r.Title};this.navigator.goTo(o)}}}async handleResize(){var e;await((e=this.navigator.highlighter)==null?void 0:e.destroyHighlights(3)),await this.drawPageBreaks()}async drawPageBreaks(){setTimeout(()=>{var s,o,c;let e=(s=this.navigator.iframes[0].contentDocument)==null?void 0:s.body,t=e==null?void 0:e.querySelectorAll('[*|type="pagebreak"]');(t==null?void 0:t.length)===0&&(t=e==null?void 0:e.querySelectorAll("[epub\\:type='pagebreak']"));let r=this;function i(d){try{let u=r.navigator.iframes[0].contentDocument;return u?tr(d,u,mo):""}catch(u){return mc.default.log("uniqueCssSelector:"),mc.default.error(u),""}}if(t)for(let d=0;d<t.length;d++){let u=t[d];mc.default.log(u);let p=u.innerHTML,m=!1;u.innerHTML.length===0&&(p=u.getAttribute("title")??"",u.innerHTML=p,m=!0),u.innerHTML.length===0&&(p=(u.getAttribute("id")??"").replace(/[^0-9]/g,""),u.innerHTML=p,m=!0);let b=this.navigator.iframes[0].contentDocument;if(b){let v=(o=this.navigator.highlighter)==null?void 0:o.dom(b.body).getWindow().document.createRange(),y=(c=this.navigator.highlighter)==null?void 0:c.dom(b.body).getSelection();if(y.removeAllRanges(),v.selectNodeContents(u),y.addRange(v),!y.isCollapsed){let h=Ds(v,i);y.removeAllRanges(),h&&this.createPageBreakHighlight({rangeInfo:h,cleanText:"",rawText:""},p)}}m&&(u.innerHTML="")}},200)}createPageBreakHighlight(e,t){var i;try{let s=`${e.rangeInfo.startContainerElementCssSelector}${e.rangeInfo.startContainerChildTextNodeIndex}${e.rangeInfo.startOffset}${e.rangeInfo.endContainerElementCssSelector}${e.rangeInfo.endContainerChildTextNodeIndex}${e.rangeInfo.endOffset}`,c="R2_PAGEBREAK_"+cs.hash(s);var r=!1;let d={color:"#000000",id:c,pointerInteraction:r,selectionInfo:e,marker:3,icon:{id:"pageBreak",title:t,color:"#000000",position:"left"},type:3};In.push(d);let u=(i=this.navigator.highlighter)==null?void 0:i.createHighlightDom(this.navigator.iframes[0].contentWindow,d);return d.position=parseInt((u!=null&&u.hasChildNodes()?u.childNodes[0]:u).style.top.replace("px","")),d}catch(s){throw"Can't create highlight: "+s}}};F();var e5=Rt(Fm());var t5=Rt(po());var un=Rt(Pn()),sa=class{constructor(e,t,r,i,s,o){this.voices=[];this.hasEventListener=!1;this.startX=0;this.startY=0;this.index=0;this.userScrolled=!1;this.scrollPartial=!1;this.speaking=!1;this.restartIndex=-1;this.ttsQueueIndex=-1;this.ttsQueue=void 0;this.ttsPlayQueueIndexDebounced=(0,t5.debounce)((e,t)=>{this.restartIndex>=0?(this.ttsQueueIndex=this.restartIndex,this.restartIndex=-1):this.ttsQueueIndex=e,this.ttsQueue=t,this.ttsPlayQueueIndex(this.ttsQueueIndex,t)},150);this.tts=e,this.headerMenu=o,this.rights=t,this.highlighter=r,this.properties=i,this.api=s}initialize(e){this.highlighter!==void 0&&(this.tts.setControls(),this.tts.onRestart(this.restart.bind(this)),this.body=e,this.clean=(0,e5.default)(this.body.innerHTML,{allowedTags:[],allowedAttributes:{}}),this.wrapper=Wt(document,"#iframe-wrapper"),window.speechSynthesis.getVoices(),this.initVoices(!0),this.hasEventListener||(this.hasEventListener=!0,Ie(document,"wheel",this.wheel.bind(this)),Ie(this.body,"wheel",this.wheel.bind(this)),Ie(document,"keydown",this.wheel.bind(this)),Ie(this.navigator.iframes[0].contentDocument,"keydown",this.wheel.bind(this))),Ie(this.body,"mousedown",this.clickStart.bind(this)),Ie(this.body,"mouseup",this.click.bind(this)))}clickStart(e){"clientX"in e&&(this.startX=e.clientX),"clientY"in e&&(this.startY=e.clientY)}click(e){var i;let t=0,r=0;if("clientX"in e&&(t=e.clientX),"clientY"in e&&(r=e.clientY),window.speechSynthesis.speaking&&this.speaking&&t===this.startX&&r===this.startY){let s=this.navigator.iframes[0].contentDocument;if(s){let o=this.highlighter.dom(s.body).getSelection(),c=o.getRangeAt(0),d=o.anchorNode;for(;c.toString().indexOf(" ")!==0;)try{c.setStart(d,c.startOffset-1)}catch{break}c.setStart(d,c.startOffset+1);do c.setEnd(d,d.length<c.endOffset?c.endOffset+1:d.length);while(c.toString().indexOf(" ")===-1&&c.toString().trim()!=="");let p=(i=document.querySelector("main#iframe-wrapper iframe").contentWindow)==null?void 0:i.document.body;if(this.ttsQueue&&p){let m=this.findTtsQueueItemIndex(this.ttsQueue,o.anchorNode,o.anchorNode,o.anchorOffset,p);o.removeAllRanges(),m>=0&&(window.speechSynthesis.cancel(),this.restartIndex=m,this.ttsPlayQueueIndexDebounced(this.restartIndex,this.ttsQueue))}}}}initVoices(e){function t(){return new Promise(function(i,s){let o=window.speechSynthesis,c;c=setInterval(()=>{o.getVoices().length!==0&&(i(o.getVoices()),clearInterval(c))},10)})}t().then(async i=>{if(un.default.log(i),this.voices=[],i.forEach(o=>{o.localService===!0&&this.voices.push(o)}),un.default.log(this.voices),e&&this.headerMenu){var s=st(this.headerMenu,"#preferred-languages");s&&this.voices.forEach(o=>{var c=document.createElement("option");c.value=o.name+":"+o.lang,c.innerHTML=o.name+" ("+o.lang+")",s.add(c)})}})}cancel(e=!0){var t,r,i;e&&((t=this.api)!=null&&t.stopped&&((r=this.api)==null||r.stopped()),this.navigator.emit("readaloud.stopped","stopped")),this.userScrolled=!1,this.speaking=!1,setTimeout(()=>{window.speechSynthesis.cancel()},0),this._ttsQueueItemHighlightsWord&&((i=this.navigator.highlighter)==null||i.destroyHighlights(2),this._ttsQueueItemHighlightsWord=void 0)}async speak(e,t,r){var m,b,v,y,h,l,g;t||this.navigator.rights.enableContentProtection&&((m=this.navigator.contentProtectionModule)==null||m.deactivate()),(b=this.api)!=null&&b.started&&((v=this.api)==null||v.started()),this.navigator.emit("readaloud.started","started");let i=this;this.userScrolled=!1,this.cancel(!1);let s;if(t){let E=(y=document.querySelector("main#iframe-wrapper iframe").contentWindow)==null?void 0:y.document.body,A=this.navigator.iframes[0].contentDocument;if(A){let _=this.highlighter.dom(A.body).getSelection();if(_.isCollapsed){let C=i.navigator.iframes[0].contentDocument,I=(l=(h=i.navigator.annotationModule)==null?void 0:h.annotator)==null?void 0:l.getTemporarySelectionInfo(C);_.addRange(I.range)}if(E){var o=this.generateTtsQueue(E);if(!o.length)return;var c=this.findTtsQueueItemIndex(o,_.anchorNode,_.anchorNode,_.anchorOffset,E),d=this.findTtsQueueItemIndex(o,_.focusNode,_.focusNode,_.focusOffset,E);let C=ra(o,c),I=ra(o,d);var u;if(C&&e&&e.cleanText){let T=ia(C),x=e.rangeInfo.startOffset,D=e.cleanText;if(I&&c+1===d){let H=ia(I);x=(T+" "+H).indexOf(e.cleanText),D=T.slice(x,T.length),u=e.cleanText.replace(D,"").trim()}else if(d>c){let H="";for(let G=c+1;G<d;G++){let j=ra(o,G);if(j){let q=ia(j);H+=q,u=e.cleanText.replace(q,"")}}if(I){let G=ia(I);H+=" "+G}x=(T+" "+H).indexOf(e.cleanText),D=T.slice(x,T.length),u=u.replace(D,"").trim()}s=new SpeechSynthesisUtterance(D),s.rate=this.tts.rate,s.pitch=this.tts.pitch,s.volume=this.tts.volume,this.setVoice(this,s),un.default.log(e),un.default.log(D,(g=e.range)==null?void 0:g.commonAncestorContainer.textContent),un.default.log(C),un.default.log(C.item.textNodes),un.default.log(x),un.default.log(C.item.combinedText);let L=C.item.textNodes.filter(H=>{var G;return H===((G=e.range)==null?void 0:G.commonAncestorContainer)})[0];un.default.log(L),s.onboundary=H=>{this.updateTTSInfo(C,H.charIndex,H.charLength,x,s.text)}}}}}else s=new SpeechSynthesisUtterance(this.clean);s.rate=this.tts.rate,s.pitch=this.tts.pitch,s.volume=this.tts.volume,this.setVoice(i,s),this.index=0;function p(){s.onend=function(){var w,E;if(d>c)if(c=c+1,c!==d){let A=ra(o,c);if(A){let _=ia(A);s=new SpeechSynthesisUtterance(_),s.rate=i.tts.rate,s.pitch=i.tts.pitch,s.volume=i.tts.volume,i.setVoice(i,s),s.onboundary=C=>{i.updateTTSInfo(A,C.charIndex,C.charLength,0,s.text)},setTimeout(()=>{window.speechSynthesis.speak(s)},0),p()}}else{let A=ra(o,c);A&&(s=new SpeechSynthesisUtterance(u),s.rate=i.tts.rate,s.pitch=i.tts.pitch,s.volume=i.tts.volume,i.setVoice(i,s),s.onboundary=_=>{i.updateTTSInfo(A,_.charIndex,_.charLength,0,s.text)},setTimeout(()=>{window.speechSynthesis.speak(s)},0),p()),c>d&&(un.default.log("utterance ended"),i.highlighter.doneSpeaking(),(w=i.api)==null||w.finished(),i.navigator.emit("readaloud.finished","finished"))}else un.default.log("utterance ended"),i.highlighter.doneSpeaking(),(E=i.api)==null||E.finished(),i.navigator.emit("readaloud.finished","finished")}}setTimeout(()=>{var w;window.speechSynthesis.speak(s),t||this.navigator.rights.enableContentProtection&&((w=this.navigator.contentProtectionModule)==null||w.recalculate(200))},0),p(),r()}setVoice(e,t){un.default.log("this.tts.voice.lang",this.tts.voice.lang);let r=!0;this.tts.voice&&this.tts.voice.lang&&(r=this.tts.voice.lang.indexOf("-")!==-1,r||(this.tts.voice.lang=this.tts.voice.lang.replace("_","-"),r=!0)),un.default.log("initialVoiceHasHyphen",r),un.default.log("voices",this.voices);let i;r?(i=this.tts.voice&&this.tts.voice.lang&&this.tts.voice.name?this.voices.filter(u=>{var p=u.lang.replace("_","-");return p===this.tts.voice.lang&&u.name===this.tts.voice.name})[0]:void 0,i===void 0&&(i=this.tts.voice&&this.tts.voice.lang?this.voices.filter(u=>u.lang.replace("_","-")===this.tts.voice.lang)[0]:void 0)):(i=this.tts.voice&&this.tts.voice.lang&&this.tts.voice.name?this.voices.filter(u=>u.lang===this.tts.voice.lang&&u.name===this.tts.voice.name)[0]:void 0,i===void 0&&(i=this.tts.voice&&this.tts.voice.lang?this.voices.filter(u=>u.lang===this.tts.voice.lang)[0]:void 0)),un.default.log("initialVoice",i);let s=e.navigator.publication.Metadata.Language[0].indexOf("-")!==-1;un.default.log("publicationVoiceHasHyphen",s);let o;s?o=this.tts.voice&&this.tts.voice.usePublication?this.voices.filter(u=>{var p=u.lang.replace("_","-");return p.startsWith(e.navigator.publication.Metadata.Language[0])||p.endsWith(e.navigator.publication.Metadata.Language[0].toUpperCase())})[0]:void 0:o=this.tts.voice&&this.tts.voice.usePublication?this.voices.filter(u=>u.lang.startsWith(e.navigator.publication.Metadata.Language[0])||u.lang.endsWith(e.navigator.publication.Metadata.Language[0].toUpperCase()))[0]:void 0,un.default.log("publicationVoice",o);let c=navigator.language.indexOf("-")!==-1;un.default.log("defaultVoiceHasHyphen",c);let d;c?d=this.voices.filter(u=>u.lang.replace("_","-")===navigator.language&&u.localService)[0]:d=this.voices.filter(u=>u.lang===navigator.language&&u.localService)[0],d===void 0&&(d=this.voices.filter(u=>u.lang.includes(navigator.language)&&u.localService)[0]),un.default.log("defaultVoice",d),i?(un.default.log("initialVoice"),t.voice=i):o?(un.default.log("publicationVoice"),t.voice=o):d&&(un.default.log("defaultVoice"),t.voice=d),t.voice!==void 0&&t.voice!==null&&(t.lang=t.voice.lang,un.default.log("utterance.voice.lang",t.voice.lang),un.default.log("utterance.lang",t.lang)),un.default.log("navigator.language",navigator.language)}speakPlay(){var i,s,o,c,d;this.navigator.rights.enableContentProtection&&((i=this.navigator.contentProtectionModule)==null||i.deactivate()),this.scrollPartial=!0,this.cancel(!1),(s=this.api)!=null&&s.started&&((o=this.api)==null||o.started()),this.navigator.emit("readaloud.started","started");let e=this,r=(c=document.querySelector("main#iframe-wrapper iframe").contentWindow)==null?void 0:c.document.body;if(r){let m=function(){var y;let b=e.highlighter.visibleTextRects[0],v=e.navigator.iframes[0].contentDocument;if(v){let h=e.highlighter.dom(v.body).getWindow().document.createRange(),l=e.highlighter.dom((y=e.navigator.iframes[0].contentDocument)==null?void 0:y.body).getSelection();l.removeAllRanges(),h.selectNodeContents(b.node),l.addRange(h);let g=0,w=l.focusNode,E=l.focusOffset;l.collapse(l.anchorNode,l.anchorOffset);for(let A=0;A<g;A++)l.modify("move","forward","line");if(l.extend(w,E),l.collapse(l.anchorNode,l.anchorOffset),r){let A=e.findTtsQueueItemIndex(u,l.anchorNode,l.anchorNode,l.anchorOffset,r);A>=0&&(p=A)}l.removeAllRanges()}},u=this.generateTtsQueue(r);if(!u.length)return;let p=0;m(),p<0&&(p=0),setTimeout(()=>{this.startTTSSession(u,p)},200)}this.navigator.rights.enableContentProtection&&((d=this.navigator.contentProtectionModule)==null||d.recalculate(200))}speakPause(){var e,t,r;window.speechSynthesis.speaking&&((e=this.api)!=null&&e.paused&&((t=this.api)==null||t.paused()),this.navigator.emit("readaloud.paused","paused"),this.userScrolled=!1,window.speechSynthesis.pause(),this.speaking=!1,this._ttsQueueItemHighlightsWord&&((r=this.navigator.highlighter)==null||r.destroyHighlights(2),this._ttsQueueItemHighlightsWord=void 0))}speakResume(){var e,t;window.speechSynthesis.speaking&&((e=this.api)!=null&&e.resumed&&((t=this.api)==null||t.resumed()),this.navigator.emit("readaloud.resumed","resumed"),this.userScrolled=!1,window.speechSynthesis.resume(),this.speaking=!0)}static async create(e){let t=new this(e.tts,e.rights,e.highlighter,e,e.api,e.headerMenu);return await t.start(),t}async start(){var t;if(this.headerMenu){var e=st(this.headerMenu,"#menu-button-tts");e&&((t=e.parentElement)==null||t.style.removeProperty("display"))}setTimeout(()=>{var r;(r=this.properties)!=null&&r.hideLayer?this.navigator.hideLayer("readaloud"):this.navigator.showLayer("readaloud")},10)}wheel(e){if(e instanceof KeyboardEvent)switch(e.key){case"ArrowUp":this.userScrolled=!0;break;case"ArrowDown":this.userScrolled=!0;break}else this.userScrolled=!0}stop(){un.default.log("TTS module stop"),dt(document,"wheel",this.wheel.bind(this)),dt(this.body,"wheel",this.wheel.bind(this)),dt(document,"keydown",this.wheel.bind(this)),dt(this.navigator.iframes[0].contentDocument,"keydown",this.wheel.bind(this)),dt(this.body,"click",this.click.bind(this))}generateTtsQueue(e){let t=[],r=[];function i(d){if(d.nodeType!==Node.TEXT_NODE||!d.nodeValue||!d.nodeValue.trim().length)return;let u=r[r.length-1];if(!u)return;let p=d.parentElement?ZC(d.parentElement):void 0,m=d.parentElement?$q(d.parentElement):void 0,b=t[t.length-1];(!b||b.parentElement!==u||b.lang!==p||b.dir!==m)&&(b={combinedText:"",dir:m,lang:p,parentElement:u,textNodes:[]},t.push(b)),b.textNodes.push(d)}let s=!0;function o(d){if(d.nodeType!==Node.ELEMENT_NODE)return;let u=s||d.matches("h1, h2, h3, h4, h5, h6, p, th, td, caption, li, blockquote, q, dt, dd, figcaption, div, pre");s=!1,u&&r.push(d);for(let p of d.childNodes)switch(p.nodeType){case Node.ELEMENT_NODE:let m=p;if(!m.matches("img, sup, sub, audio, video, source, button, canvas, del, dialog, embed, form, head, iframe, meter, noscript, object, s, script, select, style, textarea"))o(m);else if(m.tagName&&m.tagName.toLowerCase()==="img"&&m.src){let v=m.getAttribute("alt");if(v){let y=v.trim();if(y){let h=ZC(m),l=void 0;t.push({combinedText:y,dir:l,lang:h,parentElement:m,textNodes:[]})}}}break;case Node.TEXT_NODE:r.length!==0&&i(p);break;default:break}u&&r.pop()}o(e);function c(d){if(!d.textNodes||!d.textNodes.length){(!d.combinedText||!d.combinedText.length)&&(d.combinedText="");return}d.combinedText=Jq(d.textNodes,!0).replace(/[\r\n]/g," ");let u=d.parentElement;for(;u;){if(u.tagName){let p=u.tagName.toLowerCase();if(p==="pre"||p==="code"||p==="video"||p==="audio")break}u=u.parentElement}}for(let d of t)c(d);return t}findTtsQueueItemIndex(e,t,r,i,s){let o=0;for(let c of e){if(r&&c.textNodes){if(c.textNodes.includes(r))return o}else if(t===c.parentElement||c.parentElement!==t.ownerDocument.body&&c.parentElement!==s&&c.parentElement.contains(t)||t.contains(c.parentElement))return o;o++}return-1}restart(){window.speechSynthesis.speaking&&(window.speechSynthesis.cancel(),this.restartIndex=this.ttsQueueIndex,this.ttsPlayQueueIndexDebounced(this.restartIndex,this.ttsQueue))}startTTSSession(e,t){if(!ra(e,t)){this.cancel();return}this.speaking=!0,this.ttsPlayQueueIndexDebounced(t,e)}ttsPlayQueueIndex(e,t){if(e<0){this.cancel();return}let r=ra(t,e);if(!r){this.cancel();return}let i=ia(r);if(!i){this.cancel();return}let s=new SpeechSynthesisUtterance(i);s.rate=this.tts.rate,s.pitch=this.tts.pitch,s.volume=this.tts.volume;let o=this;this.setVoice(o,s),s.onboundary=c=>{un.default.log(c.name),this.updateTTSInfo(r,c.charIndex,c.charLength,0,s.text)},setTimeout(()=>{window.speechSynthesis.speak(s),o.speaking||window.speechSynthesis.pause()},0),s.onend=function(){o.speaking&&o.ttsPlayQueueIndexDebounced(e+1,t)}}updateTTSInfo(e,t,r,i,s){if(!e)return;un.default.log(e,t,r,s);let o=s||ia(e);if(t>=0&&s){let c=s.slice(0,t+1).search(/\S+$/),d=s.slice(t).search(/\s/),u=d<0?s.slice(c):s.slice(c,d+t),p=c+u.length;if(r===void 0){let m=s.substring(t).match(/^[a-z\d']*/i);m&&(r=m[0].length)}r===void 0&&(r=u.length),this.wrapHighlightWord(e,s,t+i,r,u,c,p)}return o}wrapHighlightWord(e,t,r,i,s,o,c){var l,g,w,E,A,_,C,I,T,x;un.default.log(e),un.default.log(t),un.default.log(r,i,s,o,c),this._ttsQueueItemHighlightsWord&&((l=this.navigator.highlighter)==null||l.destroyHighlights(2),this._ttsQueueItemHighlightsWord=void 0);let d=e.item,u=r,p=0,m,b=-1,v,y=-1,h=u+i;for(let D of d.textNodes){if(!D.nodeValue&&D.nodeValue!=="")continue;let L=D.nodeValue.length;if(p+=L,m||u<p&&(m=D,b=L-(p-u)),m&&h<=p&&(v=D,y=L-(p-h)),v)break}if(m&&v){let H=function(q){try{let X=L.navigator.iframes[0].contentDocument;return X?tr(q,X,mo):""}catch(X){return un.default.log("uniqueCssSelector:"),un.default.error(X),""}},D=new Range;D.setStart(m,b),D.setEnd(v,y);let L=this,G=Ds(D,H);if(!G)return;let j=(g=this.navigator.highlighter)==null?void 0:g.createHighlight(this.navigator.iframes[0].contentWindow,{rangeInfo:G,cleanText:"",rawText:"",range:void 0},this.tts.color,!1,3,{id:"tts",title:"",position:"right"},void 0,{defaultClass:this.tts.color},2,"R2_READALOUD_");if(j){this._ttsQueueItemHighlightsWord=j[0];let Z=((E=(w=j[1])==null?void 0:w.firstChild)==null?void 0:E.getBoundingClientRect()).top-this.wrapper.scrollTop>window.innerHeight/2-65;(A=this.navigator.view)!=null&&A.isScrollMode()&&this.tts.autoScroll&&!this.userScrolled&&this.scrollPartial&&Z?(C=(_=j[1])==null?void 0:_.firstChild)==null||C.scrollIntoView({block:"center",behavior:"smooth"}):(I=this.navigator.view)!=null&&I.isPaginated()&&((x=L.navigator.view)==null||x.snap((T=j[1])==null?void 0:T.firstChild))}}}};function ZC(n){let e=n;for(;e&&e.nodeType===Node.ELEMENT_NODE;){let t=e.getAttribute("xml:lang");if(t||(t=e.getAttributeNS("http://www.w3.org/XML/1998/namespace","lang")),t||(t=e.getAttribute("lang")),t)return t;e=e.parentNode}}function $q(n){let e=n;for(;e&&e.nodeType===Node.ELEMENT_NODE;){let t=e.getAttribute("dir");if(t)return t;e=e.parentNode}}function Jq(n,e){if(n&&n.length){let t="";for(let r of n)r.nodeValue&&(t+=e?r.nodeValue:Yq(r.nodeValue));return t}return""}function Kq(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Yq(n){return Kq(n).replace(/\n/g," ").replace(/\s\s+/g," ")}function ra(n,e){let t=-1,r=-1;for(let i of n)if(r++,t++,e===t)return{item:i,iArray:r,iGlobal:t,iSentence:-1}}function ia(n){return n.item.combinedText}F();var yc=Rt(vh());var n5=Rt(po());var r5=Rt(Pn()),Tu=class{constructor(e,t,r,i){this.currentChapterPopupResult=[];this.currentPopupHighlights=[];this.definitions=(0,n5.debounce)(async()=>{if(await this.highlighter.destroyHighlights(4),this.properties.definitions)for(let e of this.properties.definitions)await this.define(e)},200);this.publication=e,this.properties=t,this.api=i,this.highlighter=r}static async create(e){let t=new this(e.publication,e,e.highlighter,e.api);return await t.start(),t}async stop(){r5.default.log("Definitions module stop")}async start(){setTimeout(()=>{this.properties.hideLayer?this.navigator.hideLayer("definitions"):this.navigator.showLayer("definitions")},10)}async searchAndPaint(e,t){var o;let r=this.publication.getAbsoluteHref(this.publication.readingOrder?this.publication.readingOrder[this.navigator.currentResource()??0].Href:""),i=this.publication.getTOCItem(r);i===void 0&&this.publication.readingOrder&&(i=this.publication.readingOrder[this.navigator.currentResource()??0]);let s=[];if(i)for(let c of e.terms){let d=e.terms.indexOf(c);i&&await Eo(c,this.navigator.iframes[0].contentDocument,i.Href,i.Title,(o=this.navigator.definitionsModule)==null?void 0:o.properties.fullWordSearch).then(u=>{let p;e.result===1?p=0:e.result===2&&(p=Math.floor(Math.random()*u.length-1)+1),u.forEach((m,b)=>{if(p===void 0||p===b){let v={rangeInfo:m.rangeInfo},y=this.createDefinitionHighlight(v,e);m.highlight=y,s.push(yc.omit(y,"definition")),this.currentChapterPopupResult.push(m),this.currentPopupHighlights.push(y)}}),d===e.terms.length-1&&t(s)})}}async define(e){await this.searchAndPaint(e,async t=>{var r,i,s;(r=this.api)!=null&&r.success&&((i=this.api)==null||i.success(yc.omit(e,"callbacks"),t),this.navigator.emit("definition.success",t),(s=this.api)!=null&&s.visible&&t.forEach(o=>{var p;let c=(p=this.navigator.iframes[0].contentDocument)==null?void 0:p.querySelector(`#${o.id}`),d=c==null?void 0:c.querySelectorAll(`.${mr}`),u=new IntersectionObserver((m,b)=>{m.forEach(v=>{var y;v.intersectionRatio===1&&((y=this.api)==null||y.visible(yc.omit(e,"callbacks"),yc.omit(o,"definition")),this.navigator.emit("definition.visible",e,o))})},{threshold:1});d&&d.length>0&&u.observe(d[0])}))})}async drawDefinitions(){setTimeout(async()=>{await this.definitions()},100)}async handleResize(){await this.drawDefinitions()}createDefinitionHighlight(e,t){var r;try{let i=(r=this.navigator.definitionsModule)==null?void 0:r.properties.color;Mn.isHexColor(i)&&(i=Mn.hexToRgbChannels(i));let s=`${e.rangeInfo.startContainerElementCssSelector}${e.rangeInfo.startContainerChildTextNodeIndex}${e.rangeInfo.startOffset}${e.rangeInfo.endContainerElementCssSelector}${e.rangeInfo.endContainerChildTextNodeIndex}${e.rangeInfo.endOffset}`,c="R2_DEFINITION_"+cs.hash(s);this.highlighter.destroyHighlight(this.navigator.iframes[0].contentDocument,c);let d={color:i||Zo,id:c,pointerInteraction:!0,selectionInfo:e,marker:1,type:4};In.push(d);let u=this.highlighter.createHighlightDom(this.navigator.iframes[0].contentWindow,d);return u&&(t.definition&&(u.dataset.definition=t.definition),u.dataset.order=String(t.order),d.definition=t,d.position=parseInt((u!=null&&u.hasChildNodes()?u.childNodes[0]:u).style.top.replace("px",""))),d}catch(i){throw"Can't create definitions highlight: "+i}}async addDefinition(e){await this.define(e)}async clearDefinitions(){await this.highlighter.destroyHighlights(4)}};F();var o5=Rt(s5(),1);var r0=o5.default;F();var Ao=Rt(Pn()),a5=.5,oa=class{constructor(e,t,r){this.hasEventListener=!1;this.lines=[];this.index=0;this.isActive=!1;this.isDebug=!1;this.lineFocusContainer=document.getElementById("lineFocusContainer");this.readerContainer=document.getElementById("D2Reader-Container");this.lineFocusTopBlinder=document.getElementById("lineFocusTopBlinder");this.lineFocusBottomBlinder=document.getElementById("lineFocusBottomBlinder");this.wrapperHeight=void 0;this.properties=e,this.api=r,this.highlighter=t}static async create(e){let t=new this(e,e.highlighter,e.api);return await t.start(),t}async stop(){Ao.default.log("Definitions module stop"),this.hasEventListener=!1,dt(document,"keydown",this.keydown.bind(this)),dt(document,"keyup",this.keyup.bind(this)),dt(this.navigator.iframes[0].contentDocument,"keydown",this.keydown.bind(this)),dt(this.navigator.iframes[0].contentDocument,"keyup",this.keyup.bind(this))}async start(){let e=Wt(document,"#iframe-wrapper");e.style.height.length>0&&(this.wrapperHeight=e.style.height,this.lineFocusContainer&&this.lineFocusContainer.style.height.length===0&&(this.lineFocusContainer.style.height=this.wrapperHeight),this.readerContainer&&this.readerContainer.style.height.length===0&&(this.readerContainer.style.height=this.wrapperHeight),this.readerContainer&&(this.readerContainer.style.overflow="hidden"))}initialize(){return new Promise(async e=>{await document.fonts.ready,this.hasEventListener||(this.hasEventListener=!0,Ie(document,"keydown",this.keydown.bind(this)),Ie(document,"keyup",this.keyup.bind(this)),Ie(this.navigator.iframes[0].contentDocument,"keydown",this.keydown.bind(this)),Ie(this.navigator.iframes[0].contentDocument,"keyup",this.keyup.bind(this))),e(null)})}keydown(e){if(e instanceof KeyboardEvent&&this.isActive)switch(e.key){case"ArrowUp":e.stopPropagation();break;case"ArrowDown":e.stopPropagation();break}}keyup(e){if(e instanceof KeyboardEvent&&this.isActive)switch(e.key){case"ArrowUp":this.lineUp();break;case"ArrowDown":this.lineDown();break}}handleResize(){this.isActive&&this.lineFocus()}async enableLineFocus(){this.isActive=!0,await this.navigator.settings.scroll(!0),this.lineFocus()}disableLineFocus(e=!0){this.isActive=!1;let t=Wt(document,"#iframe-wrapper");this.wrapperHeight&&(t.style.height=this.wrapperHeight),e||(this.index=0);let r=this.navigator.iframes[0].contentDocument;zn(r,"html").style.removeProperty("--USER__maxMediaHeight"),this.wrapperHeight=void 0,this.lineFocusContainer&&(this.lineFocusContainer.style.display="none");let s=document.getElementById("container-view-timeline");s&&s.style.removeProperty("display");let o=document.getElementById("divBefore");o&&o.remove();let c=document.getElementById("divAfter");c&&c.remove(),this.highlighter.destroyHighlights(5)}lineFocus(){var p;let e=Wt(document,"#iframe-wrapper"),t=this.navigator.iframes[0].contentDocument,r=zn(t,"html"),i=this.properties.maxHeight?Ui()*this.properties.maxHeight/100:Ui()/2;r.style.setProperty("--USER__maxMediaHeight",i+"px");function s(m,b){m.parentNode.insertBefore(b,m.nextSibling)}function o(m,b){m.parentNode.insertBefore(b,m)}let c=document.getElementById("container-view-timeline");c&&(c.style.display="none"),this.lineFocusContainer&&this.lineFocusContainer.style.removeProperty("display");let d=document.getElementById("divBefore");if(d)d.style.height=e.clientHeight/2+"px";else{let m=document.createElement("div");m.style.height=e.clientHeight/2+"px",m.id="divBefore",o(e,m)}let u=document.getElementById("divAfter");if(u)u.style.height=e.clientHeight/2+"px";else{let m=document.createElement("div");m.style.height=e.clientHeight/2+"px",m.id="divAfter",s(e,m)}if(this.lines=[],t){let v=function(){let E=Math.round,A=Math.random,_=255;return{blue:E(A()*_),green:E(A()*_),red:E(A()*_)}},y=function(E,A){let _=[];for(let C=0,I=0;C<E.length;C++)C>=A&&C%A===0&&I++,_[I]=_[I]||[],_[I].push(E[C]);return _},h=function(E,A){let _=Math.min(E.left,A.left),C=Math.max(E.right,A.right),I=Math.min(E.top,A.top),T=Math.max(E.bottom,A.bottom);return{bottom:T,height:T-I,left:_,right:C,top:I,width:C-_}},l=function(E){if(E.length>1){let A=h(E[0],E[1]);if(E.length>2){let _=h(A,E[2]);if(E.length>3){let C=h(_,E[3]);return E.length>4?h(C,E[4]):C}return _}return A}return E[0]},m=this.findRects(t.body);m=Gm(m,!0),m=m.sort(function(E,A){return E.top-A.top});let b=[];m=m.filter(function(E){let A=E.top;return b.indexOf(A)===-1&&b.indexOf(A+1)===-1&&b.indexOf(A+2)===-1&&b.indexOf(A+3)===-1&&b.indexOf(A+4)===-1&&b.indexOf(A-1)===-1&&b.indexOf(A-2)===-1&&b.indexOf(A-3)===-1&&b.indexOf(A-4)===-1?(b.push(A),!0):!1}),this.highlighter.destroyHighlights(5);let g=[];this.properties.lines&&this.properties.lines>1?y(m,this.properties.lines).forEach(A=>{g.push(l(A))}):g=m;let w=st(t,"#"+"R2_ID_LINEFOCUS_CONTAINER");if(w)for(let E of g){let A=document.createElement("div");A.setAttribute("class",mr);let _=v();if(Mn.isHexColor(_)&&(_=Mn.hexToRgbChannels(_)),this.isDebug){let fe=`border-bottom: 1px solid rgba(${_.red}, ${_.green}, ${_.blue}, ${a5}) !important`;A.setAttribute("style",`mix-blend-mode: multiply; border-radius: 1px !important; background-color: rgba(${_.red}, ${_.green}, ${_.blue}, ${a5}) !important; ${fe}`)}A.style.outline="none",A.tabIndex=0;let C=this.navigator.iframes[0].contentWindow.document,I=this.navigator.view.isPaginated();I?C.body.style.position="revert":C.body.style.position="relative";let T=C.body.getBoundingClientRect(),x=this.highlighter.getScrollingElement(C),D=I?-x.scrollLeft:T.left,L=I?-x.scrollTop:T.top,H=1,G=24,j,q,X=(p=this.navigator.iframes[0].contentWindow)==null?void 0:p.innerWidth,Z=parseInt(getComputedStyle(t.documentElement).getPropertyValue("column-count")),$=parseInt(getComputedStyle(t.documentElement).getPropertyValue("column-width")),ue=parseInt(getComputedStyle(t.body).getPropertyValue("padding-left"));if(X){let fe=X/(Z||1);fe<$&&(fe=X),I||(fe=parseInt(getComputedStyle(t.body).width.replace("px","")));let he=this.navigator.settings.fontSize/100,Se=20*he;he<=1&&(Se=-60);let V=0;he<=1&&(V=-60),j=Math.floor(E.left/fe)*fe+fe-(G<40?40:G)+V,q=Math.floor(E.left/fe)*fe+(G<40?40:G)-Se;let O=parseInt(t.documentElement.style.getPropertyValue("--USER__pageMargins"));O>=2&&(q=q+ue/Z,j=j-ue/Z),I||(j=parseInt(getComputedStyle(t.body).width.replace("px","")),q=parseInt(getComputedStyle(t.body).width.replace("px",""))-fe,O>=2&&(q=q+ue/2,j=j-ue/2))}A.style.setProperty("pointer-events","none"),A.style.position="absolute",A.scale=H,A.rect={height:E.height,left:E.left-D,top:E.top-L,width:E.width},A.style.width=`${A.rect.width*H}px`,A.style.height=`${A.rect.height*H}px`,A.style.left=`${A.rect.left*H}px`,A.style.top=`${A.rect.top*H}px`,this.lines.push(A),w.append(A)}setTimeout(()=>{this.currentLine()},100)}}currentLine(){let e=this.lines[this.index],t=e.style.top,i=parseInt(e.style.top.replace("px",""))+parseInt(e.style.height.replace("px",""))-parseInt(t.replace("px",""));if(this.lineFocusContainer){let o=(parseInt(getComputedStyle(this.lineFocusContainer).height.replace("px",""))-i)/2;this.lineFocusTopBlinder&&(this.lineFocusTopBlinder.style.height=o+"px"),this.lineFocusBottomBlinder&&(this.lineFocusBottomBlinder.style.height=o+"px")}e.scrollIntoView({block:"center",behavior:"smooth"})}lineDown(){if(this.index<this.lines.length-1){this.index+=1,this.index>this.lines.length-1&&(this.index=this.lines.length-1);let e=this.lines[this.index],t=e.style.top,i=parseInt(e.style.top.replace("px",""))+parseInt(e.style.height.replace("px",""))-parseInt(t.replace("px",""));if(this.lineFocusContainer){let o=(parseInt(getComputedStyle(this.lineFocusContainer).height.replace("px",""))-i)/2;this.lineFocusTopBlinder&&(this.lineFocusTopBlinder.style.height=o+"px"),this.lineFocusBottomBlinder&&(this.lineFocusBottomBlinder.style.height=o+"px")}e.scrollIntoView({block:"center",behavior:"smooth"})}}lineUp(){if(this.index>0){this.index-=1,this.index<0&&(this.index=0);let e=this.lines[this.index],t=e.style.top,i=parseInt(e.style.top.replace("px",""))+parseInt(e.style.height.replace("px",""))-parseInt(t.replace("px",""));if(this.lineFocusContainer){let o=(parseInt(getComputedStyle(this.lineFocusContainer).height.replace("px",""))-i)/2;this.lineFocusTopBlinder&&(this.lineFocusTopBlinder.style.height=o+"px"),this.lineFocusBottomBlinder&&(this.lineFocusBottomBlinder.style.height=o+"px")}e.scrollIntoView({block:"center",behavior:"smooth"})}}almostEqual(e,t,r){return Math.abs(e-t)<=r}findRects(e){let t=this.findTextNodes(e),r=Array.from(e.getElementsByTagName("img")),i=[];return t.forEach(s=>{i.push(...this.measureTextNodes(s))}),r.forEach(s=>{i.push(...this.measureImageNodes(s))}),i}findTextNodes(e,t=[]){var i,s,o,c,d,u,p;let r=e.firstChild;for(;r;)r.nodeType===1&&this.findTextNodes(r,t),r.nodeType===3&&(i=r.textContent)!=null&&i.trim()&&(r.textContent.trim().length>1||((s=r.parentElement)==null?void 0:s.tagName.toLowerCase())==="h1"||((o=r.parentElement)==null?void 0:o.tagName.toLowerCase())==="h2"||((c=r.parentElement)==null?void 0:c.tagName.toLowerCase())==="h3"||((d=r.parentElement)==null?void 0:d.tagName.toLowerCase())==="h4"||((u=r.parentElement)==null?void 0:u.tagName.toLowerCase())==="h5"||((p=r.parentElement)==null?void 0:p.tagName.toLowerCase())==="h6")&&r.parentElement&&getComputedStyle(r.parentElement).verticalAlign==="baseline"&&t.push(r),r=r.nextSibling;return t}measureTextNodes(e){try{let t=document.createRange();t.selectNodeContents(e);let r=Array.from(t.getClientRects());return t.detach(),r}catch(t){Ao.default.log("measureTextNode "+t),Ao.default.log("measureTextNode "+e),Ao.default.log(`${e.textContent}`)}}measureImageNodes(e){try{let t=document.createRange();t.selectNode(e);let r=Array.from(t.getClientRects());return t.detach(),r}catch(t){Ao.default.log("measureTextNode "+t),Ao.default.log("measureTextNode "+e),Ao.default.log(`${e.textContent}`)}}};F();var u5=Rt(Pn()),xu=class{constructor(e,t,r,i){this.history=[];this.headerMenu=i,this.publication=t,this.properties=r,this.annotator=e}static async create(e){let t=new this(e.annotator,e.publication,e,e.headerMenu);return await t.start(),t}async stop(){u5.default.log("Page Break module stop"),dt(this.historyForwardAnchorElement,"click",this.handleHistoryForwardClick.bind(this)),dt(this.historyBackAnchorElement,"click",this.handleHistoryBackClick.bind(this))}async handleResize(){await this.setup()}setup(){this.history.length>0&&(this.historyForwardAnchorElement&&this.historyCurrentIndex+1<this.history.length?this.historyForwardAnchorElement.className=this.historyForwardAnchorElement.className.replace(" disabled",""):this.historyForwardAnchorElement&&(this.historyForwardAnchorElement.removeAttribute("href"),this.historyForwardAnchorElement.className+=" disabled"),this.historyBackAnchorElement&&this.historyCurrentIndex>0?this.historyBackAnchorElement.className=this.historyBackAnchorElement.className.replace(" disabled",""):this.historyBackAnchorElement&&(this.historyBackAnchorElement.removeAttribute("href"),this.historyBackAnchorElement.className+=" disabled"))}async push(e,t){let r;if(t&&this.annotator){let i=await this.annotator.getLastReadingPosition();if(i){let s=this.publication.getAbsoluteHref(i.href);i.href=s,this.historyCurrentIndex<this.history.length-1?(this.history=this.history.slice(0,this.historyCurrentIndex),this.history.push(i),this.historyCurrentIndex=this.history.length-1):(this.history.push(i),this.historyCurrentIndex=this.history.length-1)}this.historyCurrentIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyCurrentIndex)),r=this.history[this.history.length-1],(r&&r.href!==e.href||r===void 0)&&(this.history.push(e),this.historyCurrentIndex=this.history.length-1)}}async start(){this.headerMenu&&(this.historyForwardAnchorElement=st(this.headerMenu,"#history-forward")),this.headerMenu&&(this.historyBackAnchorElement=st(this.headerMenu,"#history-back")),this.historyCurrentIndex=this.history.length-1,Ie(this.historyForwardAnchorElement,"click",this.handleHistoryForwardClick.bind(this)),Ie(this.historyBackAnchorElement,"click",this.handleHistoryBackClick.bind(this))}async handleHistoryForwardClick(e){await this.historyForward(),e.preventDefault(),e.stopPropagation()}async historyForward(){this.history.length>0&&this.historyCurrentIndex+1<this.history.length&&(this.historyCurrentIndex=this.historyCurrentIndex+1,await this.navigator.navigate(this.history[this.historyCurrentIndex],!1))}async handleHistoryBackClick(e){await this.historyBack(),e.preventDefault(),e.stopPropagation()}async historyBack(){this.history.length>0&&this.historyCurrentIndex>0&&(this.historyCurrentIndex=this.historyCurrentIndex-1,await this.navigator.navigate(this.history[this.historyCurrentIndex],!1))}};F();var l5=Rt(Pn()),i0=(r=>(r[r.Chicago=0]="Chicago",r[r.MLA=1]="MLA",r[r.APA=2]="APA",r))(i0||{});var aa=class{constructor(e,t,r,i){this.highlighter=t,this.properties=r,this.publication=e,this.api=i}static async create(e){let t=new this(e.publication,e.highlighter,e,e.api);return await t.start(),t}async stop(){l5.default.log("Citation module stop")}copyToClipboard(e){var r,i,s;(r=this.navigator)!=null&&r.contentProtectionModule&&(this.navigator.contentProtectionModule.citation=!0);let t=!0;if(window.clipboardData)window.clipboardData.setData("text/plain",e);else{let o=this.createElementForExecCommand(e);this.selectContent(o);try{window.netscape&&netscape.security&&netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect"),t=document.execCommand("copy",!1)}catch{t=!1}document.body.removeChild(o)}t?(i=this.api)==null||i.citationCreated("The text was copied to the clipboard!"):(s=this.api)==null||s.citationFailed("Your browser doesn't allow clipboard access!")}createElementForExecCommand(e){let t=document.createElement("div");return t.style.position="absolute",t.style.left="-10000px",t.style.top="-10000px",t.innerHTML=e,document.body.appendChild(t),t.contentEditable=!0,t}selectContent(e){let t=document.createRange();t.selectNodeContents(e);let r=window.getSelection();r==null||r.removeAllRanges(),r==null||r.addRange(t)}async start(){var r;let e=this,t={id:"citationIcon",callback:function(i){var x,D,L;let s=function(){var q;let H="",G="",j="";return e.properties.author?(j=j+e.properties.author,G=G+e.properties.author,H=H+e.properties.author):((q=e.publication.Metadata.Author)==null?void 0:q.length)>0&&0===0&&e.publication.Metadata.Author[0].Name&&e.publication.Metadata.Author[0].Name instanceof String&&e.publication.Metadata.Author[0].Name.length>0&&(j=j+e.publication.Metadata.Author[0].Name,G=G+e.publication.Metadata.Author[0].Name,H=H+e.publication.Metadata.Author[0].Name),j.length>0&&G.length>0&&H.length>0?[H+". ",G+". ",j+". "]:["","",""]},o=function(){let H="",G="",j="";return e.properties.publisher?(G=G+e.properties.publisher,H=H+e.properties.publisher):e.publication.Metadata.Publisher&&e.publication.Metadata.Publisher[0].Name&&(G=G+e.publication.Metadata.Publisher[0].Name,H=H+e.publication.Metadata.Publisher[0].Name),e.properties.published?(j=j+"("+e.properties.published+")",G=G+", "+e.properties.published,H=H+", "+e.properties.published):e.publication.Metadata.PublicationDate&&e.publication.Metadata.PublicationDate.getFullYear()>0&&(j=j+"("+e.publication.Metadata.PublicationDate.getFullYear()+")",G=G+", "+e.publication.Metadata.PublicationDate.getFullYear(),H=H+", "+e.publication.Metadata.PublicationDate.getFullYear()),j.length>0&&G.length>0&&H.length>0?[H+". ",G+". ",j+". "]:["","",""]},c=function(){return e.properties.title?["<em>"+e.properties.title+"</em>. ","<em>"+e.properties.title+"</em>. ","<em>"+e.properties.title+"</em>. "]:e.publication.Metadata.Title?["<em>"+e.publication.Metadata.Title+"</em>. ","<em>"+e.publication.Metadata.Title+"</em>. ","<em>"+e.publication.Metadata.Title+"</em>. "]:["","",""]},d=function(){return["","",""]},u=function(){let H="",G="",j="";return e.properties.publisher?(G=G+e.properties.publisher+", ",H=H+e.properties.publisher+", ",j=j+e.properties.publisher):e.publication.Metadata.Publisher&&e.publication.Metadata.Publisher[0].Name&&(G=G+e.publication.Metadata.Publisher[0].Name+", ",H=H+e.publication.Metadata.Publisher[0].Name+", ",j=j+e.publication.Metadata.Publisher[0].Name),j.length>0&&G.length>0&&H.length>0?[H+". ",G+". ",j+". "]:["","",""]},p=function(){return["","",""]},m=function(){return["","",""]},b=function(){return["","",""]},v=function(){return e.properties.library?["Retrieved from "+e.properties.library+". ","Retrieved from "+e.properties.library+". ","Retrieved from "+e.properties.library+". "]:["","",""]},y=function(){return e.properties.appName?[e.properties.appName+". ",e.properties.appName+". ",e.properties.appName+". "]:["","",""]},h=function(){return e.properties.appLink?[e.properties.appLink+". ",e.properties.appLink+". ",e.properties.appLink+". "]:["","",""]},l=function(){return["","",""]},g=function(H,G){return H.length>G?H.substring(0,G)+"...":H},w=s()[0]+c()[0]+p()[0]+d()[0]+b()[0]+o()[0]+m()[0]+v()[0]+y()[0]+h()[0],E=s()[2]+o()[2]+c()[2]+d()[2]+u()[2]+p()[2]+m()[2]+b()[2]+v()[2]+y()[2]+h()[2],A=s()[1]+c()[1]+p()[1]+d()[1]+b()[1]+o()[1]+l()[1]+v()[1]+y()[1]+h()[1],_="\u201C"+g(i,e.properties.characters)+"\u201C<br><br>"+w,C="\u201C"+g(i,e.properties.characters)+"\u201C<br><br>"+E,I="\u201C"+g(i,e.properties.characters)+"\u201C<br><br>"+A,T="";(x=e.properties.styles)!=null&&x.includes(i0[0])&&(e.properties.styles.length>1&&(T=T+"Chicago: <br>"),T=T+_+"<br><br>"),(D=e.properties.styles)!=null&&D.includes(i0[2])&&(e.properties.styles.length>1&&(T=T+"APA: <br>"),T=T+C+"<br><br>"),(L=e.properties.styles)!=null&&L.includes(i0[1])&&(e.properties.styles.length>1&&(T=T+"MLA: <br>"),T=T+I+"<br><br>"),e.copyToClipboard(T)}};(r=this.highlighter)==null||r.addSelectionMenuItem(t)}};var Wr=Rt(Pn());var an=class n extends r0{constructor(t,r=void 0,i=void 0,s,o,c,d,u,p,m,b,v,y,h){super();this.iframes=[];this.sideNavExpanded=!1;this.currentChapterLink={href:""};this.currentSpreadLinks={};this.rights={autoGeneratePositions:!1,enableAnnotations:!1,enableBookmarks:!1,enableContentProtection:!1,enableDefinitions:!1,enableLineFocus:!1,enableMediaOverlays:!1,enablePageBreaks:!1,enableSearch:!1,enableTTS:!1,enableTimeline:!1,customKeyboardEvents:!1,enableHistory:!1,enableCitations:!1};this.didInitKeyboardEventHandler=!1;this.onResize=()=>{clearTimeout(this.timeout),this.timeout=setTimeout(this.handleResize.bind(this),200)};this.reload=async()=>{let t;if(this.annotator&&(t=await this.annotator.getLastReadingPosition()),t){let r=this.publication.getAbsoluteHref(t.href);Wr.default.log(t.href),Wr.default.log(r),t.href=r,await this.navigate(t)}};this.savePosition=(0,s0.debounce)(()=>{this.annotator&&this.saveCurrentReadingPosition()},200);this.checkResourcePosition=(0,s0.debounce)(()=>{var t,r,i,s,o,c,d,u,p,m;(t=this.view)!=null&&t.atStart()&&((r=this.view)!=null&&r.atEnd())?((i=this.api)!=null&&i.resourceFitsScreen&&((s=this.api)==null||s.resourceFitsScreen()),this.emit("resource.fits")):(o=this.view)!=null&&o.atEnd()?((c=this.api)!=null&&c.resourceAtEnd&&((d=this.api)==null||d.resourceAtEnd()),this.emit("resource.end")):(u=this.view)!=null&&u.atStart()&&((p=this.api)!=null&&p.resourceAtStart&&((m=this.api)==null||m.resourceAtStart()),this.emit("resource.start"))},200);this.highlighter=y,this.highlighter&&(this.highlighter.navigator=this);for(let l in h){let g=h[l];g&&(g.navigator=this),h[l]instanceof au&&(this.annotationModule=g),h[l]instanceof uu&&(this.bookmarkModule=g),h[l]instanceof sa&&(this.ttsModule=g),h[l]instanceof sa&&(this.ttsModule=g),h[l]instanceof Su&&(this.searchModule=g),h[l]instanceof Tu&&(this.definitionsModule=g),h[l]instanceof du&&(this.timelineModule=g),h[l]instanceof na&&(this.contentProtectionModule=g),h[l]instanceof aa&&(this.citationModule=g),h[l]instanceof cu&&(this.mediaOverlayModule=g),h[l]instanceof Cu&&(this.pageBreakModule=g),h[l]instanceof oa&&(this.lineFocusModule=g),h[l]instanceof xu&&(this.historyModule=g),h[l]instanceof ou&&(this.consumptionModule=g)}this.settings=t,this.annotator=r,this.view=t.view,this.view.attributes=p,this.view.navigator=this,this.eventHandler=new Jl(this),this.touchEventHandler=new hc(this),this.keyboardEventHandler=new pc(this),this.initialLastReadingPosition=i,this.publication=s,this.api=o,this.rights=c??{autoGeneratePositions:!1,enableAnnotations:!1,enableBookmarks:!1,enableContentProtection:!1,enableDefinitions:!1,enableLineFocus:!1,enableMediaOverlays:!1,enablePageBreaks:!1,enableSearch:!1,enableTTS:!1,enableTimeline:!1,customKeyboardEvents:!1,enableHistory:!1,enableCitations:!1},this.tts=d,this.injectables=u,this.attributes=p||{margin:0},this.services=m,this.sample=b,this.requestConfig=v,this.sampleReadEventHandler=new gc(this)}static async create(t){let r=new this(t.settings,t.annotator||void 0,t.initialLastReadingPosition||void 0,t.publication,t.api,t.rights,t.tts,t.injectables,t.attributes||{margin:0},t.services,t.sample,t.requestConfig,t.highlighter,t.modules);return await r.start(t.mainElement,t.headerMenu,t.footerMenu),new Promise(i=>i(r))}stop(){Wr.default.log("Iframe navigator stop"),dt(this.previousChapterAnchorElement,"click",this.handlePreviousChapterClick.bind(this)),dt(this.nextChapterAnchorElement,"click",this.handleNextChapterClick.bind(this)),dt(this.previousChapterTopAnchorElement,"click",this.handlePreviousPageClick.bind(this)),dt(this.nextChapterBottomAnchorElement,"click",this.handleNextPageClick.bind(this)),dt(this.previousPageAnchorElement,"click",this.handlePreviousPageClick.bind(this)),dt(this.nextPageAnchorElement,"click",this.handleNextPageClick.bind(this)),dt(this.tryAgainButton,"click",this.tryAgain.bind(this)),dt(this.goBackButton,"click",n.goBack.bind(this)),dt(this.espandMenuIcon,"click",this.handleEditClick.bind(this)),dt(window,"resize",this.onResize),this.iframes.forEach(t=>{dt(t,"resize",this.onResize)})}async start(t,r,i){var y,h,l,g,w,E,A,_,C,I,T,x,D,L,H,G,j;this.headerMenu=r,this.mainElement=t;try{let q=Wt(t,"main#iframe-wrapper");q.style.overflow="auto";let X=st(t,"main#iframe-wrapper iframe"),Z=st(t,"#second");if(X&&this.iframes.push(X),Z&&this.iframes.push(Z),window.matchMedia("screen and (max-width: 600px)").matches&&(this.settings.columnCount=1),this.iframes.length===0){q.style.overflow="auto";let $=document.createElement("iframe");if($.setAttribute("SCROLLING","no"),$.setAttribute("allowtransparency","true"),this.iframes.push($),this.publication.isFixedLayout?(this.spreads=document.createElement("div"),this.firstSpread=document.createElement("div"),this.spreads.style.display="flex",this.spreads.style.alignItems="center",this.spreads.style.justifyContent="center",this.spreads.appendChild(this.firstSpread),this.firstSpread.appendChild(this.iframes[0]),q.appendChild(this.spreads)):($.setAttribute("height","100%"),$.setAttribute("width","100%"),q.appendChild(this.iframes[0])),this.publication.isFixedLayout)if(this.settings.columnCount!==1&&!window.matchMedia("screen and (max-width: 600px)").matches){let ue=document.createElement("div");this.spreads.appendChild(ue);let fe=document.createElement("iframe");fe.setAttribute("SCROLLING","no"),fe.setAttribute("allowtransparency","true"),fe.style.opacity="1",fe.style.border="none",fe.style.overflow="hidden",this.iframes.push(fe),ue.appendChild(this.iframes[1]),this.firstSpread.style.clipPath="polygon(0% -20%, 100% -20%, 100% 120%, -20% 120%)",this.firstSpread.style.boxShadow="0 0 8px 2px #ccc",ue.style.clipPath="polygon(0% -20%, 100% -20%, 120% 100%, 0% 120%)",ue.style.boxShadow="0 0 8px 2px #ccc"}else this.firstSpread.style.clipPath="polygon(0% -20%, 100% -20%, 120% 100%, -20% 120%)",this.firstSpread.style.boxShadow="0 0 8px 2px #ccc";else this.iframes[0].style.paddingTop=(((y=this.attributes)==null?void 0:y.iframePaddingTop)??0)+"px"}if(this.publication.isFixedLayout){let $=q.clientHeight;var s=(h=this.iframes[0].parentElement)==null?void 0:h.parentElement;s.style.height=$+40+"px"}else this.iframes.length===2&&this.iframes.pop();if(this.loadingMessage=st(t,"#reader-loading"),this.loadingMessage&&(this.loadingMessage.innerHTML=t0,this.loadingMessage.style.display="none"),this.errorMessage=st(t,"#reader-error"),this.errorMessage&&(this.errorMessage.innerHTML=XC,this.errorMessage.style.display="none"),this.tryAgainButton=st(t,"button[class=try-again]"),this.goBackButton=st(t,"button[class=go-back]"),this.infoTop=st(t,"div[class='info top']"),this.infoBottom=st(t,"div[class='info bottom']"),this.headerMenu&&(this.bookTitle=st(this.headerMenu,"#book-title")),this.infoBottom&&(this.chapterTitle=st(this.infoBottom,"span[class=chapter-title]")),this.infoBottom&&(this.chapterPosition=st(this.infoBottom,"span[class=chapter-position]")),this.infoBottom&&(this.remainingPositions=st(this.infoBottom,"span[class=remaining-positions]")),this.headerMenu&&(this.espandMenuIcon=st(this.headerMenu,"#expand-menu")),this.headerMenu&&(this.links=st(this.headerMenu,"ul.links.top")),this.headerMenu&&(this.linksTopLeft=st(this.headerMenu,"#nav-mobile-left")),this.headerMenu&&(this.tocView=st(this.headerMenu,"#container-view-toc")),this.headerMenu&&(this.landmarksView=st(this.headerMenu,"#container-view-landmarks")),this.headerMenu&&(this.landmarksSection=st(this.headerMenu,"#sidenav-section-landmarks")),this.headerMenu&&(this.pageListView=st(this.headerMenu,"#container-view-pagelist")),i&&(this.linksBottom=st(i,"ul.links.bottom")),i&&(this.linksMiddle=st(i,"ul.links.middle")),this.headerMenu&&(this.nextChapterAnchorElement=st(this.headerMenu,"a[rel=next]")),this.headerMenu&&(this.nextChapterBottomAnchorElement=st(t,"#next-chapter")),i&&(this.nextPageAnchorElement=st(i,"a[rel=next]")),this.headerMenu&&(this.previousChapterAnchorElement=st(this.headerMenu,"a[rel=prev]")),this.headerMenu&&(this.previousChapterTopAnchorElement=st(t,"#previous-chapter")),i&&(this.previousPageAnchorElement=st(i,"a[rel=prev]")),this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.newPosition=void 0,this.newElementId=void 0,this.isBeingStyled=!0,this.isLoading=!0,this.settings.setIframe(this.iframes[0]),this.settings.onSettingsChange(this.handleResize.bind(this)),this.settings.onColumnSettingsChange(this.handleNumberOfIframes.bind(this)),this.settings.onViewChange(this.updateBookView.bind(this)),this.initialLastReadingPosition&&((l=this.annotator)==null||l.initLastReadingPosition(this.initialLastReadingPosition)),this.headerMenu){var o=st(this.headerMenu,"#menu-button-search"),c=st(this.headerMenu,"#menu-button-tts"),d=st(this.headerMenu,"#menu-button-bookmark"),u=st(this.headerMenu,"#menu-button-play"),p=st(this.headerMenu,"#menu-button-pause"),m=st(this.headerMenu,"#menu-button-mediaoverlay");if(!this.rights.enableBookmarks){d&&((g=d.parentElement)==null||g.style.setProperty("display","none"));var b=st(this.headerMenu,"#sidenav-section-bookmarks");b&&b.style.setProperty("display","none")}if(!this.rights.enableAnnotations){var v=st(this.headerMenu,"#sidenav-section-highlights");v&&v.style.setProperty("display","none")}this.rights.enableTTS||c&&((w=c.parentElement)==null||w.style.setProperty("display","none")),this.rights.enableSearch||o&&((E=o.parentElement)==null||E.style.setProperty("display","none")),o&&((A=this.view)!=null&&A.navigator.publication.isFixedLayout)&&((_=o.parentElement)==null||_.style.setProperty("display","none")),this.hasMediaOverlays?(u&&((C=u.parentElement)==null||C.style.removeProperty("display")),p&&((I=p.parentElement)==null||I.style.removeProperty("display")),m&&((T=m.parentElement)==null||T.style.removeProperty("display"))):(u&&((x=u.parentElement)==null||x.style.setProperty("display","none")),p&&((D=p.parentElement)==null||D.style.setProperty("display","none")),m&&((L=m.parentElement)==null||L.style.setProperty("display","none")))}else o&&((H=o.parentElement)==null||H.style.setProperty("display","none")),c&&((G=c.parentElement)==null||G.style.setProperty("display","none")),d&&((j=d.parentElement)==null||j.style.setProperty("display","none"));return this.setupEvents(),await this.loadManifest()}catch(q){return Wr.default.error(q),this.abortOnError(q),Promise.reject(q)}}setupEvents(){for(let t of this.iframes)Ie(t,"load",this.handleIFrameLoad.bind(this));Ie(this.previousChapterAnchorElement,"click",this.handlePreviousChapterClick.bind(this)),Ie(this.nextChapterAnchorElement,"click",this.handleNextChapterClick.bind(this)),Ie(this.previousChapterTopAnchorElement,"click",this.handlePreviousPageClick.bind(this)),Ie(this.nextChapterBottomAnchorElement,"click",this.handleNextPageClick.bind(this)),Ie(this.previousPageAnchorElement,"click",this.handlePreviousPageClick.bind(this)),Ie(this.nextPageAnchorElement,"click",this.handleNextPageClick.bind(this)),Ie(this.tryAgainButton,"click",this.tryAgain.bind(this)),Ie(this.goBackButton,"click",n.goBack.bind(this)),Ie(this.espandMenuIcon,"click",this.handleEditClick.bind(this)),Ie(window,"resize",this.onResize);for(let t of this.iframes)Ie(t,"resize",this.onResize)}updateBookView(t){var r;((r=this.view)==null?void 0:r.layout)==="fixed"?(this.nextPageAnchorElement&&(this.nextPageAnchorElement.style.display="none"),this.previousPageAnchorElement&&(this.previousPageAnchorElement.style.display="none"),this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.keyboardEventHandler&&(this.keyboardEventHandler.onBackwardSwipe=this.handlePreviousChapterClick.bind(this),this.keyboardEventHandler.onForwardSwipe=this.handleNextChapterClick.bind(this)),this.touchEventHandler&&(this.touchEventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.touchEventHandler.onForwardSwipe=this.handleNextPageClick.bind(this))):(this.settings.isPaginated().then(i=>{var s,o,c,d,u,p;if(i)this.view.height=Ui()-40-(((s=this.attributes)==null?void 0:s.margin)??0),this.infoBottom&&this.infoBottom.style.removeProperty("display"),document.body.onscroll=()=>{},this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.nextPageAnchorElement&&(this.nextPageAnchorElement.style.display="unset"),this.previousPageAnchorElement&&(this.previousPageAnchorElement.style.display="unset"),this.chapterTitle&&(this.chapterTitle.style.display="inline"),this.chapterPosition&&(this.chapterPosition.style.display="inline"),this.remainingPositions&&(this.remainingPositions.style.display="inline"),this.eventHandler&&(this.eventHandler.onInternalLink=this.handleInternalLink.bind(this),this.eventHandler.onClickThrough=this.handleClickThrough.bind(this)),this.touchEventHandler&&(this.touchEventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.touchEventHandler.onForwardSwipe=this.handleNextPageClick.bind(this)),this.keyboardEventHandler&&(this.keyboardEventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.keyboardEventHandler.onForwardSwipe=this.handleNextPageClick.bind(this));else{this.infoBottom&&(this.infoBottom.style.display="none"),this.nextPageAnchorElement&&(this.nextPageAnchorElement.style.display="none"),this.previousPageAnchorElement&&(this.previousPageAnchorElement.style.display="none"),((o=this.view)==null?void 0:o.layout)==="fixed"?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none")):(c=this.view)!=null&&c.atStart()&&((d=this.view)!=null&&d.atEnd())?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):(u=this.view)!=null&&u.atEnd()?(this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset")):(p=this.view)!=null&&p.atStart()?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"));let m=(0,s0.debounce)(()=>{this.isScrolling=!1},200),b=Wt(document,"#iframe-wrapper");b.onscroll=async()=>{var v,y;this.isScrolling=!0,await this.savePosition(),(v=this.view)!=null&&v.atEnd(),((y=this.view)==null?void 0:y.layout)==="fixed"?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none")):(this.settings.isPaginated().then(h=>{var l,g,w,E;h||((l=this.view)!=null&&l.atStart()&&((g=this.view)!=null&&g.atEnd())?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):(w=this.view)!=null&&w.atEnd()?(this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset")):(E=this.view)!=null&&E.atStart()?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none")))}),this.checkResourcePosition()),m()},this.chapterTitle&&(this.chapterTitle.style.display="none"),this.chapterPosition&&(this.chapterPosition.style.display="none"),this.remainingPositions&&(this.remainingPositions.style.display="none"),this.eventHandler&&(this.eventHandler.onInternalLink=this.handleInternalLink.bind(this),this.eventHandler.onClickThrough=this.handleClickThrough.bind(this)),this.touchEventHandler&&(this.touchEventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.touchEventHandler.onForwardSwipe=this.handleNextPageClick.bind(this)),this.keyboardEventHandler&&(this.keyboardEventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.keyboardEventHandler.onForwardSwipe=this.handleNextPageClick.bind(this))}}),t!=null&&t.skipDrawingAnnotations||setTimeout(async()=>{var i;await((i=this.highlighter)==null?void 0:i.prepareContainers(this.iframes[0].contentWindow)),this.highlighter&&(this.rights.enableAnnotations&&this.annotationModule&&await this.annotationModule.drawHighlights(),this.rights.enableBookmarks&&this.bookmarkModule&&await this.bookmarkModule.drawBookmarks(),this.rights.enableSearch&&this.searchModule&&(await this.highlighter.destroyHighlights(1),this.searchModule.drawSearch()),this.rights.enablePageBreaks&&this.pageBreakModule&&(await this.highlighter.destroyHighlights(3),await this.pageBreakModule.drawPageBreaks()),this.rights.enableDefinitions&&this.definitionsModule&&await this.definitionsModule.drawDefinitions())},200))}async loadManifest(){var t,r,i,s,o;try{let c=(y,h,l=!1)=>{var g=document.createElement("ul");l&&(g=document.createElement("ol")),g.className="sidenav-toc";for(let w of h){let E=document.createElement("li"),A=document.createElement("a"),_=document.createElement("span");A.className="chapter-link",A.tabIndex=-1;let C="";w.Href?(C=this.publication.getAbsoluteHref(w.Href),A.href=C,A.innerHTML=w.Title||"",E.appendChild(A)):(_.innerHTML=w.Title||"",_.className="chapter-title",E.appendChild(_)),w.Children&&w.Children.length>0&&c(E,w.Children,!0),g.appendChild(E)}Ie(g,"click",w=>{if(w.preventDefault(),w.stopPropagation(),w.target&&w.target.tagName.toLowerCase()==="a"){let E=w.target;if(E.className.indexOf("active")!==-1)this.hideView();else{let A={progression:0};if(E.href.indexOf("#")!==-1){let C=E.href.slice(E.href.indexOf("#")+1);C!==void 0&&(A={fragment:C})}let _={href:E.href,locations:A,type:E.type,title:E.title};this.hideView(),this.navigate(_)}}}),y.appendChild(g)},d=this.publication.tableOfContents,u=this.publication.landmarks,p=this.publication.pageList;this.tocView&&(d.length?c(this.tocView,d):(r=(t=this.tocView.parentElement)==null?void 0:t.parentElement)==null||r.removeChild(this.tocView.parentElement)),this.pageListView&&(p!=null&&p.length?c(this.pageListView,p):(s=(i=this.pageListView.parentElement)==null?void 0:i.parentElement)==null||s.removeChild(this.pageListView.parentElement)),this.landmarksView&&(u!=null&&u.length?c(this.landmarksView,u):(o=this.landmarksSection.parentElement)==null||o.removeChild(this.landmarksSection));let m;this.annotator&&(m=await this.annotator.getLastReadingPosition());let b=this.publication.getStartLink(),v;if(b&&b.Href&&(v=this.publication.getAbsoluteHref(b.Href)),m){let y=this.publication.getAbsoluteHref(m.href);Wr.default.log(m.href),Wr.default.log(y),m.href=y,await this.navigate(m)}else if(v){let y={href:v,locations:{progression:0},created:new Date,title:b==null?void 0:b.Title};await this.navigate(y)}return new Promise(y=>y())}catch(c){return Wr.default.error(c),this.abortOnError(c),new Promise((d,u)=>u(c)).catch(()=>{})}}async handleIFrameLoad(){var t,r,i,s,o,c;this.errorMessage&&(this.errorMessage.style.display="none"),this.showLoadingMessageAfterDelay();try{let d=0;this.newPosition&&(d=this.newPosition.locations.progression),await this.handleResize(),this.updateBookView({skipDrawingAnnotations:!0}),await this.settings.applyProperties();let u=this.currentChapterLink.href;if(u){let h=this.publication.getPreviousSpineItem(u);h&&h.Href&&(this.previousChapterLink={href:h.Href,title:h.Title,type:h.TypeLink})}this.previousChapterAnchorElement&&(this.previousChapterLink&&this.previousChapterLink.href?(this.previousChapterAnchorElement.href=this.publication.getAbsoluteHref(this.previousChapterLink.href),this.previousChapterAnchorElement.className=this.previousChapterAnchorElement.className.replace(" disabled","")):(this.previousChapterAnchorElement.removeAttribute("href"),this.previousChapterAnchorElement.className+=" disabled"));let p=this.publication.getNextSpineItem(u);p?this.nextChapterLink={href:p.Href,title:p.Title,type:p.TypeLink}:this.nextChapterLink=void 0,this.nextChapterAnchorElement&&(this.nextChapterLink&&this.nextChapterLink.href?(this.nextChapterAnchorElement.href=this.publication.getAbsoluteHref(this.nextChapterLink.href),this.nextChapterAnchorElement.className=this.nextChapterAnchorElement.className.replace(" disabled","")):(this.nextChapterAnchorElement.removeAttribute("href"),this.nextChapterAnchorElement.className+=" disabled")),this.historyModule&&this.historyModule.setup(),this.currentTocUrl!==void 0?this.setActiveTOCItem(this.currentTocUrl):this.setActiveTOCItem(u),this.publication.Metadata.Title&&this.bookTitle&&(this.bookTitle.innerHTML=this.publication.Metadata.Title.toString());let m=this.publication.getSpineItem(u);m!==void 0&&(this.currentChapterLink.title=m.Title,this.currentChapterLink.type=m.TypeLink);let b=this.publication.getTOCItem(u);this.currentTocUrl!==void 0&&(b=this.publication.getTOCItem(this.currentTocUrl)),!this.currentChapterLink.title&&b!==void 0&&b.Title&&(this.currentChapterLink.title=b.Title),!this.currentChapterLink.type&&b!==void 0&&b.TypeLink&&(this.currentChapterLink.title=b.Title),this.currentChapterLink.title?this.chapterTitle&&(this.chapterTitle.innerHTML="("+this.currentChapterLink.title+")"):this.chapterTitle&&(this.chapterTitle.innerHTML="(Current Chapter)"),await this.injectInjectablesIntoIframeHead(),this.highlighter!==void 0&&await this.highlighter.initialize();let v=(t=this.iframes[0].contentDocument)==null?void 0:t.body,y=v==null?void 0:v.querySelector("details");if(y){let h=this;y.addEventListener("toggle",async l=>{var g,w;await((w=(g=h.view)==null?void 0:g.setIframeHeight)==null?void 0:w.call(g,this.iframes[0]))})}if(this.eventHandler){for(let h of this.iframes)this.eventHandler.setupEvents(h.contentDocument),this.touchEventHandler.setupEvents(h.contentDocument),this.keyboardEventHandler.setupEvents(h.contentDocument);this.touchEventHandler.setupEvents(this.errorMessage),this.didInitKeyboardEventHandler||(this.keyboardEventHandler.keydown(document),this.didInitKeyboardEventHandler=!0)}if(((r=this.view)==null?void 0:r.layout)!=="fixed"&&(i=this.view)!=null&&i.isScrollMode()&&(this.iframes[0].height="0",(o=(s=this.view)==null?void 0:s.setIframeHeight)==null||o.call(s,this.iframes[0])),this.rights.enableContentProtection&&this.contentProtectionModule&&await this.contentProtectionModule.initialize(),this.rights.enableConsumption&&this.consumptionModule&&await this.consumptionModule.initialize(),this.rights.enableAnnotations&&this.annotationModule&&await this.annotationModule.initialize(),this.rights.enableBookmarks&&this.bookmarkModule&&await this.bookmarkModule.initialize(),this.rights.enableLineFocus&&this.lineFocusModule&&await this.lineFocusModule.initialize(),this.rights.enableTTS&&this.ttsModule){let h=(c=this.iframes[0].contentDocument)==null?void 0:c.body;await this.ttsModule.initialize(h)}return this.rights.enableTimeline&&this.timelineModule&&await this.timelineModule.initialize(),this.rights.enableMediaOverlays&&this.mediaOverlayModule&&this.hasMediaOverlays&&await this.mediaOverlayModule.initialize(),setTimeout(async()=>{var h,l,g,w,E,A,_,C;if(this.newElementId){let I=this.iframes[0].contentDocument.getElementById(this.newElementId);(l=(h=this.view)==null?void 0:h.goToElement)==null||l.call(h,I),this.newElementId=void 0}else if(this.newPosition&&this.newPosition.highlight){let I=(g=this.newPosition.highlight)==null?void 0:g.selectionInfo.rangeInfo.startContainerElementCssSelector;I&&((w=this.view)==null||w.goToCssSelector(I))}else d&&d>=0&&((E=this.view)==null||E.goToProgression(d));if(this.newPosition=void 0,(A=this.rights)!=null&&A.enableContentProtection&&this.contentProtectionModule!==void 0&&await this.contentProtectionModule.recalculate(10),this.hideLoadingMessage(),this.showIframeContents(),this.rights.enableMediaOverlays&&this.mediaOverlayModule&&this.hasMediaOverlays){let I=this.currentLink();await((_=this.mediaOverlayModule)==null?void 0:_.initializeResource(I))}await this.updatePositionInfo(),await((C=this.view)==null?void 0:C.setSize()),setTimeout(()=>{this.mediaOverlayModule&&(this.mediaOverlayModule.settings.resourceReady=!0)},300)},200),new Promise(h=>h())}catch(d){return Wr.default.error(d),this.abortOnError(d),Promise.reject(d)}}async injectInjectablesIntoIframeHead(){var i,s;let t=[],r=o=>{let c=new Promise((d,u)=>{o.onload=()=>{d(!0)},o.onerror=p=>{let m=typeof p=="string"?p:`Injectable failed to load at: ${"href"in o?o.href:o.src}`;u(new Error(m))}});t.push(c)};for(let o of this.iframes){let c=(i=o.contentDocument)==null?void 0:i.head;c&&(o.contentDocument.getElementsByTagName("base").length===0&&c.insertBefore(n.createBase(this.currentChapterLink.href),c.firstChild),(s=this.injectables)==null||s.forEach(u=>{if(u.type==="style"){if(u.fontFamily){if(this.settings.initAddedFont(),!u.systemFont&&u.url){let p=n.createCssLink(u.url);c.appendChild(p),r(p)}}else if(u.r2before&&u.url){let p=n.createCssLink(u.url);c.insertBefore(p,c.firstChild),r(p)}else if(u.r2default&&u.url){let p=n.createCssLink(u.url);c.insertBefore(p,c.childNodes[1]),r(p)}else if(u.r2after&&u.url){u.appearance&&this.settings.initAddedAppearance();let p=n.createCssLink(u.url);c.appendChild(p),r(p)}else if(u.url){let p=n.createCssLink(u.url);c.appendChild(p),r(p)}}else if(u.type==="script"&&u.url){let p=n.createJavascriptLink(u.url,u.async??!1);c.appendChild(p),r(p)}}))}t.length!==0&&await Promise.all(t)}abortOnError(t){var r;if((r=this.api)!=null&&r.onError){let i=t instanceof Error?t:typeof t=="string"?new Error(t):new Error("An unknown error occurred in the IFrameNavigator.");this.api.onError(i)}else this.errorMessage&&(this.errorMessage.style.display="block"),this.isLoading&&this.hideLoadingMessage()}tryAgain(){this.precessContentForIframe()}precessContentForIframe(){var u,p,m,b,v,y;let t=this;var r=this.publication.getSpineIndex(this.currentChapterLink.href),i=(r??0)%2===1;this.showLoadingMessageAfterDelay();function s(h,l){let w=new DOMParser().parseFromString(h,"application/xhtml+xml");w.head&&w.getElementsByTagName("base").length===0&&w.head.insertBefore(n.createBase(l),w.head.firstChild);let E=w.documentElement.outerHTML,A=t.iframes[0].contentDocument;A&&(A.open(),A.write(E),A.close())}function o(h,l){let w=new DOMParser().parseFromString(h,"application/xhtml+xml");w.head&&w.getElementsByTagName("base").length===0&&w.head.insertBefore(n.createBase(l),w.head.firstChild);let E=w.documentElement.outerHTML,A=t.iframes[1].contentDocument;A&&(A.open(),A.write(E),A.close())}let c=new URL(this.currentChapterLink.href),d=window.location.protocol===c.protocol&&window.location.port===c.port&&window.location.hostname===c.hostname;if((u=this.api)!=null&&u.getContent)if(this.publication.isFixedLayout)if(this.settings.columnCount!==1)if(i){if(this.currentSpreadLinks.left={href:this.currentChapterLink.href},(p=this.api)==null||p.getContent(this.currentChapterLink.href).then(h=>{h===void 0?d?this.iframes[0].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(l=>l.text()).then(async l=>{s.call(this,l,this.currentChapterLink.href)}):s.call(this,h,this.currentChapterLink.href)}),this.iframes.length===2)if((r??0)<this.publication.readingOrder.length-1){let h=this.publication.getNextSpineItem(this.currentChapterLink.href);if(h){let l=this.publication.getAbsoluteHref(h.Href);this.currentSpreadLinks.right={href:l},(m=this.api)==null||m.getContent(l).then(g=>{g===void 0?d?this.iframes[1].src=l:fetch(l,this.requestConfig).then(w=>w.text()).then(async w=>{o.call(this,w,l),this.currentSpreadLinks.right={href:l}}):o.call(this,g,l)})}}else this.iframes[1].src="about:blank"}else{if((r??0)>0){let h=this.publication.getPreviousSpineItem(this.currentChapterLink.href);if(h){let l=this.publication.getAbsoluteHref(h.Href);this.currentSpreadLinks.left={href:l},(b=this.api)==null||b.getContent(l).then(g=>{g===void 0?d?this.iframes[0].src=l:fetch(l,this.requestConfig).then(w=>w.text()).then(async w=>{s.call(this,w,l)}):s.call(this,g,l)})}}else this.iframes[0].src="about:blank";this.iframes.length===2&&this.publication.isFixedLayout&&(this.currentSpreadLinks.right={href:this.currentChapterLink.href},this.api.getContent(this.currentChapterLink.href).then(h=>{h===void 0?d?this.iframes[1].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(l=>l.text()).then(async l=>{o.call(this,l,this.currentChapterLink.href)}):o.call(this,h,this.currentChapterLink.href)}))}else this.currentSpreadLinks.left={href:this.currentChapterLink.href},(v=this.api)==null||v.getContent(this.currentChapterLink.href).then(h=>{h===void 0?d?this.iframes[0].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(l=>l.text()).then(async l=>{s.call(this,l,this.currentChapterLink.href)}):s.call(this,h,this.currentChapterLink.href)});else(y=this.api)==null||y.getContent(this.currentChapterLink.href).then(h=>{this.currentSpreadLinks.left={href:this.currentChapterLink.href},h===void 0?d?this.iframes[0].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(l=>l.text()).then(async l=>{s.call(this,l,this.currentChapterLink.href)}):s.call(this,h,this.currentChapterLink.href)});else if(this.publication.isFixedLayout)if(this.settings.columnCount!==1)if(i){if(d){if(this.iframes[0].src=this.currentChapterLink.href,this.currentSpreadLinks.left={href:this.currentChapterLink.href},this.iframes.length===2)if((r??0)<this.publication.readingOrder.length-1){let h=this.publication.getNextSpineItem(this.currentChapterLink.href);if(h){let l=this.publication.getAbsoluteHref(h.Href);this.iframes[1].src=l,this.currentSpreadLinks.right={href:l}}}else this.iframes[1].src="about:blank"}else if(fetch(this.currentChapterLink.href,this.requestConfig).then(h=>h.text()).then(async h=>{s.call(this,h,this.currentChapterLink.href)}),this.iframes.length===2)if((r??0)<this.publication.readingOrder.length-1){let h=this.publication.getNextSpineItem(this.currentChapterLink.href);if(h){let l=this.publication.getAbsoluteHref(h.Href);this.currentSpreadLinks.right={href:l},fetch(l,this.requestConfig).then(g=>g.text()).then(async g=>{o.call(this,g,l)})}}else this.iframes[1].src="about:blank"}else{if((r??0)>0){let h=this.publication.getPreviousSpineItem(this.currentChapterLink.href);if(h){let l=this.publication.getAbsoluteHref(h.Href);this.currentSpreadLinks.left={href:l},d?(this.iframes[0].src=l,this.iframes.length===2&&(this.iframes[1].src=this.currentChapterLink.href)):(fetch(l,this.requestConfig).then(g=>g.text()).then(async g=>{s.call(this,g,l)}),this.iframes.length===2&&(this.currentSpreadLinks.right={href:this.currentChapterLink.href},fetch(this.currentChapterLink.href,this.requestConfig).then(g=>g.text()).then(async g=>{o.call(this,g,this.currentChapterLink.href)})))}}else this.iframes[0].src="about:blank";this.iframes.length===2&&(this.currentSpreadLinks.right={href:this.currentChapterLink.href},d?this.iframes[1].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(h=>h.text()).then(async h=>{o.call(this,h,this.currentChapterLink.href)}))}else this.currentSpreadLinks.left={href:this.currentChapterLink.href},d?this.iframes[0].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(h=>h.text()).then(async h=>{s.call(this,h,this.currentChapterLink.href)});else this.currentSpreadLinks.left={href:this.currentChapterLink.href},d?this.iframes[0].src=this.currentChapterLink.href:fetch(this.currentChapterLink.href,this.requestConfig).then(h=>h.text()).then(async h=>{s.call(this,h,this.currentChapterLink.href)});this.publication.isFixedLayout&&setTimeout(()=>{var T,x,D;let h,l,g;if(r===0&&((T=this.iframes)==null?void 0:T.length)===2?g=this.iframes[1].contentDocument:g=this.iframes[0].contentDocument,g&&g.body&&(h=getComputedStyle(g.body).height,l=getComputedStyle(g.body).width,parseInt(h==null?void 0:h.replace("px",""))===0||parseInt(l==null?void 0:l.replace("px",""))===0)){let L=zn(g,"head");if(L){let H=st(L,"meta[name=viewport]");if(H){var w=H.content,E=w.split(",").reduce((G,j)=>{var[q,X]=j.match(/[^\s;=]+/g);return G[q]=isNaN(Number(X))?X:+X,G},{});h=E.height+"px",l=E.width+"px"}}}var A=r===0&&this.iframes.length===2?(x=this.iframes[1].parentElement)==null?void 0:x.parentElement:(D=this.iframes[0].parentElement)==null?void 0:D.parentElement;if(A&&l){var _=(parseInt(getComputedStyle(A).width)-100)/(this.iframes.length===2?parseInt(l==null?void 0:l.replace("px",""))*2+200:parseInt(l==null?void 0:l.replace("px",""))),C=(parseInt(getComputedStyle(A).height)-100)/parseInt(h==null?void 0:h.replace("px","")),I=Math.min(_,C);A.style.transform="scale("+I+")";for(let L of this.iframes)L.style.height=h,L.style.width=l,L.parentElement&&(L.parentElement.style.height=h)}},400)}static goBack(){window.history.back()}handleEditClick(t){var s,o,c,d;var r=t.target;if(this.headerMenu){var i=st(document,".sidenav");r.className.indexOf(" active")===-1?(r.className+=" active",i.className+=" expanded",r.innerText="unfold_less",this.sideNavExpanded=!0,(s=this.bookmarkModule)==null||s.showBookmarks(),(o=this.annotationModule)==null||o.showHighlights()):(r.className=r.className.replace(" active",""),i.className=i.className.replace(" expanded",""),r.innerText="unfold_more",this.sideNavExpanded=!1,(c=this.bookmarkModule)==null||c.showBookmarks(),(d=this.annotationModule)==null||d.showHighlights())}t.preventDefault(),t.stopPropagation()}get hasMediaOverlays(){return this.publication.hasMediaOverlays}startReadAloud(){this.rights.enableTTS&&this.ttsModule.speakPlay()}startReadAlong(){var t;this.rights.enableMediaOverlays&&this.mediaOverlayModule!==void 0&&this.hasMediaOverlays&&((t=this.mediaOverlayModule)==null||t.startReadAloud())}stopReadAloud(){var t;this.rights.enableTTS&&((t=this.highlighter)==null||t.stopReadAloud())}stopReadAlong(){var t;this.rights.enableMediaOverlays&&this.mediaOverlayModule!==void 0&&this.hasMediaOverlays&&((t=this.mediaOverlayModule)==null||t.stopReadAloud())}pauseReadAloud(){this.rights.enableTTS&&(this.ttsModule.speakPause(),this.annotationModule!==void 0&&this.annotationModule.drawHighlights())}pauseReadAlong(){var t;this.rights.enableMediaOverlays&&this.mediaOverlayModule!==void 0&&this.hasMediaOverlays&&((t=this.mediaOverlayModule)==null||t.pauseReadAloud())}resumeReadAloud(){this.rights.enableTTS&&this.ttsModule.speakResume()}resumeReadAlong(){var t;this.rights.enableMediaOverlays&&this.mediaOverlayModule!==void 0&&this.hasMediaOverlays&&((t=this.mediaOverlayModule)==null||t.resumeReadAloud())}totalResources(){return this.publication.readingOrder.length}mostRecentNavigatedTocItem(){return this.publication.getRelativeHref(this.currentTOCRawLink)}currentResource(){let t=this.currentChapterLink.href;return this.publication.getSpineIndex(t)}currentLink(){if(this.settings.columnCount!==1&&this.currentSpreadLinks.left!==void 0&&this.currentSpreadLinks.right!==void 0){let r=this.publication.getSpineItem(this.currentSpreadLinks.left.href),i=this.publication.getSpineItem(this.currentSpreadLinks.right.href);return[r,i]}let t=this.currentChapterLink.href;return[this.publication.getSpineItem(t)]}tableOfContents(){return this.publication.tableOfContents}landmarks(){return this.publication.landmarks}readingOrder(){return this.publication.readingOrder}atStart(){var t;return((t=this.view)==null?void 0:t.atStart())??!1}atEnd(){var t;return((t=this.view)==null?void 0:t.atEnd())??!1}previousPage(){this.handlePreviousPageClick(void 0)}nextPage(){this.handleNextPageClick(void 0)}previousResource(){this.handlePreviousChapterClick(void 0)}nextResource(){this.handleNextChapterClick(void 0)}goTo(t){let r=t.locations??{progression:0};if(t.href.indexOf("#")!==-1){let o=t.href.slice(t.href.indexOf("#")+1);o!==void 0&&(r={...r,fragment:o})}let i={...t};i.locations=r;let s=this.publication.getAbsoluteHref(t.href);Wr.default.log(t.href),Wr.default.log(s),i.href=s,this.stopReadAloud(),this.navigate(i)}currentLocator(){var r,i,s,o;let t;if(this.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions){let c=this.publication.positionsByHref(this.publication.getRelativeHref(this.currentChapterLink.href)),d=Math.ceil((((r=this.view)==null?void 0:r.getCurrentPosition())??0)*(c.length-1));t=c[d]}else{let c=this.publication.getTOCItem(this.currentChapterLink.href);c&&(this.currentTocUrl!==void 0&&(c=this.publication.getTOCItem(this.currentTocUrl)),c===void 0&&(c=this.publication.getTOCItemAbsolute(this.currentChapterLink.href)),c&&(t={href:c.Href,type:this.currentChapterLink.type,title:this.currentChapterLink.title,locations:{}}))}return t&&(t.locations.progression=(i=this.view)==null?void 0:i.getCurrentPosition(),t.displayInfo={resourceScreenIndex:Math.round(((s=this.view)==null?void 0:s.getCurrentPage())??0),resourceScreenCount:Math.round(((o=this.view)==null?void 0:o.getPageCount())??0)}),t}positions(){return this.publication.positions?this.publication.positions:[]}goToPosition(t){if(this.publication.positions){let r=this.publication.positions.filter(i=>i.locations.position===parseInt(String(t)))[0];this.goTo(r)}}async goToPage(t){this.pageBreakModule!==void 0&&await this.pageBreakModule.goToPageNumber(t)}snapToSelector(t){var i;let r=this.iframes[0].contentDocument;if(r){Wr.default.log(t);let s=r.querySelectorAll(t);s.length>0&&((i=this.view)==null||i.snap(s[0]))}}applyAttributes(t){this.attributes=t,this.view.attributes=t,this.handleResize()}handlePreviousPageClick(t){var r,i,s,o;this.stopReadAloud(),((r=this.view)==null?void 0:r.layout)==="fixed"?this.handlePreviousChapterClick(t):((i=this.view)!=null&&i.atStart()?this.handlePreviousChapterClick(t):((o=(s=this.view)==null?void 0:s.goToPreviousPage)==null||o.call(s),this.updatePositionInfo(),this.savePosition()),t&&(t.preventDefault(),t.stopPropagation()))}handleNextPageClick(t){var i,s,o,c,d,u,p,m,b,v,y,h,l;let r=!0;if((i=this.sample)!=null&&i.isSampleRead&&this.publication.positions){let g=this.currentLocator(),w=Math.round((g.locations.totalProgression??0)*100);(s=this.sample)!=null&&s.limit&&(r=w<=((o=this.sample)==null?void 0:o.limit),((c=this.view)==null?void 0:c.layout)==="fixed"&&((!r&&((d=this.sample)==null?void 0:d.minimum)&&g.locations.position)??0<=(((u=this.sample)==null?void 0:u.minimum)??0))&&(r=!0))}(r&&((p=this.sample)!=null&&p.isSampleRead)&&this.publication.positions||!((m=this.sample)!=null&&m.isSampleRead)||!this.publication.positions)&&(this.stopReadAloud(),((b=this.view)==null?void 0:b.layout)==="fixed"?this.handleNextChapterClick(t):((v=this.view)!=null&&v.atEnd()?this.handleNextChapterClick(t):((h=(y=this.view)==null?void 0:y.goToNextPage)==null||h.call(y),this.updatePositionInfo(),this.savePosition()),t&&(t.preventDefault(),t.stopPropagation()))),!r&&((l=this.sample)!=null&&l.isSampleRead)&&this.publication.positions&&t&&(t.preventDefault(),t.stopPropagation())}handleClickThrough(t){}handleInternalLink(t){let r=t.target,i={progression:0},s=r;if(s.href.indexOf("#")!==-1){let c=s.href.slice(s.href.indexOf("#")+1);c!==void 0&&(i={fragment:c})}let o={href:s.href,locations:i,type:s.type,title:s.title};t.preventDefault(),t.stopPropagation(),this.stopReadAloud(),this.navigate(o)}handleNumberOfIframes(){if(this.publication.isFixedLayout){if(this.settings.columnCount!==1&&!window.matchMedia("screen and (max-width: 600px)").matches){if(this.iframes.length===1){var t=document.createElement("iframe");t.setAttribute("SCROLLING","no"),t.setAttribute("allowtransparency","true"),t.style.opacity="1",t.style.border="none",t.style.overflow="hidden",this.iframes.push(t)}let r=document.createElement("div");this.spreads.appendChild(r),r.appendChild(this.iframes[1]),this.firstSpread.style.clipPath="polygon(0% -20%, 100% -20%, 100% 120%, -20% 120%)",this.firstSpread.style.boxShadow="0 0 8px 2px #ccc",r.style.clipPath="polygon(0% -20%, 100% -20%, 120% 100%, 0% 120%)",r.style.boxShadow="0 0 8px 2px #ccc"}else this.iframes.length===2&&(this.iframes.pop(),this.spreads.lastChild&&this.spreads.removeChild(this.spreads.lastChild)),this.firstSpread.style.clipPath="polygon(0% -20%, 100% -20%, 120% 100%, -20% 120%)",this.firstSpread.style.boxShadow="0 0 8px 2px #ccc";this.precessContentForIframe()}}async handleResize(){var p,m,b,v,y,h,l;if(this.isScrolling)return;if(this.publication.isFixedLayout){var t=this.publication.getSpineIndex(this.currentChapterLink.href);let g=Ui()-40-(((p=this.attributes)==null?void 0:p.margin)??0);var r=t===0&&this.iframes.length===2?(m=this.iframes[1].parentElement)==null?void 0:m.parentElement:(b=this.iframes[0].parentElement)==null?void 0:b.parentElement;if(r){r.style.height=g+40+"px";let w,E,A;t===0&&((v=this.iframes)==null?void 0:v.length)===2?A=this.iframes[1].contentDocument:A=this.iframes[0].contentDocument,A&&A.body&&(w=getComputedStyle(A.body).height,E=getComputedStyle(A.body).width);let _=zn(A,"head");if(_){let C=st(_,"meta[name=viewport]");if(C){var i=C.content,s=i.split(",").reduce((I,T)=>{var[x,D]=T.match(/[^\s;=]+/g);return I[x]=isNaN(Number(D))?D:+D,I},{});(parseInt(s.height)!==0||parseInt(s.width)!==0)&&(w=s.height+"px",E=s.width+"px")}}var o=(parseInt(getComputedStyle(r).width)-100)/(this.iframes.length===2?parseInt(E==null?void 0:E.replace("px",""))*2+200:parseInt(E==null?void 0:E.replace("px",""))),c=(parseInt(getComputedStyle(r).height)-100)/parseInt(w==null?void 0:w.replace("px","")),d=Math.min(o,c);r.style.transform="scale("+d+")";for(let C of this.iframes)C.style.height=w,C.style.width=E,C.parentElement&&(C.parentElement.style.height=w)}}let u=(y=this.view)==null?void 0:y.getCurrentPosition();await this.settings.applyProperties(),this.infoTop&&(this.infoTop.style.height="0px"),this.infoTop&&(this.infoTop.style.minHeight="0px"),this.infoBottom&&(this.infoBottom.style.height=(h=this.attributes)!=null&&h.bottomInfoHeight?this.attributes.bottomInfoHeight+"px":"40px"),((l=this.view)==null?void 0:l.layout)!=="fixed"&&this.settings.isPaginated().then(g=>{var w;g?(this.view.height=Ui()-40-(((w=this.attributes)==null?void 0:w.margin)??0),this.infoBottom&&this.infoBottom.style.removeProperty("display")):this.infoBottom&&(this.infoBottom.style.display="none")}),setTimeout(()=>{var g,w,E,A;((g=this.view)==null?void 0:g.layout)!=="fixed"&&(w=this.view)!=null&&w.isScrollMode()&&((A=(E=this.view)==null?void 0:E.setIframeHeight)==null||A.call(E,this.iframes[0]))},100),setTimeout(async()=>{var g;u&&((g=this.view)==null||g.goToProgression(u)),await this.updatePositionInfo(!1),this.annotationModule!==void 0&&await this.annotationModule.handleResize(),this.bookmarkModule!==void 0&&await this.bookmarkModule.handleResize(),this.searchModule!==void 0&&await this.searchModule.handleResize(),this.definitionsModule!==void 0&&await this.definitionsModule.handleResize(),this.pageBreakModule!==void 0&&await this.pageBreakModule.handleResize(),this.contentProtectionModule!==void 0&&this.contentProtectionModule.handleResize(),this.lineFocusModule!==void 0&&this.lineFocusModule.handleResize(),this.historyModule!==void 0&&this.historyModule.handleResize()},150)}updatePositionInfo(t=!0){var r,i;if(((r=this.view)==null?void 0:r.layout)==="fixed")this.chapterPosition&&(this.chapterPosition.innerHTML=""),this.remainingPositions&&(this.remainingPositions.innerHTML="");else if((i=this.view)!=null&&i.isPaginated()){let s=this.currentLocator();if(s){let o=s.displayInfo.resourceScreenIndex,c=s.displayInfo.resourceScreenCount;this.chapterPosition&&(this.chapterPosition.innerHTML="Page "+o+" of "+c)}}else this.chapterPosition&&(this.chapterPosition.innerHTML=""),this.remainingPositions&&(this.remainingPositions.innerHTML="");t&&this.savePosition()}handlePreviousChapterClick(t){var r;if(((r=this.view)==null?void 0:r.layout)==="fixed"&&this.settings.columnCount!==1){let i=this.publication.getSpineIndex(this.currentChapterLink.href)??0;i=i-2,i<0&&(i=0);let s=this.publication.readingOrder[i],o={href:this.publication.getAbsoluteHref(s.Href),locations:{progression:0},type:s.TypeLink,title:s.Title};this.stopReadAloud(),this.navigate(o,!1)}else if(this.previousChapterLink){let i={href:this.publication.getAbsoluteHref(this.previousChapterLink.href),locations:{progression:1},type:this.previousChapterLink.type,title:this.previousChapterLink.title};this.stopReadAloud(),this.navigate(i,!1)}t&&(t.preventDefault(),t.stopPropagation())}handleNextChapterClick(t){var r;if(((r=this.view)==null?void 0:r.layout)==="fixed"&&this.settings.columnCount!==1){let i=this.publication.getSpineIndex(this.currentChapterLink.href)??0;i=i+2,i>=this.publication.readingOrder.length-1&&(i=this.publication.readingOrder.length-1);let s=this.publication.readingOrder[i],o={href:this.publication.getAbsoluteHref(s.Href),locations:{progression:0},type:s.TypeLink,title:s.Title};this.stopReadAloud(),this.navigate(o,!1)}else if(this.nextChapterLink){let i={href:this.publication.getAbsoluteHref(this.nextChapterLink.href),locations:{progression:0},type:this.nextChapterLink.type,title:this.nextChapterLink.title};this.stopReadAloud(),this.navigate(i,!1)}t&&(t.preventDefault(),t.stopPropagation())}hideView(){var t,r;((t=this.view)==null?void 0:t.layout)!=="fixed"&&(r=this.view)!=null&&r.isScrollMode()&&(document.body.style.overflow="auto")}setActiveTOCItem(t){if(this.tocView){let r=Array.prototype.slice.call(this.tocView.querySelectorAll("li > a"));for(let s of r)s.className=s.className.replace(" active","");let i=this.tocView.querySelector('li > a[href^="'+t+'"]');i&&(i.className+=" active")}}async navigate(t,r=!0){var o,c,d,u,p,m,b,v,y;if(this.rights.enableConsumption&&this.consumptionModule&&r&&this.consumptionModule.startReadingSession(t),this.historyModule&&await this.historyModule.push(t,r),this.publication.getTOCItem(t.href)){var s=!1;if(t.href.indexOf("#")!==-1){let h=t.href.slice(0,t.href.indexOf("#"));h===this.currentChapterLink.href&&(s=!0),this.currentChapterLink.href=h,this.currentChapterLink.type=t.type,this.currentChapterLink.title=t.title}else t.href===this.currentChapterLink.href&&(s=!0),this.currentChapterLink.href=t.href,this.currentChapterLink.type=t.type,this.currentChapterLink.title=t.title;if(this.currentSpreadLinks.left!==void 0&&this.currentSpreadLinks.right!==void 0&&(t.href===this.currentSpreadLinks.left.href||t.href===this.currentSpreadLinks.right.href))return;if(s){if(t.href.indexOf("#")!==-1){let A=t.href.slice(t.href.indexOf("#")+1);t.locations={fragment:A}}if(this.newPosition=t,this.currentTOCRawLink=t.href,t.locations.fragment===void 0?this.currentTocUrl=void 0:(this.newElementId=t.locations.fragment,this.currentTocUrl=this.currentChapterLink.href+"#"+this.newElementId),this.newElementId){for(let A of this.iframes){let _=A.contentDocument.getElementById(this.newElementId);(c=(o=this.view)==null?void 0:o.goToElement)==null||c.call(o,_)}this.newElementId=void 0}else if(t.highlight){let A=(d=t.highlight)==null?void 0:d.selectionInfo.rangeInfo.startContainerElementCssSelector;A&&((u=this.view)==null||u.goToCssSelector(A))}else(p=this.view)==null||p.goToProgression(t.locations.progression??0);let h=this.currentChapterLink.href,l=this.publication.getPreviousSpineItem(h);l&&l.Href&&(this.previousChapterLink={href:l.Href,type:l.TypeLink,title:l.Title}),this.previousChapterAnchorElement&&(this.previousChapterLink?(this.previousChapterAnchorElement.href=this.publication.getAbsoluteHref(this.previousChapterLink.href),this.previousChapterAnchorElement.className=this.previousChapterAnchorElement.className.replace(" disabled","")):(this.previousChapterAnchorElement.removeAttribute("href"),this.previousChapterAnchorElement.className+=" disabled"));let g=this.publication.getNextSpineItem(h);g?this.nextChapterLink={href:g.Href,type:g.TypeLink,title:g.Title}:this.nextChapterLink=void 0,this.nextChapterAnchorElement&&(this.nextChapterLink?(this.nextChapterAnchorElement.href=this.publication.getAbsoluteHref(this.nextChapterLink.href),this.nextChapterAnchorElement.className=this.nextChapterAnchorElement.className.replace(" disabled","")):(this.nextChapterAnchorElement.removeAttribute("href"),this.nextChapterAnchorElement.className+=" disabled")),this.currentTocUrl!==void 0?this.setActiveTOCItem(this.currentTocUrl):this.setActiveTOCItem(h),this.publication.Metadata.Title&&this.bookTitle&&(this.bookTitle.innerHTML=this.publication.Metadata.Title.toString());let w=this.publication.getSpineItem(h);w!==void 0&&(this.currentChapterLink.title=w.Title,this.currentChapterLink.type=w.TypeLink);let E=this.publication.getTOCItem(h);this.currentTocUrl!==void 0&&(E=this.publication.getTOCItem(this.currentTocUrl)),!this.currentChapterLink.title&&E!==void 0&&E.Title&&(this.currentChapterLink.title=E.Title),!this.currentChapterLink.type&&E!==void 0&&E.TypeLink&&(this.currentChapterLink.title=E.Title),this.currentChapterLink.title?this.chapterTitle&&(this.chapterTitle.innerHTML="("+this.currentChapterLink.title+")"):this.chapterTitle&&(this.chapterTitle.innerHTML="(Current Chapter)"),await this.updatePositionInfo()}else this.lineFocusModule!==void 0&&this.lineFocusModule.disableLineFocus(!1),this.searchModule!==void 0&&this.searchModule.clearSearch(),t.locations.fragment===void 0?this.currentTocUrl=void 0:(this.newElementId=t.locations.fragment,this.currentTocUrl=this.currentChapterLink.href+"#"+this.newElementId),this.hideIframeContents(),this.showLoadingMessageAfterDelay(),t.locations===void 0&&(t.locations={progression:0}),this.newPosition=t,this.currentTOCRawLink=t.href,this.precessContentForIframe(),this.rights.enableContentProtection&&this.contentProtectionModule!==void 0&&await this.contentProtectionModule.initializeResource(),this.rights.enableMediaOverlays&&this.mediaOverlayModule!==void 0&&this.hasMediaOverlays&&await this.mediaOverlayModule.initializeResource(this.currentLink()),this.rights.enableContentProtection&&this.contentProtectionModule!==void 0&&await this.contentProtectionModule.recalculate(300),this.bookmarkModule&&(await this.bookmarkModule.drawBookmarks(),await this.bookmarkModule.showBookmarks()),this.pageBreakModule&&(await((m=this.highlighter)==null?void 0:m.destroyHighlights(3)),await this.pageBreakModule.drawPageBreaks()),this.rights.enableSearch&&this.searchModule!==void 0&&this.highlighter!==void 0&&(await this.highlighter.destroyHighlights(1),this.searchModule.drawSearch()),this.rights.enableDefinitions&&this.definitionsModule&&this.highlighter&&await this.definitionsModule.drawDefinitions(),this.rights.enableConsumption&&this.consumptionModule&&this.consumptionModule.continueReadingSession(t),((b=this.view)==null?void 0:b.layout)==="fixed"?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),(v=this.api)!=null&&v.resourceFitsScreen&&((y=this.api)==null||y.resourceFitsScreen()),this.emit("resource.fits")):this.settings.isPaginated().then(h=>{var l,g,w,E;h||((l=this.view)!=null&&l.atStart()&&((g=this.view)!=null&&g.atEnd())?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):(w=this.view)!=null&&w.atEnd()?(this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none"),this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="unset")):(E=this.view)!=null&&E.atStart()?(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="unset")):(this.nextChapterBottomAnchorElement&&(this.nextChapterBottomAnchorElement.style.display="none"),this.previousChapterTopAnchorElement&&(this.previousChapterTopAnchorElement.style.display="none")))})}else{let h=this.publication.getStartLink(),l;if(h&&h.Href&&(l=this.publication.getAbsoluteHref(h.Href),l)){let g={href:l,locations:{progression:0},created:new Date,title:h.Title};await this.navigate(g)}}}showIframeContents(){this.isBeingStyled=!1,setTimeout(()=>{this.isBeingStyled||this.iframes.forEach(t=>{t.style.opacity="1",t.style.border="none",t.style.overflow="hidden"})},150)}showLoadingMessageAfterDelay(){this.isLoading=!0,this.isLoading&&this.loadingMessage&&(this.loadingMessage.style.display="block",this.loadingMessage.classList.add("is-loading")),this.mediaOverlayModule!==void 0&&(this.mediaOverlayModule.settings.resourceReady=!1)}hideIframeContents(){this.isBeingStyled=!0,this.iframes.forEach(t=>{t.style.opacity="0",t.style.border="none",t.style.overflow="hidden"})}hideLoadingMessage(){setTimeout(()=>{var t,r,i,s,o,c,d,u,p,m,b,v,y;this.isLoading=!1,this.loadingMessage&&(this.loadingMessage.style.display="none",this.loadingMessage.classList.remove("is-loading")),((t=this.view)==null?void 0:t.layout)!=="fixed"&&((r=this.view)!=null&&r.atStart()&&((i=this.view)!=null&&i.atEnd())?((s=this.api)!=null&&s.resourceFitsScreen&&((o=this.api)==null||o.resourceFitsScreen()),this.emit("resource.fits")):(c=this.view)!=null&&c.atEnd()?((d=this.api)!=null&&d.resourceAtEnd&&((u=this.api)==null||u.resourceAtEnd()),this.emit("resource.end")):(p=this.view)!=null&&p.atStart()&&((m=this.api)!=null&&m.resourceAtStart&&((b=this.api)==null||b.resourceAtStart()),this.emit("resource.start"))),(v=this.api)!=null&&v.resourceReady&&((y=this.api)==null||y.resourceReady()),this.emit("resource.ready")},150)}saveCurrentReadingPosition(){var r,i,s,o,c,d;if(this.annotator){var t=this.publication.getTOCItem(this.currentChapterLink.href);this.currentTocUrl!==void 0&&(t=this.publication.getTOCItem(this.currentTocUrl)),t===void 0&&(t=this.publication.getTOCItemAbsolute(this.currentChapterLink.href));let u={progression:(r=this.view)==null?void 0:r.getCurrentPosition()};if(t){if(t.Href.indexOf("#")!==-1){let m=t.Href.slice(t.Href.indexOf("#")+1);m!==void 0&&(u={progression:(i=this.view)==null?void 0:i.getCurrentPosition(),fragment:m})}let p;if(this.rights.autoGeneratePositions&&this.publication.positions||this.publication.positions){let m=this.publication.positionsByHref(this.publication.getRelativeHref(t.Href));if(m.length>0){let b=Math.ceil((u.progression??0)*(m.length-1)),v=m[b];v&&(v.locations.fragment=u.fragment,p={...v,href:t.Href,created:new Date,title:this.currentChapterLink.title})}}else p={href:t.Href,locations:u,created:new Date,type:this.currentChapterLink.type,title:this.currentChapterLink.title};p&&((s=this.sample)!=null&&s.isSampleRead&&this.publication.positions&&((o=this.sampleReadEventHandler)==null||o.enforceSampleRead(p)),(c=this.api)!=null&&c.updateCurrentLocation?(d=this.api)==null||d.updateCurrentLocation(p).then(async m=>{var b;return Wr.default.log("api updated current location",p),(b=this.annotator)==null?void 0:b.saveLastReadingPosition(p)}):(Wr.default.log("save last reading position",p),this.annotator.saveLastReadingPosition(p)),this.consumptionModule&&this.consumptionModule.continueReadingSession(p))}}}static createBase(t){let r=document.createElement("base");return r.target="_self",r.href=t,r}static createCssLink(t){let r=document.createElement("link");return r.rel="stylesheet",r.type="text/css",r.href=t,r}static createJavascriptLink(t,r){let i=document.createElement("script");return i.type="text/javascript",i.src=t,i.async=r,i}activateMarker(t,r){this.annotationModule!==void 0&&(this.annotationModule.activeAnnotationMarkerId===void 0||this.annotationModule.activeAnnotationMarkerId!==t?(this.annotationModule.activeAnnotationMarkerId=t,this.annotationModule.activeAnnotationMarkerPosition=r,this.highlighter&&(this.highlighter.activeAnnotationMarkerId=t)):this.deactivateMarker())}deactivateMarker(){this.annotationModule!==void 0&&(this.annotationModule.activeAnnotationMarkerId=void 0,this.annotationModule.activeAnnotationMarkerPosition=void 0,this.highlighter&&(this.highlighter.activeAnnotationMarkerId=void 0))}showLayer(t){var o;let r="#",i=new Ua("layer-on","layer-off",!0,t,"layer-"+t);switch(t){case"annotations":case"highlights":r+="R2_ID_HIGHLIGHTS_CONTAINER",i.name="R2_ID_HIGHLIGHTS_CONTAINER";break;case"readaloud":r+="R2_ID_READALOUD_CONTAINER",i.name="R2_ID_READALOUD_CONTAINER";break;case"pagebreak":r+="R2_ID_PAGEBREAK_CONTAINER",i.name="R2_ID_PAGEBREAK_CONTAINER";break;case"search":r+="R2_ID_SEARCH_CONTAINER",i.name="R2_ID_SEARCH_CONTAINER";break;case"definitions":r+="R2_ID_DEFINITIONS_CONTAINER",i.name="R2_ID_DEFINITIONS_CONTAINER";break}(o=this.highlighter)==null||o.layerSettings.saveProperty(i);let s=this.iframes[0].contentDocument;if(s){let c=st(s,r);c&&(c.style.display="block")}}hideLayer(t){var o;let r="#",i=new Ua("layer-on","layer-off",!1,t,"layer-"+t);switch(t){case"annotations":case"highlights":r+="R2_ID_HIGHLIGHTS_CONTAINER",i.name="R2_ID_HIGHLIGHTS_CONTAINER";break;case"readaloud":r+="R2_ID_READALOUD_CONTAINER",i.name="R2_ID_READALOUD_CONTAINER";break;case"pagebreak":r+="R2_ID_PAGEBREAK_CONTAINER",i.name="R2_ID_PAGEBREAK_CONTAINER";break;case"search":r+="R2_ID_SEARCH_CONTAINER",i.name="R2_ID_SEARCH_CONTAINER";break;case"definitions":r+="R2_ID_DEFINITIONS_CONTAINER",i.name="R2_ID_DEFINITIONS_CONTAINER";break}(o=this.highlighter)==null||o.layerSettings.saveProperty(i);let s=this.iframes[0].contentDocument;if(s){let c=st(s,r);c&&(c.style.display="none")}}};F();var en=class en{constructor(e){this.store=e.store}getLastReadingPosition(){let e=this.store.get(en.LAST_READING_POSITION);return e?JSON.parse(e):null}initLastReadingPosition(e){if(typeof e=="string")this.store.set(en.LAST_READING_POSITION,e);else{let t=JSON.stringify(e);this.store.set(en.LAST_READING_POSITION,t)}}saveLastReadingPosition(e){if(typeof e=="string")this.store.set(en.LAST_READING_POSITION,e);else{let t=JSON.stringify(e);this.store.set(en.LAST_READING_POSITION,t)}}initBookmarks(e){if(typeof e=="string"){let t=JSON.parse(e);this.store.set(en.BOOKMARKS,JSON.stringify(t))}else this.store.set(en.BOOKMARKS,JSON.stringify(e));return e}saveBookmark(e){let t=this.store.get(en.BOOKMARKS);if(t){let r=JSON.parse(t);r.push(e),this.store.set(en.BOOKMARKS,JSON.stringify(r))}else{let r=[];r.push(e),this.store.set(en.BOOKMARKS,JSON.stringify(r))}return e}locatorExists(e,t){let r;switch(t){case 0:r=en.BOOKMARKS;break}let i=this.store.get(r);return i&&JSON.parse(i).filter(c=>c.href===e.href&&c.locations.progression===e.locations.progression).length>0?e:null}deleteBookmark(e){let t=this.store.get(en.BOOKMARKS);if(t){let r=JSON.parse(t);r=r.filter(i=>i.id!==e.id),this.store.set(en.BOOKMARKS,JSON.stringify(r))}return e}getBookmarks(e){let t=this.store.get(en.BOOKMARKS);if(t){let r=JSON.parse(t);if(e){let i=r.filter(s=>s.href===e);return i=i.sort((s,o)=>{if(s.locations.progression&&o.locations.progression)return s.locations.progression-o.locations.progression}),i}return r=r.sort((i,s)=>{if(i.locations.progression&&s.locations.progression)return i.locations.progression-s.locations.progression}),r}return[]}initAnnotations(e){let t;typeof e=="string"?t=JSON.parse(e):t=e;let r=[];return t.forEach(i=>{let s=`${i.highlight.selectionInfo.rangeInfo.startContainerElementCssSelector}${i.highlight.selectionInfo.rangeInfo.startContainerChildTextNodeIndex}${i.highlight.selectionInfo.rangeInfo.startOffset}${i.highlight.selectionInfo.rangeInfo.endContainerElementCssSelector}${i.highlight.selectionInfo.rangeInfo.endContainerChildTextNodeIndex}${i.highlight.selectionInfo.rangeInfo.endOffset}`,o=cs.hash(s);i.highlight.id="R2_HIGHLIGHT_"+o;let c;i.highlight.color?c=i.highlight.color:i.color&&(c=i.color),Mn.isHexColor(c)&&(c=Mn.hexToRgbString(c)),i.highlight.color=c,i.highlight.pointerInteraction=!0,i.highlight.selectionInfo.cleanText=i.highlight.selectionInfo.rawText.trim().replace(/\n/g," ").replace(/\s\s+/g," "),r.push(i)}),this.store.set(en.ANNOTATIONS,JSON.stringify(r)),r}saveTemporarySelectionInfo(e){this.store.set(en.SELECTIONINFO,JSON.stringify(e))}getTemporarySelectionInfo(e){let t=this.store.get(en.SELECTIONINFO);if(t){let r=JSON.parse(t);return r.range=yh(e,r.rangeInfo),r}return[]}deleteTemporarySelectionInfo(){this.store.remove(en.SELECTIONINFO)}saveAnnotation(e){let t=this.store.get(en.ANNOTATIONS);if(t){let r=JSON.parse(t);r.push(e),this.store.set(en.ANNOTATIONS,JSON.stringify(r))}else{let r=[];r.push(e),this.store.set(en.ANNOTATIONS,JSON.stringify(r))}return e}deleteAnnotation(e){let t=this.store.get(en.ANNOTATIONS);if(t){let r=JSON.parse(t);r=r.filter(i=>i.id!==e),this.store.set(en.ANNOTATIONS,JSON.stringify(r))}return e}deleteSelectedAnnotation(e){let t=this.store.get(en.ANNOTATIONS);if(t){let r=JSON.parse(t);r=r.filter(i=>{var s;return((s=i.highlight)==null?void 0:s.id)!==e.highlight.id}),this.store.set(en.ANNOTATIONS,JSON.stringify(r))}return e}getAnnotations(){let e=this.store.get(en.ANNOTATIONS);if(e){let t=JSON.parse(e);return t=t.sort((r,i)=>{if(r.locations.progression&&i.locations.progression)return r.locations.progression-i.locations.progression}),t}return[]}getAnnotationsByChapter(e){let t=this.store.get(en.ANNOTATIONS);if(t){let r=JSON.parse(t);return r=r.filter(i=>i.href===e),r=r.sort((i,s)=>{if(i.locations.progression&&s.locations.progression)return i.locations.progression-s.locations.progression}),r}return[]}getAnnotationPosition(e,t){let r=this.store.get(en.ANNOTATIONS);if(r){let s=JSON.parse(r).filter(o=>{var c;return((c=o.highlight)==null?void 0:c.id)===e||o.id===e});if(s.length>0){let o=t.document.getElementById(`${s[0].highlight.id}`);if(o){let c=0;if(o.hasChildNodes)for(let d=0;d<o.childNodes.length;d++){let u=o.childNodes[d],p=parseInt(u.style.top.replace("px",""));(p<c||c===0)&&(c=p)}else c=parseInt(o.style.top.replace("px",""));return c}}}return null}getAnnotationElement(e,t){let r=this.store.get(en.ANNOTATIONS);if(r){let s=JSON.parse(r).filter(o=>{var c;return((c=o.highlight)==null?void 0:c.id)===e});if(s.length>0){let o=t.document.getElementById(`${s[0].highlight.id}`);if(o){let c=0;if(o.hasChildNodes)for(let d=0;d<o.childNodes.length;d++){let u=o.childNodes[d],p=parseInt(u.style.top.replace("px",""));if(p<c||c===0)return c=p,u}else c=parseInt(o.style.top.replace("px",""));return o}}}return null}getAnnotation(e){let t=this.store.get(en.ANNOTATIONS);if(t){let i=JSON.parse(t).filter(s=>{var o;return((o=s.highlight)==null?void 0:o.id)===e.id});if(i.length>0)return i[0]}return null}getAnnotationByID(e){let t=this.store.get(en.ANNOTATIONS);if(t){let i=JSON.parse(t).filter(s=>{var o;return((o=s.highlight)==null?void 0:o.id)===e});if(i.length>0)return i[0]}return null}};en.LAST_READING_POSITION="last-reading-position",en.BOOKMARKS="bookmarks",en.ANNOTATIONS="annotations",en.SELECTIONINFO="selectionInfo";var vc=en;F();F();var _c=class{constructor(){this.store={}}get(e){return this.store[e]||null}set(e,t){this.store[e]=t}remove(e){this.store[e]=null}};var ua=class{constructor(e){this.prefix=e.prefix,this.useLocalStorage=e.useLocalStorage;try{let t=e.prefix+"-"+String(Math.random());this.useLocalStorage?(window.localStorage.setItem(t,"test"),window.localStorage.removeItem(t)):(window.sessionStorage.setItem(t,"test"),window.sessionStorage.removeItem(t)),this.fallbackStore=null}catch{this.fallbackStore=new _c}}getLocalStorageKey(e){return this.prefix+"-"+e}get(e){let t;return this.fallbackStore?t=this.fallbackStore.get(e):this.useLocalStorage?t=window.localStorage.getItem(this.getLocalStorageKey(e)):t=window.sessionStorage.getItem(this.getLocalStorageKey(e)),t}set(e,t){this.fallbackStore?this.fallbackStore.set(e,t):this.useLocalStorage?window.localStorage.setItem(this.getLocalStorageKey(e),t):window.sessionStorage.setItem(this.getLocalStorageKey(e),t)}remove(e){this.fallbackStore?this.fallbackStore.remove(e):this.useLocalStorage?window.localStorage.removeItem(this.getLocalStorageKey(e)):window.sessionStorage.removeItem(this.getLocalStorageKey(e))}};F();var c5=Rt(ul()),d5=Rt(ir());var Pu=class extends c5.Link{};Pu=pd([(0,d5.JsonObject)()],Pu);function Mu(n){let e,t,r,i;if(n instanceof Array)return n.map(function(s){return typeof s=="object"&&(s=Mu(s)),s});e={};for(t in n)n.hasOwnProperty(t)&&(r=(t.charAt(0).toLowerCase()+t.slice(1)||t).toString(),i=n[t],(i instanceof Array||i!=null&&i.constructor===Object)&&(i=Mu(i)),r==="href1"?e.href=i:r==="typeLink"?e.type=i:e[r]=i);return e}F();var f5=Rt(Pn()),o0=class{constructor(e){this.LAYERSETTINGS="layerSetting";this.store=e,this.initialize()}static async create(e){let t=new this(e.store);return new Promise(r=>r(t))}async stop(){f5.default.log("MediaOverlay settings stop")}async initialize(){this.userProperties=await this.getLayerSettings()}async getLayerSettings(){let e=new rs,t=await this.store.get(this.LAYERSETTINGS);if(t){let r=JSON.parse(t);e.properties=r}return e}async saveProperty(e){let t=await this.store.get(this.LAYERSETTINGS);if(t){let r=JSON.parse(t);r=r.filter(i=>i.name!==e.name),r.push(e),await this.store.set(this.LAYERSETTINGS,JSON.stringify(r))}else{let r=[];r.push(e),await this.store.set(this.LAYERSETTINGS,JSON.stringify(r))}return new Promise(r=>r(e))}async getProperty(e){let t=await this.store.get(this.LAYERSETTINGS);if(t){let r=JSON.parse(t);return r=r.filter(i=>i.name===e),r.length===0?null:r[0]}return null}};F();var Nu=Rt(K5());F();var Y5="grab-to-pan-grab",E0,X5,A0,Q5,S0,Z5,w0=class{constructor(e){oe(this,E0);oe(this,A0);oe(this,S0);this.element=e.element,this.document=e.element.ownerDocument,typeof e.ignoreTarget=="function"&&(this.ignoreTarget=e.ignoreTarget),this.onActiveChanged=e.onActiveChanged,this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.toggle=this.toggle.bind(this),this._onMouseDown=ge(this,E0,X5).bind(this),this._onMouseMove=ge(this,A0,Q5).bind(this),this._endPan=ge(this,S0,Z5).bind(this);let t=this.overlay=document.createElement("div");t.className="grab-to-pan-grabbing"}activate(){var e;this.active||(this.active=!0,this.element.addEventListener("mousedown",this._onMouseDown,!0),this.element.classList.add(Y5),(e=this.onActiveChanged)==null||e.call(this,!0))}deactivate(){var e;this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onMouseDown,!0),this._endPan(),this.element.classList.remove(Y5),(e=this.onActiveChanged)==null||e.call(this,!1))}toggle(){this.active?this.deactivate():this.activate()}ignoreTarget(e){return e.matches("a[href], a[href] *, input, textarea, button, button *, select, option")}};E0=new WeakSet,X5=function(e){if(e.button!==0||this.ignoreTarget(e.target))return;if(e.originalTarget)try{e.originalTarget.tagName}catch{return}this.scrollLeftStart=this.element.scrollLeft,this.scrollTopStart=this.element.scrollTop,this.clientXStart=e.clientX,this.clientYStart=e.clientY,this.document.addEventListener("mousemove",this._onMouseMove,!0),this.document.addEventListener("mouseup",this._endPan,!0),this.element.addEventListener("scroll",this._endPan,!0),e.preventDefault(),e.stopPropagation();let t=document.activeElement;t&&!t.contains(e.target)&&t.blur()},A0=new WeakSet,Q5=function(e){if(this.element.removeEventListener("scroll",this._endPan,!0),!(e.buttons&1)){this._endPan();return}let t=e.clientX-this.clientXStart,r=e.clientY-this.clientYStart,i=this.scrollTopStart-r,s=this.scrollLeftStart-t;this.element.scrollTo?this.element.scrollTo({top:i,left:s,behavior:"instant"}):(this.element.scrollTop=i,this.element.scrollLeft=s),this.overlay.parentNode||document.body.append(this.overlay)},S0=new WeakSet,Z5=function(){this.element.removeEventListener("scroll",this._endPan,!0),this.document.removeEventListener("mousemove",this._onMouseMove,!0),this.document.removeEventListener("mouseup",this._endPan,!0),this.overlay.remove()};var zi=class extends r0{constructor(t,r,i){super();this.pdfDoc=null;this.pageNum=1;this.scaleType=0;this.pageRendering=!1;this.pageNumPending=null;this.scale=1;this.resourceIndex=0;this.onResize=()=>{clearTimeout(this.timeout),this.timeout=setTimeout(this.handleResize.bind(this),200)};this.settings=t,this.publication=r,this.api=i}static async create(t){let r=new this(t.settings,t.publication,t.api);return await r.start(t.mainElement,t.headerMenu,t.footerMenu),new Promise(i=>i(r))}async start(t,r,i){this.headerMenu=r,this.footerMenu=i,this.mainElement=t,this.resourceIndex=0,this.resource=this.publication.readingOrder[this.resourceIndex],Nu.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.worker.js",this.wrapper=Wt(this.mainElement,"main#iframe-wrapper"),this.pdfContainer=Wt(this.mainElement,"#pdf-container"),this.handTool=new w0({element:this.pdfContainer});let s=this,o=document.createElement("div");o.id="loadingpdf",o.innerHTML=t0,o.style.width=getComputedStyle(this.wrapper).width,o.style.height=getComputedStyle(this.wrapper).height,o.style.display="flex",o.style.zIndex="100",o.style.position="absolute",o.style.alignItems="center",o.style.justifyContent="center",o.style.background="white",o.className="loading is-loading",this.pdfContainer.appendChild(o),(0,Nu.getDocument)(this.publication.getAbsoluteHref(this.resource.Href)).promise.then(function(c){s.pdfDoc=c,s.loadPDFJS(s.pageNum)}),this.setupEvents()}async handleResize(){this.loadPDFJS(this.pageNum)}setupEvents(){Ie(window,"resize",this.onResize)}loadPDFJS(t){let r=this,i=1;this.wrapper.style.height="calc(100vh - 10px)",this.pdfContainer.style.height="calc(100vh - 10px)",this.pdfContainer.style.flexDirection="column";let s=document.getElementsByTagName("canvas");Array.from(s).forEach(function(c){var d;(d=c==null?void 0:c.parentNode)==null||d.removeChild(c)});function o(c){let d=document.createElement("canvas");d.id=String(i),d.style.border="1px solid gray",d.style.margin="1px";let u=c.getViewport({scale:r.scale});if(r.scale===1){let y=r.wrapper.clientHeight/u.height,h=r.wrapper.clientWidth/u.width;r.scaleType===0?u=c.getViewport({scale:y<h?y:h}):u=c.getViewport({scale:h})}r.pdfContainer.appendChild(d);let p=d.getContext("2d");d.height=u.height,d.width=u.width;let m={canvasContext:p,viewport:u},b=document.getElementById("loadingpdf");b.style.display="flex",b.style.width=getComputedStyle(r.wrapper).width,b.style.height=getComputedStyle(r.wrapper).height,c.render(m).promise.then(function(){var y,h,l;i<r.pdfDoc.numPages?(i++,r.pdfDoc.getPage(i).then(o)):((y=document.getElementById(String(t)))==null||y.scrollIntoView(),b.style.display="none",(h=r.api)!=null&&h.resourceReady&&((l=r.api)==null||l.resourceReady()),r.emit("resource.ready"))})}this.pdfDoc.getPage(i).then(o)}queueRenderPage(t){var i;let r=this;r.pageRendering?r.pageNumPending=t:(this.pageNum=t,(i=document.getElementById(String(t)))==null||i.scrollIntoView())}readingOrder(){return this.publication.readingOrder}tableOfContents(){return this.publication.tableOfContents}landmarks(){}currentResource(){}totalResources(){return this.publication.readingOrder.length}currentLocator(){}positions(){return this.publication.positions?this.publication.positions:[]}nextPage(){let t=this;if(t.pageNum>=t.pdfDoc.numPages){this.nextResource();return}this.pageNum++,this.queueRenderPage(t.pageNum)}previousPage(){let t=this;if(t.pageNum<=1){this.previousResource();return}t.pageNum--,t.queueRenderPage(t.pageNum)}nextResource(){let t=this;this.resourceIndex>=this.publication.readingOrder.length-1||(t.resourceIndex++,t.resource=this.publication.readingOrder[t.resourceIndex],(0,Nu.getDocument)(this.publication.getAbsoluteHref(this.resource.Href)).promise.then(function(r){t.pdfDoc=r,t.pageNum=1,t.loadPDFJS(t.pageNum)}))}previousResource(){let t=this;this.resourceIndex!==0&&(t.resourceIndex--,t.resource=this.publication.readingOrder[t.resourceIndex],(0,Nu.getDocument)(this.publication.getAbsoluteHref(this.resource.Href)).promise.then(function(r){t.pdfDoc=r,t.pageNum=t.pdfDoc.numPages,t.loadPDFJS(t.pageNum)}))}goTo(t){let r=new URL(t.href);if(r.searchParams.has("start")){let i=r.searchParams.get("start");i&&this.queueRenderPage(parseInt(i))}else this.queueRenderPage(1)}goToPosition(t){this.queueRenderPage(t)}async goToPage(t){this.queueRenderPage(t)}fitToWidth(){this.scale=1,this.scaleType=1,this.loadPDFJS(this.pageNum)}fitToPage(){this.scale=1,this.scaleType=0,this.loadPDFJS(this.pageNum)}zoomIn(){this.scale=this.scale+.2,this.loadPDFJS(this.pageNum)}zoomOut(){this.scale=this.scale-.2,this.loadPDFJS(this.pageNum)}activateHand(){this.handTool.activate()}deactivateHand(){this.handTool.deactivate()}async scroll(t,r){t?(r==="horizontal"?this.pdfContainer.style.flexDirection="row":this.pdfContainer.style.flexDirection="column",this.pdfContainer.style.overflow="auto"):(this.pdfContainer.style.flexDirection="column",this.pdfContainer.style.overflow="hidden")}stop(){dt(window,"resize",this.onResize)}};var Du=class n{constructor(e,t,r,i,s,o,c,d,u,p,m,b,v,y,h,l,g,w){this.settings=e;this.navigator=t;this.highlighter=r;this.bookmarkModule=i;this.annotationModule=s;this.ttsSettings=o;this.ttsModule=c;this.searchModule=d;this.definitionsModule=u;this.contentProtectionModule=p;this.timelineModule=m;this.mediaOverlaySettings=b;this.mediaOverlayModule=v;this.pageBreakModule=y;this.lineFocusModule=h;this.historyModule=l;this.citationModule=g;this.consumptionModule=w;this.startReadAloud=()=>{this.navigator instanceof an&&this.navigator.startReadAloud()};this.stopReadAloud=()=>{this.navigator instanceof an&&this.navigator.stopReadAloud()};this.pauseReadAloud=()=>{this.navigator instanceof an&&this.navigator.pauseReadAloud()};this.resumeReadAloud=()=>{this.navigator instanceof an&&this.navigator.resumeReadAloud()};this.startReadAlong=()=>{this.navigator instanceof an&&this.navigator.startReadAlong()};this.stopReadAlong=()=>{this.navigator instanceof an&&this.navigator.stopReadAlong()};this.pauseReadAlong=()=>{this.navigator instanceof an&&this.navigator.pauseReadAlong()};this.resumeReadAlong=()=>{this.navigator instanceof an&&this.navigator.resumeReadAlong()};this.saveBookmark=async()=>{var e;return await((e=this.bookmarkModule)==null?void 0:e.saveBookmark())??!1};this.saveBookmarkPlus=async()=>{var e;return(e=this.bookmarkModule)==null?void 0:e.saveBookmarkPlus()};this.deleteBookmark=async e=>{var t;return await((t=this.bookmarkModule)==null?void 0:t.deleteBookmark(e))??!1};this.deleteAnnotation=async e=>{var t;return await((t=this.annotationModule)==null?void 0:t.deleteAnnotation(e))??!1};this.addAnnotation=async e=>{var t;return await((t=this.annotationModule)==null?void 0:t.addAnnotation(e))??!1};this.hideAnnotationLayer=()=>{var e;return(e=this.annotationModule)==null?void 0:e.hideAnnotationLayer()};this.showAnnotationLayer=()=>{var e;return(e=this.annotationModule)==null?void 0:e.showAnnotationLayer()};this.hideLayer=e=>{var t;return this.navigator instanceof an?(t=this.navigator)==null?void 0:t.hideLayer(e):!1};this.showLayer=e=>{var t;return this.navigator instanceof an?(t=this.navigator)==null?void 0:t.showLayer(e):!1};this.activateMarker=(e,t)=>{var r;return this.navigator instanceof an?(r=this.navigator)==null?void 0:r.activateMarker(e,t):!1};this.deactivateMarker=()=>{var e;return this.navigator instanceof an?(e=this.navigator)==null?void 0:e.deactivateMarker():!1};this.clearDefinitions=async()=>{var e;await((e=this.definitionsModule)==null?void 0:e.clearDefinitions())};this.addDefinition=async e=>{var t;await((t=this.definitionsModule)==null?void 0:t.addDefinition(e))};this.historyBack=async()=>{var e;return(e=this.historyModule)==null?void 0:e.historyBack()};this.historyForward=async()=>{var e;return(e=this.historyModule)==null?void 0:e.historyForward()};this.search=async(e,t)=>{var r;return await((r=this.searchModule)==null?void 0:r.search(e,t))??[]};this.goToSearchIndex=async(e,t,r)=>{var i;this.navigator instanceof an&&this.navigator.rights.enableSearch&&await((i=this.searchModule)==null?void 0:i.goToSearchIndex(e,t,r))};this.goToSearchID=async(e,t,r)=>{var i;this.navigator instanceof an&&this.navigator.rights.enableSearch&&await((i=this.searchModule)==null?void 0:i.goToSearchID(e,t,r))};this.clearSearch=async()=>{var e;this.navigator instanceof an&&this.navigator.rights.enableSearch&&await((e=this.searchModule)==null?void 0:e.clearSearch())};this.resetUserSettings=async()=>await this.settings.resetUserSettings();this.applyUserSettings=async e=>await this.settings.applyUserSettings(e);this.scroll=async(e,t)=>this.navigator instanceof zi?this.navigator.scroll(e,t):await this.settings.scroll(e);this.increase=async e=>{var t,r;this.isTTSIncrementable(e)?this.navigator instanceof an&&this.navigator.rights.enableTTS&&await((t=this.ttsSettings)==null?void 0:t.increase(e)):this.isMOIncrementable(e)?this.navigator instanceof an&&this.navigator.rights.enableMediaOverlays&&await((r=this.mediaOverlaySettings)==null?void 0:r.increase(e)):await this.settings.increase(e)};this.decrease=async e=>{var t,r;this.isTTSIncrementable(e)?this.navigator instanceof an&&this.navigator.rights.enableTTS&&await((t=this.ttsSettings)==null?void 0:t.decrease(e)):this.isMOIncrementable(e)?this.navigator instanceof an&&this.navigator.rights.enableMediaOverlays&&await((r=this.mediaOverlaySettings)==null?void 0:r.decrease(e)):await this.settings.decrease(e)};this.resetTTSSettings=()=>{var e;this.navigator instanceof an&&this.navigator.rights.enableTTS&&((e=this.ttsSettings)==null||e.resetTTSSettings())};this.applyTTSSettings=async e=>{var t;this.navigator instanceof an&&this.navigator.rights.enableTTS&&await((t=this.ttsSettings)==null?void 0:t.applyTTSSettings(e))};this.applyPreferredVoice=async e=>{var t;this.navigator instanceof an&&this.navigator.rights.enableTTS&&await((t=this.ttsSettings)==null?void 0:t.applyPreferredVoice(e))};this.resetMediaOverlaySettings=async()=>{var e;this.navigator instanceof an&&this.navigator.rights.enableMediaOverlays&&await((e=this.mediaOverlaySettings)==null?void 0:e.resetMediaOverlaySettings())};this.applyMediaOverlaySettings=async e=>{var t;this.navigator instanceof an&&this.navigator.rights.enableMediaOverlays&&await((t=this.mediaOverlaySettings)==null?void 0:t.applyMediaOverlaySettings(e))};this.goTo=async e=>{this.navigator.goTo(e)};this.goToPosition=async e=>this.navigator.goToPosition(e);this.goToPage=async e=>{await this.navigator.goToPage(e)};this.fitToPage=()=>{this.navigator instanceof zi&&this.navigator.fitToPage()};this.fitToWidth=()=>{this.navigator instanceof zi&&this.navigator.fitToWidth()};this.zoomIn=()=>{this.navigator instanceof zi&&this.navigator.zoomIn()};this.zoomOut=()=>{this.navigator instanceof zi&&this.navigator.zoomOut()};this.activateHand=()=>{this.navigator instanceof zi&&this.navigator.activateHand()};this.deactivateHand=()=>{this.navigator instanceof zi&&this.navigator.deactivateHand()};this.copyToClipboard=e=>{var t;(t=this.contentProtectionModule)==null||t.copyToClipboard(e)};this.nextResource=()=>{this.navigator.nextResource()};this.previousResource=()=>{this.navigator.previousResource()};this.nextPage=async()=>{this.navigator.nextPage()};this.previousPage=async()=>{this.navigator.previousPage()};this.snapToSelector=async e=>{this.navigator instanceof an&&this.navigator.snapToSelector(e)};this.applyAttributes=e=>{this.navigator instanceof an&&this.navigator.applyAttributes(e)};this.stop=()=>{var e,t,r,i,s,o,c,d,u,p,m,b,v,y;document.body.onscroll=()=>{},this.navigator.stop(),this.settings.stop(),(e=this.ttsSettings)==null||e.stop(),(t=this.ttsModule)==null||t.stop(),(r=this.bookmarkModule)==null||r.stop(),(i=this.annotationModule)==null||i.stop(),(s=this.searchModule)==null||s.stop(),(o=this.definitionsModule)==null||o.stop(),(c=this.contentProtectionModule)==null||c.stop(),(d=this.timelineModule)==null||d.stop(),(u=this.mediaOverlaySettings)==null||u.stop(),(p=this.mediaOverlayModule)==null||p.stop(),(m=this.pageBreakModule)==null||m.stop(),(b=this.lineFocusModule)==null||b.stop(),(v=this.citationModule)==null||v.stop(),(y=this.consumptionModule)==null||y.stop()}}addEventListener(){this.navigator instanceof an&&this.navigator.addListener(arguments[0],arguments[1])}static async load(e){var b,v,y,h,l,g,w;let t=e.rights??{autoGeneratePositions:!1,enableAnnotations:!1,enableBookmarks:!1,enableContentProtection:!1,enableDefinitions:!1,enableLineFocus:!1,enableMediaOverlays:!1,enablePageBreaks:!1,enableSearch:!1,enableTTS:!1,enableTimeline:!1,customKeyboardEvents:!1,enableHistory:!1,enableCitations:!1};t.enableContentProtection&&e.protection&&await na.setupPreloadProtection(e.protection);let r=Wt(document,"#D2Reader-Container"),i=st(document,"#headerMenu"),s=st(document,"#footerMenu"),o=e.url,c;e.publication?(c=Ha(e.publication,Os),c.manifestUrl=new URL(o)):c=await Os.fromUrl(o,e.requestConfig);let d=new ua({prefix:c.manifestUrl,useLocalStorage:e.useLocalStorage??!1}),u=new ua({prefix:"r2d2bc-reader",useLocalStorage:e.useLocalStorage??!1}),p=new ua({prefix:"r2d2bc-layers",useLocalStorage:e.useLocalStorage??!1}),m=new vc({store:d});if(c.sample=e.sample,t=Zq(t,c),c.Metadata.ConformsTo&&c.Metadata.ConformsTo.includes("https://readium.org/webpub-manifest/profiles/pdf")){let E=await Xl.create({store:u,initialUserSettings:e.userSettings,layout:""}),A=await zi.create({mainElement:r,publication:c,settings:E,api:e.api});return new n(E,A)}else{t.autoGeneratePositions?await c.autoGeneratePositions(e.requestConfig):((b=e.services)!=null&&b.positions&&await c.fetchPositionsFromService((v=e.services)==null?void 0:v.positions.href,e.requestConfig),(y=e.services)!=null&&y.weight&&await c.fetchWeightsFromService((h=e.services)==null?void 0:h.weight.href,e.requestConfig));let E=await o0.create({store:p}),A=await Xl.create({store:u,initialUserSettings:e.userSettings,headerMenu:i,api:e.api,injectables:(((l=c.Metadata.Rendition)==null?void 0:l.Layout)??"unknown")==="fixed"?e.injectablesFixed:e.injectables,layout:(((g=c.Metadata.Rendition)==null?void 0:g.Layout)??"unknown")==="fixed"?"fixed":"reflowable"}),_=await Mn.create({layerSettings:E,...e.highlighter}),C=t.enableBookmarks?await uu.create({annotator:m,headerMenu:i,rights:t,publication:c,initialAnnotations:e.initialAnnotations,...e.bookmarks}):void 0,I=t.enableAnnotations?await au.create({annotator:m,rights:t,publication:c,initialAnnotations:e.initialAnnotations,highlighter:_,headerMenu:i,...e.annotations}):void 0,T=t.enableTTS,x=T?await e0.create({store:u,initialTTSSettings:e.tts,headerMenu:i}):void 0,D;T&&x&&(D=await sa.create({tts:x,headerMenu:i,rights:t,highlighter:_,...e.tts}));let L=t.enableSearch?await Su.create({headerMenu:i,publication:c,highlighter:_,...e.search}):void 0,H=t.enableDefinitions?await Tu.create({publication:c,highlighter:_,...e.define}):void 0,G=t.enableTimeline?await du.create({publication:c}):void 0,j=t.enableContentProtection?await na.create({...e.protection}):void 0,q=t.enableCitations?await aa.create({publication:c,highlighter:_,...e.citations}):void 0,X=t.enableMediaOverlays,Z=X?await _h.create({store:u,initialMediaOverlaySettings:e.mediaOverlays,headerMenu:i,...e.mediaOverlays}):void 0,$=X?await cu.create({publication:c,settings:Z,...e.mediaOverlays}):void 0,fe=t.enablePageBreaks&&c.isReflowable?await Cu.create({publication:c,headerMenu:i,...e.pagebreak}):void 0,he=t.enableLineFocus?await oa.create({publication:c,highlighter:_,...e.lineFocus}):void 0,Se=t.enableHistory?await xu.create({annotator:m,publication:c,headerMenu:i}):void 0,V=t.enableConsumption?await ou.create({publication:c,...e.consumption}):void 0,O=await an.create({mainElement:r,headerMenu:i,footerMenu:s,publication:c,settings:A,annotator:m,initialLastReadingPosition:e.lastReadingPosition,api:e.api,rights:t,tts:e.tts,sample:e.sample,requestConfig:e.requestConfig,injectables:(((w=c.Metadata.Rendition)==null?void 0:w.Layout)??"unknown")==="fixed"?e.injectablesFixed??[]:e.injectables,attributes:e.attributes,services:e.services,highlighter:_,modules:[C,I,D,L,H,G,j,q,$,fe,he,Se,V]});return new n(A,O,_,C,I,x,D,L,H,j,G,Z,$,fe,he,Se,q,V)}}get hasMediaOverlays(){return this.navigator instanceof an?this.navigator.hasMediaOverlays:!1}get tableOfContents(){return Mu(this.navigator.tableOfContents())??[]}get landmarks(){return Mu(this.navigator.landmarks())??[]}get readingOrder(){return Mu(this.navigator.readingOrder())??[]}get bookmarks(){var e;return((e=this.bookmarkModule)==null?void 0:e.getBookmarks())??[]}get annotations(){var e;return(e=this.annotationModule)==null?void 0:e.getAnnotations()}get history(){var e;return(e=this.historyModule)==null?void 0:e.history}get historyCurrentIndex(){var e;return(e=this.historyModule)==null?void 0:e.historyCurrentIndex}get currentResource(){return this.navigator.currentResource()}get mostRecentNavigatedTocItem(){return this.navigator instanceof an?this.navigator.mostRecentNavigatedTocItem():!1}get totalResources(){return this.navigator.totalResources()}get publicationLanguage(){return this.navigator.publication.Metadata.Language}get currentSettings(){return this.settings.currentSettings}isTTSIncrementable(e){return e==="pitch"||e==="rate"||e==="volume"}isMOIncrementable(e){return e==="mo_rate"||e==="mo_volume"}get currentLocator(){return this.navigator.currentLocator()}get positions(){return this.navigator.positions()}get atStart(){return this.navigator instanceof an?this.navigator.atStart():!1}get atEnd(){return this.navigator instanceof an?this.navigator.atEnd():!1}async applyLineFocusSettings(e){if(e.lines&&this.lineFocusModule){let t=this.lineFocusModule.properties.lines??1;this.lineFocusModule.index=this.lineFocusModule.index*t/parseInt(e.lines),this.lineFocusModule.index=Math.abs(parseInt(this.lineFocusModule.index.toFixed())),this.lineFocusModule.properties.lines=parseInt(e.lines),this.lineFocusModule.isActive&&await this.lineFocusModule.enableLineFocus()}e.debug!==void 0&&this.lineFocusModule&&(this.lineFocusModule.isDebug=e.debug,this.lineFocusModule.isActive&&await this.lineFocusModule.enableLineFocus())}lineUp(){var e;(e=this.lineFocusModule)==null||e.lineUp()}lineDown(){var e;(e=this.lineFocusModule)==null||e.lineDown()}async enableLineFocus(){var e;await((e=this.lineFocusModule)==null?void 0:e.enableLineFocus())}async lineFocus(e){var t,r;e?await((t=this.lineFocusModule)==null?void 0:t.enableLineFocus()):(r=this.lineFocusModule)==null||r.disableLineFocus()}disableLineFocus(){var e;(e=this.lineFocusModule)==null||e.disableLineFocus()}};function Zq(n,e){var t;return e.isFixedLayout&&(n.enableAnnotations=!1,n.enableSearch=!1,n.enableTTS=!1,n.enableDefinitions=!1,n.enablePageBreaks=!1,n.enableLineFocus=!1),(t=e.sample)!=null&&t.isSampleRead&&(n.enableAnnotations=!1,n.enableSearch=!1,n.enableTTS=!1,n.enableDefinitions=!1,n.enableTimeline=!1,n.enableMediaOverlays=!1,n.enablePageBreaks=!1,n.enableLineFocus=!1),n}var eG=Du,tG=Du.load;return Qr(nG);})();
/*! Bundled license information:

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

is-plain-object/dist/is-plain-object.js:
  (*!
   * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

cssesc/cssesc.js:
  (*! https://mths.be/cssesc v3.0.0 by @mathias *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=reader.js.map
